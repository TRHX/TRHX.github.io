<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>BOB&#39;S BLOG</title>
  
  <subtitle>ä¸€å…¥ IT æ·±ä¼¼æµ· ä»æ­¤å­¦ä¹ æ— ç»æœŸ</subtitle>
  <link href="https://www.itbob.cn/atom.xml" rel="self"/>
  
  <link href="https://www.itbob.cn/"/>
  <updated>2023-05-04T15:20:00.000Z</updated>
  <id>https://www.itbob.cn/</id>
  
  <author>
    <name>BOB</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>æŠ–éŸ³æ»‘å—éªŒè¯ç  captchaBody é€†å‘åˆ†æï¼ŒJSVMP çº¯ç®—æ³•è¿˜åŸ</title>
    <link href="https://www.itbob.cn/article/070/"/>
    <id>https://www.itbob.cn/article/070/</id>
    <published>2023-05-04T15:20:00.000Z</published>
    <updated>2023-05-04T15:20:00.000Z</updated>
    
    <content type="html"><![CDATA[<!-- ![captcha_reverse](https://cdn.itbob.cn/img/cover/captcha_reverse.png) --><p><strong><center><font color="red" size="5px" weight="bolder">æœ¬æ–‡å·²æ”¶åˆ°æŠ–éŸ³çš„å¾‹å¸ˆå‡½ï¼ŒCSDN å’Œæœ¬ç«™çš„æ–‡ç« éƒ½å·²ç»åšä¸‹æ¶å¤„ç†ã€‚</font></center><br></strong></p><p><strong><center><font color="red" size="5px" weight="bolder">æ¬¢è¿åŠ å…¥çˆ¬è™«é€†å‘å¾®ä¿¡äº¤æµç¾¤ï¼šæ·»åŠ å¾®ä¿¡ IT-BOBï¼ˆå¤‡æ³¨äº¤æµç¾¤ï¼‰</font></center></strong></p><p><img src="https://cdn.itbob.cn/img/article/070/Lawyer'sLetter1.png" alt="Lawyer's Letter1"></p><p><img src="https://cdn.itbob.cn/img/article/070/Lawyer'sLetter2.png" alt="Lawyer's Letter2"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;!-- ![captcha_reverse](https://cdn.itbob.cn/img/cover/captcha_reverse.png) --&gt;
&lt;p&gt;&lt;strong&gt;&lt;center&gt;&lt;font color=&quot;red&quot; size=&quot;5px&quot; weight=&quot;bold</summary>
      
    
    
    
    <category term="éªŒè¯ç é€†å‘å®æˆ˜" scheme="https://www.itbob.cn/categories/%E9%AA%8C%E8%AF%81%E7%A0%81%E9%80%86%E5%90%91%E5%AE%9E%E6%88%98/"/>
    
    
    <category term="çˆ¬è™«" scheme="https://www.itbob.cn/tags/%E7%88%AC%E8%99%AB/"/>
    
    <category term="éªŒè¯ç é€†å‘å®æˆ˜" scheme="https://www.itbob.cn/tags/%E9%AA%8C%E8%AF%81%E7%A0%81%E9%80%86%E5%90%91%E5%AE%9E%E6%88%98/"/>
    
  </entry>
  
  <entry>
    <title>APP é€†å‘ï¼ŒFrida åˆä½“éªŒï¼Œroot æ£€æµ‹ä¸åŠ å¯†å­—ç¬¦ä¸²å®šä½</title>
    <link href="https://www.itbob.cn/article/055/"/>
    <id>https://www.itbob.cn/article/055/</id>
    <published>2022-09-12T10:00:00.000Z</published>
    <updated>2022-11-02T16:46:00.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.itbob.cn/img/cover/app_reverse.png" alt="app_reverse"></p><p><strong><center><font color="red" size="5px" weight="bolder">æ¬¢è¿åŠ å…¥çˆ¬è™«é€†å‘å¾®ä¿¡äº¤æµç¾¤ï¼šæ·»åŠ å¾®ä¿¡ IT-BOBï¼ˆå¤‡æ³¨äº¤æµç¾¤ï¼‰</font></center></strong></p><h2><span id="wen-zhang-mu-lu">æ–‡ç« ç›®å½•</span></h2><hr><!-- toc --><ul><li><a href="#sheng-ming">å£°æ˜</a></li><li><a href="#ni-xiang-mu-biao">é€†å‘ç›®æ ‡</a></li><li><a href="#an-zhuang-adb">å®‰è£… ADB</a></li><li><a href="#an-zhuang-frida">å®‰è£… Frida</a></li><li><a href="#ni-xiang-fen-xi">é€†å‘åˆ†æ</a><ul><li><a href="#jie-he-python-shi-yong">ç»“åˆ Python ä½¿ç”¨</a></li><li><a href="#frida-ming-ling">frida å‘½ä»¤</a></li></ul></li></ul><!-- tocstop --><hr><h2><span id="sheng-ming">å£°æ˜</span></h2><p><strong><font color="red">æœ¬æ–‡ç« ä¸­æ‰€æœ‰å†…å®¹ä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨ï¼Œä¸ç”¨äºå…¶ä»–ä»»ä½•ç›®çš„ï¼Œä¸æä¾›å®Œæ•´ä»£ç ï¼ŒæŠ“åŒ…å†…å®¹ã€æ•æ„Ÿç½‘å€ã€æ•°æ®æ¥å£ç­‰å‡å·²åšè„±æ•å¤„ç†ï¼Œä¸¥ç¦ç”¨äºå•†ä¸šç”¨é€”å’Œéæ³•ç”¨é€”ï¼Œå¦åˆ™ç”±æ­¤äº§ç”Ÿçš„ä¸€åˆ‡åæœå‡ä¸ä½œè€…æ— å…³ï¼</font></strong></p><p><strong><font color="red">æœ¬æ–‡ç« æœªç»è®¸å¯ç¦æ­¢è½¬è½½ï¼Œç¦æ­¢ä»»ä½•ä¿®æ”¹åäºŒæ¬¡ä¼ æ’­ï¼Œæ“…è‡ªä½¿ç”¨æœ¬æ–‡è®²è§£çš„æŠ€æœ¯è€Œå¯¼è‡´çš„ä»»ä½•æ„å¤–ï¼Œä½œè€…å‡ä¸è´Ÿè´£ï¼Œè‹¥æœ‰ä¾µæƒï¼Œè¯·é€šè¿‡é‚®ä»¶ <a href="mailto:admin@itbob.cn">admin@itbob.cn</a> è”ç³»æˆ‘ç«‹å³åˆ é™¤ï¼</font></strong></p><h2><span id="ni-xiang-mu-biao">é€†å‘ç›®æ ‡</span></h2><ul><li>è®¾å¤‡ï¼šGoogle Pixel4ï¼ŒAndroid 10ï¼Œå·² root</li><li>APPï¼šUnCrackable-Level1.apkï¼ˆæ¥æºï¼š<a href="https://github.com/OWASP/owasp-mastg/tree/master/Crackmes">https://github.com/OWASP/owasp-mastg/tree/master/Crackmes</a> ï¼‰</li><li>APP æ£€æµ‹äº† rootï¼Œå¦‚æœæ‰‹æœº root äº†ï¼Œä¼šå¼ºåˆ¶é€€å‡º APPï¼Œè¿‡äº† root æ£€æµ‹åï¼Œè¿˜éœ€è¦è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²è¿›è¡Œæ ¡éªŒã€‚</li></ul><h2><span id="an-zhuang-adb">å®‰è£… ADB</span></h2><p>adbï¼ˆAndroid Debug Bridgeï¼‰å³å®‰å“è°ƒè¯•æ¡¥ï¼Œå®‰è£…åå¯ä»¥åœ¨ç”µè„‘ä¸Šä¸æ‰‹æœºè¿›è¡Œäº¤äº’ï¼ŒAndroid Studio ç­‰å·¥å…·é‡Œé¢ä¼šè‡ªå¸¦ adbï¼Œæœ‰æ—¶å€™æˆ‘ä»¬å¹¶ä¸æƒ³ä¸‹è½½è¿™ä¹ˆå¤§çš„å·¥å…·ï¼Œæ‰€ä»¥è¿™é‡Œä»‹ç»ä¸€ä¸‹ Android SDK Platform-Toolsï¼Œå®ƒæ˜¯ Android SDK çš„ä¸€ä¸ªç»„ä»¶ï¼Œå®ƒåŒ…æ‹¬ä¸ Android å¹³å°äº¤äº’çš„å·¥å…·ï¼Œä¸»è¦æ˜¯ adb å’Œ fastbootï¼Œå®˜æ–¹ä¸‹è½½åœ°å€ï¼š<a href="https://developer.android.com/studio/releases/platform-tools">https://developer.android.com/studio/releases/platform-tools</a> ï¼Œä¸‹è½½å®Œæˆåå°†è¯¥ç›®å½•æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ï¼ŒUSB è¿æ¥æ‰‹æœºï¼Œæ‰‹æœºä¸Šè®¾ç½®å…è®¸ USB è°ƒè¯•ï¼Œä½¿ç”¨å‘½ä»¤ <code>adb version</code> å¯æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯ï¼Œ<code>adb devices</code> å¯ä»¥æŸ¥çœ‹å½“å‰è¿æ¥çš„è®¾å¤‡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.itbob.cn/img/article/055/01.png" alt="01"></p><h2><span id="an-zhuang-frida">å®‰è£… Frida</span></h2><p>Frida æ˜¯ä¸€æ¬¾åŸºäº Python + JavaScript çš„ Hook ä¸è°ƒè¯•æ¡†æ¶ï¼Œé¦–å…ˆç”µè„‘ç«¯ä½¿ç”¨å‘½ä»¤ <code>pip install frida-tools</code> å®‰è£… frida æ¨¡å—ï¼ˆæ­¤å‘½ä»¤é»˜è®¤ä¼šå®‰è£…æœ€æ–°ç‰ˆçš„ frida å’Œ frida-toolsï¼Œå¦‚ï¼‰ï¼Œç„¶åä¸‹è½½ frida-serverï¼Œä¸‹è½½åœ°å€ï¼š<a href="https://github.com/frida/frida/releases">https://github.com/frida/frida/releases</a></p><p>frida-server è¦æ ¹æ®ä½ ç”µè„‘ç«¯å®‰è£…çš„ frida ç‰ˆæœ¬å’Œæ‰‹æœºçš„ CPU æ¶æ„æ¥é€‰æ‹©å¯¹åº”çš„ï¼Œä½¿ç”¨å‘½ä»¤ <code>frida --version</code> å¯ä»¥æŸ¥çœ‹ frida ç‰ˆæœ¬ï¼Œä½¿ç”¨å‘½ä»¤ <code>adb shell</code> è¿›å…¥æ‰‹æœºï¼Œè¾“å…¥ <code>getprop ro.product.cpu.abi</code> æŸ¥çœ‹ CPU æ¶æ„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘è¿™é‡Œ frida æ˜¯ 15.2.2 ç‰ˆæœ¬ï¼Œæ‰‹æœº CPU ä¸º arm64ï¼Œæ‰€ä»¥æˆ‘ä¸‹è½½çš„æ˜¯ <code>frida-server-15.2.2-android-arm64.xz</code>ã€‚</p><p>æŸäº› Android ä½ç‰ˆæœ¬ä½¿ç”¨é«˜ç‰ˆæœ¬ frida å¯èƒ½æœ‰é—®é¢˜ï¼Œé‡åˆ°é—®é¢˜å¯å°è¯•é™ä½ frida ç‰ˆæœ¬æ¥è§£å†³ã€‚</p><p><img src="https://cdn.itbob.cn/img/article/055/02.png" alt="02"></p><p><img src="https://cdn.itbob.cn/img/article/055/03.png" alt="03"></p><p>å°†ä¸‹è½½å¥½çš„ frida-server ä½¿ç”¨ <code>adb push</code> å‘½ä»¤ä¼ åˆ°æ‰‹æœºçš„ <code>/data/local/tmp/</code> ç›®å½•ä¸‹ï¼Œå¹¶ç»™äºˆ 777 è¯»ã€å†™ã€æ‰§è¡Œçš„æƒé™ï¼Œç„¶åç›´æ¥è¿è¡Œ frida-serverï¼Œæ­£å¸¸ä¸ä¼šæœ‰ä»»ä½•è¾“å‡ºï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ &amp; ç­‰æ–¹å¼è®©å…¶åœ¨åå°è¿è¡Œã€‚</p><p><img src="https://cdn.itbob.cn/img/article/055/04.png" alt="04"></p><p>ç„¶åå¦å¼€ä¸€ä¸ª cmd ä½¿ç”¨å‘½ä»¤ <code>frida-ps -U </code> å¯æŸ¥çœ‹æ‰‹æœºè¿›ç¨‹ï¼Œæœ‰è¾“å‡ºåˆ™æ­£å¸¸ã€‚</p><p><img src="https://cdn.itbob.cn/img/article/055/05.png" alt="05"></p><h2><span id="ni-xiang-fen-xi">é€†å‘åˆ†æ</span></h2><p>ä½¿ç”¨ <code>adb install</code> å‘½ä»¤å®‰è£… UnCrackable-Level1.apkï¼Œæ‰“å¼€è¯¥ APPï¼Œä¼šæ£€æµ‹åˆ° rootï¼Œå‡ºç° <code>Root detected!</code> çš„æç¤ºï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.itbob.cn/img/article/055/06.png" alt="06"></p><p>ä½¿ç”¨ JEBã€JADXã€GDA ç­‰å·¥å…·åç¼–è¯‘ apkï¼Œç›´æ¥æœç´¢å…³é”®å­— <code>Root detected!</code> å³å¯å®šä½åˆ°æ£€æµ‹çš„åœ°æ–¹ï¼š</p><p><img src="https://cdn.itbob.cn/img/article/055/07.png" alt="07"></p><p>å¯ä»¥çœ‹åˆ°å›¾ä¸­æœ‰ä¸‰ä¸ªæ£€æµ‹æ–¹æ³• <code>c.a()</code>ã€<code>c.b()</code>ã€<code>c.c()</code>ï¼Œå…¶ä¸­ä¸€ä¸ªè¿”å›ä¸ºçœŸï¼Œåˆ™å¼¹å‡º <code>Root detected!</code>ï¼Œç„¶åå‰é¢è¿˜æœ‰ä¸€ä¸ª <code>onClick</code> æ–¹æ³•ï¼Œå¦‚æœç‚¹å‡» OK æŒ‰é’®ï¼Œåˆ™è§¦å‘ <code>System.exit(0);</code>ï¼Œå³é€€å‡º APPï¼Œå…ˆç‚¹è¿›ä¸‰ä¸ªæ£€æµ‹æ–¹æ³•çœ‹çœ‹ï¼š</p><p><code>a()</code> æ–¹æ³•é€šè¿‡æ£€æµ‹ Android ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­æ˜¯å¦æœ‰ su æ–‡ä»¶æ¥åˆ¤æ–­æ˜¯å¦è¢« rootï¼›</p><p><code>b()</code> æ–¹æ³•é€šè¿‡æ£€æµ‹ <code>Build.TAGS</code> ä¸­æ˜¯å¦åŒ…å«å­—ç¬¦ä¸² <code>test-keys</code> æ¥åˆ¤æ–­æ˜¯å¦è¢« rootï¼›</p><p><code>c()</code> æ–¹æ³•é€šè¿‡æ£€æµ‹æŒ‡å®šè·¯å¾„ä¸‹æ˜¯å¦åŒ…å«æŒ‡å®šçš„æ–‡ä»¶æ¥åˆ¤æ–­æ˜¯å¦è¢« rootã€‚</p><p><img src="https://cdn.itbob.cn/img/article/055/08.png" alt="08"></p><p>æ‰€ä»¥æˆ‘ä»¬è¿™é‡Œå°±æœ‰å¤šç§è¿‡æ‰æ£€æµ‹çš„æ–¹æ³•ï¼š</p><p>æ–¹æ³•ä¸€ï¼šHook ä¸‰ä¸ªæ£€æµ‹æ–¹æ³•ï¼Œè®©å®ƒä»¬éƒ½è¿”å› falseï¼Œä¸å†æ‰§è¡Œåç»­çš„ a æ–¹æ³•ï¼Œå°±ä¸ä¼šé€€å‡º APP äº†ï¼š</p><pre><code class="hljs javascript">Java.perform(    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;[*] Hook begin&quot;</span>)        <span class="hljs-keyword">var</span> vantagePoint = Java.use(<span class="hljs-string">&quot;sg.vantagepoint.a.c&quot;</span>)        vantagePoint.a.implementation = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;[*] Hook vantagepoint.a.c.a&quot;</span>)            <span class="hljs-built_in">this</span>.a();            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;        &#125;        vantagePoint.b.implementation = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;[*] Hook vantagepoint.a.c.b&quot;</span>)            <span class="hljs-built_in">this</span>.b();            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;        &#125;        vantagePoint.c.implementation = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;[*] Hook vantagepoint.a.c.c&quot;</span>)            <span class="hljs-built_in">this</span>.c();            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;        &#125;    &#125;)</code></pre><p>æ–¹æ³•äºŒï¼šHook <code>a()</code> æ–¹æ³•ï¼Œç½®ç©ºï¼Œä»€ä¹ˆéƒ½ä¸åšï¼Œä¸å¼¹å‡ºå¯¹è¯æ¡†ï¼Œä¹Ÿä¸é€€å‡º APPï¼š</p><pre><code class="hljs javascript">Java.perform(    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;[*] Hook begin&quot;</span>)        <span class="hljs-keyword">var</span> mainActivity = Java.use(<span class="hljs-string">&quot;sg.vantagepoint.uncrackable1.MainActivity&quot;</span>);        mainActivity.a.implementation = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;[*] Hook mainActivity.a&quot;</span>)        &#125;    &#125;)</code></pre><p>æ–¹æ³•ä¸‰ï¼šHook <code>onClick()</code> æ–¹æ³•ï¼Œç‚¹å‡» OK åä¸è®©å…¶é€€å‡º APPï¼Œæ³¨æ„è¿™é‡Œæ˜¯å†…éƒ¨ç±»çš„ Hook å†™æ³•ï¼š</p><pre><code class="hljs javascript">Java.perform(    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;[*] Hook begin&quot;</span>)        <span class="hljs-keyword">var</span> mainActivity$<span class="hljs-number">1</span> = Java.use(<span class="hljs-string">&quot;sg.vantagepoint.uncrackable1.MainActivity$1&quot;</span>);        mainActivity$<span class="hljs-number">1.</span>onClick.implementation = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;[*] Hook mainActivity$1.onClick&quot;</span>)        &#125;    &#125;)</code></pre><p>æ–¹æ³•å››ï¼šHook <code>System.exit()</code> æ–¹æ³•ï¼Œç‚¹å‡» OK åä¸è®©å…¶é€€å‡º APPï¼š</p><pre><code class="hljs javascript">Java.perform(    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;[*] Hook begin&quot;</span>)        <span class="hljs-keyword">var</span> javaSystem = Java.use(<span class="hljs-string">&quot;java.lang.System&quot;</span>);        javaSystem.exit.implementation = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;[*] Hook system.exit&quot;</span>)        &#125;    &#125;)</code></pre><p>root æ£€æµ‹è¿‡æ‰ä¹‹åï¼ŒAPP è¿˜è¦è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¾“å…¥é”™è¯¯ä¼šæç¤º <code>That's not it. Try again.</code>ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.itbob.cn/img/article/055/09.png" alt="09"></p><p>åˆ†æ Java ä»£ç ï¼Œæœ‰ä¸€ä¸ª <code>if-else</code> åˆ¤æ–­ï¼Œobj ä¸ºè¾“å…¥çš„å­—ç¬¦ä¸²ï¼Œ<code>a.a(obj)</code> åˆ¤æ–­ä¸ºçœŸï¼Œå°±è¡¨ç¤ºè¾“å…¥æ­£ç¡®ã€‚</p><p><img src="https://cdn.itbob.cn/img/article/055/10.png" alt="10"></p><p>è·Ÿåˆ° <code>a.a()</code> æ–¹æ³•ï¼Œå¯ä»¥çœ‹åˆ° <code>bArr</code> æ˜¯å†…ç½®çš„å­—ç¬¦ä¸²ï¼Œé€šè¿‡ <code>equals()</code> æ–¹æ³•æ¯”è¾ƒè¾“å…¥çš„ <code>str</code> æ˜¯å¦å’Œ <code>bArr</code> ç›¸ç­‰ï¼š</p><p><img src="https://cdn.itbob.cn/img/article/055/11.png" alt="11"></p><p><code>bArr</code> çš„å€¼ï¼Œä¸»è¦ç»è¿‡ <code>sg.vantagepoint.a.a.a()</code> æ–¹æ³•å¤„ç†åå¾—åˆ°ï¼Œç»§ç»­è·Ÿè¿›å»å¯ä»¥å‘ç°æ˜¯ AES åŠ å¯†ç®—æ³•ï¼š</p><p><img src="https://cdn.itbob.cn/img/article/055/12.png" alt="12"></p><p>è¿™é‡Œå°±å¯ä»¥ç›´æ¥ Hook <code>sg.vantagepoint.a.a.a()</code>ï¼Œç›´æ¥æ‹¿åˆ°åŠ å¯†åçš„å€¼ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¦çš„æ­£ç¡®å­—ç¬¦ä¸²ï¼Œç”±äºè¿™é‡Œè¿”å›çš„æ˜¯ ASCII ç ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦åœ¨ JavaScript ä»£ç ä¸­ä½¿ç”¨ <code>String.fromCharCode()</code> å°†å…¶è½¬æ¢æˆæ­£å¸¸å­—ç¬¦ï¼ŒHook ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="hljs javascript">Java.perform(    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-keyword">var</span> cryptoAES = Java.use(<span class="hljs-string">&quot;sg.vantagepoint.a.a&quot;</span>);        cryptoAES.a.implementation = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">bArr, bArr2</span>)</span>&#123;            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;[*] Hook cryptoAES&quot;</span>)            <span class="hljs-keyword">var</span> secret = <span class="hljs-string">&quot;&quot;</span>;            <span class="hljs-keyword">var</span> decryptValue = <span class="hljs-built_in">this</span>.a(bArr, bArr2);            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;[*] DecryptValue:&quot;</span>, decryptValue)            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i &lt; decryptValue.length; i++)&#123;              secret += <span class="hljs-built_in">String</span>.fromCharCode(decryptValue[i]);            &#125;            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;[*] Secret:&quot;</span>, secret)            <span class="hljs-keyword">return</span> decryptValue;        &#125;    &#125;)</code></pre><p>è¿è¡Œ Hook è„šæœ¬æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€æ˜¯ç»“åˆ Python ä½¿ç”¨ï¼ŒäºŒæ˜¯ç›´æ¥é€šè¿‡ frida å‘½ä»¤ä½¿ç”¨è„šæœ¬ï¼Œæ³¨å…¥ Hook ä»£ç ä¹Ÿæœ‰ä¸ªæ—¶æœºé—®é¢˜ï¼Œæœ‰æ—¶å€™éœ€è¦åœ¨ APP å¯åŠ¨å°±å¼€å§‹ Hookï¼Œæœ‰æ—¶å€™å¯ä»¥ç­‰ APP å¯åŠ¨åŠ è½½å®Œæ¯•äº†å† Hookï¼Œæœ¬ä¾‹ä¸­ï¼Œè¿‡ root æ£€æµ‹çš„æ—¶å€™ï¼Œå¦‚æœé‡‡ç”¨ç¬¬ä¸€ã€äºŒç§æ–¹æ³•ï¼Œå³ Hook ä¸‰ä¸ªæ£€æµ‹æ–¹æ³•æˆ–è€… a æ–¹æ³•ï¼Œé‚£å°±éœ€è¦åœ¨ APP å¯åŠ¨çš„æ—¶å€™å°± Hookï¼Œå¦‚æœé‡‡ç”¨ç¬¬ä¸‰ã€å››ç§æ–¹æ³•ï¼Œå³ Hook  <code>onClick()</code> æˆ–è€… <code>System.exit()</code> æ–¹æ³•ï¼Œé‚£ä¹ˆç­‰ APP å¯åŠ¨äº†å† Hook ä¹Ÿå¯ä»¥ã€‚</p><h3><span id="jie-he-python-shi-yong">ç»“åˆ Python ä½¿ç”¨</span></h3><p>é¦–å…ˆæ¥çœ‹ä¸€ä¸‹ç»“åˆ Python æ€ä¹ˆä½¿ç”¨ï¼ŒJavaScript ä»£ç å¦‚ä¸‹ï¼ˆfrida-hook.jsï¼‰ï¼š</p><pre><code class="hljs javascript"><span class="hljs-comment">/* ==================================</span><span class="hljs-comment"># @Time    : 2022-08-29</span><span class="hljs-comment"># @Author  : ITBOB.CN</span><span class="hljs-comment"># @FileName: frida-hook.js</span><span class="hljs-comment"># @Software: PyCharm</span><span class="hljs-comment"># ================================== */</span>Java.perform(    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;[*] Hook begin&quot;</span>)        <span class="hljs-comment">// æ–¹æ³•ä¸€ï¼šHook ä¸‰ä¸ªæ£€æµ‹æ–¹æ³•ï¼Œè®©å®ƒä»¬éƒ½è¿”å› falseï¼Œä¸å†æ‰§è¡Œåç»­çš„ a æ–¹æ³•ï¼Œå°±ä¸ä¼šé€€å‡º APP äº†</span>        <span class="hljs-comment">// var vantagePoint = Java.use(&quot;sg.vantagepoint.a.c&quot;)</span>        <span class="hljs-comment">// vantagePoint.a.implementation = function()&#123;</span>        <span class="hljs-comment">//     console.log(&quot;[*] Hook vantagepoint.a.c.a&quot;)</span>        <span class="hljs-comment">//     this.a();</span>        <span class="hljs-comment">//     return false;</span>        <span class="hljs-comment">// &#125;</span>        <span class="hljs-comment">// vantagePoint.b.implementation = function()&#123;</span>        <span class="hljs-comment">//     console.log(&quot;[*] Hook vantagepoint.a.c.b&quot;)</span>        <span class="hljs-comment">//     this.b();</span>        <span class="hljs-comment">//     return false;</span>        <span class="hljs-comment">// &#125;</span>        <span class="hljs-comment">// vantagePoint.c.implementation = function()&#123;</span>        <span class="hljs-comment">//     console.log(&quot;[*] Hook vantagepoint.a.c.c&quot;)</span>        <span class="hljs-comment">//     this.c();</span>        <span class="hljs-comment">//     return false;</span>        <span class="hljs-comment">// &#125;</span>        <span class="hljs-comment">// æ–¹æ³•äºŒï¼šHook a() æ–¹æ³•ï¼Œç½®ç©ºï¼Œä»€ä¹ˆéƒ½ä¸åšï¼Œä¸å¼¹å‡ºå¯¹è¯æ¡†ï¼Œä¹Ÿä¸é€€å‡º APP</span>        <span class="hljs-comment">// var mainActivity = Java.use(&quot;sg.vantagepoint.uncrackable1.MainActivity&quot;);</span>        <span class="hljs-comment">// mainActivity.a.implementation = function()&#123;</span>        <span class="hljs-comment">//    console.log(&quot;[*] Hook mainActivity.a&quot;)</span>        <span class="hljs-comment">// &#125;</span>        <span class="hljs-comment">// æ–¹æ³•ä¸‰ï¼šHook onClick() æ–¹æ³•ï¼Œç‚¹å‡» OK åä¸è®©å…¶é€€å‡º APP</span>        <span class="hljs-comment">// var mainActivity$1 = Java.use(&quot;sg.vantagepoint.uncrackable1.MainActivity$1&quot;);</span>        <span class="hljs-comment">// mainActivity$1.onClick.implementation = function()&#123;</span>        <span class="hljs-comment">//     console.log(&quot;[*] Hook mainActivity$1.onClick&quot;)</span>        <span class="hljs-comment">// &#125;</span>        <span class="hljs-comment">// æ–¹æ³•å››ï¼šHook System.exit æ–¹æ³•ï¼Œç‚¹å‡» OK åä¸è®©å…¶é€€å‡º APP</span>        <span class="hljs-keyword">var</span> javaSystem = Java.use(<span class="hljs-string">&quot;java.lang.System&quot;</span>);        javaSystem.exit.implementation = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;[*] Hook system.exit&quot;</span>)        &#125;        <span class="hljs-keyword">var</span> cryptoAES = Java.use(<span class="hljs-string">&quot;sg.vantagepoint.a.a&quot;</span>);        cryptoAES.a.implementation = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">bArr, bArr2</span>)</span>&#123;            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;[*] Hook cryptoAES&quot;</span>)            <span class="hljs-keyword">var</span> secret = <span class="hljs-string">&quot;&quot;</span>;            <span class="hljs-keyword">var</span> decryptValue = <span class="hljs-built_in">this</span>.a(bArr, bArr2);            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;[*] DecryptValue:&quot;</span>, decryptValue)            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i &lt; decryptValue.length; i++)&#123;              secret += <span class="hljs-built_in">String</span>.fromCharCode(decryptValue[i]);            &#125;            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;[*] Secret:&quot;</span>, secret)            <span class="hljs-keyword">return</span> decryptValue;        &#125;    &#125;)</code></pre><p>Python ä»£ç å¦‚ä¸‹ï¼ˆ<a href="http://frida-hook.py">frida-hook.py</a>ï¼‰ï¼š</p><pre><code class="hljs python"><span class="hljs-comment"># ==================================</span><span class="hljs-comment"># --*-- coding: utf-8 --*--</span><span class="hljs-comment"># @Time    : 2022-08-29</span><span class="hljs-comment"># @Author  : ITBOB.CN</span><span class="hljs-comment"># @FileName: frida-hook.py</span><span class="hljs-comment"># @Software: PyCharm</span><span class="hljs-comment"># ==================================</span><span class="hljs-keyword">import</span> sys<span class="hljs-keyword">import</span> frida<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">on_message</span>(<span class="hljs-params">message, data</span>):</span>    <span class="hljs-keyword">if</span> message[<span class="hljs-string">&#x27;type&#x27;</span>] == <span class="hljs-string">&#x27;send&#x27;</span>:        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;[*] &#123;0&#125;&quot;</span>.<span class="hljs-built_in">format</span>(message[<span class="hljs-string">&#x27;payload&#x27;</span>]))    <span class="hljs-keyword">else</span>:        <span class="hljs-built_in">print</span>(message)<span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./frida-hook.js&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>, encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> fp:    hook_string = fp.read()<span class="hljs-comment"># æ–¹å¼ä¸€ï¼šattach æ¨¡å¼ï¼Œå·²ç»å¯åŠ¨çš„ APP</span>process = frida.get_usb_device(-<span class="hljs-number">1</span>).attach(<span class="hljs-string">&quot;Uncrackable1&quot;</span>)script = process.create_script(hook_string)script.on(<span class="hljs-string">&quot;message&quot;</span>, on_message)script.load()sys.stdin.read()<span class="hljs-comment"># æ–¹å¼äºŒï¼Œspawn æ¨¡å¼ï¼Œé‡å¯ APP</span><span class="hljs-comment"># device = frida.get_usb_device(-1)</span><span class="hljs-comment"># pid = device.spawn([&quot;owasp.mstg.uncrackable1&quot;])</span><span class="hljs-comment"># process = device.attach(pid)</span><span class="hljs-comment"># script = process.create_script(hook_string)</span><span class="hljs-comment"># script.on(&quot;message&quot;, on_message)</span><span class="hljs-comment"># script.load()</span><span class="hljs-comment"># device.resume(pid)</span><span class="hljs-comment"># sys.stdin.read()</span></code></pre><p>Python ä»£ç ä¸­ï¼Œattach æ¨¡å¼ Hook å·²ç»å­˜åœ¨çš„è¿›ç¨‹ï¼Œspawn æ¨¡å¼ä¼šé‡å¯ APPï¼Œå¯åŠ¨ä¸€ä¸ªæ–°çš„è¿›ç¨‹å¹¶æŒ‚èµ·ï¼Œåœ¨å¯åŠ¨çš„åŒæ—¶æ³¨å…¥ frida ä»£ç ï¼Œé€‚ç”¨äºåœ¨è¿›ç¨‹å¯åŠ¨å‰çš„ä¸€äº› Hookï¼Œattach æ¨¡å¼ä¼ å…¥çš„æ˜¯ APP åç§°ï¼Œspawn æ¨¡å¼ä¼ å…¥çš„æ˜¯ APP åŒ…åï¼ŒæŸ¥çœ‹ APP åç§°å’ŒåŒ…åçš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œè¿™é‡Œä»‹ç»ä¸¤ä¸ª frida å‘½ä»¤ï¼Œ<code>frida-ps -Uai</code>ï¼šåˆ—å‡ºå®‰è£…çš„ç¨‹åºï¼Œ<code>frida-ps -Ua</code>ï¼šåˆ—å‡ºæ­£åœ¨è¿è¡Œä¸­çš„ç¨‹åºï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæœ¬ä¾‹ä¸­ <code>Uncrackable1</code> å°±æ˜¯ APP åç§°ï¼Œ<code>owasp.mstg.uncrackable1</code> å°±æ˜¯åŒ…åï¼š</p><p><img src="https://cdn.itbob.cn/img/article/055/13.png" alt="13"></p><p>è¿è¡Œ Python ä»£ç ï¼Œæ³¨æ„æ‰‹æœºç«¯ä¹Ÿè¦å¯åŠ¨ frida-serverï¼Œè¿‡æ‰ root æ£€æµ‹åï¼Œå…ˆéšä¾¿è¾“å…¥å­—ç¬¦ä¸²ï¼Œç‚¹å‡» VERIFY å°±ä¼š Hook åˆ°æ­£ç¡®çš„å­—ç¬¦ä¸²ä¸º <code>I want to believe</code>ï¼Œå†æ¬¡è¾“å…¥æ­£ç¡®çš„å­—ç¬¦ä¸²ï¼Œå³å¯éªŒè¯æˆåŠŸã€‚</p><p><img src="https://cdn.itbob.cn/img/article/055/14.png" alt="14"></p><h3><span id="frida-ming-ling">frida å‘½ä»¤</span></h3><p>ä¸ä½¿ç”¨ Pythonï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ frida å‘½ä»¤æ¥å®ç°ï¼Œå’Œå‰é¢ Python  ä¸€æ ·ä¹Ÿæœ‰ä¸¤ç§æ¨¡å¼ï¼ŒåŒæ ·çš„ä¸€ä¸ªæ˜¯ APP åä¸€ä¸ªæ˜¯åŒ…åï¼š</p><p><code>frida -U Uncrackable1 -l .\frida-hook.js</code>ï¼šattach æ¨¡å¼ï¼ŒAPP å¯åŠ¨åæ³¨å…¥ frida ä»£ç ï¼›</p><p><code>frida -U -f owasp.mstg.uncrackable1 -l .\frida-hook.js --no-pause</code>ï¼šspawn æ¨¡å¼ï¼Œé‡å¯ APPï¼Œå¯åŠ¨çš„åŒæ—¶æ³¨å…¥ frida ä»£ç ã€‚</p><p><img src="https://cdn.itbob.cn/img/article/055/15.png" alt="15"></p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å®Œç¾ç»•è¿‡äº† root æ£€æµ‹ï¼Œå¹¶æˆåŠŸæ‰¾åˆ°äº†æ­£ç¡®çš„å­—ç¬¦ä¸²ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdn.itbob.cn/img/cover/app_reverse.png&quot; alt=&quot;app_reverse&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;center&gt;&lt;font color=&quot;red&quot; size=&quot;5px&quot; weight=&quot;</summary>
      
    
    
    
    <category term="APP é€†å‘å®æˆ˜" scheme="https://www.itbob.cn/categories/APP-%E9%80%86%E5%90%91%E5%AE%9E%E6%88%98/"/>
    
    
    <category term="çˆ¬è™«" scheme="https://www.itbob.cn/tags/%E7%88%AC%E8%99%AB/"/>
    
    <category term="APP é€†å‘å®æˆ˜" scheme="https://www.itbob.cn/tags/APP-%E9%80%86%E5%90%91%E5%AE%9E%E6%88%98/"/>
    
  </entry>
  
  <entry>
    <title>é€†å‘è¿›é˜¶ï¼Œåˆ©ç”¨ AST æŠ€æœ¯è¿˜åŸ JavaScript æ··æ·†ä»£ç </title>
    <link href="https://www.itbob.cn/article/051/"/>
    <id>https://www.itbob.cn/article/051/</id>
    <published>2022-04-25T09:00:00.000Z</published>
    <updated>2022-05-22T12:49:00.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.itbob.cn/img/cover/ast.png" alt="ast"></p><p><strong><center><font color="red" size="5px" weight="bolder">æ¬¢è¿åŠ å…¥çˆ¬è™«é€†å‘å¾®ä¿¡äº¤æµç¾¤ï¼šæ·»åŠ å¾®ä¿¡ IT-BOBï¼ˆå¤‡æ³¨äº¤æµç¾¤ï¼‰</font></center></strong></p><h2><span id="wen-zhang-mu-lu">æ–‡ç« ç›®å½•</span></h2><hr><!-- toc --><ul><li><a href="#shi-me-shi-ast">ä»€ä¹ˆæ˜¯ AST</a></li><li><a href="#ast-zai-bian-yi-zhong-de-wei-zhi">AST åœ¨ç¼–è¯‘ä¸­çš„ä½ç½®</a><ul><li><a href="#ci-fa-fen-xi">è¯æ³•åˆ†æ</a></li><li><a href="#yu-fa-fen-xi">è¯­æ³•åˆ†æ</a></li><li><a href="#dai-ma-sheng-cheng">ä»£ç ç”Ÿæˆ</a></li></ul></li><li><a href="#babel-jian-jie">Babel ç®€ä»‹</a><ul><li><a href="#babel-core">@babel/core</a></li><li><a href="#babel-parser">@babel/parser</a></li><li><a href="#babel-generator">@babel/generator</a></li><li><a href="#babel-traverse">@babel/traverse</a></li><li><a href="#babel-types">@babel/types</a></li></ul></li><li><a href="#chang-jian-hun-yao-huan-yuan">å¸¸è§æ··æ·†è¿˜åŸ</a><ul><li><a href="#zi-fu-chuan-huan-yuan">å­—ç¬¦ä¸²è¿˜åŸ</a></li><li><a href="#biao-da-shi-huan-yuan">è¡¨è¾¾å¼è¿˜åŸ</a></li><li><a href="#shan-chu-wei-shi-yong-bian-liang">åˆ é™¤æœªä½¿ç”¨å˜é‡</a></li><li><a href="#shan-chu-rong-yu-luo-ji-dai-ma">åˆ é™¤å†—ä½™é€»è¾‘ä»£ç </a></li><li><a href="#switch-case-fan-kong-zhi-liu-ping-tan-hua">switch-case åæ§åˆ¶æµå¹³å¦åŒ–</a></li></ul></li><li><a href="#can-kao-zi-liao">å‚è€ƒèµ„æ–™</a></li><li><a href="#end">END</a></li></ul><!-- tocstop --><hr><h2><span id="shi-me-shi-ast">ä»€ä¹ˆæ˜¯ AST</span></h2><p>ASTï¼ˆAbstract Syntax Treeï¼‰ï¼Œä¸­æ–‡æŠ½è±¡è¯­æ³•æ ‘ï¼Œç®€ç§°è¯­æ³•æ ‘ï¼ˆSyntax Treeï¼‰ï¼Œæ˜¯æºä»£ç çš„æŠ½è±¡è¯­æ³•ç»“æ„çš„æ ‘çŠ¶è¡¨ç°å½¢å¼ï¼Œæ ‘ä¸Šçš„æ¯ä¸ªèŠ‚ç‚¹éƒ½è¡¨ç¤ºæºä»£ç ä¸­çš„ä¸€ç§ç»“æ„ã€‚è¯­æ³•æ ‘ä¸æ˜¯æŸä¸€ç§ç¼–ç¨‹è¯­è¨€ç‹¬æœ‰çš„ï¼ŒJavaScriptã€Pythonã€Javaã€Golang ç­‰å‡ ä¹æ‰€æœ‰ç¼–ç¨‹è¯­è¨€éƒ½æœ‰è¯­æ³•æ ‘ã€‚</p><p>å°æ—¶å€™æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªç©å…·ï¼Œæ€»å–œæ¬¢æŠŠç©å…·æ‹†è§£æˆä¸€ä¸ªä¸€ä¸ªå°é›¶ä»¶ï¼Œç„¶åæŒ‰ç…§æˆ‘ä»¬è‡ªå·±çš„æƒ³æ³•ï¼ŒæŠŠé›¶ä»¶é‡æ–°ç»„è£…èµ·æ¥ï¼Œä¸€ä¸ªæ–°ç©å…·å°±è¯ç”Ÿäº†ã€‚è€Œ JavaScript å°±åƒä¸€å°ç²¾å¦™è¿ä½œçš„æœºå™¨ï¼Œé€šè¿‡ AST è§£æï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åƒç«¥å¹´æ—¶æ‹†è§£ç©å…·ä¸€æ ·ï¼Œæ·±å…¥äº†è§£ JavaScript è¿™å°æœºå™¨çš„å„ä¸ªé›¶éƒ¨ä»¶ï¼Œç„¶åé‡æ–°æŒ‰ç…§æˆ‘ä»¬è‡ªå·±çš„æ„æ„¿æ¥ç»„è£…ã€‚</p><p>AST çš„ç”¨é€”å¾ˆå¹¿ï¼ŒIDE çš„è¯­æ³•é«˜äº®ã€ä»£ç æ£€æŸ¥ã€æ ¼å¼åŒ–ã€å‹ç¼©ã€è½¬è¯‘ç­‰ï¼Œéƒ½éœ€è¦å…ˆå°†ä»£ç è½¬åŒ–æˆ AST å†è¿›è¡Œåç»­çš„æ“ä½œï¼ŒES5 å’Œ ES6 è¯­æ³•å·®å¼‚ï¼Œä¸ºäº†å‘åå…¼å®¹ï¼Œåœ¨å®é™…åº”ç”¨ä¸­éœ€è¦è¿›è¡Œè¯­æ³•çš„è½¬æ¢ï¼Œä¹Ÿä¼šç”¨åˆ° ASTã€‚AST å¹¶ä¸æ˜¯ä¸ºäº†é€†å‘è€Œç”Ÿï¼Œä½†åšé€†å‘å­¦ä¼šäº† ASTï¼Œåœ¨è§£æ··æ·†æ—¶å¯ä»¥å¦‚é±¼å¾—æ°´ã€‚</p><p>AST æœ‰ä¸€ä¸ªåœ¨çº¿è§£æç½‘ç«™ï¼š<a href="https://astexplorer.net/">https://astexplorer.net/</a> ï¼Œé¡¶éƒ¨å¯ä»¥é€‰æ‹©è¯­è¨€ã€ç¼–è¯‘å™¨ã€æ˜¯å¦å¼€å¯è½¬åŒ–ç­‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒåŒºåŸŸâ‘ æ˜¯æºä»£ç ï¼ŒåŒºåŸŸâ‘¡æ˜¯å¯¹åº”çš„ AST è¯­æ³•æ ‘ï¼ŒåŒºåŸŸâ‘¢æ˜¯è½¬æ¢ä»£ç ï¼Œå¯ä»¥å¯¹è¯­æ³•æ ‘è¿›è¡Œå„ç§æ“ä½œï¼ŒåŒºåŸŸâ‘£æ˜¯è½¬æ¢åç”Ÿæˆçš„æ–°ä»£ç ã€‚å›¾ä¸­åŸæ¥çš„ Unicode å­—ç¬¦ç»è¿‡æ“ä½œä¹‹åå°±å˜æˆäº†æ­£å¸¸å­—ç¬¦ã€‚</p><p>è¯­æ³•æ ‘æ²¡æœ‰å•ä¸€çš„æ ¼å¼ï¼Œé€‰æ‹©ä¸åŒçš„è¯­è¨€ã€ä¸åŒçš„ç¼–è¯‘å™¨ï¼Œå¾—åˆ°çš„ç»“æœä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œåœ¨ JavaScript ä¸­ï¼Œç¼–è¯‘å™¨æœ‰ Acornã€Espreeã€Esprimaã€Recastã€Uglify-JS ç­‰ï¼Œä½¿ç”¨æœ€å¤šçš„æ˜¯ Babelï¼Œåç»­çš„å­¦ä¹ ä¹Ÿæ˜¯ä»¥ Babel ä¸ºä¾‹ã€‚</p><p><img src="https://cdn.itbob.cn/img/article/051/01.png" alt="01"></p><h2><span id="ast-zai-bian-yi-zhong-de-wei-zhi">AST åœ¨ç¼–è¯‘ä¸­çš„ä½ç½®</span></h2><p>åœ¨ç¼–è¯‘åŸç†ä¸­ï¼Œç¼–è¯‘å™¨è½¬æ¢ä»£ç é€šå¸¸è¦ç»è¿‡ä¸‰ä¸ªæ­¥éª¤ï¼šè¯æ³•åˆ†æï¼ˆLexical Analysisï¼‰ã€è¯­æ³•åˆ†æï¼ˆSyntax Analysisï¼‰ã€ä»£ç ç”Ÿæˆï¼ˆCode Generationï¼‰ï¼Œä¸‹å›¾ç”ŸåŠ¨å±•ç¤ºäº†è¿™ä¸€è¿‡ç¨‹ï¼š</p><p><img src="https://cdn.itbob.cn/img/article/051/02.png" alt="02"></p><h3><span id="ci-fa-fen-xi">è¯æ³•åˆ†æ</span></h3><p>è¯æ³•åˆ†æé˜¶æ®µæ˜¯ç¼–è¯‘è¿‡ç¨‹çš„ç¬¬ä¸€ä¸ªé˜¶æ®µï¼Œè¿™ä¸ªé˜¶æ®µçš„ä»»åŠ¡æ˜¯ä»å·¦åˆ°å³ä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªå­—ç¬¦åœ°è¯»å…¥æºç¨‹åºï¼Œç„¶åæ ¹æ®æ„è¯è§„åˆ™è¯†åˆ«å•è¯ï¼Œç”Ÿæˆ token ç¬¦å·æµï¼Œæ¯”å¦‚ <code>isPanda('ğŸ¼')</code>ï¼Œä¼šè¢«æ‹†åˆ†æˆ <code>isPanda</code>ï¼Œ<code>(</code>ï¼Œ<code>'ğŸ¼'</code>ï¼Œ<code>)</code> å››éƒ¨åˆ†ï¼Œæ¯éƒ¨åˆ†éƒ½æœ‰ä¸åŒçš„å«ä¹‰ï¼Œå¯ä»¥å°†è¯æ³•åˆ†æè¿‡ç¨‹æƒ³è±¡ä¸ºä¸åŒç±»å‹æ ‡è®°çš„åˆ—è¡¨æˆ–æ•°ç»„ã€‚</p><p><img src="https://cdn.itbob.cn/img/article/051/03.gif" alt="03"></p><h3><span id="yu-fa-fen-xi">è¯­æ³•åˆ†æ</span></h3><p>è¯­æ³•åˆ†ææ˜¯ç¼–è¯‘è¿‡ç¨‹çš„ä¸€ä¸ªé€»è¾‘é˜¶æ®µï¼Œè¯­æ³•åˆ†æçš„ä»»åŠ¡æ˜¯åœ¨è¯æ³•åˆ†æçš„åŸºç¡€ä¸Šå°†å•è¯åºåˆ—ç»„åˆæˆå„ç±»è¯­æ³•çŸ­è¯­ï¼Œæ¯”å¦‚â€œç¨‹åºâ€ï¼Œâ€œè¯­å¥â€ï¼Œâ€œè¡¨è¾¾å¼â€ç­‰ï¼Œå‰é¢çš„ä¾‹å­ä¸­ï¼Œ<code>isPanda('ğŸ¼')</code> å°±ä¼šè¢«åˆ†æä¸ºä¸€æ¡è¡¨è¾¾è¯­å¥ <code>ExpressionStatement</code>ï¼Œ<code>isPanda()</code> å°±ä¼šè¢«åˆ†ææˆä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼ <code>CallExpression</code>ï¼Œ<code>ğŸ¼</code> å°±ä¼šè¢«åˆ†ææˆä¸€ä¸ªå˜é‡ <code>Literal</code> ç­‰ï¼Œä¼—å¤šè¯­æ³•ä¹‹é—´çš„ä¾èµ–ã€åµŒå¥—å…³ç³»ï¼Œå°±æ„æˆäº†ä¸€ä¸ªæ ‘çŠ¶ç»“æ„ï¼Œå³ AST è¯­æ³•æ ‘ã€‚</p><p><img src="https://cdn.itbob.cn/img/article/051/04.gif" alt="04"></p><h3><span id="dai-ma-sheng-cheng">ä»£ç ç”Ÿæˆ</span></h3><p>ä»£ç ç”Ÿæˆæ˜¯æœ€åä¸€æ­¥ï¼Œå°† AST è¯­æ³•æ ‘è½¬æ¢æˆå¯æ‰§è¡Œä»£ç å³å¯ï¼Œåœ¨è½¬æ¢ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ“ä½œè¯­æ³•æ ‘ï¼Œè¿›è¡Œå¢åˆ æ”¹æŸ¥ç­‰æ“ä½œï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šå˜é‡çš„å£°æ˜ä½ç½®ã€æ›´æ”¹å˜é‡çš„å€¼ã€åˆ é™¤æŸäº›èŠ‚ç‚¹ç­‰ï¼Œæˆ‘ä»¬å°†è¯­å¥ <code>isPanda('ğŸ¼')</code> ä¿®æ”¹ä¸ºä¸€ä¸ªå¸ƒå°”ç±»å‹çš„ <code>Literal</code>ï¼š<code>true</code>ï¼Œè¯­æ³•æ ‘å°±æœ‰å¦‚ä¸‹å˜åŒ–ï¼š</p><p><img src="https://cdn.itbob.cn/img/article/051/05.gif" alt="05"></p><h2><span id="babel-jian-jie">Babel ç®€ä»‹</span></h2><p>Babel æ˜¯ä¸€ä¸ª JavaScript ç¼–è¯‘å™¨ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯ä¸€ä¸ªè§£æåº“ï¼ŒBabel ä¸­æ–‡ç½‘ï¼š<a href="https://www.babeljs.cn/">https://www.babeljs.cn/</a> ï¼ŒBabel è‹±æ–‡å®˜ç½‘ï¼š<a href="https://babeljs.io/">https://babeljs.io/</a> ï¼ŒBabel å†…ç½®äº†å¾ˆå¤šåˆ†æ JavaScript ä»£ç çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Babel å°† JavaScript ä»£ç è½¬æ¢æˆ AST è¯­æ³•æ ‘ï¼Œç„¶åå¢åˆ æ”¹æŸ¥ç­‰æ“ä½œä¹‹åï¼Œå†è½¬æ¢æˆ JavaScript ä»£ç ã€‚</p><p>Babel åŒ…å«çš„å„ç§åŠŸèƒ½åŒ…ã€APIã€å„æ–¹æ³•å¯é€‰å‚æ•°ç­‰ï¼Œéƒ½éå¸¸å¤šï¼Œæœ¬æ–‡ä¸ä¸€ä¸€åˆ—ä¸¾ï¼Œåœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œåº”å½“å¤šæŸ¥è¯¢å®˜æ–¹æ–‡æ¡£ï¼Œæˆ–è€…å‚è€ƒæ–‡æœ«ç»™å‡ºçš„ä¸€äº›å­¦ä¹ èµ„æ–™ã€‚Babel çš„å®‰è£…å’Œå…¶ä»– Node åŒ…ä¸€æ ·ï¼Œéœ€è¦å“ªä¸ªå®‰è£…å“ªä¸ªå³å¯ï¼Œæ¯”å¦‚ <code>npm install @babel/core @babel/parser @babel/traverse @babel/generator</code></p><p>åœ¨åšé€†å‘è§£æ··æ·†ä¸­ï¼Œä¸»è¦ç”¨åˆ°äº† Babel çš„ä»¥ä¸‹å‡ ä¸ªåŠŸèƒ½åŒ…ï¼Œæœ¬æ–‡ä¹Ÿä»…ä»‹ç»ä»¥ä¸‹å‡ ä¸ªåŠŸèƒ½åŒ…ï¼š</p><ol><li><code>@babel/core</code>ï¼šBabel ç¼–è¯‘å™¨æœ¬èº«ï¼Œæä¾›äº† babel çš„ç¼–è¯‘ APIï¼›</li><li><code>@babel/parser</code>ï¼šå°† JavaScript ä»£ç è§£ææˆ AST è¯­æ³•æ ‘ï¼›</li><li><code>@babel/traverse</code>ï¼šéå†ã€ä¿®æ”¹ AST è¯­æ³•æ ‘çš„å„ä¸ªèŠ‚ç‚¹ï¼›</li><li><code>@babel/generator</code>ï¼šå°† AST è¿˜åŸæˆ JavaScript ä»£ç ï¼›</li><li><code>@babel/types</code>ï¼šåˆ¤æ–­ã€éªŒè¯èŠ‚ç‚¹çš„ç±»å‹ã€æ„å»ºæ–° AST èŠ‚ç‚¹ç­‰ã€‚</li></ol><p><img src="https://cdn.itbob.cn/img/article/051/06.png" alt="06"></p><h3><span id="babel-core">@babel/core</span></h3><p>Babel ç¼–è¯‘å™¨æœ¬èº«ï¼Œè¢«æ‹†åˆ†æˆäº†ä¸‰ä¸ªæ¨¡å—ï¼š<code>@babel/parser</code>ã€<code>@babel/traverse</code>ã€<code>@babel/generator</code>ï¼Œæ¯”å¦‚ä»¥ä¸‹æ–¹æ³•çš„å¯¼å…¥æ•ˆæœéƒ½æ˜¯ä¸€æ ·çš„ï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> parse = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/parser&quot;</span>).parse;<span class="hljs-keyword">const</span> parse = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/core&quot;</span>).parse;<span class="hljs-keyword">const</span> traverse = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/traverse&quot;</span>).default<span class="hljs-keyword">const</span> traverse = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/core&quot;</span>).traverse</code></pre><h3><span id="babel-parser">@babel/parser</span></h3><p><code>@babel/parser</code> å¯ä»¥å°† JavaScript ä»£ç è§£ææˆ AST è¯­æ³•æ ‘ï¼Œå…¶ä¸­ä¸»è¦æä¾›äº†ä¸¤ä¸ªæ–¹æ³•ï¼š</p><ul><li><code>parser.parse(code, [&#123;options&#125;])</code>ï¼šè§£æä¸€æ®µ JavaScript ä»£ç ï¼›</li><li><code>parser.parseExpression(code, [&#123;options&#125;])</code>ï¼šè€ƒè™‘åˆ°äº†æ€§èƒ½é—®é¢˜ï¼Œè§£æå•ä¸ª JavaScript è¡¨è¾¾å¼ã€‚</li></ul><p>éƒ¨åˆ†å¯é€‰å‚æ•° <code>options</code>ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>allowImportExportEverywhere</code></td><td>é»˜è®¤ <code>import</code> å’Œ <code>export</code> å£°æ˜è¯­å¥åªèƒ½å‡ºç°åœ¨ç¨‹åºçš„æœ€é¡¶å±‚ï¼Œè®¾ç½®ä¸º <code>true</code> åˆ™åœ¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥å£°æ˜</td></tr><tr><td><code>allowReturnOutsideFunction</code></td><td>é»˜è®¤å¦‚æœåœ¨é¡¶å±‚ä¸­ä½¿ç”¨ <code>return</code> è¯­å¥ä¼šå¼•èµ·é”™è¯¯ï¼Œè®¾ç½®ä¸º <code>true</code> å°±ä¸ä¼šæŠ¥é”™</td></tr><tr><td><code>sourceType</code></td><td>é»˜è®¤ä¸º <code>script</code>ï¼Œå½“ä»£ç ä¸­å«æœ‰ <code>import</code> ã€<code>export</code> ç­‰å…³é”®å­—æ—¶ä¼šæŠ¥é”™ï¼Œéœ€è¦æŒ‡å®šä¸º <code>module</code></td></tr><tr><td><code>errorRecovery</code></td><td>é»˜è®¤å¦‚æœ babel å‘ç°ä¸€äº›ä¸æ­£å¸¸çš„ä»£ç å°±ä¼šæŠ›å‡ºé”™è¯¯ï¼Œè®¾ç½®ä¸º <code>true</code> åˆ™ä¼šåœ¨ä¿å­˜è§£æé”™è¯¯çš„åŒæ—¶ç»§ç»­è§£æä»£ç ï¼Œé”™è¯¯çš„è®°å½•å°†è¢«ä¿å­˜åœ¨æœ€ç»ˆç”Ÿæˆçš„ AST çš„ errors å±æ€§ä¸­ï¼Œå½“ç„¶å¦‚æœé‡åˆ°ä¸¥é‡çš„é”™è¯¯ï¼Œä¾ç„¶ä¼šç»ˆæ­¢è§£æ</td></tr></tbody></table><p>ä¸¾ä¸ªä¾‹å­çœ‹å¾—æ¯”è¾ƒæ¸…æ¥šï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> parser = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/parser&quot;</span>);<span class="hljs-keyword">const</span> code = <span class="hljs-string">&quot;const a = 1;&quot;</span>;<span class="hljs-keyword">const</span> ast = parser.parse(code, &#123;<span class="hljs-attr">sourceType</span>: <span class="hljs-string">&quot;module&quot;</span>&#125;)<span class="hljs-built_in">console</span>.log(ast)</code></pre><p><code>&#123;sourceType: &quot;module&quot;&#125;</code> æ¼”ç¤ºäº†å¦‚ä½•æ·»åŠ å¯é€‰å‚æ•°ï¼Œè¾“å‡ºçš„å°±æ˜¯ AST è¯­æ³•æ ‘ï¼Œè¿™å’Œåœ¨çº¿ç½‘ç«™ <a href="https://astexplorer.net/">https://astexplorer.net/</a> è§£æå‡ºæ¥çš„è¯­æ³•æ ‘æ˜¯ä¸€æ ·çš„ï¼š</p><p><img src="https://cdn.itbob.cn/img/article/051/07.png" alt="07"></p><h3><span id="babel-generator">@babel/generator</span></h3><p><code>@babel/generator</code> å¯ä»¥å°† AST è¿˜åŸæˆ JavaScript ä»£ç ï¼Œæä¾›äº†ä¸€ä¸ª <code>generate</code> æ–¹æ³•ï¼š<code>generate(ast, [&#123;options&#125;], code)</code>ã€‚</p><p>éƒ¨åˆ†å¯é€‰å‚æ•° <code>options</code>ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>auxiliaryCommentBefore</code></td><td>åœ¨è¾“å‡ºæ–‡ä»¶å†…å®¹çš„å¤´éƒ¨æ·»åŠ æ³¨é‡Šå—æ–‡å­—</td></tr><tr><td><code>auxiliaryCommentAfter</code></td><td>åœ¨è¾“å‡ºæ–‡ä»¶å†…å®¹çš„æœ«å°¾æ·»åŠ æ³¨é‡Šå—æ–‡å­—</td></tr><tr><td><code>comments</code></td><td>è¾“å‡ºå†…å®¹æ˜¯å¦åŒ…å«æ³¨é‡Š</td></tr><tr><td><code>compact</code></td><td>è¾“å‡ºå†…å®¹æ˜¯å¦ä¸æ·»åŠ ç©ºæ ¼ï¼Œé¿å…æ ¼å¼åŒ–</td></tr><tr><td><code>concise</code></td><td>è¾“å‡ºå†…å®¹æ˜¯å¦å‡å°‘ç©ºæ ¼ä½¿å…¶æ›´ç´§å‡‘ä¸€äº›</td></tr><tr><td><code>minified</code></td><td>æ˜¯å¦å‹ç¼©è¾“å‡ºä»£ç </td></tr><tr><td><code>retainLines</code></td><td>å°è¯•åœ¨è¾“å‡ºä»£ç ä¸­ä½¿ç”¨ä¸æºä»£ç ä¸­ç›¸åŒçš„è¡Œå·</td></tr></tbody></table><p>æ¥ç€å‰é¢çš„ä¾‹å­ï¼ŒåŸä»£ç æ˜¯ <code>const a = 1;</code>ï¼Œç°åœ¨æˆ‘ä»¬æŠŠ <code>a</code> å˜é‡ä¿®æ”¹ä¸º <code>b</code>ï¼Œå€¼ <code>1</code> ä¿®æ”¹ä¸º <code>2</code>ï¼Œç„¶åå°† AST è¿˜åŸç”Ÿæˆæ–°çš„ JS ä»£ç ï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> parser = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/parser&quot;</span>);<span class="hljs-keyword">const</span> generate = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/generator&quot;</span>).default<span class="hljs-keyword">const</span> code = <span class="hljs-string">&quot;const a = 1;&quot;</span>;<span class="hljs-keyword">const</span> ast = parser.parse(code, &#123;<span class="hljs-attr">sourceType</span>: <span class="hljs-string">&quot;module&quot;</span>&#125;)ast.program.body[<span class="hljs-number">0</span>].declarations[<span class="hljs-number">0</span>].id.name = <span class="hljs-string">&quot;b&quot;</span>ast.program.body[<span class="hljs-number">0</span>].declarations[<span class="hljs-number">0</span>].init.value = <span class="hljs-number">2</span><span class="hljs-keyword">const</span> result = generate(ast, &#123;<span class="hljs-attr">minified</span>: <span class="hljs-literal">true</span>&#125;)<span class="hljs-built_in">console</span>.log(result.code)</code></pre><p>æœ€ç»ˆè¾“å‡ºçš„æ˜¯ <code>const b=2;</code>ï¼Œå˜é‡åå’Œå€¼éƒ½æˆåŠŸæ›´æ”¹äº†ï¼Œç”±äºåŠ äº†å‹ç¼©å¤„ç†ï¼Œç­‰å·å·¦å³ä¸¤è¾¹çš„ç©ºæ ¼ä¹Ÿæ²¡äº†ã€‚</p><p>ä»£ç é‡Œ <code>&#123;minified: true&#125;</code> æ¼”ç¤ºäº†å¦‚ä½•æ·»åŠ å¯é€‰å‚æ•°ï¼Œè¿™é‡Œè¡¨ç¤ºå‹ç¼©è¾“å‡ºä»£ç ï¼Œ<code>generate</code> å¾—åˆ°çš„ <code>result</code> å¾—åˆ°çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­çš„ <code>code</code> å±æ€§æ‰æ˜¯æœ€ç»ˆçš„ JS ä»£ç ã€‚</p><p>ä»£ç é‡Œ <code>ast.program.body[0].declarations[0].id.name</code> æ˜¯ a åœ¨ AST ä¸­çš„ä½ç½®ï¼Œ<code>ast.program.body[0].declarations[0].init.value</code> æ˜¯ 1 åœ¨ AST ä¸­çš„ä½ç½®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.itbob.cn/img/article/051/08.png" alt="08"></p><h3><span id="babel-traverse">@babel/traverse</span></h3><p>å½“ä»£ç å¤šäº†ï¼Œæˆ‘ä»¬ä¸å¯èƒ½åƒå‰é¢é‚£æ ·æŒ¨ä¸ªå®šä½å¹¶ä¿®æ”¹ï¼Œå¯¹äºç›¸åŒç±»å‹çš„èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥éå†æ‰€æœ‰èŠ‚ç‚¹æ¥è¿›è¡Œä¿®æ”¹ï¼Œè¿™é‡Œå°±ç”¨åˆ°äº† <code>@babel/traverse</code>ï¼Œå®ƒé€šå¸¸å’Œ <code>visitor</code> ä¸€èµ·ä½¿ç”¨ï¼Œ<code>visitor</code> æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªåå­—æ˜¯å¯ä»¥éšæ„å–çš„ï¼Œ<code>visitor</code> é‡Œå¯ä»¥å®šä¹‰ä¸€äº›æ–¹æ³•æ¥è¿‡æ»¤èŠ‚ç‚¹ï¼Œè¿™é‡Œè¿˜æ˜¯ç”¨ä¸€ä¸ªä¾‹å­æ¥æ¼”ç¤ºï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> parser = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/parser&quot;</span>);<span class="hljs-keyword">const</span> generate = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/generator&quot;</span>).default<span class="hljs-keyword">const</span> traverse = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/traverse&quot;</span>).default<span class="hljs-keyword">const</span> code = <span class="hljs-string">`</span><span class="hljs-string">const a = 1500;</span><span class="hljs-string">const b = 60;</span><span class="hljs-string">const c = &quot;hi&quot;;</span><span class="hljs-string">const d = 787;</span><span class="hljs-string">const e = &quot;1244&quot;;</span><span class="hljs-string">`</span><span class="hljs-keyword">const</span> ast = parser.parse(code)<span class="hljs-keyword">const</span> visitor = &#123;    <span class="hljs-function"><span class="hljs-title">NumericLiteral</span>(<span class="hljs-params">path</span>)</span>&#123;        path.node.value = (path.node.value + <span class="hljs-number">100</span>) * <span class="hljs-number">2</span>    &#125;,    <span class="hljs-function"><span class="hljs-title">StringLiteral</span>(<span class="hljs-params">path</span>)</span>&#123;        path.node.value = <span class="hljs-string">&quot;I Love JavaScript!&quot;</span>    &#125;&#125;traverse(ast, visitor)<span class="hljs-keyword">const</span> result = generate(ast)<span class="hljs-built_in">console</span>.log(result.code)</code></pre><p>è¿™é‡Œçš„åŸå§‹ä»£ç å®šä¹‰äº† abcde äº”ä¸ªå˜é‡ï¼Œå…¶å€¼æœ‰æ•°å­—ä¹Ÿæœ‰å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬åœ¨ AST ä¸­å¯ä»¥çœ‹åˆ°å¯¹åº”çš„ç±»å‹ä¸º <code>NumericLiteral</code> å’Œ <code>StringLiteral</code>ï¼š</p><p><img src="https://cdn.itbob.cn/img/article/051/09.png" alt="09"></p><p>ç„¶åæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ª <code>visitor</code> å¯¹è±¡ï¼Œç„¶åå®šä¹‰å¯¹åº”ç±»å‹çš„å¤„ç†æ–¹æ³•ï¼Œ<code>traverse</code> æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ AST å¯¹è±¡ï¼Œç¬¬äºŒä¸ªæ˜¯ <code>visitor</code>ï¼Œå½“ <code>traverse</code> éå†æ‰€æœ‰èŠ‚ç‚¹ï¼Œé‡åˆ°èŠ‚ç‚¹ç±»å‹ä¸º <code>NumericLiteral</code> å’Œ <code>StringLiteral</code> æ—¶ï¼Œå°±ä¼šè°ƒç”¨ <code>visitor</code> ä¸­å¯¹åº”çš„å¤„ç†æ–¹æ³•ï¼Œ<code>visitor</code> ä¸­çš„æ–¹æ³•ä¼šæ¥æ”¶ä¸€ä¸ªå½“å‰èŠ‚ç‚¹çš„ <code>path</code> å¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„ç±»å‹æ˜¯ <code>NodePath</code>ï¼Œè¯¥å¯¹è±¡æœ‰éå¸¸å¤šçš„å±æ€§ï¼Œä»¥ä¸‹ä»‹ç»å‡ ç§æœ€å¸¸ç”¨çš„ï¼š</p><table><thead><tr><th>å±æ€§</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>toString()</code></td><td>å½“å‰è·¯å¾„çš„æºç </td></tr><tr><td><code>node</code></td><td>å½“å‰è·¯å¾„çš„èŠ‚ç‚¹</td></tr><tr><td><code>parent</code></td><td>å½“å‰è·¯å¾„çš„çˆ¶çº§èŠ‚ç‚¹</td></tr><tr><td><code>parentPath</code></td><td>å½“å‰è·¯å¾„çš„çˆ¶çº§è·¯å¾„</td></tr><tr><td><code>type</code></td><td>å½“å‰è·¯å¾„çš„ç±»å‹</td></tr></tbody></table><p>PSï¼š<code>path</code> å¯¹è±¡é™¤äº†æœ‰å¾ˆå¤šå±æ€§ä»¥å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œæ¯”å¦‚æ›¿æ¢èŠ‚ç‚¹ã€åˆ é™¤èŠ‚ç‚¹ã€æ’å…¥èŠ‚ç‚¹ã€å¯»æ‰¾çˆ¶çº§èŠ‚ç‚¹ã€è·å–åŒçº§èŠ‚ç‚¹ã€æ·»åŠ æ³¨é‡Šã€åˆ¤æ–­èŠ‚ç‚¹ç±»å‹ç­‰ï¼Œå¯åœ¨éœ€è¦æ—¶æŸ¥è¯¢ç›¸å…³æ–‡æ¡£æˆ–æŸ¥çœ‹æºç ï¼Œåç»­ä»‹ç» <code>@babel/types</code> éƒ¨åˆ†å°†ä¼šä¸¾éƒ¨åˆ†ä¾‹å­æ¥æ¼”ç¤ºï¼Œä»¥åçš„å®æˆ˜æ–‡ç« ä¸­ä¹Ÿä¼šæœ‰ç›¸å…³å®ä¾‹ï¼Œç¯‡å¹…æœ‰é™æœ¬æ–‡ä¸å†ç»†è¯´ã€‚</p><p>å› æ­¤åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ<code>path.node.value</code> å°±æ‹¿åˆ°äº†å˜é‡çš„å€¼ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥è¿›ä¸€æ­¥å¯¹å…¶è¿›è¡Œä¿®æ”¹äº†ã€‚ä»¥ä¸Šä»£ç è¿è¡Œåï¼Œæ‰€æœ‰æ•°å­—éƒ½ä¼šåŠ ä¸Š100åå†ä¹˜ä»¥2ï¼Œæ‰€æœ‰å­—ç¬¦ä¸²éƒ½ä¼šè¢«æ›¿æ¢æˆ <code>I Love JavaScript!</code>ï¼Œç»“æœå¦‚ä¸‹ï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> a = <span class="hljs-number">3200</span>;<span class="hljs-keyword">const</span> b = <span class="hljs-number">320</span>;<span class="hljs-keyword">const</span> c = <span class="hljs-string">&quot;I Love JavaScript!&quot;</span>;<span class="hljs-keyword">const</span> d = <span class="hljs-number">1774</span>;<span class="hljs-keyword">const</span> e = <span class="hljs-string">&quot;I Love JavaScript!&quot;</span>;</code></pre><p>å¦‚æœå¤šä¸ªç±»å‹çš„èŠ‚ç‚¹ï¼Œå¤„ç†çš„æ–¹å¼éƒ½ä¸€æ ·ï¼Œé‚£ä¹ˆè¿˜å¯ä»¥ä½¿ç”¨ <code>|</code> å°†æ‰€æœ‰èŠ‚ç‚¹è¿æ¥æˆå­—ç¬¦ä¸²ï¼Œå°†åŒä¸€ä¸ªæ–¹æ³•åº”ç”¨åˆ°æ‰€æœ‰èŠ‚ç‚¹ï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> visitor = &#123;    <span class="hljs-string">&quot;NumericLiteral|StringLiteral&quot;</span>(path) &#123;        path.node.value = <span class="hljs-string">&quot;I Love JavaScript!&quot;</span>    &#125;&#125;</code></pre><p><code>visitor</code> å¯¹è±¡æœ‰å¤šç§å†™æ³•ï¼Œä»¥ä¸‹å‡ ç§å†™æ³•çš„æ•ˆæœéƒ½æ˜¯ä¸€æ ·çš„ï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> visitor = &#123;    <span class="hljs-function"><span class="hljs-title">NumericLiteral</span>(<span class="hljs-params">path</span>)</span>&#123;        path.node.value = (path.node.value + <span class="hljs-number">100</span>) * <span class="hljs-number">2</span>    &#125;,    <span class="hljs-function"><span class="hljs-title">StringLiteral</span>(<span class="hljs-params">path</span>)</span>&#123;        path.node.value = <span class="hljs-string">&quot;I Love JavaScript!&quot;</span>    &#125;&#125;</code></pre><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> visitor = &#123;    <span class="hljs-attr">NumericLiteral</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">path</span>)</span>&#123;        path.node.value = (path.node.value + <span class="hljs-number">100</span>) * <span class="hljs-number">2</span>    &#125;,    <span class="hljs-attr">StringLiteral</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">path</span>)</span>&#123;        path.node.value = <span class="hljs-string">&quot;I Love JavaScript!&quot;</span>    &#125;&#125;</code></pre><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> visitor = &#123;    <span class="hljs-attr">NumericLiteral</span>: &#123;        <span class="hljs-function"><span class="hljs-title">enter</span>(<span class="hljs-params">path</span>)</span> &#123;            path.node.value = (path.node.value + <span class="hljs-number">100</span>) * <span class="hljs-number">2</span>        &#125;    &#125;,    <span class="hljs-attr">StringLiteral</span>: &#123;        <span class="hljs-function"><span class="hljs-title">enter</span>(<span class="hljs-params">path</span>)</span> &#123;            path.node.value = <span class="hljs-string">&quot;I Love JavaScript!&quot;</span>        &#125;    &#125;&#125;</code></pre><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> visitor = &#123;    <span class="hljs-function"><span class="hljs-title">enter</span>(<span class="hljs-params">path</span>)</span> &#123;        <span class="hljs-keyword">if</span> (path.node.type === <span class="hljs-string">&quot;NumericLiteral&quot;</span>) &#123;            path.node.value = (path.node.value + <span class="hljs-number">100</span>) * <span class="hljs-number">2</span>        &#125;        <span class="hljs-keyword">if</span> (path.node.type === <span class="hljs-string">&quot;StringLiteral&quot;</span>) &#123;            path.node.value = <span class="hljs-string">&quot;I Love JavaScript!&quot;</span>        &#125;    &#125;&#125;</code></pre><p>ä»¥ä¸Šå‡ ç§å†™æ³•ä¸­æœ‰ç”¨åˆ°äº† <code>enter</code> æ–¹æ³•ï¼Œåœ¨èŠ‚ç‚¹çš„éå†è¿‡ç¨‹ä¸­ï¼Œè¿›å…¥èŠ‚ç‚¹ï¼ˆenterï¼‰ä¸é€€å‡ºï¼ˆexitï¼‰èŠ‚ç‚¹éƒ½ä¼šè®¿é—®ä¸€æ¬¡èŠ‚ç‚¹ï¼Œ<code>traverse</code> é»˜è®¤åœ¨è¿›å…¥èŠ‚ç‚¹æ—¶è¿›è¡ŒèŠ‚ç‚¹çš„å¤„ç†ï¼Œå¦‚æœè¦åœ¨é€€å‡ºèŠ‚ç‚¹æ—¶å¤„ç†ï¼Œé‚£ä¹ˆåœ¨ <code>visitor</code> ä¸­å°±å¿…é¡»å£°æ˜ <code>exit</code> æ–¹æ³•ã€‚</p><h3><span id="babel-types">@babel/types</span></h3><p><code>@babel/types</code> ä¸»è¦ç”¨äºæ„å»ºæ–°çš„ AST èŠ‚ç‚¹ï¼Œå‰é¢çš„ç¤ºä¾‹ä»£ç ä¸º <code>const a = 1;</code>ï¼Œå¦‚æœæƒ³è¦å¢åŠ å†…å®¹ï¼Œæ¯”å¦‚å˜æˆ <code>const a = 1; const b = a * 5 + 1;</code>ï¼Œå°±å¯ä»¥é€šè¿‡ <code>@babel/types</code> æ¥å®ç°ã€‚</p><p>é¦–å…ˆè§‚å¯Ÿä¸€ä¸‹ AST è¯­æ³•æ ‘ï¼ŒåŸè¯­å¥åªæœ‰ä¸€ä¸ª <code>VariableDeclaration</code> èŠ‚ç‚¹ï¼Œç°åœ¨å¢åŠ äº†ä¸€ä¸ªï¼š</p><p><img src="https://cdn.itbob.cn/img/article/051/10.png" alt="10"></p><p>é‚£ä¹ˆæˆ‘ä»¬çš„æ€è·¯å°±æ˜¯åœ¨éå†èŠ‚ç‚¹æ—¶ï¼Œéå†åˆ° <code>VariableDeclaration</code> èŠ‚ç‚¹ï¼Œå°±åœ¨å…¶åé¢å¢åŠ ä¸€ä¸ª <code>VariableDeclaration</code> èŠ‚ç‚¹ï¼Œç”Ÿæˆ  <code>VariableDeclaration</code> èŠ‚ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨ <code>types.variableDeclaration()</code> æ–¹æ³•ï¼Œåœ¨ types ä¸­å„ç§æ–¹æ³•åç§°å’Œæˆ‘ä»¬åœ¨ AST ä¸­çœ‹åˆ°çš„æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡é¦–å­—æ¯æ˜¯å°å†™çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦çŸ¥é“æ‰€æœ‰æ–¹æ³•çš„æƒ…å†µä¸‹ï¼Œä¹Ÿèƒ½å¤§è‡´æ¨æ–­å…¶æ–¹æ³•åï¼ŒåªçŸ¥é“è¿™ä¸ªæ–¹æ³•è¿˜ä¸è¡Œï¼Œè¿˜å¾—çŸ¥é“ä¼ å…¥çš„å‚æ•°æ˜¯ä»€ä¹ˆï¼Œå¯ä»¥æŸ¥æ–‡æ¡£ï¼Œä¸è¿‡è¿™é‡Œæ¨èç›´æ¥çœ‹æºç ï¼Œéå¸¸æ¸…æ™°æ˜äº†ï¼Œä»¥ Pycharm ä¸ºä¾‹ï¼ŒæŒ‰ä½ Ctrl é”®ï¼Œå†ç‚¹å‡»æ–¹æ³•åï¼Œå°±è¿›åˆ°æºç é‡Œäº†ï¼š</p><p><img src="https://cdn.itbob.cn/img/article/051/11.png" alt="11"></p><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">variableDeclaration</span>(<span class="hljs-params">kind: <span class="hljs-string">&quot;var&quot;</span> | <span class="hljs-string">&quot;let&quot;</span> | <span class="hljs-string">&quot;const&quot;</span>, declarations: <span class="hljs-built_in">Array</span>&lt;BabelNodeVariableDeclarator&gt;</span>)</span></code></pre><p>å¯ä»¥çœ‹åˆ°éœ€è¦ <code>kind</code> å’Œ <code>declarations</code> ä¸¤ä¸ªå‚æ•°ï¼Œå…¶ä¸­ <code>declarations</code> æ˜¯ <code>VariableDeclarator</code> ç±»å‹çš„èŠ‚ç‚¹ç»„æˆçš„åˆ—è¡¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å…ˆå†™å‡ºä»¥ä¸‹ <code>visitor</code> éƒ¨åˆ†çš„ä»£ç ï¼Œå…¶ä¸­ <code>path.insertAfter()</code> æ˜¯åœ¨è¯¥èŠ‚ç‚¹ä¹‹åæ’å…¥æ–°èŠ‚ç‚¹çš„æ„æ€ï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> visitor = &#123;    <span class="hljs-function"><span class="hljs-title">VariableDeclaration</span>(<span class="hljs-params">path</span>)</span> &#123;        <span class="hljs-keyword">let</span> declaration = types.variableDeclaration(<span class="hljs-string">&quot;const&quot;</span>, [declarator])        path.insertAfter(declaration)    &#125;&#125;</code></pre><p>æ¥ä¸‹æ¥æˆ‘ä»¬è¿˜éœ€è¦è¿›ä¸€æ­¥å®šä¹‰ <code>declarator</code>ï¼Œä¹Ÿå°±æ˜¯ <code>VariableDeclarator</code> ç±»å‹çš„èŠ‚ç‚¹ï¼ŒæŸ¥è¯¢å…¶æºç å¦‚ä¸‹ï¼š</p><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">variableDeclarator</span>(<span class="hljs-params">id: BabelNodeLVal, init?: BabelNodeExpression</span>)</span></code></pre><p>è§‚å¯Ÿ ASTï¼Œid ä¸º <code>Identifier</code> å¯¹è±¡ï¼Œinit ä¸º <code>BinaryExpression</code> å¯¹è±¡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.itbob.cn/img/article/051/12.png" alt="12"></p><p>å…ˆæ¥å¤„ç† idï¼Œå¯ä»¥ä½¿ç”¨ <code>types.identifier()</code> æ–¹æ³•æ¥ç”Ÿæˆï¼Œå…¶æºç ä¸º <code>function identifier(name: string)</code>ï¼Œname åœ¨è¿™é‡Œå°±æ˜¯ b äº†ï¼Œæ­¤æ—¶ <code>visitor</code> ä»£ç å°±å¯ä»¥è¿™ä¹ˆå†™ï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> visitor = &#123;    <span class="hljs-function"><span class="hljs-title">VariableDeclaration</span>(<span class="hljs-params">path</span>)</span> &#123;        <span class="hljs-keyword">let</span> declarator = types.variableDeclarator(types.identifier(<span class="hljs-string">&quot;b&quot;</span>), init)        <span class="hljs-keyword">let</span> declaration = types.variableDeclaration(<span class="hljs-string">&quot;const&quot;</span>, [declarator])        path.insertAfter(declaration)    &#125;&#125;</code></pre><p>ç„¶åå†æ¥çœ‹ init è¯¥å¦‚ä½•å®šä¹‰ï¼Œé¦–å…ˆä»ç„¶æ˜¯çœ‹ AST ç»“æ„ï¼š</p><p><img src="https://cdn.itbob.cn/img/article/051/13.png" alt="13"></p><p>init ä¸º <code>BinaryExpression</code> å¯¹è±¡ï¼Œleft å·¦è¾¹æ˜¯ <code>BinaryExpression</code>ï¼Œright å³è¾¹æ˜¯ <code>NumericLiteral</code>ï¼Œå¯ä»¥ç”¨ <code>types.binaryExpression()</code> æ–¹æ³•æ¥ç”Ÿæˆ initï¼Œå…¶æºç å¦‚ä¸‹ï¼š</p><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">binaryExpression</span>(<span class="hljs-params"></span></span><span class="hljs-params"><span class="hljs-function">    operator: <span class="hljs-string">&quot;+&quot;</span> | <span class="hljs-string">&quot;-&quot;</span> | <span class="hljs-string">&quot;/&quot;</span> | <span class="hljs-string">&quot;%&quot;</span> | <span class="hljs-string">&quot;*&quot;</span> | <span class="hljs-string">&quot;**&quot;</span> | <span class="hljs-string">&quot;&amp;&quot;</span> | <span class="hljs-string">&quot;|&quot;</span> | <span class="hljs-string">&quot;&gt;&gt;&quot;</span> | <span class="hljs-string">&quot;&gt;&gt;&gt;&quot;</span> | <span class="hljs-string">&quot;&lt;&lt;&quot;</span> | <span class="hljs-string">&quot;^&quot;</span> | <span class="hljs-string">&quot;==&quot;</span> | <span class="hljs-string">&quot;===&quot;</span> | <span class="hljs-string">&quot;!=&quot;</span> | <span class="hljs-string">&quot;!==&quot;</span> | <span class="hljs-string">&quot;in&quot;</span> | <span class="hljs-string">&quot;instanceof&quot;</span> | <span class="hljs-string">&quot;&gt;&quot;</span> | <span class="hljs-string">&quot;&lt;&quot;</span> | <span class="hljs-string">&quot;&gt;=&quot;</span> | <span class="hljs-string">&quot;&lt;=&quot;</span>,</span></span><span class="hljs-params"><span class="hljs-function">    left: BabelNodeExpression | BabelNodePrivateName, </span></span><span class="hljs-params"><span class="hljs-function">    right: BabelNodeExpression</span></span><span class="hljs-params"><span class="hljs-function"></span>)</span></code></pre><p>æ­¤æ—¶ <code>visitor</code> ä»£ç å°±å¯ä»¥è¿™ä¹ˆå†™ï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> visitor = &#123;    <span class="hljs-function"><span class="hljs-title">VariableDeclaration</span>(<span class="hljs-params">path</span>)</span> &#123;        <span class="hljs-keyword">let</span> init = types.binaryExpression(<span class="hljs-string">&quot;+&quot;</span>, left, right)        <span class="hljs-keyword">let</span> declarator = types.variableDeclarator(types.identifier(<span class="hljs-string">&quot;b&quot;</span>), init)        <span class="hljs-keyword">let</span> declaration = types.variableDeclaration(<span class="hljs-string">&quot;const&quot;</span>, [declarator])        path.insertAfter(declaration)    &#125;&#125;</code></pre><p>ç„¶åç»§ç»­æ„é€  left å’Œ rightï¼Œå’Œå‰é¢çš„æ–¹æ³•ä¸€æ ·ï¼Œè§‚å¯Ÿ AST è¯­æ³•æ ‘ï¼ŒæŸ¥è¯¢å¯¹åº”æ–¹æ³•åº”è¯¥ä¼ å…¥çš„å‚æ•°ï¼Œå±‚å±‚åµŒå¥—ï¼Œç›´åˆ°æŠŠæ‰€æœ‰çš„èŠ‚ç‚¹éƒ½æ„é€ å®Œæ¯•ï¼Œæœ€ç»ˆçš„ <code>visitor</code> ä»£ç åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> visitor = &#123;    <span class="hljs-function"><span class="hljs-title">VariableDeclaration</span>(<span class="hljs-params">path</span>)</span> &#123;        <span class="hljs-keyword">let</span> left = types.binaryExpression(<span class="hljs-string">&quot;*&quot;</span>, types.identifier(<span class="hljs-string">&quot;a&quot;</span>), types.numericLiteral(<span class="hljs-number">5</span>))        <span class="hljs-keyword">let</span> right = types.numericLiteral(<span class="hljs-number">1</span>)        <span class="hljs-keyword">let</span> init = types.binaryExpression(<span class="hljs-string">&quot;+&quot;</span>, left, right)        <span class="hljs-keyword">let</span> declarator = types.variableDeclarator(types.identifier(<span class="hljs-string">&quot;b&quot;</span>), init)        <span class="hljs-keyword">let</span> declaration = types.variableDeclaration(<span class="hljs-string">&quot;const&quot;</span>, [declarator])        path.insertAfter(declaration)        path.stop()    &#125;&#125;</code></pre><p>æ³¨æ„ï¼š<code>path.insertAfter()</code> æ’å…¥èŠ‚ç‚¹è¯­å¥åé¢åŠ äº†ä¸€å¥ <code>path.stop()</code>ï¼Œè¡¨ç¤ºæ’å…¥å®Œæˆåç«‹å³åœæ­¢éå†å½“å‰èŠ‚ç‚¹å’Œåç»­çš„å­èŠ‚ç‚¹ï¼Œæ·»åŠ çš„æ–°èŠ‚ç‚¹ä¹Ÿæ˜¯ <code>VariableDeclaration</code>ï¼Œå¦‚æœä¸åŠ åœæ­¢è¯­å¥çš„è¯ï¼Œå°±ä¼šæ— é™å¾ªç¯æ’å…¥ä¸‹å»ã€‚</p><p>æ’å…¥æ–°èŠ‚ç‚¹åï¼Œå†è½¬æ¢æˆ JavaScript ä»£ç ï¼Œå°±å¯ä»¥çœ‹åˆ°å¤šäº†ä¸€è¡Œæ–°ä»£ç ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.itbob.cn/img/article/051/14.png" alt="14"></p><h2><span id="chang-jian-hun-yao-huan-yuan">å¸¸è§æ··æ·†è¿˜åŸ</span></h2><p>äº†è§£äº† AST å’Œ babel åï¼Œå°±å¯ä»¥å¯¹ JavaScript æ··æ·†ä»£ç è¿›è¡Œè¿˜åŸäº†ï¼Œä»¥ä¸‹æ˜¯éƒ¨åˆ†æ ·ä¾‹ï¼Œå¸¦ä½ è¿›ä¸€æ­¥ç†Ÿæ‚‰ babel çš„å„ç§æ“ä½œã€‚</p><h3><span id="zi-fu-chuan-huan-yuan">å­—ç¬¦ä¸²è¿˜åŸ</span></h3><p>æ–‡ç« å¼€å¤´çš„å›¾ä¸­ä¸¾äº†ä¸ªä¾‹å­ï¼Œæ­£å¸¸å­—ç¬¦è¢«æ¢æˆäº† Unicode ç¼–ç ï¼š</p><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>[<span class="hljs-string">&#x27;\u006c\u006f\u0067&#x27;</span>](<span class="hljs-string">&#x27;\u0048\u0065\u006c\u006c\u006f\u0020\u0077\u006f\u0072\u006c\u0064\u0021&#x27;</span>)</code></pre><p>è§‚å¯Ÿ AST ç»“æ„ï¼š</p><p><img src="https://cdn.itbob.cn/img/article/051/15.png" alt="15"></p><p>æˆ‘ä»¬å‘ç° Unicode ç¼–ç å¯¹åº”çš„æ˜¯ <code>raw</code>ï¼Œè€Œ <code>rawValue</code> å’Œ <code>value</code> éƒ½æ˜¯æ­£å¸¸çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°† <code>raw</code> æ›¿æ¢æˆ <code>rawValue</code> æˆ– <code>value</code> å³å¯ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å¼•å·çš„é—®é¢˜ï¼Œæœ¬æ¥æ˜¯ <code>console[&quot;log&quot;]</code>ï¼Œä½ è¿˜åŸåå˜æˆäº† <code>console[log]</code>ï¼Œè‡ªç„¶ä¼šæŠ¥é”™çš„ï¼Œé™¤äº†æ›¿æ¢å€¼ä»¥å¤–ï¼Œè¿™é‡Œç›´æ¥åˆ é™¤ extra èŠ‚ç‚¹ï¼Œæˆ–è€…åˆ é™¤ raw å€¼ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæ‰€ä»¥ä»¥ä¸‹å‡ ç§å†™æ³•éƒ½å¯ä»¥è¿˜åŸä»£ç ï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> parser = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/parser&quot;</span>);<span class="hljs-keyword">const</span> generate = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/generator&quot;</span>).default<span class="hljs-keyword">const</span> traverse = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/traverse&quot;</span>).default<span class="hljs-keyword">const</span> code = <span class="hljs-string">`console[&#x27;\u006c\u006f\u0067&#x27;](&#x27;\u0048\u0065\u006c\u006c\u006f\u0020\u0077\u006f\u0072\u006c\u0064\u0021&#x27;)`</span><span class="hljs-keyword">const</span> ast = parser.parse(code)<span class="hljs-keyword">const</span> visitor = &#123;    <span class="hljs-function"><span class="hljs-title">StringLiteral</span>(<span class="hljs-params">path</span>)</span> &#123;        <span class="hljs-comment">// ä»¥ä¸‹æ–¹æ³•å‡å¯</span>        <span class="hljs-comment">// path.node.extra.raw = path.node.rawValue</span>        <span class="hljs-comment">// path.node.extra.raw = &#x27;&quot;&#x27; + path.node.value + &#x27;&quot;&#x27;</span>        <span class="hljs-comment">// delete path.node.extra</span>        <span class="hljs-keyword">delete</span> path.node.extra.raw    &#125;&#125;traverse(ast, visitor)<span class="hljs-keyword">const</span> result = generate(ast)<span class="hljs-built_in">console</span>.log(result.code)</code></pre><p>è¿˜åŸç»“æœï¼š</p><pre><code class="hljs javascript"><span class="hljs-built_in">console</span>[<span class="hljs-string">&quot;log&quot;</span>](<span class="hljs-string">&quot;Hello world!&quot;</span>);</code></pre><h3><span id="biao-da-shi-huan-yuan">è¡¨è¾¾å¼è¿˜åŸ</span></h3><p>ä¹‹å‰å†™è¿‡ <a href="https://itrhx.blog.csdn.net/article/details/122057377">JSFuck æ··æ·†çš„è¿˜åŸ</a>ï¼Œå…¶ä¸­æœ‰ä»‹ç» <code>![]</code> å¯è¡¨ç¤º falseï¼Œ<code>!![]</code> æˆ–è€… <code>!+[]</code> å¯è¡¨ç¤º trueï¼Œåœ¨ä¸€äº›æ··æ·†ä»£ç ä¸­ï¼Œç»å¸¸æœ‰è¿™äº›æ“ä½œï¼ŒæŠŠç®€å•çš„è¡¨è¾¾å¼å¤æ‚åŒ–ï¼Œå¾€å¾€éœ€è¦æ‰§è¡Œä¸€ä¸‹è¯­å¥ï¼Œæ‰èƒ½å¾—åˆ°çœŸæ­£çš„ç»“æœï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> a = !![]+!![]+!![];<span class="hljs-keyword">const</span> b = <span class="hljs-built_in">Math</span>.floor(<span class="hljs-number">12.34</span> * <span class="hljs-number">2.12</span>)<span class="hljs-keyword">const</span> c = <span class="hljs-number">10</span> &gt;&gt; <span class="hljs-number">3</span> &lt;&lt; <span class="hljs-number">1</span><span class="hljs-keyword">const</span> d = <span class="hljs-built_in">String</span>(<span class="hljs-number">21.3</span> + <span class="hljs-number">14</span> * <span class="hljs-number">1.32</span>)<span class="hljs-keyword">const</span> e = <span class="hljs-built_in">parseInt</span>(<span class="hljs-string">&quot;1.893&quot;</span> + <span class="hljs-string">&quot;45.9088&quot;</span>)<span class="hljs-keyword">const</span> f = <span class="hljs-built_in">parseFloat</span>(<span class="hljs-string">&quot;23.2334&quot;</span> + <span class="hljs-string">&quot;21.89112&quot;</span>)<span class="hljs-keyword">const</span> g = <span class="hljs-number">20</span> &lt; <span class="hljs-number">18</span> ? <span class="hljs-string">&#x27;æœªæˆå¹´&#x27;</span> : <span class="hljs-string">&#x27;æˆå¹´&#x27;</span></code></pre><p>æƒ³è¦æ‰§è¡Œè¯­å¥ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ <code>path.evaluate()</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šå¯¹ path å¯¹è±¡è¿›è¡Œæ‰§è¡Œæ“ä½œï¼Œè‡ªåŠ¨è®¡ç®—å‡ºç»“æœï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­çš„ <code>confident</code> å±æ€§è¡¨ç¤ºç½®ä¿¡åº¦ï¼Œ<code>value</code> è¡¨ç¤ºè®¡ç®—ç»“æœï¼Œä½¿ç”¨ <code>types.valueToNode()</code> æ–¹æ³•åˆ›å»ºèŠ‚ç‚¹ï¼Œä½¿ç”¨ <code>path.replaceInline()</code> æ–¹æ³•å°†èŠ‚ç‚¹æ›¿æ¢æˆè®¡ç®—ç»“æœç”Ÿæˆçš„æ–°èŠ‚ç‚¹ï¼Œæ›¿æ¢æ–¹æ³•æœ‰ä¸€ä¸‹å‡ ç§ï¼š</p><ul><li><code>replaceWith</code>ï¼šç”¨ä¸€ä¸ªèŠ‚ç‚¹æ›¿æ¢å¦ä¸€ä¸ªèŠ‚ç‚¹ï¼›</li><li><code>replaceWithMultiple</code>ï¼šç”¨å¤šä¸ªèŠ‚ç‚¹æ›¿æ¢å¦ä¸€ä¸ªèŠ‚ç‚¹ï¼›</li><li><code>replaceWithSourceString</code>ï¼šå°†ä¼ å…¥çš„æºç å­—ç¬¦ä¸²è§£ææˆå¯¹åº” Node åå†æ›¿æ¢ï¼Œæ€§èƒ½è¾ƒå·®ï¼Œä¸å»ºè®®ä½¿ç”¨ï¼›</li><li><code>replaceInline</code>ï¼šç”¨ä¸€ä¸ªæˆ–å¤šä¸ªèŠ‚ç‚¹æ›¿æ¢å¦ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç›¸å½“äºåŒæ—¶æœ‰äº†å‰ä¸¤ä¸ªå‡½æ•°çš„åŠŸèƒ½ã€‚</li></ul><p>å¯¹åº”çš„ AST å¤„ç†ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> parser = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/parser&quot;</span>);<span class="hljs-keyword">const</span> generate = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/generator&quot;</span>).default<span class="hljs-keyword">const</span> traverse = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/traverse&quot;</span>).default<span class="hljs-keyword">const</span> types = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/types&quot;</span>)<span class="hljs-keyword">const</span> code = <span class="hljs-string">`</span><span class="hljs-string">const a = !![]+!![]+!![];</span><span class="hljs-string">const b = Math.floor(12.34 * 2.12)</span><span class="hljs-string">const c = 10 &gt;&gt; 3 &lt;&lt; 1</span><span class="hljs-string">const d = String(21.3 + 14 * 1.32)</span><span class="hljs-string">const e = parseInt(&quot;1.893&quot; + &quot;45.9088&quot;)</span><span class="hljs-string">const f = parseFloat(&quot;23.2334&quot; + &quot;21.89112&quot;)</span><span class="hljs-string">const g = 20 &lt; 18 ? &#x27;æœªæˆå¹´&#x27; : &#x27;æˆå¹´&#x27;</span><span class="hljs-string">`</span><span class="hljs-keyword">const</span> ast = parser.parse(code)<span class="hljs-keyword">const</span> visitor = &#123;    <span class="hljs-string">&quot;BinaryExpression|CallExpression|ConditionalExpression&quot;</span>(path) &#123;        <span class="hljs-keyword">const</span> &#123;confident, value&#125; = path.evaluate()        <span class="hljs-keyword">if</span> (confident)&#123;            path.replaceInline(types.valueToNode(value))        &#125;    &#125;&#125;traverse(ast, visitor)<span class="hljs-keyword">const</span> result = generate(ast)<span class="hljs-built_in">console</span>.log(result.code)</code></pre><p>æœ€ç»ˆç»“æœï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> a = <span class="hljs-number">3</span>;<span class="hljs-keyword">const</span> b = <span class="hljs-number">26</span>;<span class="hljs-keyword">const</span> c = <span class="hljs-number">2</span>;<span class="hljs-keyword">const</span> d = <span class="hljs-string">&quot;39.78&quot;</span>;<span class="hljs-keyword">const</span> e = <span class="hljs-built_in">parseInt</span>(<span class="hljs-string">&quot;1.89345.9088&quot;</span>);<span class="hljs-keyword">const</span> f = <span class="hljs-built_in">parseFloat</span>(<span class="hljs-string">&quot;23.233421.89112&quot;</span>);<span class="hljs-keyword">const</span> g = <span class="hljs-string">&quot;\u6210\u5E74&quot;</span>;</code></pre><h3><span id="shan-chu-wei-shi-yong-bian-liang">åˆ é™¤æœªä½¿ç”¨å˜é‡</span></h3><p>æœ‰æ—¶å€™ä»£ç é‡Œä¼šæœ‰ä¸€äº›å¹¶æ²¡æœ‰ä½¿ç”¨åˆ°çš„å¤šä½™å˜é‡ï¼Œåˆ é™¤è¿™äº›å¤šä½™å˜é‡æœ‰åŠ©äºæ›´åŠ é«˜æ•ˆçš„åˆ†æä»£ç ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> a = <span class="hljs-number">1</span>;<span class="hljs-keyword">const</span> b = a * <span class="hljs-number">2</span>;<span class="hljs-keyword">const</span> c = <span class="hljs-number">2</span>;<span class="hljs-keyword">const</span> d = b + <span class="hljs-number">1</span>;<span class="hljs-keyword">const</span> e = <span class="hljs-number">3</span>;<span class="hljs-built_in">console</span>.log(d)</code></pre><p>åˆ é™¤å¤šä½™å˜é‡ï¼Œé¦–å…ˆè¦äº†è§£ <code>NodePath</code> ä¸­çš„ <code>scope</code>ï¼Œ<code>scope</code> çš„ä½œç”¨ä¸»è¦æ˜¯æŸ¥æ‰¾æ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸã€è·å–å¹¶ä¿®æ”¹æ ‡è¯†ç¬¦çš„æ‰€æœ‰å¼•ç”¨ç­‰ï¼Œåˆ é™¤æœªä½¿ç”¨å˜é‡ä¸»è¦ç”¨åˆ°äº† <code>scope.getBinding()</code> æ–¹æ³•ï¼Œä¼ å…¥çš„å€¼æ˜¯å½“å‰èŠ‚ç‚¹èƒ½å¤Ÿå¼•ç”¨åˆ°çš„æ ‡è¯†ç¬¦åç§°ï¼Œè¿”å›çš„å…³é”®å±æ€§æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š</p><ul><li><code>identifier</code>ï¼šæ ‡è¯†ç¬¦çš„ Node å¯¹è±¡ï¼›</li><li><code>path</code>ï¼šæ ‡è¯†ç¬¦çš„ NodePath å¯¹è±¡ï¼›</li><li><code>constant</code>ï¼šæ ‡è¯†ç¬¦æ˜¯å¦ä¸ºå¸¸é‡ï¼›</li><li><code>referenced</code>ï¼šæ ‡è¯†ç¬¦æ˜¯å¦è¢«å¼•ç”¨ï¼›</li><li><code> references</code>ï¼šæ ‡è¯†ç¬¦è¢«å¼•ç”¨çš„æ¬¡æ•°ï¼›</li><li><code>constantViolations</code>ï¼šå¦‚æœæ ‡è¯†ç¬¦è¢«ä¿®æ”¹ï¼Œåˆ™ä¼šå­˜æ”¾æ‰€æœ‰ä¿®æ”¹è¯¥æ ‡è¯†ç¬¦èŠ‚ç‚¹çš„ Path å¯¹è±¡ï¼›</li><li><code>referencePaths</code>ï¼šå¦‚æœæ ‡è¯†ç¬¦è¢«å¼•ç”¨ï¼Œåˆ™ä¼šå­˜æ”¾æ‰€æœ‰å¼•ç”¨è¯¥æ ‡è¯†ç¬¦èŠ‚ç‚¹çš„ Path å¯¹è±¡ã€‚</li></ul><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>constantViolations</code>ã€<code>referenced</code>ã€<code>references</code>ã€<code>referencePaths</code> å¤šä¸ªå‚æ•°æ¥åˆ¤æ–­å˜é‡æ˜¯å¦å¯ä»¥è¢«åˆ é™¤ï¼ŒAST å¤„ç†ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> parser = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/parser&quot;</span>);<span class="hljs-keyword">const</span> generate = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/generator&quot;</span>).default<span class="hljs-keyword">const</span> traverse = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/traverse&quot;</span>).default<span class="hljs-keyword">const</span> code = <span class="hljs-string">`</span><span class="hljs-string">const a = 1;</span><span class="hljs-string">const b = a * 2;</span><span class="hljs-string">const c = 2;</span><span class="hljs-string">const d = b + 1;</span><span class="hljs-string">const e = 3;</span><span class="hljs-string">console.log(d)</span><span class="hljs-string">`</span><span class="hljs-keyword">const</span> ast = parser.parse(code)<span class="hljs-keyword">const</span> visitor = &#123;    <span class="hljs-function"><span class="hljs-title">VariableDeclarator</span>(<span class="hljs-params">path</span>)</span>&#123;        <span class="hljs-keyword">const</span> binding = path.scope.getBinding(path.node.id.name);        <span class="hljs-comment">// å¦‚æ ‡è¯†ç¬¦è¢«ä¿®æ”¹è¿‡ï¼Œåˆ™ä¸èƒ½è¿›è¡Œåˆ é™¤åŠ¨ä½œã€‚</span>        <span class="hljs-keyword">if</span> (!binding || binding.constantViolations.length &gt; <span class="hljs-number">0</span>) &#123;            <span class="hljs-keyword">return</span>;        &#125;        <span class="hljs-comment">// æœªè¢«å¼•ç”¨</span>        <span class="hljs-keyword">if</span> (!binding.referenced) &#123;            path.remove();        &#125;        <span class="hljs-comment">// è¢«å¼•ç”¨æ¬¡æ•°ä¸º0</span>        <span class="hljs-comment">// if (binding.references === 0) &#123;</span>        <span class="hljs-comment">//     path.remove();</span>        <span class="hljs-comment">// &#125;</span>        <span class="hljs-comment">// é•¿åº¦ä¸º0ï¼Œå˜é‡æ²¡æœ‰è¢«å¼•ç”¨è¿‡</span>        <span class="hljs-comment">// if (binding.referencePaths.length === 0) &#123;</span>        <span class="hljs-comment">//     path.remove();</span>        <span class="hljs-comment">// &#125;</span>    &#125;&#125;traverse(ast, visitor)<span class="hljs-keyword">const</span> result = generate(ast)<span class="hljs-built_in">console</span>.log(result.code)</code></pre><p>å¤„ç†åçš„ä»£ç ï¼ˆæœªä½¿ç”¨çš„ bã€cã€e å˜é‡å·²è¢«åˆ é™¤ï¼‰ï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> a = <span class="hljs-number">1</span>;<span class="hljs-keyword">const</span> b = a * <span class="hljs-number">2</span>;<span class="hljs-keyword">const</span> d = b + <span class="hljs-number">1</span>;<span class="hljs-built_in">console</span>.log(d);</code></pre><h3><span id="shan-chu-rong-yu-luo-ji-dai-ma">åˆ é™¤å†—ä½™é€»è¾‘ä»£ç </span></h3><p>æœ‰æ—¶å€™ä¸ºäº†å¢åŠ é€†å‘éš¾åº¦ï¼Œä¼šæœ‰å¾ˆå¤šåµŒå¥—çš„ if-else è¯­å¥ï¼Œå¤§é‡åˆ¤æ–­ä¸ºå‡çš„å†—ä½™é€»è¾‘ä»£ç ï¼ŒåŒæ ·å¯ä»¥åˆ©ç”¨ AST å°†å…¶åˆ é™¤æ‰ï¼Œåªç•™ä¸‹åˆ¤æ–­ä¸ºçœŸçš„ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> example = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;    <span class="hljs-keyword">let</span> a;    <span class="hljs-keyword">if</span> (<span class="hljs-literal">false</span>) &#123;        a = <span class="hljs-number">1</span>;    &#125; <span class="hljs-keyword">else</span> &#123;        <span class="hljs-keyword">if</span> (<span class="hljs-number">1</span>) &#123;            a = <span class="hljs-number">2</span>;        &#125;        <span class="hljs-keyword">else</span> &#123;            a = <span class="hljs-number">3</span>;        &#125;    &#125;    <span class="hljs-keyword">return</span> a;&#125;;</code></pre><p>è§‚å¯Ÿ ASTï¼Œåˆ¤æ–­æ¡ä»¶å¯¹åº”çš„æ˜¯ <code>test</code> èŠ‚ç‚¹ï¼Œif å¯¹åº”çš„æ˜¯ <code>consequent</code> èŠ‚ç‚¹ï¼Œelse å¯¹åº”çš„æ˜¯ <code>alternate</code> èŠ‚ç‚¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.itbob.cn/img/article/051/16.png" alt="16"></p><p>AST å¤„ç†æ€è·¯ä»¥åŠä»£ç ï¼š</p><ol><li>ç­›é€‰å‡º <code>BooleanLiteral</code> å’Œ <code>NumericLiteral</code> èŠ‚ç‚¹ï¼Œå–å…¶å¯¹åº”çš„å€¼ï¼Œå³ <code>path.node.test.value</code>ï¼›</li><li>åˆ¤æ–­ <code>value</code> å€¼ä¸ºçœŸï¼Œåˆ™å°†èŠ‚ç‚¹æ›¿æ¢æˆ <code>consequent</code> èŠ‚ç‚¹ä¸‹çš„å†…å®¹ï¼Œå³ <code>path.node.consequent.body</code>ï¼›</li><li>åˆ¤æ–­ <code>value</code> å€¼ä¸ºå‡ï¼Œåˆ™æ›¿æ¢æˆ <code>alternate</code> èŠ‚ç‚¹ä¸‹çš„å†…å®¹ï¼Œå³ <code>path.node.alternate.body</code>ï¼›</li><li>æœ‰çš„ if è¯­å¥å¯èƒ½æ²¡æœ‰å†™ elseï¼Œä¹Ÿå°±æ²¡æœ‰ <code>alternate</code>ï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µä¸‹åˆ¤æ–­ <code>value</code> å€¼ä¸ºå‡ï¼Œåˆ™ç›´æ¥ç§»é™¤è¯¥èŠ‚ç‚¹ï¼Œå³ <code>path.remove()</code></li></ol><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> parser = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/parser&quot;</span>);<span class="hljs-keyword">const</span> generate = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/generator&quot;</span>).default<span class="hljs-keyword">const</span> traverse = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/traverse&quot;</span>).default<span class="hljs-keyword">const</span> types = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;@babel/types&#x27;</span>);<span class="hljs-keyword">const</span> code = <span class="hljs-string">`</span><span class="hljs-string">const example = function () &#123;</span><span class="hljs-string">    let a;</span><span class="hljs-string">    if (false) &#123;</span><span class="hljs-string">        a = 1;</span><span class="hljs-string">    &#125; else &#123;</span><span class="hljs-string">        if (1) &#123;</span><span class="hljs-string">            a = 2;</span><span class="hljs-string">        &#125;</span><span class="hljs-string">        else &#123;</span><span class="hljs-string">            a = 3;</span><span class="hljs-string">        &#125;</span><span class="hljs-string">    &#125;</span><span class="hljs-string">    return a;</span><span class="hljs-string">&#125;;</span><span class="hljs-string">`</span><span class="hljs-keyword">const</span> ast = parser.parse(code)<span class="hljs-keyword">const</span> visitor = &#123;    <span class="hljs-function"><span class="hljs-title">enter</span>(<span class="hljs-params">path</span>)</span> &#123;        <span class="hljs-keyword">if</span> (types.isBooleanLiteral(path.node.test) || types.isNumericLiteral(path.node.test)) &#123;            <span class="hljs-keyword">if</span> (path.node.test.value) &#123;                path.replaceInline(path.node.consequent.body);            &#125; <span class="hljs-keyword">else</span> &#123;                <span class="hljs-keyword">if</span> (path.node.alternate) &#123;                    path.replaceInline(path.node.alternate.body);                &#125; <span class="hljs-keyword">else</span> &#123;                    path.remove()                &#125;            &#125;        &#125;    &#125;&#125;traverse(ast, visitor)<span class="hljs-keyword">const</span> result = generate(ast)<span class="hljs-built_in">console</span>.log(result.code)</code></pre><p>å¤„ç†ç»“æœï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> example = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;  <span class="hljs-keyword">let</span> a;  a = <span class="hljs-number">2</span>;  <span class="hljs-keyword">return</span> a;&#125;;</code></pre><h3><span id="switch-case-fan-kong-zhi-liu-ping-tan-hua">switch-case åæ§åˆ¶æµå¹³å¦åŒ–</span></h3><p>æ§åˆ¶æµå¹³å¦åŒ–æ˜¯æ··æ·†å½“ä¸­æœ€å¸¸è§çš„ï¼Œé€šè¿‡ <code>if-else</code> æˆ–è€… <code>while-switch-case</code> è¯­å¥åˆ†è§£æ­¥éª¤ï¼Œç¤ºä¾‹ä»£ç ï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> _0x34e16a = <span class="hljs-string">&#x27;3,4,0,5,1,2&#x27;</span>[<span class="hljs-string">&#x27;split&#x27;</span>](<span class="hljs-string">&#x27;,&#x27;</span>);<span class="hljs-keyword">let</span> _0x2eff02 = <span class="hljs-number">0x0</span>;<span class="hljs-keyword">while</span> (!![]) &#123;    <span class="hljs-keyword">switch</span> (_0x34e16a[_0x2eff02++]) &#123;        <span class="hljs-keyword">case</span><span class="hljs-string">&#x27;0&#x27;</span>:            <span class="hljs-keyword">let</span> _0x38cb15 = _0x4588f1 + _0x470e97;            <span class="hljs-keyword">continue</span>;        <span class="hljs-keyword">case</span><span class="hljs-string">&#x27;1&#x27;</span>:            <span class="hljs-keyword">let</span> _0x1e0e5e = _0x37b9f3[_0x50cee0(<span class="hljs-number">0x2e0</span>, <span class="hljs-number">0x2e8</span>, <span class="hljs-number">0x2e1</span>, <span class="hljs-number">0x2e4</span>)];            <span class="hljs-keyword">continue</span>;        <span class="hljs-keyword">case</span><span class="hljs-string">&#x27;2&#x27;</span>:            <span class="hljs-keyword">let</span> _0x35d732 = [_0x388d4b(-<span class="hljs-number">0x134</span>, -<span class="hljs-number">0x134</span>, -<span class="hljs-number">0x139</span>, -<span class="hljs-number">0x138</span>)](_0x38cb15 &gt;&gt; _0x4588f1);            <span class="hljs-keyword">continue</span>;        <span class="hljs-keyword">case</span><span class="hljs-string">&#x27;3&#x27;</span>:            <span class="hljs-keyword">let</span> _0x4588f1 = <span class="hljs-number">0x1</span>;            <span class="hljs-keyword">continue</span>;        <span class="hljs-keyword">case</span><span class="hljs-string">&#x27;4&#x27;</span>:            <span class="hljs-keyword">let</span> _0x470e97 = <span class="hljs-number">0x2</span>;            <span class="hljs-keyword">continue</span>;        <span class="hljs-keyword">case</span><span class="hljs-string">&#x27;5&#x27;</span>:            <span class="hljs-keyword">let</span> _0x37b9f3 = <span class="hljs-number">0x5</span> || _0x38cb15;            <span class="hljs-keyword">continue</span>;    &#125;    <span class="hljs-keyword">break</span>;&#125;</code></pre><p>AST è¿˜åŸæ€è·¯ï¼š</p><ol><li>è·å–æ§åˆ¶æµåŸå§‹æ•°ç»„ï¼Œå°† <code>'3,4,0,5,1,2'['split'](',')</code> ä¹‹ç±»çš„è¯­å¥è½¬åŒ–æˆ <code>['3','4','0','5','1','2']</code> ä¹‹ç±»çš„æ•°ç»„ï¼Œå¾—åˆ°è¯¥æ•°ç»„ä¹‹åï¼Œä¹Ÿå¯ä»¥é€‰æ‹©æŠŠ split è¯­å¥å¯¹åº”çš„èŠ‚ç‚¹åˆ é™¤æ‰ï¼Œå› ä¸ºæœ€ç»ˆä»£ç é‡Œè¿™æ¡è¯­å¥å°±æ²¡ç”¨äº†ï¼›</li><li>éå†ç¬¬ä¸€æ­¥å¾—åˆ°çš„æ§åˆ¶æµæ•°ç»„ï¼Œä¾æ¬¡å–å‡ºæ¯ä¸ªå€¼æ‰€å¯¹åº”çš„ case èŠ‚ç‚¹ï¼›</li><li>å®šä¹‰ä¸€ä¸ªæ•°ç»„ï¼Œå‚¨å­˜æ¯ä¸ª case èŠ‚ç‚¹ <code>consequent</code> æ•°ç»„é‡Œé¢çš„å†…å®¹ï¼Œå¹¶åˆ é™¤ <code>continue</code> è¯­å¥å¯¹åº”çš„èŠ‚ç‚¹ï¼›</li><li>éå†å®Œæˆåï¼Œå°†ç¬¬ä¸‰æ­¥çš„æ•°ç»„æ›¿æ¢æ‰æ•´ä¸ª while èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ <code>WhileStatement</code>ã€‚</li></ol><p>ä¸åŒæ€è·¯ï¼Œå†™æ³•å¤šæ ·ï¼Œå¯¹äºå¦‚ä½•è·å–æ§åˆ¶æµæ•°ç»„ï¼Œå¯ä»¥æœ‰ä»¥ä¸‹æ€è·¯ï¼š</p><ol><li>è·å–åˆ° <code>While</code> è¯­å¥èŠ‚ç‚¹ï¼Œç„¶åä½¿ç”¨ <code>path.getAllPrevSiblings()</code> æ–¹æ³•è·å–å…¶å‰é¢çš„æ‰€æœ‰å…„å¼ŸèŠ‚ç‚¹ï¼Œéå†æ¯ä¸ªå…„å¼ŸèŠ‚ç‚¹ï¼Œæ‰¾åˆ°ä¸ <code>switch()</code> é‡Œé¢æ•°ç»„çš„å˜é‡åç›¸åŒçš„èŠ‚ç‚¹ï¼Œç„¶åå†å–èŠ‚ç‚¹çš„å€¼è¿›è¡Œåç»­å¤„ç†ï¼›</li><li>ç›´æ¥å– <code>switch()</code> é‡Œé¢æ•°ç»„çš„å˜é‡åï¼Œç„¶åä½¿ç”¨ <code>scope.getBinding()</code> æ–¹æ³•è·å–åˆ°å®ƒç»‘å®šçš„èŠ‚ç‚¹ï¼Œç„¶åå†å–è¿™ä¸ªèŠ‚ç‚¹çš„å€¼è¿›è¡Œåç»­å¤„ç†ã€‚</li></ol><p>æ‰€ä»¥ AST å¤„ç†ä»£ç å°±æœ‰ä¸¤ç§å†™æ³•ï¼Œæ–¹æ³•ä¸€ï¼šï¼ˆcode.js å³ä¸ºå‰é¢çš„ç¤ºä¾‹ä»£ç ï¼Œä¸ºäº†æ–¹ä¾¿æ“ä½œï¼Œè¿™é‡Œä½¿ç”¨ fs ä»æ–‡ä»¶ä¸­è¯»å–ä»£ç ï¼‰</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> parser = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/parser&quot;</span>);<span class="hljs-keyword">const</span> generate = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/generator&quot;</span>).default<span class="hljs-keyword">const</span> traverse = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/traverse&quot;</span>).default<span class="hljs-keyword">const</span> types = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/types&quot;</span>)<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;fs&quot;</span>);<span class="hljs-keyword">const</span> code = fs.readFileSync(<span class="hljs-string">&quot;code.js&quot;</span>, &#123;<span class="hljs-attr">encoding</span>: <span class="hljs-string">&quot;utf-8&quot;</span>&#125;);<span class="hljs-keyword">const</span> ast = parser.parse(code)<span class="hljs-keyword">const</span> visitor = &#123;    <span class="hljs-function"><span class="hljs-title">WhileStatement</span>(<span class="hljs-params">path</span>)</span> &#123;        <span class="hljs-comment">// switch èŠ‚ç‚¹</span>        <span class="hljs-keyword">let</span> switchNode = path.node.body.body[<span class="hljs-number">0</span>];        <span class="hljs-comment">// switch è¯­å¥å†…çš„æ§åˆ¶æµæ•°ç»„åï¼Œæœ¬ä¾‹ä¸­æ˜¯ _0x34e16a</span>        <span class="hljs-keyword">let</span> arrayName = switchNode.discriminant.object.name;        <span class="hljs-comment">// è·å¾—æ‰€æœ‰ while å‰é¢çš„å…„å¼ŸèŠ‚ç‚¹ï¼Œæœ¬ä¾‹ä¸­è·å–åˆ°çš„æ˜¯å£°æ˜ä¸¤ä¸ªå˜é‡çš„èŠ‚ç‚¹ï¼Œå³ const _0x34e16a å’Œ let _0x2eff02</span>        <span class="hljs-keyword">let</span> prevSiblings = path.getAllPrevSiblings();        <span class="hljs-comment">// å®šä¹‰ç¼“å­˜æ§åˆ¶æµæ•°ç»„</span>        <span class="hljs-keyword">let</span> array = []        <span class="hljs-comment">// forEach æ–¹æ³•éå†æ‰€æœ‰èŠ‚ç‚¹</span>        prevSiblings.forEach(<span class="hljs-function"><span class="hljs-params">pervNode</span> =&gt;</span> &#123;            <span class="hljs-keyword">let</span> &#123;id, init&#125; = pervNode.node.declarations[<span class="hljs-number">0</span>];            <span class="hljs-comment">// å¦‚æœèŠ‚ç‚¹ id.name ä¸ switch è¯­å¥å†…çš„æ§åˆ¶æµæ•°ç»„åç›¸åŒ</span>            <span class="hljs-keyword">if</span> (arrayName === id.name) &#123;                <span class="hljs-comment">// è·å–èŠ‚ç‚¹æ•´ä¸ªè¡¨è¾¾å¼çš„å‚æ•°ã€åˆ†å‰²æ–¹æ³•ã€åˆ†éš”ç¬¦</span>                <span class="hljs-keyword">let</span> object = init.callee.object.value;                <span class="hljs-keyword">let</span> property = init.callee.property.value;                <span class="hljs-keyword">let</span> argument = init.arguments[<span class="hljs-number">0</span>].value;                <span class="hljs-comment">// æ¨¡æ‹Ÿæ‰§è¡Œ &#x27;3,4,0,5,1,2&#x27;[&#x27;split&#x27;](&#x27;,&#x27;) è¯­å¥</span>                array = object[property](argument)                <span class="hljs-comment">// ä¹Ÿå¯ä»¥ç›´æ¥å–å‚æ•°è¿›è¡Œåˆ†å‰²ï¼Œæ–¹æ³•ä¸é€šç”¨ï¼Œæ¯”å¦‚åˆ†éš”ç¬¦æ¢æˆ | å°±ä¸è¡Œäº†</span>                <span class="hljs-comment">// array = init.callee.object.value.split(&#x27;,&#x27;);</span>            &#125;            <span class="hljs-comment">// å‰é¢çš„å…„å¼ŸèŠ‚ç‚¹å°±å¯ä»¥åˆ é™¤äº†</span>            pervNode.remove();        &#125;);        <span class="hljs-comment">// å‚¨å­˜æ­£ç¡®é¡ºåºçš„æ§åˆ¶æµè¯­å¥</span>        <span class="hljs-keyword">let</span> replace = [];        <span class="hljs-comment">// éå†æ§åˆ¶æµæ•°ç»„ï¼ŒæŒ‰æ­£ç¡®é¡ºåºå– case å†…å®¹</span>        array.forEach(<span class="hljs-function"><span class="hljs-params">index</span> =&gt;</span> &#123;                <span class="hljs-keyword">let</span> consequent = switchNode.cases[index].consequent;                <span class="hljs-comment">// å¦‚æœæœ€åä¸€ä¸ªèŠ‚ç‚¹æ˜¯ continue è¯­å¥ï¼Œåˆ™åˆ é™¤ ContinueStatement èŠ‚ç‚¹</span>                <span class="hljs-keyword">if</span> (types.isContinueStatement(consequent[consequent.length - <span class="hljs-number">1</span>])) &#123;                    consequent.pop();                &#125;                <span class="hljs-comment">// concat æ–¹æ³•æ‹¼æ¥å¤šä¸ªæ•°ç»„ï¼Œå³æ­£ç¡®é¡ºåºçš„ case å†…å®¹</span>                replace = replace.concat(consequent);            &#125;        );        <span class="hljs-comment">// æ›¿æ¢æ•´ä¸ª while èŠ‚ç‚¹ï¼Œä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥</span>        path.replaceWithMultiple(replace);        <span class="hljs-comment">// path.replaceInline(replace);</span>    &#125;&#125;traverse(ast, visitor)<span class="hljs-keyword">const</span> result = generate(ast)<span class="hljs-built_in">console</span>.log(result.code)</code></pre><p>æ–¹æ³•äºŒï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> parser = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/parser&quot;</span>);<span class="hljs-keyword">const</span> generate = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/generator&quot;</span>).default<span class="hljs-keyword">const</span> traverse = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/traverse&quot;</span>).default<span class="hljs-keyword">const</span> types = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@babel/types&quot;</span>)<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;fs&quot;</span>);<span class="hljs-keyword">const</span> code = fs.readFileSync(<span class="hljs-string">&quot;code.js&quot;</span>, &#123;<span class="hljs-attr">encoding</span>: <span class="hljs-string">&quot;utf-8&quot;</span>&#125;);<span class="hljs-keyword">const</span> ast = parser.parse(code)<span class="hljs-keyword">const</span> visitor = &#123;    <span class="hljs-function"><span class="hljs-title">WhileStatement</span>(<span class="hljs-params">path</span>)</span> &#123;        <span class="hljs-comment">// switch èŠ‚ç‚¹</span>        <span class="hljs-keyword">let</span> switchNode = path.node.body.body[<span class="hljs-number">0</span>];        <span class="hljs-comment">// switch è¯­å¥å†…çš„æ§åˆ¶æµæ•°ç»„åï¼Œæœ¬ä¾‹ä¸­æ˜¯ _0x34e16a</span>        <span class="hljs-keyword">let</span> arrayName = switchNode.discriminant.object.name;        <span class="hljs-comment">// è·å–æ§åˆ¶æµæ•°ç»„ç»‘å®šçš„èŠ‚ç‚¹</span>        <span class="hljs-keyword">let</span> bindingArray = path.scope.getBinding(arrayName);        <span class="hljs-comment">// è·å–èŠ‚ç‚¹æ•´ä¸ªè¡¨è¾¾å¼çš„å‚æ•°ã€åˆ†å‰²æ–¹æ³•ã€åˆ†éš”ç¬¦</span>        <span class="hljs-keyword">let</span> init = bindingArray.path.node.init;        <span class="hljs-keyword">let</span> object = init.callee.object.value;        <span class="hljs-keyword">let</span> property = init.callee.property.value;        <span class="hljs-keyword">let</span> argument = init.arguments[<span class="hljs-number">0</span>].value;        <span class="hljs-comment">// æ¨¡æ‹Ÿæ‰§è¡Œ &#x27;3,4,0,5,1,2&#x27;[&#x27;split&#x27;](&#x27;,&#x27;) è¯­å¥</span>        <span class="hljs-keyword">let</span> array = object[property](argument)        <span class="hljs-comment">// ä¹Ÿå¯ä»¥ç›´æ¥å–å‚æ•°è¿›è¡Œåˆ†å‰²ï¼Œæ–¹æ³•ä¸é€šç”¨ï¼Œæ¯”å¦‚åˆ†éš”ç¬¦æ¢æˆ | å°±ä¸è¡Œäº†</span>        <span class="hljs-comment">// let array = init.callee.object.value.split(&#x27;,&#x27;);</span>        <span class="hljs-comment">// switch è¯­å¥å†…çš„æ§åˆ¶æµè‡ªå¢å˜é‡åï¼Œæœ¬ä¾‹ä¸­æ˜¯ _0x2eff02</span>        <span class="hljs-keyword">let</span> autoIncrementName = switchNode.discriminant.property.argument.name;        <span class="hljs-comment">// è·å–æ§åˆ¶æµè‡ªå¢å˜é‡åç»‘å®šçš„èŠ‚ç‚¹</span>        <span class="hljs-keyword">let</span> bindingAutoIncrement = path.scope.getBinding(autoIncrementName);        <span class="hljs-comment">// å¯é€‰æ‹©çš„æ“ä½œï¼šåˆ é™¤æ§åˆ¶æµæ•°ç»„ç»‘å®šçš„èŠ‚ç‚¹ã€è‡ªå¢å˜é‡åç»‘å®šçš„èŠ‚ç‚¹</span>        bindingArray.path.remove();        bindingAutoIncrement.path.remove();        <span class="hljs-comment">// å‚¨å­˜æ­£ç¡®é¡ºåºçš„æ§åˆ¶æµè¯­å¥</span>        <span class="hljs-keyword">let</span> replace = [];        <span class="hljs-comment">// éå†æ§åˆ¶æµæ•°ç»„ï¼ŒæŒ‰æ­£ç¡®é¡ºåºå– case å†…å®¹</span>        array.forEach(<span class="hljs-function"><span class="hljs-params">index</span> =&gt;</span> &#123;                <span class="hljs-keyword">let</span> consequent = switchNode.cases[index].consequent;                <span class="hljs-comment">// å¦‚æœæœ€åä¸€ä¸ªèŠ‚ç‚¹æ˜¯ continue è¯­å¥ï¼Œåˆ™åˆ é™¤ ContinueStatement èŠ‚ç‚¹</span>                <span class="hljs-keyword">if</span> (types.isContinueStatement(consequent[consequent.length - <span class="hljs-number">1</span>])) &#123;                    consequent.pop();                &#125;                <span class="hljs-comment">// concat æ–¹æ³•æ‹¼æ¥å¤šä¸ªæ•°ç»„ï¼Œå³æ­£ç¡®é¡ºåºçš„ case å†…å®¹</span>                replace = replace.concat(consequent);            &#125;        );        <span class="hljs-comment">// æ›¿æ¢æ•´ä¸ª while èŠ‚ç‚¹ï¼Œä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥</span>        path.replaceWithMultiple(replace);        <span class="hljs-comment">// path.replaceInline(replace);</span>    &#125;&#125;traverse(ast, visitor)<span class="hljs-keyword">const</span> result = generate(ast)<span class="hljs-built_in">console</span>.log(result.code)</code></pre><p>ä»¥ä¸Šä»£ç è¿è¡Œåï¼ŒåŸæ¥çš„ <code>switch-case</code> æ§åˆ¶æµå°±è¢«è¿˜åŸäº†ï¼Œå˜æˆäº†æŒ‰é¡ºåºä¸€è¡Œä¸€è¡Œçš„ä»£ç ï¼Œæ›´åŠ ç®€æ´æ˜äº†ï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> _0x4588f1 = <span class="hljs-number">0x1</span>;<span class="hljs-keyword">let</span> _0x470e97 = <span class="hljs-number">0x2</span>;<span class="hljs-keyword">let</span> _0x38cb15 = _0x4588f1 + _0x470e97;<span class="hljs-keyword">let</span> _0x37b9f3 = <span class="hljs-number">0x5</span> || _0x38cb15;<span class="hljs-keyword">let</span> _0x1e0e5e = _0x37b9f3[_0x50cee0(<span class="hljs-number">0x2e0</span>, <span class="hljs-number">0x2e8</span>, <span class="hljs-number">0x2e1</span>, <span class="hljs-number">0x2e4</span>)];<span class="hljs-keyword">let</span> _0x35d732 = [_0x388d4b(-<span class="hljs-number">0x134</span>, -<span class="hljs-number">0x134</span>, -<span class="hljs-number">0x139</span>, -<span class="hljs-number">0x138</span>)](_0x38cb15 &gt;&gt; _0x4588f1);</code></pre><h2><span id="can-kao-zi-liao">å‚è€ƒèµ„æ–™</span></h2><p>æœ¬æ–‡æœ‰å‚è€ƒä»¥ä¸‹èµ„æ–™ï¼Œä¹Ÿæ˜¯æ¯”è¾ƒæ¨èçš„åœ¨çº¿å­¦ä¹ èµ„æ–™ï¼š</p><ul><li>Youtube è§†é¢‘ï¼ŒBabel å…¥é—¨ï¼š<a href="https://www.youtube.com/watch?v=UeVq_U5obnE">https://www.youtube.com/watch?v=UeVq_U5obnE</a></li><li>å®˜æ–¹æ‰‹å†Œ Babel Handbookï¼š<a href="https://github.com/jamiebuilds/babel-handbook">https://github.com/jamiebuilds/babel-handbook</a></li><li>éå®˜æ–¹ Babel API ä¸­æ–‡æ–‡æ¡£ï¼š<a href="https://evilrecluse.top/Babel-traverse-api-doc/">https://evilrecluse.top/Babel-traverse-api-doc/</a></li></ul><h2><span id="end">END</span></h2><p>Babel ç¼–è¯‘å™¨å›½å†…çš„èµ„æ–™å…¶å®ä¸æ˜¯å¾ˆå¤šï¼Œå¤šçœ‹æºç ã€åŒæ—¶åœ¨çº¿å¯¹ç…§å¯è§†åŒ–çš„ AST è¯­æ³•æ ‘ï¼Œè€å¿ƒä¸€ç‚¹å„¿ä¸€å±‚ä¸€å±‚åˆ†æå³å¯ï¼Œæœ¬æ–‡ä¸­çš„æ¡ˆä¾‹ä¹Ÿåªæ˜¯æœ€åŸºæœ¬æ“ä½œï¼Œå®é™…é‡åˆ°ä¸€äº›æ··æ·†è¿˜å¾—è§†æƒ…å†µè¿›è¡Œä¿®æ”¹ï¼Œæ¯”å¦‚éœ€è¦åŠ ä¸€äº›ç±»å‹åˆ¤æ–­æ¥é™åˆ¶ç­‰ï¼Œåç»­ä¼šç”¨å®æˆ˜æ¥å¸¦é¢†å¤§å®¶è¿›ä¸€æ­¥ç†Ÿæ‚‰è§£æ··æ·†å½“ä¸­çš„å…¶ä»–æ“ä½œã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdn.itbob.cn/img/cover/ast.png&quot; alt=&quot;ast&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;center&gt;&lt;font color=&quot;red&quot; size=&quot;5px&quot; weight=&quot;bolder&quot;&gt;æ¬¢è¿åŠ å…¥çˆ¬è™«é€†å‘</summary>
      
    
    
    
    <category term="JS é€†å‘ç†è®º" scheme="https://www.itbob.cn/categories/JS-%E9%80%86%E5%90%91%E7%90%86%E8%AE%BA/"/>
    
    
    <category term="JS é€†å‘ç†è®º" scheme="https://www.itbob.cn/tags/JS-%E9%80%86%E5%90%91%E7%90%86%E8%AE%BA/"/>
    
    <category term="çˆ¬è™«" scheme="https://www.itbob.cn/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>CTF&amp;çˆ¬è™«ï¼šæŒæ¡è¿™äº›ç‰¹å¾ï¼Œä¸€ç§’è¯†åˆ«å¯†æ–‡åŠ å¯†æ–¹å¼</title>
    <link href="https://www.itbob.cn/article/045/"/>
    <id>https://www.itbob.cn/article/045/</id>
    <published>2022-01-13T09:40:00.000Z</published>
    <updated>2022-05-22T12:49:00.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.itbob.cn/img/cover/encryption_algorithm.png" alt="encryption_algorithm"></p><p><strong><center><font color="red" size="5px" weight="bolder">æ¬¢è¿åŠ å…¥çˆ¬è™«é€†å‘å¾®ä¿¡äº¤æµç¾¤ï¼šæ·»åŠ å¾®ä¿¡ IT-BOBï¼ˆå¤‡æ³¨äº¤æµç¾¤ï¼‰</font></center></strong></p><h2><span id="wen-zhang-mu-lu">æ–‡ç« ç›®å½•</span></h2><hr><!-- toc --><ul><li><a href="#qian-yan">å‰è¨€</a></li><li><a href="#bian-ma-xi-lie">ç¼–ç ç³»åˆ—</a><ul><li><a href="#base-xi-lie-bian-ma">Base ç³»åˆ—ç¼–ç </a></li><li><a href="#unicode-bian-ma">Unicode ç¼–ç </a></li><li><a href="#escape-bian-ma">Escape ç¼–ç </a></li><li><a href="#url-hex-bian-ma">URL / Hex ç¼–ç </a></li></ul></li><li><a href="#jia-mi-suan-fa">åŠ å¯†ç®—æ³•</a><ul><li><a href="#md5">MD5</a></li><li><a href="#sha-xi-lie">SHA ç³»åˆ—</a></li><li><a href="#hmac-xi-lie">HMAC ç³»åˆ—</a></li><li><a href="#rsa">RSA</a></li><li><a href="#aes-des-3des-rc4-rabbit-deng">AESã€DESã€3DESã€RC4ã€Rabbit ç­‰</a></li><li><a href="#sm-xi-lie">SM ç³»åˆ—</a></li></ul></li><li><a href="#hun-yao-xi-lie">æ··æ·†ç³»åˆ—</a><ul><li><a href="#obfuscator">Obfuscator</a></li><li><a href="#jjencode">JJEncode</a></li><li><a href="#aaencode">AAEncode</a></li><li><a href="#jsfuck">JSFuck</a></li><li><a href="#jother">Jother</a></li><li><a href="#brainfuck">Brainfuck</a></li><li><a href="#ook">Ook!</a></li><li><a href="#trivial-brainfuck-substitution">Trivial brainfuck substitution</a></li></ul></li><li><a href="#qi-ta">å…¶ä»–</a><ul><li><a href="#kai-sa-mi-ma">æºæ’’å¯†ç </a></li><li><a href="#zha-lan-mi-ma">æ …æ å¯†ç </a></li><li><a href="#zhu-quan-mi-ma">çŒªåœˆå¯†ç </a></li><li><a href="#mo-si-mi-ma">æ‘©æ–¯å¯†ç </a></li><li><a href="#pei-gen-mi-ma">åŸ¹æ ¹å¯†ç </a></li><li><a href="#wei-ji-ni-ya-mi-ma">ç»´å‰å°¼äºšå¯†ç </a></li><li><a href="#yu-fo-lun-shan">ä¸ä½›è®ºç¦…</a></li><li><a href="#dang-pu-mi-ma">å½“é“ºå¯†ç </a></li></ul></li></ul><!-- tocstop --><hr><h2><span id="qian-yan">å‰è¨€</span></h2><p>çˆ¬è™«å·¥ç¨‹å¸ˆåœ¨åšåŠ å¯†å‚æ•°é€†å‘çš„æ—¶å€™ï¼Œç»å¸¸ä¼šé‡åˆ°å„ç§å„æ ·çš„åŠ å¯†ç®—æ³•ã€ç¼–ç ã€æ··æ·†ï¼Œæ¯ä¸ªç®—æ³•éƒ½æœ‰å…¶å¯¹åº”çš„ç‰¹å¾ï¼Œå¯¹äºä¸€äº›è¾ƒå°çš„ç½‘ç«™ï¼Œå¾€å¾€ç›´æ¥å¼•ç”¨è¿™äº›å®˜æ–¹ç®—æ³•ï¼Œæ²¡æœ‰è¿›è¡Œé­”æ”¹ç­‰å…¶ä»–æ“ä½œï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ä»¬èƒ½ç†Ÿæ‚‰å¸¸è§ç®—æ³•çš„ç‰¹å¾ï¼Œé€šè¿‡å¯†æ–‡å°±èƒ½çŒœæµ‹å‡ºä½¿ç”¨çš„å“ªç§ç®—æ³•ã€ç¼–ç ã€æ··æ·†ï¼Œå°†ä¼šå¤§å¤§æé«˜å·¥ä½œæ•ˆç‡ï¼åœ¨ CTF ä¸­é€šå¸¸ä¹Ÿä¼šæœ‰å¯†ç ç±»çš„é¢˜ç›®ï¼ŒæŒæ¡ä¸€äº›å¸¸è§å¯†æ–‡ç‰¹å¾ä¹Ÿæ˜¯ CTFer ä»¬å¿…å¤‡çš„æŠ€èƒ½ï¼</p><p>æœ¬æ–‡å°†ä»‹ç»ä»¥ä¸‹ç¼–ç å’ŒåŠ å¯†ç®—æ³•çš„ç‰¹å¾ï¼š</p><ul><li>ç¼–ç ï¼šBase ç³»åˆ—ã€Unicodeã€Escapeã€URLã€Hexï¼›</li><li>ç®—æ³•ï¼šMD5ã€SHA ç³»åˆ—ã€HMAC ç³»åˆ—ã€RSAã€AESã€DESã€3DESã€RC4ã€Rabbitã€SM ç³»åˆ—ï¼›</li><li>æ··æ·†ï¼šObfuscatorã€JJEncodeã€AAEncodeã€JSFuckã€Jotherã€Brainfuckã€Ook!ã€Trivial brainfuck substitutionï¼›</li><li>å…¶ä»–ï¼šæºæ’’å¯†ç ã€æ …æ å¯†ç ã€çŒªåœˆå¯†ç ã€æ‘©æ–¯å¯†ç ã€åŸ¹æ ¹å¯†ç ã€ç»´å‰å°¼äºšå¯†ç ã€ä¸ä½›è®ºç¦…ã€å½“é“ºå¯†ç ã€‚</li></ul><p>PSï¼šå¸¸è§åŠ å¯†ç®—æ³•åŸç†ä»¥åŠåœ¨ Python å’Œ JavaScript ä¸­çš„å®ç°æ–¹æ³•å¯å‚è§ä»¥å‰çš„æ–‡ç« ï¼š<a href="https://www.itbob.cn/article/039/">çˆ¬è™«å¸¸è§åŠ å¯†è§£å¯†ç®—æ³•æ€»ç»“</a></p><h2><span id="bian-ma-xi-lie">ç¼–ç ç³»åˆ—</span></h2><h3><span id="base-xi-lie-bian-ma">Base ç³»åˆ—ç¼–ç </span></h3><p>Base64 æ˜¯æˆ‘ä»¬æœ€å¸¸è§çš„ç¼–ç ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå…¶å®è¿˜æœ‰ Base16ã€Base32ã€Base58ã€Base85ã€Base100 ç­‰ï¼Œä»–ä»¬ä¹‹é—´æœ€æ˜æ˜¾çš„åŒºåˆ«å°±æ˜¯ä½¿ç”¨äº†ä¸åŒæ•°é‡çš„å¯æ‰“å°å­—ç¬¦å¯¹ä»»æ„å­—èŠ‚æ•°æ®è¿›è¡Œç¼–ç ï¼Œæ¯”å¦‚ Base64 ä½¿ç”¨äº†64ä¸ªå¯æ‰“å°å­—ç¬¦ï¼ˆA-Zã€a-zã€0-9ã€+ã€/ï¼‰ï¼ŒBase16 ä½¿ç”¨äº†16ä¸ªå¯æ‰“å°å­—ç¬¦ï¼ˆA-Fã€0-9ï¼‰ï¼Œè¿™é‡Œä¸»è¦è®²æ€ä¹ˆå¿«é€Ÿè¯†åˆ«ï¼Œå…¶å…·ä½“åŸç†å¯è‡ªè¡Œç™¾åº¦ï¼ŒBase ç³»åˆ—ä¸»è¦ç‰¹å¾å¦‚ä¸‹ï¼š</p><ul><li>Base16ï¼šç»“å°¾æ²¡æœ‰ç­‰å·ï¼Œæ•°å­—è¦å¤šäºå­—æ¯ï¼›</li><li>Base32ï¼šå­—æ¯è¦å¤šäºæ•°å­—ï¼Œæ˜æ–‡æ•°é‡è¶…è¿‡10ä¸ªï¼Œç»“å°¾å¯èƒ½ä¼šæœ‰å¾ˆå¤šç­‰å·ï¼›</li><li>Base58ï¼šç»“å°¾æ²¡æœ‰ç­‰å·ï¼Œå­—æ¯è¦å¤šäºæ•°å­—ï¼›</li><li>Base64ï¼šä¸€èˆ¬æƒ…å†µä¸‹ç»“å°¾éƒ½ä¼šæœ‰1ä¸ªæˆ–è€…2ä¸ªç­‰å·ï¼Œæ˜æ–‡å¾ˆå°‘çš„æ—¶å€™å¯èƒ½æ²¡æœ‰ï¼›</li><li>Base85ï¼šç­‰å·ä¸€èˆ¬å‡ºç°åœ¨å­—ç¬¦ä¸²ä¸­é—´ï¼Œå«æœ‰ä¸€äº›å¥‡æ€ªçš„å­—ç¬¦ï¼›</li><li>Base100ï¼šå¯†æ–‡ç”± Emoji è¡¨æƒ…ç»„æˆã€‚</li></ul><p>ç¤ºä¾‹ï¼š</p><table><thead><tr><th style="text-align:left">ç¼–ç ç±»å‹</th><th style="text-align:left">ç¤ºä¾‹ä¸€</th><th>ç¤ºä¾‹äºŒ</th></tr></thead><tbody><tr><td style="text-align:left">æ˜æ–‡</td><td style="text-align:left">01234567890</td><td>administrators</td></tr><tr><td style="text-align:left">Base16</td><td style="text-align:left"><code>3031323334353637383930</code></td><td><code>61646D696E6973747261746F7273</code></td></tr><tr><td style="text-align:left">Base32</td><td style="text-align:left"><code>GAYTEMZUGU3DOOBZGA======</code></td><td><code>MFSG22LONFZXI4TBORXXE4Y=</code></td></tr><tr><td style="text-align:left">Base58</td><td style="text-align:left"><code>cX8j8pvGzppMKVb</code></td><td><code>BNF5dFLUTN5XwM1yLoF</code></td></tr><tr><td style="text-align:left">Base64</td><td style="text-align:left"><code>MDEyMzQ1Njc4OTA=</code></td><td><code>YWRtaW5pc3RyYXRvcnM=</code></td></tr><tr><td style="text-align:left">Base85</td><td style="text-align:left"><code>0JP==1c70M3&amp;rY</code></td><td><code>@:X4hDJ=06Eaa'.EcV</code></td></tr><tr><td style="text-align:left">Base100</td><td style="text-align:left"><code>ğŸ§ğŸ¨ğŸ©ğŸªğŸ«ğŸ¬ğŸ­ğŸ®ğŸ¯ğŸ°ğŸ§</code></td><td><code>ğŸ‘˜ğŸ‘›ğŸ‘¤ğŸ‘ ğŸ‘¥ğŸ‘ ğŸ‘ªğŸ‘«ğŸ‘©ğŸ‘˜ğŸ‘«ğŸ‘¦ğŸ‘©ğŸ‘ª</code></td></tr></tbody></table><h3><span id="unicode-bian-ma">Unicode ç¼–ç </span></h3><p>Unicode åˆç§°ä¸ºç»Ÿä¸€ç ã€ä¸‡å›½ç ã€å•ä¸€ç ï¼Œæ˜¯ä¸€ç§åœ¨è®¡ç®—æœºä¸Šä½¿ç”¨çš„å­—ç¬¦ç¼–ç ã€‚Unicode æ˜¯ä¸ºäº†è§£å†³ä¼ ç»Ÿçš„å­—ç¬¦ç¼–ç æ–¹æ¡ˆçš„å±€é™è€Œäº§ç”Ÿçš„ï¼Œå®ƒä¸ºæ¯ç§è¯­è¨€ä¸­çš„æ¯ä¸ªå­—ç¬¦è®¾å®šäº†ç»Ÿä¸€å¹¶ä¸”å”¯ä¸€çš„äºŒè¿›åˆ¶ç¼–ç ï¼Œä»¥æ»¡è¶³è·¨è¯­è¨€ã€è·¨å¹³å°è¿›è¡Œæ–‡æœ¬è½¬æ¢ã€å¤„ç†çš„è¦æ±‚ã€‚å…¶ä¸»è¦ç‰¹å¾å¦‚ä¸‹ï¼š</p><ul><li>ä»¥ <code>\u</code>ã€<code>&amp;#</code> æˆ– <code>&amp;#x</code> å¼€å¤´ï¼Œåé¢æ˜¯æ•°å­—åŠ å­—æ¯ç»„åˆ</li></ul><p>PSï¼š<code>\u</code> å¼€å¤´å’Œ <code>&amp;#x</code> å¼€å¤´æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯16è¿›åˆ¶ Unicode å­—ç¬¦çš„ä¸åŒå†™æ³•ï¼Œ<code>&amp;#</code> åˆ™æ˜¯ Unicode å­—ç¬¦10è¿›åˆ¶çš„å†™æ³•ï¼Œæ­¤å¤–ï¼Œ<code>&amp;#</code> å’Œ <code>&amp;#x</code> å¼€å¤´çš„ï¼Œä¹Ÿç§°ä¸º HTML å­—ç¬¦å®ä½“è½¬æ¢ï¼Œå­—ç¬¦å®ä½“æ˜¯ç”¨ä¸€ä¸ªç¼–å·å†™å…¥ HTML ä»£ç ä¸­æ¥ä»£æ›¿ä¸€ä¸ªå­—ç¬¦ï¼Œåœ¨ HTML ä¸­ï¼ŒæŸäº›å­—ç¬¦æ˜¯é¢„ç•™çš„ï¼Œå¦‚æœå¸Œæœ›æ­£ç¡®åœ°æ˜¾ç¤ºé¢„ç•™å­—ç¬¦ï¼Œå°±å¿…é¡»åœ¨ HTML æºä»£ç ä¸­ä½¿ç”¨å­—ç¬¦å®ä½“ã€‚</p><table><thead><tr><th>ç¼–ç ç±»å‹</th><th>ç¤ºä¾‹ä¸€</th><th>ç¤ºä¾‹äºŒ</th></tr></thead><tbody><tr><td>æ˜æ–‡</td><td>12345</td><td>admin</td></tr><tr><td>Unicode</td><td><code>\u0031\u0032\u0033\u0034\u0035</code></td><td><code>\u0061\u0064\u006d\u0069\u006e</code></td></tr></tbody></table><h3><span id="escape-bian-ma">Escape ç¼–ç </span></h3><p>Escape ç¼–ç åˆå« %u ç¼–ç ï¼ŒEscape ç¼–ç å°±æ˜¯å­—ç¬¦å¯¹åº” UTF-16BE è¡¨ç¤ºæ–¹å¼å‰é¢åŠ  %uï¼ŒEscape ä¸ä¼šå¯¹ ASCII å­—æ¯å’Œæ•°å­—è¿›è¡Œç¼–ç ï¼Œä¹Ÿä¸ä¼šå¯¹ä¸‹é¢è¿™äº› ASCII æ ‡ç‚¹ç¬¦å·è¿›è¡Œç¼–ç ï¼š <code>* @ - _ + . / </code>ï¼Œå…¶ä»–æ‰€æœ‰çš„å­—ç¬¦éƒ½ä¼šè¢«è½¬ä¹‰åºåˆ—æ›¿æ¢ã€‚å…¶ä¸»è¦ç‰¹å¾å¦‚ä¸‹ï¼š</p><ul><li>ä»¥ <code>%u</code> å¼€å¤´ï¼Œåé¢æ˜¯æ•°å­—åŠ å­—æ¯ç»„åˆ</li></ul><table><thead><tr><th>ç¼–ç ç±»å‹</th><th>ç¤ºä¾‹ä¸€</th><th>ç¤ºä¾‹äºŒ</th></tr></thead><tbody><tr><td>æ˜æ–‡</td><td>çˆ¬è™«</td><td>æˆ‘çˆ±Python</td></tr><tr><td>Escape</td><td><code>%u722C%u866B</code></td><td><code>%u6211%u7231Python</code></td></tr></tbody></table><h3><span id="url-hex-bian-ma">URL / Hex ç¼–ç </span></h3><p>URL å’Œ Hex ç¼–ç çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œä¸åŒçš„æ˜¯å½“ä½ ç”¨ URL ç¼–ç ç½‘å€æ—¶æ˜¯ä¸ä¼šæŠŠ <code>http</code>ã€<code>https</code> å…³é”®å­—å’Œ <code>/</code>ã€<code>?</code>ã€<code>&amp;</code>ã€<code>=</code> ç­‰è¿æ¥ç¬¦è¿›è¡Œç¼–ç çš„ï¼Œè€Œ Hex ç¼–ç åˆ™å…¨éƒ¨è½¬åŒ–äº†ï¼Œå…¶ä¸»è¦ç‰¹å¾å¦‚ä¸‹ï¼š</p><ul><li>ä»¥ <code>%</code> å¼€å¤´ï¼Œåé¢æ˜¯æ•°å­—åŠ å­—æ¯ç»„åˆ</li></ul><table><thead><tr><th>ç¼–ç ç±»å‹</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>æ˜æ–‡</td><td><a href="https://www.kuaidaili.com/">https://www.kuaidaili.com/</a></td></tr><tr><td>Unicode</td><td><code>https://%77%77%77%2E%6B%75%61%69%64%61%69%6C%69%2E%63%6F%6D/</code></td></tr><tr><td>Hex</td><td><code>%68%74%74%70%73%3a%2f%2f%77%77%77%2e%6b%75%61%69%64%61%69%6c%69%2e%63%6f%6d%2f</code></td></tr></tbody></table><h2><span id="jia-mi-suan-fa">åŠ å¯†ç®—æ³•</span></h2><h3><span id="md5">MD5</span></h3><p>MD5 å®è´¨æ˜¯ä¸€ç§æ¶ˆæ¯æ‘˜è¦ç®—æ³•ï¼Œä¸€ä¸ªæ•°æ®çš„ MD5 å€¼æ˜¯å”¯ä¸€çš„ï¼ŒåŒä¸€ä¸ªæ•°æ®ä¸å¯èƒ½è®¡ç®—å‡ºå¤šä¸ªä¸åŒçš„ MD5 å€¼ï¼Œä½†æ˜¯ï¼Œä¸åŒæ•°æ®è®¡ç®—å‡ºæ¥çš„ MD5 å€¼æ˜¯æœ‰å¯èƒ½ä¸€æ ·çš„ï¼ŒçŸ¥é“ä¸€ä¸ª MD5 å€¼ï¼Œç†è®ºä¸Šæ˜¯æ— æ³•è¿˜åŸå‡ºå®ƒçš„åŸå§‹æ•°æ®çš„ï¼ŒMD5 æ˜¯æœ€å®¹æ˜“è¾¨åˆ«çš„ï¼Œä¸»è¦ç‰¹å¾å¦‚ä¸‹ï¼š</p><ul><li>å¯†æ–‡ä¸€èˆ¬ä¸º 16 ä½æˆ–è€… 32 ä½ï¼Œå…¶ä¸­ 16 ä½æ˜¯å–çš„ 32 ä½ç¬¬ 9~25 ä½çš„å€¼ï¼›</li><li>ç»„æˆæ–¹å¼ä¸ºå­—æ¯ï¼ˆa-fï¼‰å’Œæ•°å­—ï¼ˆ0-9ï¼‰æ··åˆï¼Œå­—æ¯å¯ä»¥å…¨éƒ¨æ˜¯å¤§å†™æˆ–è€…å°å†™ã€‚</li></ul><p>é™¤äº†é€šè¿‡å¯†æ–‡ç‰¹å¾æ¥åˆ¤æ–­ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æœç´¢æºä»£ç ï¼Œæ ‡å‡† MD5 çš„æºç é‡Œæ˜¯åŒ…å«äº†ä¸€äº›ç‰¹å®šçš„å€¼çš„ï¼Œæ²¡æœ‰è¿™äº›ç‰¹å®šå€¼ï¼Œå°±æ— æ³•å®ç° MD5ï¼š</p><ul><li><code>0123456789ABCDEF</code>ã€<code>0123456789abcdef</code></li><li><code>1732584193</code>ã€<code>-271733879</code>ã€<code>-1732584194</code>ã€<code>271733878</code></li></ul><p>PSï¼šæŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œå¯†æ–‡çš„é•¿åº¦ä¹Ÿæœ‰å¯èƒ½ä¸æ­¢ 16 ä½æˆ–è€… 32 ä½ï¼Œæœ‰å¯èƒ½æ˜¯åœ¨å®˜æ–¹ç®—æ³•ä¸Šæœ‰ä¸€äº›é­”æ”¹ï¼Œé€šå¸¸ä¹Ÿæ˜¯åœ¨ 16 ä½çš„åŸºç¡€ä¸Šï¼Œå·¦å³å¡«å……äº†ä¸€äº›éšæœºå­—ç¬¦ä¸²ã€‚</p><p>ç¤ºä¾‹ï¼š</p><table><thead><tr><th>ç¼–ç ç±»å‹</th><th>ç¤ºä¾‹ä¸€</th><th>ç¤ºä¾‹äºŒ</th></tr></thead><tbody><tr><td>æ˜æ–‡</td><td>123456</td><td>admin</td></tr><tr><td>MD5ï¼ˆ16ä½å°å†™ï¼‰</td><td><code>49ba59abbe56e057</code></td><td><code>7a57a5a743894a0e</code></td></tr><tr><td>MD5ï¼ˆ16ä½å¤§å†™ï¼‰</td><td><code>49BA59ABBE56E057</code></td><td><code>7A57A5A743894A0E</code></td></tr><tr><td>MD5ï¼ˆ32ä½å°å†™ï¼‰</td><td><code>e10adc3949ba59abbe56e057f20f883e</code></td><td><code>21232f297a57a5a743894a0e4a801fc3</code></td></tr><tr><td>MD5ï¼ˆ32ä½å¤§å†™ï¼‰</td><td><code>E10ADC3949BA59ABBE56E057F20F883E</code></td><td><code>21232F297A57A5A743894A0E4A801FC3</code></td></tr></tbody></table><h3><span id="sha-xi-lie">SHA ç³»åˆ—</span></h3><p>SHA æ˜¯æ¯” MD5 æ›´å®‰å…¨ä¸€ç‚¹çš„æ‘˜è¦ç®—æ³•ï¼ŒSHA é€šå¸¸æŒ‡ SHA å®¶æ—ç®—æ³•ï¼Œåˆ†åˆ«æ˜¯ SHA-1ã€SHA-2ã€SHA-3ï¼Œå…¶ä¸­ SHA-2 æ˜¯ SHA-224ã€SHA-256ã€SHA-384ã€SHA-512 çš„å¹¶ç§°ï¼ŒSHA-3 æ˜¯ SHA3-224ã€SHA3-256ã€SHA3-384ã€SHA3-512ã€SHAKE128ã€SHAKE256 çš„å¹¶ç§°ï¼Œå…¶åå­—çš„åç¼€çš„æ•°å­—å°±ä»£è¡¨äº†ç»“æœçš„å¤§å°ï¼ˆbitï¼‰ï¼Œæ³¨æ„ï¼ŒSHAKE ç®—æ³•ç»“æœçš„å¤§å°å¹¶ä¸æ˜¯å›ºå®šçš„ï¼Œå…¶ä»–ç®—æ³•ç‰¹å¾å¦‚ä¸‹ï¼š</p><ul><li>SHA-1ï¼šå­—æ¯ï¼ˆa-fï¼‰å’Œæ•°å­—ï¼ˆ0-9ï¼‰æ··åˆï¼Œå›ºå®šä½æ•° 40 ä½ï¼›</li><li>SHA-224/SHA3-224ï¼šå­—æ¯ï¼ˆa-fï¼‰å’Œæ•°å­—ï¼ˆ0-9ï¼‰æ··åˆï¼Œå›ºå®šä½æ•° 56 ä½ï¼›</li><li>SHA-256/SHA3-256ï¼šå­—æ¯ï¼ˆa-fï¼‰å’Œæ•°å­—ï¼ˆ0-9ï¼‰æ··åˆï¼Œå›ºå®šä½æ•° 64 ä½ï¼›</li><li>SHA-384/SHA3-384ï¼šå­—æ¯ï¼ˆa-fï¼‰å’Œæ•°å­—ï¼ˆ0-9ï¼‰æ··åˆï¼Œå›ºå®šä½æ•° 96 ä½ï¼›</li><li>SHA-512/SHA3-512ï¼šå­—æ¯ï¼ˆa-fï¼‰å’Œæ•°å­—ï¼ˆ0-9ï¼‰æ··åˆï¼Œå›ºå®šä½æ•° 128 ä½ã€‚</li></ul><p>ç¤ºä¾‹ï¼š</p><table><thead><tr><th>ç¼–ç ç±»å‹</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>æ˜æ–‡</td><td>123456</td></tr><tr><td>SHA-1</td><td><code>7c4a8d09ca3762af61e59520943dc26494f8941b</code></td></tr><tr><td>SHA-256</td><td><code>8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92</code></td></tr><tr><td>SHA3-256</td><td><code>c888c9ce9e098d5864d3ded6ebcc140a12142263bace3a23a36f9905f12bd64a</code></td></tr></tbody></table><h3><span id="hmac-xi-lie">HMAC ç³»åˆ—</span></h3><p>HMAC è¿™ç§ç®—æ³•å°±æ˜¯åœ¨ MD5ã€SHA ä¸¤ç§åŠ å¯†çš„åŸºç¡€ä¸Šå¼•å…¥äº†ç§˜é’¥ï¼Œå…¶å¯†æ–‡ä¹Ÿå’Œ MD5ã€SHA ç±»ä¼¼ï¼Œå¯†æ–‡çš„é•¿åº¦å’Œä½¿ç”¨çš„ MD5ã€SHA ç®—æ³•å¯¹åº”å¯†æ–‡çš„é•¿åº¦æ˜¯ä¸€æ ·çš„ã€‚ç‰¹å¾å¦‚ä¸‹ï¼š</p><ul><li>HMAC-MD5ï¼šå­—æ¯ï¼ˆa-fï¼‰å’Œæ•°å­—ï¼ˆ0-9ï¼‰æ··åˆï¼Œä½æ•°ä¸€èˆ¬ä¸º 32 ä½ï¼›</li><li>HMAC-SHA-1ï¼šå­—æ¯ï¼ˆa-fï¼‰å’Œæ•°å­—ï¼ˆ0-9ï¼‰æ··åˆï¼Œå›ºå®šä½æ•° 40 ä½ï¼›</li><li>HMAC-SHA-224 / HMAC-SHA3-224ï¼šå­—æ¯ï¼ˆa-fï¼‰å’Œæ•°å­—ï¼ˆ0-9ï¼‰æ··åˆï¼Œå›ºå®šä½æ•° 56 ä½ï¼›</li><li>HMAC-SHA-256 / HMAC-SHA3-256ï¼šå­—æ¯ï¼ˆa-fï¼‰å’Œæ•°å­—ï¼ˆ0-9ï¼‰æ··åˆï¼Œå›ºå®šä½æ•° 64 ä½ï¼›</li><li>HMAC-SHA-384 / HMAC-SHA3-384ï¼šå­—æ¯ï¼ˆa-fï¼‰å’Œæ•°å­—ï¼ˆ0-9ï¼‰æ··åˆï¼Œå›ºå®šä½æ•° 96 ä½ï¼›</li><li>HMAC-SHA-512 / HMAC-SHA3-512ï¼šå­—æ¯ï¼ˆa-fï¼‰å’Œæ•°å­—ï¼ˆ0-9ï¼‰æ··åˆï¼Œå›ºå®šä½æ•° 128 ä½ã€‚</li></ul><p>HMAC å’Œ SHAã€MD5 çš„å¯†æ–‡éƒ½å¾ˆåƒï¼Œå½“æ— æ³•ç¡®å®šæ˜¯å¦ä¸º HMAC æ—¶ï¼Œå¯ä»¥é€šè¿‡å…¶åç§°æœç´¢åˆ°åŠ å¯†æ–¹æ³•ï¼Œå¦‚æœä¼ å…¥äº†å¯†é’¥ keyï¼Œè¯´æ˜å°±æ˜¯ HMACï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ç›´æ¥å½“åšæ˜¯ SHA æˆ– MD5 æ¥è§£ï¼Œè§£å¯†å¤±è´¥æ—¶å°±å¾—è€ƒè™‘æ˜¯å¦æœ‰å¯†é’¥ï¼Œæ˜¯å¦ä¸º HMAC äº†ï¼Œåœ¨ JS ä¸­ï¼Œé€šå¸¸ä¸€ä¸ª HMAC åŠ å¯†æ–¹æ³•æ˜¯è¿™æ ·å†™çš„ï¼š</p><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">HmacSHA1Encrypt</span>(<span class="hljs-params">word, key</span>) </span>&#123;    <span class="hljs-keyword">return</span> CryptoJS.HmacSHA1(word, key).toString();&#125;</code></pre><p>ç¤ºä¾‹ï¼ˆå¯†é’¥ 123456abcdeï¼‰ï¼š</p><table><thead><tr><th>ç¼–ç ç±»å‹</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>æ˜æ–‡</td><td>123456</td></tr><tr><td>HMAC-MD5</td><td><code>432bb95bb00005ddce4a1c757488ed95</code></td></tr><tr><td>HMAC-SHA-1</td><td><code>37a04076b7736c44460d330ee0d00014428b175e</code></td></tr><tr><td>HMAC-SHA-256</td><td><code>50cb1345366df11140fb91b43caaf69627e3f5529705ddf6b0d0cae67986e585</code></td></tr><tr><td>HMAC-SHA3-256</td><td><code>b808ed9f66436e89fba527a01d1d6044318fea8599d9f39bfb6bec4843964bf3</code></td></tr></tbody></table><h3><span id="rsa">RSA</span></h3><p>RSA åŠ å¯†ç®—æ³•æ˜¯ä¸€ç§éå¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œé€šè¿‡å…¬é’¥åŠ å¯†ç»“æœï¼Œå¿…é¡»ç§é’¥è§£å¯†ã€‚ åŒæ ·ç§é’¥åŠ å¯†ç»“æœï¼Œå…¬é’¥å¯ä»¥è§£å¯†ï¼Œåº”ç”¨éå¸¸å¹¿æ³›ï¼Œåœ¨ç½‘ç«™ä¸­é€šå¸¸ä½¿ç”¨ JSEncrypt åº“æ¥å®ç°ï¼Œå…¶æœ€å¤§çš„ç‰¹å¾å°±æ˜¯æœ‰ä¸€ä¸ªè®¾ç½®å…¬é’¥çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ¥å¿«é€Ÿåˆæ­¥åˆ¤æ–­æ˜¯å¦ä¸º RSA ç®—æ³•ï¼š</p><ul><li><p>æœç´¢å…³é”®è¯ <code>new JSEncrypt()</code>ï¼Œ<code>JSEncrypt</code> ç­‰ï¼Œä¸€èˆ¬ä¼šä½¿ç”¨ JSEncrypt åº“ï¼Œä¼šæœ‰ new ä¸€ä¸ªå®ä¾‹å¯¹è±¡çš„æ“ä½œï¼›</p></li><li><p>æœç´¢å…³é”®è¯ <code>setPublicKey</code>ã€<code>setKey</code>ã€<code>setPrivateKey</code>ã€<code>getPublicKey</code> ç­‰ï¼Œä¸€èˆ¬å®ç°çš„ä»£ç é‡Œéƒ½å«æœ‰è®¾ç½®å¯†é’¥çš„è¿‡ç¨‹ï¼›</p></li><li><p>RSA çš„ç§é’¥ã€å…¬é’¥ã€æ˜æ–‡ã€å¯†æ–‡é•¿åº¦ä¹Ÿæœ‰ä¸€å®šå¯¹åº”å…³ç³»ï¼Œä¹Ÿå¯ä»¥ä»è¿™æ–¹é¢åˆæ­¥åˆ¤æ–­ï¼š</p><table><thead><tr><th style="text-align:left">ç§é’¥é•¿åº¦ï¼ˆBase64ï¼‰</th><th style="text-align:left">å…¬é’¥é•¿åº¦ï¼ˆBase64ï¼‰</th><th style="text-align:left">æ˜æ–‡é•¿åº¦</th><th style="text-align:left">å¯†æ–‡é•¿åº¦</th></tr></thead><tbody><tr><td style="text-align:left">428</td><td style="text-align:left">128</td><td style="text-align:left">1~53</td><td style="text-align:left">88</td></tr><tr><td style="text-align:left">812</td><td style="text-align:left">216</td><td style="text-align:left">1~117</td><td style="text-align:left">172</td></tr><tr><td style="text-align:left">1588</td><td style="text-align:left">392</td><td style="text-align:left">1~245</td><td style="text-align:left">344</td></tr></tbody></table></li></ul><h3><span id="aes-des-3des-rc4-rabbit-deng">AESã€DESã€3DESã€RC4ã€Rabbit ç­‰</span></h3><p>AESã€DESã€3DESã€RC4ã€Rabbit ç­‰åŠ å¯†ç®—æ³•çš„å¯†æ–‡é€šå¸¸æ²¡æœ‰å›ºå®šçš„é•¿åº¦ï¼Œä»–ä»¬é€šå¸¸ä½¿ç”¨ crypto-js æ¥å®ç°ï¼Œæ¯”å¦‚ AES åŠ è§£å¯†ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre><code class="hljs javascript">CryptoJS = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;crypto-js&quot;</span>)<span class="hljs-keyword">var</span> key = CryptoJS.enc.Utf8.parse(<span class="hljs-string">&quot;0123456789abcdef&quot;</span>);<span class="hljs-keyword">var</span> iv = CryptoJS.enc.Utf8.parse(<span class="hljs-string">&quot;0123456789abcdef&quot;</span>);<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">AESEncrypt</span>(<span class="hljs-params">word</span>) </span>&#123;    <span class="hljs-keyword">var</span> srcs = CryptoJS.enc.Utf8.parse(word);    <span class="hljs-keyword">var</span> encrypted = CryptoJS.AES.encrypt(srcs, key, &#123;        <span class="hljs-attr">iv</span>: iv,        <span class="hljs-attr">mode</span>: CryptoJS.mode.CBC,        <span class="hljs-attr">padding</span>: CryptoJS.pad.Pkcs7    &#125;);    <span class="hljs-keyword">return</span> encrypted.toString();&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">AESDecrypt</span>(<span class="hljs-params">word</span>) </span>&#123;    <span class="hljs-keyword">var</span> srcs = word;    <span class="hljs-keyword">var</span> decrypt = CryptoJS.AES.decrypt(srcs, key, &#123;        <span class="hljs-attr">iv</span>: iv,        <span class="hljs-attr">mode</span>: CryptoJS.mode.CBC,        <span class="hljs-attr">padding</span>: CryptoJS.pad.Pkcs7    &#125;);    <span class="hljs-keyword">return</span> decrypt.toString(CryptoJS.enc.Utf8);&#125;<span class="hljs-built_in">console</span>.log(AESEncrypt(<span class="hljs-string">&quot;ITBOB&quot;</span>))<span class="hljs-built_in">console</span>.log(AESDecrypt(<span class="hljs-string">&quot;r78lMXzImDRcDx9ADakCmg==&quot;</span>))</code></pre><p>åœ¨ crypto-js ä¸­ï¼Œä¹Ÿæœ‰ä¸€äº›ç‰¹å®šçš„å…³é”®å­—ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æœç´¢è¿™äº›å…³é”®å­—æ¥å¿«é€Ÿå®šä½åˆ° crypto-jsï¼š</p><ul><li><p><code>CryptoJS</code>ã€<code>crypto-js</code>ã€<code>iv</code>ã€<code>mode</code>ã€<code>padding</code>ã€<code>createEncryptor</code>ã€<code>createDecryptor</code></p></li><li><p><code>ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=</code>ã€<code>0xffffffff</code>ã€<code>0xffff</code></p></li></ul><p>å®šä½åˆ° CryptoJS åï¼Œè§‚å¯ŸåŠ å¯†æ–¹æ³•ï¼Œæ¯”å¦‚ AES å°±æ˜¯ <code>CryptoJS.AES.encrypt</code>ï¼ŒDES å°±æ˜¯ <code>CryptoJS.DES.encrypt</code>ï¼Œ3DES å°±æ˜¯ <code>CryptoJS.TripleDES.encrypt</code>ï¼Œæ³¨æ„ä»–çš„ ivã€modeã€paddingï¼Œæ‹¿ä¸‹æ¥å°±å¯ä»¥æœ¬åœ°å¤ç°äº†ã€‚</p><h3><span id="sm-xi-lie">SM ç³»åˆ—</span></h3><p>SM ä»£è¡¨å•†å¯†ï¼Œå³å•†ä¸šå¯†ç ï¼Œæ˜¯æˆ‘å›½å‘å¸ƒçš„ä¸€ç³»åˆ—å›½äº§åŠ å¯†ç®—æ³•ï¼ŒSM ç³»åˆ—åŒ…æ‹¬ï¼šSM1ã€SM2ã€SM3 ã€SM4ã€SM7ã€SM9ï¼Œå…¶ä¸­ SM1 å’Œ SM7 çš„ç®—æ³•ä¸å…¬å¼€ï¼ŒSM ç³»åˆ—ç®—æ³•åœ¨æˆ‘å›½ä¸€äº› gov ç½‘ç«™ä¸Šæœ‰åº”ç”¨ï¼Œæœ‰å…³å›½äº§åŠ å¯†ç®—æ³•å‰æœŸæ–‡ç« æœ‰ä»‹ç»ï¼š<a href="https://www.itbob.cn/article/041/">ã€Šè®¤è¯† SM1/SM2/SM3/SM4/SM7/SM9/ZUC å›½å¯†ç®—æ³•ã€‹</a>ï¼Œæœ¬æ–‡ä¸å†èµ˜è¿°ã€‚</p><p>åœ¨ SM çš„ JavaScript ä»£ç ä¸­ä¸€èˆ¬ä¼šå­˜åœ¨ä»¥ä¸‹å…³é”®å­—ï¼Œå¯ä»¥é€šè¿‡æœç´¢å…³é”®å­—å®šä½ï¼š</p><ul><li><code>SM2</code>ã€<code>SM3</code>ã€<code>SM4</code></li><li><code>FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000FFFFFFFFFFFFFFFF</code></li><li><code>FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000FFFFFFFFFFFFFFFC</code></li><li><code>28E9FA9E9D9F5E344D5A9E4BCF6509A7F39789F515AB8F92DDBCBD414D940E93</code></li><li><code>abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789</code></li><li><code>getPublicKeyFromPrivateKey</code>ã€<code>doEncrypt</code>ã€<code>doDecrypt</code>ã€<code>doSignature</code></li></ul><h2><span id="hun-yao-xi-lie">æ··æ·†ç³»åˆ—</span></h2><h3><span id="obfuscator">Obfuscator</span></h3><p>Obfuscator å°±æ˜¯æ··æ·†çš„æ„æ€ï¼Œç®€ç§° OB æ··æ·†ï¼Œå®æˆ˜å¯å‚è€ƒä»¥å‰çš„æ–‡ç« ï¼š<a href="https://itrhx.blog.csdn.net/article/details/121719631">ã€JS é€†å‘ç™¾ä¾‹ã€‘Wåº—UAï¼ŒOBåæ··æ·†ï¼ŒæŠ“åŒ…æ›¿æ¢CORSè·¨åŸŸé”™è¯¯åˆ†æ</a>ï¼ŒOB æ··æ·†å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p><ul><li>ä¸€èˆ¬ç”±ä¸€ä¸ªå¤§æ•°ç»„æˆ–è€…å«æœ‰å¤§æ•°ç»„çš„å‡½æ•°ã€ä¸€ä¸ªè‡ªæ‰§è¡Œå‡½æ•°ã€è§£å¯†å‡½æ•°å’ŒåŠ å¯†åçš„å‡½æ•°å››éƒ¨åˆ†ç»„æˆï¼›</li><li>å‡½æ•°åå’Œå˜é‡åé€šå¸¸ä»¥ <code>_0x</code> æˆ–è€… <code>0x</code> å¼€å¤´ï¼Œåæ¥ 1~6 ä½æ•°å­—æˆ–å­—æ¯ç»„åˆï¼›</li><li>è‡ªæ‰§è¡Œå‡½æ•°ï¼Œè¿›è¡Œç§»ä½æ“ä½œï¼Œæœ‰æ˜æ˜¾çš„ pushã€shift å…³é”®å­—ï¼›</li></ul><p>ä¸€æ®µæ­£å¸¸çš„ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hi</span>(<span class="hljs-params"></span>) </span>&#123;  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;Hello World!&quot;</span>);&#125;hi();</code></pre><p>ç»è¿‡ OB æ··æ·†åçš„ç»“æœï¼š</p><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_0x3f26</span>(<span class="hljs-params"></span>) </span>&#123;    <span class="hljs-keyword">var</span> _0x2dad75 = [<span class="hljs-string">&#x27;5881925kTCKCP&#x27;</span>, <span class="hljs-string">&#x27;Hello\x20World!&#x27;</span>, <span class="hljs-string">&#x27;600mDvfGa&#x27;</span>, <span class="hljs-string">&#x27;699564jYNxbu&#x27;</span>, <span class="hljs-string">&#x27;1083271cEvuvT&#x27;</span>, <span class="hljs-string">&#x27;log&#x27;</span>, <span class="hljs-string">&#x27;18sKjcFY&#x27;</span>, <span class="hljs-string">&#x27;214857eMgFSU&#x27;</span>, <span class="hljs-string">&#x27;77856FUKcuE&#x27;</span>, <span class="hljs-string">&#x27;736425OzpdFI&#x27;</span>, <span class="hljs-string">&#x27;737172JqcGMg&#x27;</span>];    _0x3f26 = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;        <span class="hljs-keyword">return</span> _0x2dad75;    &#125;;    <span class="hljs-keyword">return</span> _0x3f26();&#125;(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">_0x307c88, _0x4f8223</span>) </span>&#123;    <span class="hljs-keyword">var</span> _0x32807d = _0x1fe9, _0x330c58 = _0x307c88();    <span class="hljs-keyword">while</span> (!![]) &#123;        <span class="hljs-keyword">try</span> &#123;            <span class="hljs-keyword">var</span> _0x5d6354 = <span class="hljs-built_in">parseInt</span>(_0x32807d(<span class="hljs-number">0x6f</span>)) / <span class="hljs-number">0x1</span> + <span class="hljs-built_in">parseInt</span>(_0x32807d(<span class="hljs-number">0x6e</span>)) / <span class="hljs-number">0x2</span> + <span class="hljs-built_in">parseInt</span>(_0x32807d(<span class="hljs-number">0x70</span>)) / <span class="hljs-number">0x3</span> + -<span class="hljs-built_in">parseInt</span>(_0x32807d(<span class="hljs-number">0x69</span>)) / <span class="hljs-number">0x4</span> + <span class="hljs-built_in">parseInt</span>(_0x32807d(<span class="hljs-number">0x71</span>)) / <span class="hljs-number">0x5</span> + <span class="hljs-built_in">parseInt</span>(_0x32807d(<span class="hljs-number">0x6c</span>)) / <span class="hljs-number">0x6</span> * (<span class="hljs-built_in">parseInt</span>(_0x32807d(<span class="hljs-number">0x6a</span>)) / <span class="hljs-number">0x7</span>) + -<span class="hljs-built_in">parseInt</span>(_0x32807d(<span class="hljs-number">0x73</span>)) / <span class="hljs-number">0x8</span> * (<span class="hljs-built_in">parseInt</span>(_0x32807d(<span class="hljs-number">0x6d</span>)) / <span class="hljs-number">0x9</span>);            <span class="hljs-keyword">if</span> (_0x5d6354 === _0x4f8223) <span class="hljs-keyword">break</span>; <span class="hljs-keyword">else</span> _0x330c58[<span class="hljs-string">&#x27;push&#x27;</span>](_0x330c58[<span class="hljs-string">&#x27;shift&#x27;</span>]());        &#125; <span class="hljs-keyword">catch</span> (_0x3f18e4) &#123;            _0x330c58[<span class="hljs-string">&#x27;push&#x27;</span>](_0x330c58[<span class="hljs-string">&#x27;shift&#x27;</span>]());        &#125;    &#125;&#125;(_0x3f26, <span class="hljs-number">0xaa023</span>));<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_0x1fe9</span>(<span class="hljs-params">_0xa907e7, _0x410a46</span>) </span>&#123;    <span class="hljs-keyword">var</span> _0x3f261f = _0x3f26();    <span class="hljs-keyword">return</span> _0x1fe9 = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">_0x1fe950, _0x5a08da</span>) </span>&#123;        _0x1fe950 = _0x1fe950 - <span class="hljs-number">0x69</span>;        <span class="hljs-keyword">var</span> _0x82a06 = _0x3f261f[_0x1fe950];        <span class="hljs-keyword">return</span> _0x82a06;    &#125;, _0x1fe9(_0xa907e7, _0x410a46);&#125;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hi</span>(<span class="hljs-params"></span>) </span>&#123;    <span class="hljs-keyword">var</span> _0x12a222 = _0x1fe9;    <span class="hljs-built_in">console</span>[_0x12a222(<span class="hljs-number">0x6b</span>)](_0x12a222(<span class="hljs-number">0x72</span>));&#125;hi();</code></pre><h3><span id="jjencode">JJEncode</span></h3><p>JJEncodeã€AAEncodeã€JSFuck éƒ½æ˜¯åŒä¸€ä¸ªä½œè€…ï¼Œå®æˆ˜å¯å‚è€ƒä»¥å‰çš„æ–‡ç« ï¼š<a href="https://itrhx.blog.csdn.net/article/details/121920783">ã€JS é€†å‘ç™¾ä¾‹ã€‘ç½‘æ´›è€…åçˆ¬ç»ƒä¹ å¹³å°ç¬¬äºŒé¢˜ï¼šJJEncode åŠ å¯†</a>ï¼ŒJJEncode å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p><ul><li>å¤§é‡ <code>$</code>ã€<code>_</code> ç¬¦å·ï¼Œå¤§é‡é‡å¤çš„è‡ªå®šä¹‰å˜é‡ï¼›</li><li>ä»…ç”± 18 ä¸ªç¬¦å·ç»„æˆï¼š<code>[]()!+,\&quot;$.:;_&#123;&#125;~=</code></li></ul><p>æ­£å¸¸çš„ä¸€æ®µ JS ä»£ç ï¼š</p><pre><code class="hljs javascript">alert(<span class="hljs-string">&quot;Hello, JavaScript&quot;</span> )</code></pre><p>ç»è¿‡ JJEncode æ··æ·†ï¼ˆè‡ªå®šä¹‰å˜é‡åä¸º $ï¼‰ä¹‹åçš„ä»£ç ï¼š</p><pre><code class="hljs javascript">$=~[];$=&#123;<span class="hljs-attr">___</span>:++$,<span class="hljs-attr">$$$$</span>:(![]+<span class="hljs-string">&quot;&quot;</span>)[$],<span class="hljs-attr">__$</span>:++$,<span class="hljs-attr">$_$_</span>:(![]+<span class="hljs-string">&quot;&quot;</span>)[$],<span class="hljs-attr">_$_</span>:++$,<span class="hljs-attr">$_$$</span>:(&#123;&#125;+<span class="hljs-string">&quot;&quot;</span>)[$],<span class="hljs-attr">$$_$</span>:($[$]+<span class="hljs-string">&quot;&quot;</span>)[$],<span class="hljs-attr">_$$</span>:++$,<span class="hljs-attr">$$$_</span>:(!<span class="hljs-string">&quot;&quot;</span>+<span class="hljs-string">&quot;&quot;</span>)[$],<span class="hljs-attr">$__</span>:++$,<span class="hljs-attr">$_$</span>:++$,<span class="hljs-attr">$$__</span>:(&#123;&#125;+<span class="hljs-string">&quot;&quot;</span>)[$],<span class="hljs-attr">$$_</span>:++$,<span class="hljs-attr">$$$</span>:++$,<span class="hljs-attr">$___</span>:++$,<span class="hljs-attr">$__$</span>:++$&#125;;$.$_=($.$_=$+<span class="hljs-string">&quot;&quot;</span>)[$.$_$]+($._$=$.$_[$.__$])+($.$$=($.$+<span class="hljs-string">&quot;&quot;</span>)[$.__$])+((!$)+<span class="hljs-string">&quot;&quot;</span>)[$._$$]+($.__=$.$_[$.$$_])+($.$=(!<span class="hljs-string">&quot;&quot;</span>+<span class="hljs-string">&quot;&quot;</span>)[$.__$])+($._=(!<span class="hljs-string">&quot;&quot;</span>+<span class="hljs-string">&quot;&quot;</span>)[$._$_])+$.$_[$.$_$]+$.__+$._$+$.$;$.$$=$.$+(!<span class="hljs-string">&quot;&quot;</span>+<span class="hljs-string">&quot;&quot;</span>)[$._$$]+$.__+$._+$.$+$.$$;$.$=($.___)[$.$_][$.$_];$.$($.$($.$$+<span class="hljs-string">&quot;\&quot;&quot;</span>+$.$_$_+(![]+<span class="hljs-string">&quot;&quot;</span>)[$._$_]+$.$$$_+<span class="hljs-string">&quot;\\&quot;</span>+$.__$+$.$$_+$._$_+$.__+<span class="hljs-string">&quot;(\\\&quot;\\&quot;</span>+$.__$+$.__$+$.___+$.$$$_+(![]+<span class="hljs-string">&quot;&quot;</span>)[$._$_]+(![]+<span class="hljs-string">&quot;&quot;</span>)[$._$_]+$._$+<span class="hljs-string">&quot;,\\&quot;</span>+$.$__+$.___+<span class="hljs-string">&quot;\\&quot;</span>+$.__$+$.__$+$._$_+$.$_$_+<span class="hljs-string">&quot;\\&quot;</span>+$.__$+$.$$_+$.$$_+$.$_$_+<span class="hljs-string">&quot;\\&quot;</span>+$.__$+$._$_+$._$$+$.$$__+<span class="hljs-string">&quot;\\&quot;</span>+$.__$+$.$$_+$._$_+<span class="hljs-string">&quot;\\&quot;</span>+$.__$+$.$_$+$.__$+<span class="hljs-string">&quot;\\&quot;</span>+$.__$+$.$$_+$.___+$.__+<span class="hljs-string">&quot;\\\&quot;\\&quot;</span>+$.$__+$.___+<span class="hljs-string">&quot;)&quot;</span>+<span class="hljs-string">&quot;\&quot;&quot;</span>)())();</code></pre><h3><span id="aaencode">AAEncode</span></h3><p>JJEncodeã€AAEncodeã€JSFuck éƒ½æ˜¯åŒä¸€ä¸ªä½œè€…ï¼Œå®æˆ˜å¯å‚è€ƒä»¥å‰çš„æ–‡ç« ï¼š<a href="https://itrhx.blog.csdn.net/article/details/121920864">ã€JS é€†å‘ç™¾ä¾‹ã€‘ç½‘æ´›è€…åçˆ¬ç»ƒä¹ å¹³å°ç¬¬ä¸‰é¢˜ï¼šAAEncode åŠ å¯†</a>ï¼ŒAAEncode å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p><ul><li>ä»…ç”±æ—¥å¼è¡¨æƒ…ç¬¦å·ç»„æˆ</li></ul><p>æ­£å¸¸çš„ä¸€æ®µ JS ä»£ç ï¼š</p><pre><code class="hljs javascript">alert(<span class="hljs-string">&quot;Hello, JavaScript&quot;</span>)</code></pre><p>ç»è¿‡ AAEncode æ··æ·†ä¹‹åçš„ä»£ç ï¼š</p><pre><code class="hljs javascript">ï¾ŸÏ‰ï¾Ÿï¾‰= <span class="hljs-regexp">/ï½€ï½Â´ï¼‰ï¾‰ ~â”»â”â”»   /</span><span class="hljs-regexp">/*Â´âˆ‡ï½€*/</span> [<span class="hljs-string">&#x27;_&#x27;</span>]; o=(ï¾Ÿï½°ï¾Ÿ)  =_=<span class="hljs-number">3</span>; c=(ï¾ŸÎ˜ï¾Ÿ) =(ï¾Ÿï½°ï¾Ÿ)-(ï¾Ÿï½°ï¾Ÿ); (ï¾ŸĞ”ï¾Ÿ) =(ï¾ŸÎ˜ï¾Ÿ)= (o^_^o)/ (o^_^o);(ï¾ŸĞ”ï¾Ÿ)=&#123;ï¾ŸÎ˜ï¾Ÿ: <span class="hljs-string">&#x27;_&#x27;</span> ,ï¾ŸÏ‰ï¾Ÿï¾‰ : ((ï¾ŸÏ‰ï¾Ÿï¾‰==<span class="hljs-number">3</span>) +<span class="hljs-string">&#x27;_&#x27;</span>) [ï¾ŸÎ˜ï¾Ÿ] ,ï¾Ÿï½°ï¾Ÿï¾‰ :(ï¾ŸÏ‰ï¾Ÿï¾‰+ <span class="hljs-string">&#x27;_&#x27;</span>)[o^_^o -(ï¾ŸÎ˜ï¾Ÿ)] ,ï¾ŸĞ”ï¾Ÿï¾‰:((ï¾Ÿï½°ï¾Ÿ==<span class="hljs-number">3</span>) +<span class="hljs-string">&#x27;_&#x27;</span>)[ï¾Ÿï½°ï¾Ÿ] &#125;; (ï¾ŸĞ”ï¾Ÿ) [ï¾ŸÎ˜ï¾Ÿ] =((ï¾ŸÏ‰ï¾Ÿï¾‰==<span class="hljs-number">3</span>) +<span class="hljs-string">&#x27;_&#x27;</span>) [c^_^o];(ï¾ŸĞ”ï¾Ÿ) [<span class="hljs-string">&#x27;c&#x27;</span>] = ((ï¾ŸĞ”ï¾Ÿ)+<span class="hljs-string">&#x27;_&#x27;</span>) [ (ï¾Ÿï½°ï¾Ÿ)+(ï¾Ÿï½°ï¾Ÿ)-(ï¾ŸÎ˜ï¾Ÿ) ];(ï¾ŸĞ”ï¾Ÿ) [<span class="hljs-string">&#x27;o&#x27;</span>] = ((ï¾ŸĞ”ï¾Ÿ)+<span class="hljs-string">&#x27;_&#x27;</span>) [ï¾ŸÎ˜ï¾Ÿ];(ï¾Ÿoï¾Ÿ)=(ï¾ŸĞ”ï¾Ÿ) [<span class="hljs-string">&#x27;c&#x27;</span>]+(ï¾ŸĞ”ï¾Ÿ) [<span class="hljs-string">&#x27;o&#x27;</span>]+(ï¾ŸÏ‰ï¾Ÿï¾‰ +<span class="hljs-string">&#x27;_&#x27;</span>)[ï¾ŸÎ˜ï¾Ÿ]+ ((ï¾ŸÏ‰ï¾Ÿï¾‰==<span class="hljs-number">3</span>) +<span class="hljs-string">&#x27;_&#x27;</span>) [ï¾Ÿï½°ï¾Ÿ] + ((ï¾ŸĞ”ï¾Ÿ) +<span class="hljs-string">&#x27;_&#x27;</span>) [(ï¾Ÿï½°ï¾Ÿ)+(ï¾Ÿï½°ï¾Ÿ)]+ ((ï¾Ÿï½°ï¾Ÿ==<span class="hljs-number">3</span>) +<span class="hljs-string">&#x27;_&#x27;</span>) [ï¾ŸÎ˜ï¾Ÿ]+((ï¾Ÿï½°ï¾Ÿ==<span class="hljs-number">3</span>) +<span class="hljs-string">&#x27;_&#x27;</span>) [(ï¾Ÿï½°ï¾Ÿ) - (ï¾ŸÎ˜ï¾Ÿ)]+(ï¾ŸĞ”ï¾Ÿ) [<span class="hljs-string">&#x27;c&#x27;</span>]+((ï¾ŸĞ”ï¾Ÿ)+<span class="hljs-string">&#x27;_&#x27;</span>) [(ï¾Ÿï½°ï¾Ÿ)+(ï¾Ÿï½°ï¾Ÿ)]+ (ï¾ŸĞ”ï¾Ÿ) [<span class="hljs-string">&#x27;o&#x27;</span>]+((ï¾Ÿï½°ï¾Ÿ==<span class="hljs-number">3</span>) +<span class="hljs-string">&#x27;_&#x27;</span>) [ï¾ŸÎ˜ï¾Ÿ];(ï¾ŸĞ”ï¾Ÿ) [<span class="hljs-string">&#x27;_&#x27;</span>] =(o^_^o) [ï¾Ÿoï¾Ÿ] [ï¾Ÿoï¾Ÿ];(ï¾ŸÎµï¾Ÿ)=((ï¾Ÿï½°ï¾Ÿ==<span class="hljs-number">3</span>) +<span class="hljs-string">&#x27;_&#x27;</span>) [ï¾ŸÎ˜ï¾Ÿ]+ (ï¾ŸĞ”ï¾Ÿ) .ï¾ŸĞ”ï¾Ÿï¾‰+((ï¾ŸĞ”ï¾Ÿ)+<span class="hljs-string">&#x27;_&#x27;</span>) [(ï¾Ÿï½°ï¾Ÿ) + (ï¾Ÿï½°ï¾Ÿ)]+((ï¾Ÿï½°ï¾Ÿ==<span class="hljs-number">3</span>) +<span class="hljs-string">&#x27;_&#x27;</span>) [o^_^o -ï¾ŸÎ˜ï¾Ÿ]+((ï¾Ÿï½°ï¾Ÿ==<span class="hljs-number">3</span>) +<span class="hljs-string">&#x27;_&#x27;</span>) [ï¾ŸÎ˜ï¾Ÿ]+ (ï¾ŸÏ‰ï¾Ÿï¾‰ +<span class="hljs-string">&#x27;_&#x27;</span>) [ï¾ŸÎ˜ï¾Ÿ]; (ï¾Ÿï½°ï¾Ÿ)+=(ï¾ŸÎ˜ï¾Ÿ); (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]=<span class="hljs-string">&#x27;\\&#x27;</span>; (ï¾ŸĞ”ï¾Ÿ).ï¾ŸÎ˜ï¾Ÿï¾‰=(ï¾ŸĞ”ï¾Ÿ+ ï¾Ÿï½°ï¾Ÿ)[o^_^o -(ï¾ŸÎ˜ï¾Ÿ)];(oï¾Ÿï½°ï¾Ÿo)=(ï¾ŸÏ‰ï¾Ÿï¾‰ +<span class="hljs-string">&#x27;_&#x27;</span>)[c^_^o];(ï¾ŸĞ”ï¾Ÿ) [ï¾Ÿoï¾Ÿ]=<span class="hljs-string">&#x27;\&quot;&#x27;</span>;(ï¾ŸĞ”ï¾Ÿ) [<span class="hljs-string">&#x27;_&#x27;</span>] ( (ï¾ŸĞ”ï¾Ÿ) [<span class="hljs-string">&#x27;_&#x27;</span>] (ï¾ŸÎµï¾Ÿ+(ï¾ŸĞ”ï¾Ÿ)[ï¾Ÿoï¾Ÿ]+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (ï¾Ÿï½°ï¾Ÿ)+ (ï¾ŸÎ˜ï¾Ÿ)+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾Ÿï½°ï¾Ÿ)+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (ï¾Ÿï½°ï¾Ÿ)+ ((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((o^_^o) +(o^_^o))+ ((o^_^o) - (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((o^_^o) +(o^_^o))+ (ï¾Ÿï½°ï¾Ÿ)+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ (c^_^o)+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾Ÿï½°ï¾Ÿ)+ ((o^_^o) - (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (ï¾ŸÎ˜ï¾Ÿ)+ (c^_^o)+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (ï¾Ÿï½°ï¾Ÿ)+ ((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾Ÿï½°ï¾Ÿ)+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾Ÿï½°ï¾Ÿ)+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ ((ï¾Ÿï½°ï¾Ÿ) + (o^_^o))+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾Ÿï½°ï¾Ÿ)+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾Ÿï½°ï¾Ÿ)+ (c^_^o)+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (ï¾ŸÎ˜ï¾Ÿ)+ ((o^_^o) - (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (ï¾Ÿï½°ï¾Ÿ)+ (ï¾ŸÎ˜ï¾Ÿ)+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((o^_^o) +(o^_^o))+ ((o^_^o) +(o^_^o))+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (ï¾Ÿï½°ï¾Ÿ)+ (ï¾ŸÎ˜ï¾Ÿ)+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((o^_^o) - (ï¾ŸÎ˜ï¾Ÿ))+ (o^_^o)+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ (ï¾Ÿï½°ï¾Ÿ)+ (o^_^o)+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((o^_^o) +(o^_^o))+ ((o^_^o) - (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾ŸÎ˜ï¾Ÿ)+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((o^_^o) +(o^_^o))+ (c^_^o)+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾ŸÎ˜ï¾Ÿ)+ ((o^_^o) +(o^_^o))+ (ï¾Ÿï½°ï¾Ÿ)+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+(ï¾Ÿï½°ï¾Ÿ)+ ((o^_^o) - (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾ŸĞ”ï¾Ÿ)[ï¾ŸÎµï¾Ÿ]+((ï¾Ÿï½°ï¾Ÿ) + (ï¾ŸÎ˜ï¾Ÿ))+ (ï¾ŸÎ˜ï¾Ÿ)+ (ï¾ŸĞ”ï¾Ÿ)[ï¾Ÿoï¾Ÿ]) (ï¾ŸÎ˜ï¾Ÿ)) (<span class="hljs-string">&#x27;_&#x27;</span>);</code></pre><h3><span id="jsfuck">JSFuck</span></h3><p>JJEncodeã€AAEncodeã€JSFuck éƒ½æ˜¯åŒä¸€ä¸ªä½œè€…ï¼Œå®æˆ˜å¯å‚è€ƒä»¥å‰çš„æ–‡ç« ï¼š<a href="https://itrhx.blog.csdn.net/article/details/122057377">ã€JS é€†å‘ç™¾ä¾‹ã€‘ç½‘æ´›è€…åçˆ¬ç»ƒä¹ å¹³å°ç¬¬å››é¢˜ï¼šJSFuck åŠ å¯†</a>ï¼ŒJSFuck å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p><ul><li>ä»…ç”± 6 ä¸ªç¬¦å·ç»„æˆï¼š<code>[]()!+</code></li></ul><p>æ­£å¸¸çš„ä¸€æ®µ JS ä»£ç ï¼š</p><pre><code class="hljs javascript">alert(<span class="hljs-number">1</span>)</code></pre><p>ç»è¿‡ JSFuck æ··æ·†ä¹‹åçš„ä»£ç ç±»ä¼¼äºï¼š</p><pre><code class="hljs javascript">[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]][([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[+!+[]]+([][[]]+[])[+[]]+([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+(!![]+[])[+!+[]]]((!![]+[])[+!+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!+[]]+([][[]]+[])[+!+[]]+(+[![]]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+!+[]]]+(!![]+[])[!+[]+!+[]+!+[]]+(+(!+[]+!+[]+!+[]+[+!+[]]))[(!![]+[])[+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+([]+[])[([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[+!+[]]+([][[]]+[])[+[]]+([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+(!![]+[])[+!+[]]][([][[]]+[])[+!+[]]+(![]+[])[+!+[]]+((+[])[([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[+!+[]]+([][[]]+[])[+[]]+([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+(!![]+[])[+!+[]]]+[])[+!+[]+[+!+[]]]+(!![]+[])[!+[]+!+[]+!+[]]]](!+[]+!+[]+!+[]+[!+[]+!+[]])+(![]+[])[+!+[]]+(![]+[])[!+[]+!+[]])()((![]+[])[+!+[]]+(![]+[])[!+[]+!+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+!+[]]+(!![]+[])[+[]]+([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[+!+[]+[!+[]+!+[]+!+[]]]+[+!+[]]+([+[]]+![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[!+[]+!+[]+[+[]]])</code></pre><h3><span id="jother">Jother</span></h3><p>Jother æ··æ·†å’Œ JSFuck æœ‰ç‚¹å„¿ç±»ä¼¼ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯å¯†æ–‡æ¯” JSFuck å¤šäº† <code>&#123;&#125;</code>ï¼Œå…¶è§£å¯†æ–¹å¼å’Œ JSFuck æ˜¯ä¸€æ ·çš„ï¼ŒJother æ··æ·†ç°åœ¨ä¸å¤ªå¸¸è§äº†ï¼Œä¹Ÿå¾ˆéš¾æ‰¾åˆ°åœ¨çº¿æ··æ·†ä¹‹ç±»çš„å·¥å…·äº†ï¼ŒåŸä½œè€…æœ‰ä¸ªåœ¨çº¿é¡µé¢ä¹Ÿå…³é—­äº†ï¼Œä¸è¿‡ä»ç„¶å¯ä»¥äº†è§£ä¸€ä¸‹ï¼ŒJother æ··æ·†å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p><ul><li>ä»…ç”± 8 ä¸ªç¬¦å·ç»„æˆï¼š<code>[]()!+&#123;&#125;</code></li></ul><p>æ­£å¸¸çš„ä¸€æ®µä»£ç ï¼š</p><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">anonymous</span>(<span class="hljs-params"></span></span><span class="hljs-params"><span class="hljs-function"></span>) </span>&#123;<span class="hljs-keyword">return</span> location&#125;</code></pre><p>ç»è¿‡ Jother æ··æ·†ä¹‹åçš„ä»£ç ç±»ä¼¼äºï¼š</p><pre><code class="hljs javascript">[][(![]+[])[!![]+!![]+!![]]+(&#123;&#125;+[])[+!![]]+(!![]+[])[+!![]]+(!![]+[])[+[]]][(&#123;&#125;+[])[!![]+!![]+!![]+!![]+!![]]+(&#123;&#125;+[])[+!![]]+(&#123;&#125;[[]]+[])[+!![]]+(![]+[])[!![]+!![]+!![]]+(!![]+[])[+[]]+(!![]+[])[+!![]]+(&#123;&#125;[[]]+[])[+[]]+(&#123;&#125;+[])[!![]+!![]+!![]+!![]+!![]]+(!![]+[])[+[]]+(&#123;&#125;+[])[+!![]]+(!![]+[])[+!![]]]((!![]+[])[+!![]]+(!![]+[])[!![]+!![]+!![]]+(!![]+[])[+[]]+(&#123;&#125;[[]]+[])[+[]]+(!![]+[])[+!![]]+(&#123;&#125;[[]]+[])[+!![]]+(&#123;&#125;+[])[!![]+!![]+!![]+!![]+!![]+!![]+!![]]+(![]+[])[!![]+!![]]+(&#123;&#125;+[])[+!![]]+(&#123;&#125;+[])[!![]+!![]+!![]+!![]+!![]]+(![]+[])[+!![]]+(!![]+[])[+[]]+(&#123;&#125;[[]]+[])[!![]+!![]+!![]+!![]+!![]]+(&#123;&#125;+[])[+!![]]+(&#123;&#125;[[]]+[])[+!![]])()</code></pre><h3><span id="brainfuck">Brainfuck</span></h3><p>Brainfuck å®é™…ä¸Šæ˜¯ä¸€ç§æå°åŒ–çš„è®¡ç®—æœºè¯­è¨€ï¼Œåˆç§°ä¸º BF è¯­è¨€ï¼Œè¯¥è¯­è¨€ä»¥å…¶æç®€ä¸»ä¹‰ç€ç§°ï¼Œä»…åŒ…å«å…«ä¸ªç®€å•çš„å‘½ä»¤ã€ä¸€ä¸ªæ•°æ®æŒ‡é’ˆå’Œä¸€ä¸ªæŒ‡ä»¤æŒ‡é’ˆï¼Œè¿™ç§è¯­è¨€åœ¨çˆ¬è™«é¢†åŸŸä¹Ÿå¯ä»¥æ˜¯ä¸€ç§åçˆ¬æ‰‹æ®µï¼Œå¯ä»¥è§†ä¸ºä¸€ç§æ··æ·†æ–¹å¼ï¼Œè™½ç„¶ä¸å¸¸è§ğŸ¤”ï¼Œè¿™é‡Œç»™ä¸€ä¸ªåœ¨çº¿ä½“éªŒçš„ç½‘å€ï¼š<a href="https://copy.sh/brainfuck/text.html">https://copy.sh/brainfuck/text.html</a> ï¼Œæ„Ÿå…´è¶£çš„åŒå¿—å¯ä»¥æ·±å…¥ç ”ç©¶ä¸€ä¸‹ï¼ŒBrainfuck å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p><ul><li>ä»…ç”± <code>&lt;&gt;+-.[]</code> ç»„æˆï¼›</li><li>å¤§é‡çš„ <code>+-</code> ç¬¦å·ã€‚</li></ul><p>æ­£å¸¸çš„ä¸€æ®µä»£ç ï¼š</p><pre><code class="hljs javascript">alert(<span class="hljs-string">&quot;Hello, Brainfuck&quot;</span>)</code></pre><p>ç»è¿‡ Brainfuck æ··æ·†ä¹‹åçš„ä»£ç ç±»ä¼¼äºï¼š</p><pre><code class="hljs javascript">--[-----&gt;+&lt;]&gt;-----.+++++++++++.-------.+++++++++++++.++.+[---&gt;+&lt;]&gt;+.------.++[-&gt;++&lt;]&gt;.-[-&gt;+++++&lt;]&gt;++.+++++++..+++.[-&gt;+++++&lt;]&gt;+.------------.+[-&gt;++&lt;]&gt;.---[-----&gt;+&lt;]&gt;-.+++[-&gt;+++&lt;]&gt;++.++++++++.+++++.--------.-[---&gt;+&lt;]&gt;--.+[-&gt;+++&lt;]&gt;+.++++++++.+[++&gt;---&lt;]&gt;.+++++++.</code></pre><h3><span id="ook">Ook!</span></h3><p>Ook! å’Œ Brainfuck çš„åŸç†éƒ½æ˜¯ç±»ä¼¼çš„ï¼Œåªä¸è¿‡ç¬¦å·æœ‰å·®å¼‚ï¼ŒåŒæ ·çš„ï¼Œè¿™ç§è¯­è¨€åœ¨çˆ¬è™«é¢†åŸŸä¹Ÿå¯ä»¥æ˜¯ä¸€ç§åçˆ¬æ‰‹æ®µï¼Œå¯ä»¥è§†ä¸ºä¸€ç§æ··æ·†æ–¹å¼ï¼Œè™½ç„¶ä¸å¸¸è§ğŸ¤”ï¼Œåœ¨çº¿ä½“éªŒçš„ç½‘å€ï¼š<a href="https://www.splitbrain.org/services/ook">https://www.splitbrain.org/services/ook</a> ï¼ŒOok! å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p><ul><li>å®Œæ•´ Ook!ï¼šä»…ç”± 3 ç§ç¬¦å·ç»„æˆ <code>Ook.</code>ã€<code>Ook?</code>ã€<code>Ook!</code></li><li>Short Ook!ï¼šä»…ç”± 3 ç§ç¬¦å·ç»„æˆ <code>.!?</code></li></ul><p>æ­£å¸¸çš„ä¸€æ®µä»£ç ï¼š</p><pre><code class="hljs javascript">alert(<span class="hljs-string">&quot;Hello, Ook!&quot;</span>)</code></pre><p>ç»è¿‡ Ook! æ··æ·†ä¹‹åçš„ä»£ç ç±»ä¼¼äºï¼š</p><pre><code class="hljs javascript">Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook? Ook! Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook? Ook. Ook? Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook? Ook! Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook? Ook. Ook? Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook! Ook. Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook? Ook! Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook? Ook. Ook? Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook. Ook. Ook. Ook. Ook. Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook? Ook! Ook! Ook. Ook? Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook? Ook. Ook? Ook! Ook. Ook? Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook. Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook? Ook! Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook? Ook. Ook? Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook? Ook! Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook? Ook. Ook? Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook. Ook! Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook? Ook! Ook! Ook. Ook? Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook? Ook. Ook? Ook! Ook. Ook? Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook? Ook! Ook! Ook. Ook? Ook! Ook! Ook! Ook! Ook! Ook! Ook? Ook. Ook? Ook! Ook. Ook? Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook? Ook! Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook? Ook. Ook? Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook? Ook! Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook? Ook. Ook? Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook. Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook. Ook? Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook? Ook! Ook! Ook. Ook? Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook? Ook. Ook? Ook! Ook. Ook? Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook! Ook. Ook. Ook. Ook! Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook. Ook! Ook. Ook? Ook.</code></pre><h3><span id="trivial-brainfuck-substitution">Trivial brainfuck substitution</span></h3><p>Trivial brainfuck substitution ä¸æ˜¯ä¸€ç§å•ä¸€çš„ç¼–ç¨‹è¯­è¨€ï¼Œè€Œæ˜¯ä¸€å¤§ç±»ç¼–ç¨‹è¯­è¨€ï¼Œæˆå‘˜è¶…è¿‡ 20 ä¸ªï¼Œå‰é¢æåˆ°çš„ Brainfuckã€Ook! éƒ½æ˜¯å…¶ä¸­çš„ä¸€å‘˜ï¼Œåœ¨çˆ¬è™«é¢†åŸŸä¸­ï¼Œè¯´å®è¯è¿™ç§ç¨€å¥‡å¤æ€ªçš„æ··æ·†å…¶å®å¹¶ä¸å¸¸è§ï¼Œä½†æ˜¯åœ¨ä¸€äº› CTF ä¸­æœ‰å¯èƒ½ä¼šå‡ºç°ï¼Œä½œä¸ºçˆ¬è™«å·¥ç¨‹å¸ˆä¹Ÿå¯ä»¥äº†è§£äº†è§£ğŸ˜ï¼Œå…·ä½“å¯ä»¥å‚è€ƒï¼š<a href="https://esolangs.org/wiki/Trivial_brainfuck_substitution">https://esolangs.org/wiki/Trivial_brainfuck_substitution</a></p><h2><span id="qi-ta">å…¶ä»–</span></h2><h3><span id="kai-sa-mi-ma">æºæ’’å¯†ç </span></h3><p>æºæ’’å¯†ç ï¼ˆCaesar cipherï¼‰åˆç§°ä¸ºæºæ’’åŠ å¯†ã€æºæ’’å˜æ¢ã€å˜æ¢åŠ å¯†ï¼Œå®ƒæ˜¯ä¸€ç§æ›¿æ¢åŠ å¯†çš„æŠ€æœ¯ï¼Œæ˜æ–‡ä¸­çš„æ‰€æœ‰å­—æ¯éƒ½åœ¨å­—æ¯è¡¨ä¸Šå‘åï¼ˆæˆ–å‘å‰ï¼‰æŒ‰ç…§ä¸€ä¸ªå›ºå®šæ•°ç›®è¿›è¡Œåç§»åè¢«æ›¿æ¢æˆå¯†æ–‡ã€‚ä¾‹å¦‚ï¼Œå½“åç§»é‡æ˜¯ 3 çš„æ—¶å€™ï¼Œæ‰€æœ‰çš„å­—æ¯ A å°†è¢«æ›¿æ¢æˆ Dï¼ŒB å˜æˆ Eï¼Œä»¥æ­¤ç±»æ¨ã€‚è¿™ä¸ªåŠ å¯†æ–¹æ³•æ˜¯ä»¥ç½—é©¬å…±å’Œæ—¶æœŸæºæ’’çš„åå­—å‘½åçš„ï¼Œå½“å¹´æºæ’’æ›¾ç”¨æ­¤æ–¹æ³•ä¸å…¶å°†å†›ä»¬è¿›è¡Œè”ç³»ã€‚</p><p>æ ¹æ®åç§»é‡çš„ä¸åŒï¼Œè¿˜å­˜åœ¨è‹¥å¹²ç‰¹å®šçš„æºæ’’å¯†ç åç§°ï¼šåç§»é‡ä¸º10ï¼šAvocatï¼ˆAâ†’Kï¼‰ï¼›åç§»é‡ä¸º13ï¼šROT13ï¼›åç§»é‡ä¸º-5ï¼šCassis (K 6)ï¼›åç§»é‡ä¸º-6ï¼šCassette (K 7)</p><p>ç¤ºä¾‹ï¼ˆåç§»é‡ 3ï¼‰ï¼š</p><ul><li><p>æ˜æ–‡å­—æ¯è¡¨ï¼šABCDEFGHIJKLMNOPQRSTUVWXYZ</p></li><li><p>å¯†æ–‡å­—æ¯è¡¨ï¼šDEFGHIJKLMNOPQRSTUVWXYZABC</p></li></ul><h3><span id="zha-lan-mi-ma">æ …æ å¯†ç </span></h3><p>æ …æ å¯†ç å°±æ˜¯æŠŠè¦åŠ å¯†çš„æ˜æ–‡åˆ†æˆ N ä¸ªä¸€ç»„ï¼Œç„¶åæŠŠæ¯ç»„çš„ç¬¬ 1 ä¸ªå­—è¿èµ·æ¥ï¼Œå½¢æˆä¸€æ®µæ— è§„å¾‹çš„è¯ã€‚æ …æ å¯†ç æœ¬èº«æœ‰ä¸€ä¸ªæ½œè§„åˆ™ï¼Œå°±æ˜¯ç»„æˆæ …æ çš„å­—æ¯ä¸€èˆ¬ä¸ä¼šå¤ªå¤šï¼Œä¸€èˆ¬ä¸è¶…è¿‡ 30 ä¸ªã€‚</p><p>ç¤ºä¾‹ï¼šæ˜æ–‡ä¸º THE LONGEST DAY MUST HAVE AN ENDã€‚åŠ å¯†æ—¶ï¼ŒæŠŠå°†è¦ä¼ é€’çš„ä¿¡æ¯ä¸­çš„å­—æ¯äº¤æ›¿æ’æˆä¸Šä¸‹ä¸¤è¡Œï¼š</p><p>T E O G S D Y U T A E N N</p><p>H L N E T A M S H V A E D</p><p>å°†ä¸‹é¢ä¸€è¡Œå­—æ¯æ’åœ¨ä¸Šé¢ä¸€è¡Œçš„åè¾¹ç»„åˆæˆå¯†æ–‡ï¼š</p><p>TEOGSDYUTAENN HLNETAMSHVAED</p><p>æ …æ å¯†ç è¿˜æœ‰ä¸€ç§å˜ç§ï¼Œç§°ä¸ºæ …æ å¯†ç  W å‹ï¼Œå®ƒä¼šå…ˆæŠŠæ˜æ–‡ç±»ä¼¼ W å½¢çŠ¶è¿›è¡Œæ’åˆ—ï¼Œç„¶åå†æŒ‰æ ç›®é¡ºåº 1-Nï¼Œå–æ¯ä¸€æ çš„æ‰€æœ‰å­—ç¬¦å€¼ï¼Œç»„æˆåŠ å¯†åå¯†æ–‡ï¼Œæ¯”å¦‚å­—ç¬¦ä¸² 123456789ï¼Œé‡‡ç”¨æ ç›®æ•°ä¸º 3 æ—¶ï¼Œæ˜æ–‡å°†é‡‡ç”¨å¦‚ä¸‹æ’åˆ—ï¼š<br>1â€”5â€”9<br>-2-4-6-8-<br>â€“3â€”7â€“<br>å–æ¯ä¸€æ æ‰€æœ‰å­—ç¬¦ä¸²ï¼Œç»„æˆåŠ å¯†åå¯†æ–‡ï¼š159246837</p><h3><span id="zhu-quan-mi-ma">çŒªåœˆå¯†ç </span></h3><p>çŒªåœˆå¯†ç ä¹Ÿç§°ä¸ºæœ±é«˜å¯†ç ã€å…±æµä¼šæš—å·ã€å…±æµä¼šå¯†ç æˆ–å…±æµä¼šå‘˜å¯†ç ï¼Œæ˜¯ä¸€ç§ä»¥æ ¼å­ä¸ºåŸºç¡€çš„ç®€å•æ›¿ä»£å¼å¯†ç ã€‚åªèƒ½å¯¹å­—æ¯åŠ è§£å¯†å¹¶ä¸”ç¬¦å·æ— æ³•å¤åˆ¶ï¼Œç²˜è´´åä¼šç›´æ¥æ˜¾ç¤ºæ˜æ–‡ï¼Œå³ä½¿ä½¿ç”¨ç¬¦å·ï¼Œä¹Ÿä¸ä¼šå½±å“å¯†ç åˆ†æï¼Œäº¦å¯ç”¨åœ¨å…¶å®ƒæ›¿ä»£å¼çš„æ–¹æ³•ã€‚æ›¾ç»æ˜¯ç¾å›½å†…æˆ˜æ—¶ç›Ÿå†›ä½¿ç”¨çš„å¯†ç ï¼Œç›®å‰ä»…åœ¨å¯†ç æ•™å­¦ã€å„ç§ç«èµ›ä¸­ä½¿ç”¨ã€‚</p><p><img src="https://cdn.itbob.cn/img/article/045/01.gif" alt="01.gif"></p><h3><span id="mo-si-mi-ma">æ‘©æ–¯å¯†ç </span></h3><p>æ‘©æ–¯å¯†ç ï¼ˆMorse codeï¼‰ï¼Œåˆç§°ä¸ºæ‘©å°”æ–¯ç”µç ã€æ‘©æ–¯ç”µç ï¼Œæ˜¯ä¸€ç§æ—¶é€šæ—¶æ–­çš„ä¿¡å·ä»£ç ï¼Œè¿™ç§ä¿¡å·ä»£ç é€šè¿‡ä¸åŒçš„æ’åˆ—é¡ºåºæ¥è¡¨è¾¾ä¸åŒçš„è‹±æ–‡å­—æ¯ã€æ•°å­—å’Œæ ‡ç‚¹ç¬¦å·ç­‰ã€‚</p><p>26ä¸ªå­—æ¯çš„æ‘©æ–¯å¯†ç è¡¨</p><table><thead><tr><th style="text-align:left">å­—ç¬¦</th><th style="text-align:left">æ‘©æ–¯ç </th><th style="text-align:left">å­—ç¬¦</th><th style="text-align:left">æ‘©æ–¯ç </th><th>å­—ç¬¦</th><th>æ‘©æ–¯ç </th><th>å­—ç¬¦</th><th>æ‘©æ–¯ç </th></tr></thead><tbody><tr><td style="text-align:left">A</td><td style="text-align:left"><code>ï¼â”</code></td><td style="text-align:left">B</td><td style="text-align:left"><code>â” ï¼ï¼ï¼</code></td><td>C</td><td><code>â” ï¼â” ï¼</code></td><td>D</td><td><code>â” ï¼ï¼</code></td></tr><tr><td style="text-align:left">E</td><td style="text-align:left"><code>ï¼</code></td><td style="text-align:left">F</td><td style="text-align:left"><code>ï¼ï¼â” ï¼</code></td><td>G</td><td><code>â” â” ï¼</code></td><td>H</td><td><code>ï¼ï¼ï¼ï¼</code></td></tr><tr><td style="text-align:left">I</td><td style="text-align:left"><code>ï¼ï¼</code></td><td style="text-align:left">J</td><td style="text-align:left"><code>ï¼â” â” â”</code></td><td>K</td><td><code>â” ï¼â”</code></td><td>L</td><td><code>ï¼â” ï¼ï¼</code></td></tr><tr><td style="text-align:left">M</td><td style="text-align:left"><code>â” â”</code></td><td style="text-align:left">N</td><td style="text-align:left"><code>â” ï¼</code></td><td>O</td><td><code>â” â” â”</code></td><td>P</td><td><code>ï¼â” â” ï¼</code></td></tr><tr><td style="text-align:left">Q</td><td style="text-align:left"><code>â” â” ï¼â”</code></td><td style="text-align:left">R</td><td style="text-align:left"><code>ï¼â” ï¼</code></td><td>S</td><td><code>ï¼ï¼ï¼</code></td><td>T</td><td><code>â”</code></td></tr><tr><td style="text-align:left">U</td><td style="text-align:left"><code>ï¼ï¼â”</code></td><td style="text-align:left">V</td><td style="text-align:left"><code>ï¼ï¼ï¼â”</code></td><td>W</td><td><code>ï¼â” â”</code></td><td>X</td><td><code>â” ï¼ï¼â”</code></td></tr><tr><td style="text-align:left">Y</td><td style="text-align:left"><code>â” ï¼â” â”</code></td><td style="text-align:left">Z</td><td style="text-align:left"><code>â” â” ï¼ï¼</code></td><td></td><td></td><td></td><td></td></tr></tbody></table><p>10ä¸ªæ•°å­—çš„æ‘©æ–¯å¯†ç è¡¨</p><table><thead><tr><th style="text-align:left">å­—ç¬¦</th><th style="text-align:left">æ‘©æ–¯ç </th><th style="text-align:left">å­—ç¬¦</th><th style="text-align:left">æ‘©æ–¯ç </th><th>å­—ç¬¦</th><th>æ‘©æ–¯ç </th><th>å­—ç¬¦</th><th>æ‘©æ–¯ç </th></tr></thead><tbody><tr><td style="text-align:left">0</td><td style="text-align:left"><code>â” â” â” â” â”</code></td><td style="text-align:left">1</td><td style="text-align:left"><code>ï¼â” â” â” â”</code></td><td>2</td><td><code>ï¼ï¼â” â” â”</code></td><td>3</td><td><code>ï¼ï¼ï¼â” â”</code></td></tr><tr><td style="text-align:left">4</td><td style="text-align:left"><code>ï¼ï¼ï¼ï¼â”</code></td><td style="text-align:left">5</td><td style="text-align:left"><code>ï¼ï¼ï¼ï¼ï¼</code></td><td>6</td><td><code>â” ï¼ï¼ï¼ï¼</code></td><td>7</td><td><code>â” â” ï¼ï¼ï¼</code></td></tr><tr><td style="text-align:left">8</td><td style="text-align:left"><code>â” â” â” ï¼ï¼</code></td><td style="text-align:left">9</td><td style="text-align:left"><code>â” â” â” â” ï¼</code></td><td></td><td></td><td></td><td></td></tr></tbody></table><p>æ ‡ç‚¹ç¬¦å·çš„æ‘©æ–¯å¯†ç è¡¨</p><table><thead><tr><th style="text-align:left">å­—ç¬¦</th><th style="text-align:left">æ‘©æ–¯ç </th><th style="text-align:left">å­—ç¬¦</th><th style="text-align:left">æ‘©æ–¯ç </th><th>å­—ç¬¦</th><th>æ‘©æ–¯ç </th><th>å­—ç¬¦</th><th>æ‘©æ–¯ç </th></tr></thead><tbody><tr><td style="text-align:left">.</td><td style="text-align:left"><code>ï¼â” ï¼â” ï¼â”</code></td><td style="text-align:left">:</td><td style="text-align:left"><code>â” â” â” ï¼ï¼ï¼</code></td><td>,</td><td><code>â” â” ï¼ï¼â” â”</code></td><td>;</td><td><code>â” ï¼â” ï¼â” ï¼</code></td></tr><tr><td style="text-align:left">?</td><td style="text-align:left"><code>ï¼ï¼â” â” ï¼ï¼</code></td><td style="text-align:left">=</td><td style="text-align:left"><code>â” ï¼ï¼ï¼â”</code></td><td>â€™</td><td><code>ï¼â” â” â” â” ï¼</code></td><td>/</td><td><code>â” ï¼ï¼â” ï¼</code></td></tr><tr><td style="text-align:left">!</td><td style="text-align:left"><code>â” ï¼â” ï¼â” â”</code></td><td style="text-align:left">â”</td><td style="text-align:left"><code>â” ï¼ï¼ï¼ï¼â”</code></td><td>_</td><td><code>ï¼ï¼â” â” ï¼â”</code></td><td>&quot;</td><td><code>ï¼â” ï¼ï¼â” ï¼</code></td></tr><tr><td style="text-align:left">(</td><td style="text-align:left"><code>â” ï¼â” â” ï¼</code></td><td style="text-align:left">)</td><td style="text-align:left"><code>â” ï¼â” â” ï¼â”</code></td><td>$</td><td><code>ï¼ï¼ï¼â” ï¼ï¼â”</code></td><td>&amp;</td><td><code>ï¼ ï¼ï¼ï¼</code></td></tr><tr><td style="text-align:left">@</td><td style="text-align:left"><code>ï¼â” â” ï¼â” ï¼</code></td><td style="text-align:left"></td><td style="text-align:left"></td><td></td><td></td><td></td><td></td></tr></tbody></table><h3><span id="pei-gen-mi-ma">åŸ¹æ ¹å¯†ç </span></h3><p>åŸ¹æ ¹å¯†ç ï¼Œåˆåå€åº·å°¼å¯†ç ï¼ˆBaconâ€™s cipherï¼‰æ˜¯ç”±æ³•å…°è¥¿æ–¯Â·åŸ¹æ ¹å‘æ˜çš„ä¸€ç§éšå†™æœ¯ï¼Œå®ƒæ˜¯ä¸€ç§æœ¬è´¨ä¸Šç”¨äºŒè¿›åˆ¶æ•°è®¾è®¡çš„ï¼Œæ²¡æœ‰ç”¨é€šå¸¸çš„0å’Œ1æ¥è¡¨ç¤ºï¼Œè€Œæ˜¯é‡‡ç”¨aå’Œbï¼Œçœ‹åˆ°ä¸€ä¸²çš„aå’Œbï¼Œå¹¶ä¸”äº”ä¸ªä¸€ç»„ï¼Œé‚£ä¹ˆå°±æ˜¯åŸ¹æ ¹åŠ å¯†äº†ã€‚</p><p>ç¬¬ä¸€ç§æ–¹å¼ï¼š</p><table><thead><tr><th>å­—ç¬¦</th><th>åŸ¹æ ¹å¯†ç </th><th>å­—ç¬¦</th><th>åŸ¹æ ¹å¯†ç </th><th>å­—ç¬¦</th><th>åŸ¹æ ¹å¯†ç </th><th>å­—ç¬¦</th><th>åŸ¹æ ¹å¯†ç </th></tr></thead><tbody><tr><td>A</td><td>aaaaa</td><td>H</td><td>aabbb</td><td>O</td><td>abbba</td><td>V</td><td>babab</td></tr><tr><td>B</td><td>aaaab</td><td>I</td><td>abaaa</td><td>P</td><td>abbbb</td><td>W</td><td>babba</td></tr><tr><td>C</td><td>aaaba</td><td>J</td><td>abaab</td><td>Q</td><td>baaaa</td><td>X</td><td>babbb</td></tr><tr><td>D</td><td>aaabb</td><td>K</td><td>ababa</td><td>R</td><td>baaab</td><td>Y</td><td>bbaaa</td></tr><tr><td>E</td><td>aabaa</td><td>L</td><td>ababb</td><td>S</td><td>baaba</td><td>Z</td><td>bbaab</td></tr><tr><td>F</td><td>aabab</td><td>M</td><td>abbaa</td><td>T</td><td>baabb</td><td></td><td></td></tr><tr><td>G</td><td>aabba</td><td>N</td><td>abbab</td><td>U</td><td>babaa</td><td></td><td></td></tr></tbody></table><p>ç¬¬äºŒç§æ–¹å¼ï¼š</p><table><thead><tr><th>å­—ç¬¦</th><th>åŸ¹æ ¹å¯†ç </th><th>å­—ç¬¦</th><th>åŸ¹æ ¹å¯†ç </th><th>å­—ç¬¦</th><th>åŸ¹æ ¹å¯†ç </th><th>å­—ç¬¦</th><th>åŸ¹æ ¹å¯†ç </th></tr></thead><tbody><tr><td>a</td><td>AAAAA</td><td>h</td><td>AABBB</td><td>p</td><td>ABBBA</td><td>x</td><td>BABAB</td></tr><tr><td>b</td><td>AAAAB</td><td>i-j</td><td>ABAAA</td><td>q</td><td>ABBBB</td><td>y</td><td>BABBA</td></tr><tr><td>c</td><td>AAABA</td><td>k</td><td>ABAAB</td><td>r</td><td>BAAAA</td><td>z</td><td>BABBB</td></tr><tr><td>d</td><td>AAABB</td><td>l</td><td>ABABA</td><td>s</td><td>BAAAB</td><td></td><td></td></tr><tr><td>e</td><td>AABAA</td><td>m</td><td>ABABB</td><td>t</td><td>BAABA</td><td></td><td></td></tr><tr><td>f</td><td>AABAB</td><td>n</td><td>ABBAA</td><td>u-v</td><td>BAABB</td><td></td><td></td></tr><tr><td>g</td><td>AABBA</td><td>o</td><td>ABBAB</td><td>w</td><td>BABAA</td><td></td><td></td></tr></tbody></table><p>ç¤ºä¾‹ï¼š</p><ul><li>æ˜æ–‡ï¼škuaidaili</li><li>å¯†æ–‡ï¼šABABABABAAAAAAAABAAAAAABBAAAAAABAAAABABBABAAA</li></ul><h3><span id="wei-ji-ni-ya-mi-ma">ç»´å‰å°¼äºšå¯†ç </span></h3><p>ç»´å‰å°¼äºšå¯†ç æ˜¯åœ¨å‡¯æ’’å¯†ç åŸºç¡€ä¸Šäº§ç”Ÿçš„ä¸€ç§åŠ å¯†æ–¹æ³•ï¼Œå®ƒå°†å‡¯æ’’å¯†ç çš„å…¨éƒ¨25ç§ä½ç§»æ’åºä¸ºä¸€å¼ è¡¨ï¼Œä¸åŸå­—æ¯åºåˆ—å…±åŒç»„æˆ26è¡ŒåŠ26åˆ—çš„å­—æ¯è¡¨ã€‚å¦å¤–ï¼Œç»´å‰å°¼äºšå¯†ç å¿…é¡»æœ‰ä¸€ä¸ªå¯†é’¥ï¼Œè¿™ä¸ªå¯†é’¥ç”±å­—æ¯ç»„æˆï¼Œæœ€å°‘ä¸€ä¸ªï¼Œæœ€å¤šå¯ä¸æ˜æ–‡å­—æ¯æ•°é‡ç›¸ç­‰ã€‚ç»´å‰å°¼äºšå¯†ç è¡¨å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.itbob.cn/img/article/045/02.png" alt="02.png"></p><p>ç¤ºä¾‹ï¼š</p><ul><li>æ˜æ–‡ï¼šIâ€™ve got it.</li><li>å¯†é’¥ï¼šok</li><li>å¯†æ–‡ï¼šWâ€™fsâ€‚qcdâ€‚wd.</li></ul><p>é¦–å…ˆï¼Œå¯†é’¥é•¿åº¦éœ€è¦ä¸æ˜æ–‡é•¿åº¦ç›¸åŒï¼Œå¦‚æœå°‘äºæ˜æ–‡é•¿åº¦ï¼Œåˆ™é‡å¤æ‹¼æ¥ç›´åˆ°ç›¸åŒã€‚ç¤ºä¾‹çš„æ˜æ–‡é•¿åº¦ä¸º8ä¸ªå­—æ¯ï¼ˆéå­—æ¯å‡è¢«å¿½ç•¥ï¼‰ï¼Œå¯†é’¥ä¼šè¢«ç¨‹åºè¡¥å…¨ä¸º <code>okokokok</code>ï¼Œç„¶åæ ¹æ®ç»´å‰å°¼äºšå¯†ç è¡¨è¿›è¡ŒåŠ å¯†ï¼šæ˜æ–‡ç¬¬ä¸€ä¸ªå­—æ¯æ˜¯ <code>I</code>ï¼Œå¯†é’¥ç¬¬ä¸€ä¸ªå­—æ¯æ˜¯ <code>o</code>ï¼Œåœ¨è¡¨æ ¼ä¸­æ‰¾åˆ° <code>I</code> åˆ—ä¸ <code>o</code> è¡Œç›¸äº¤ç‚¹ï¼Œå­—æ¯ <code>W</code> å°±æ˜¯å¯†æ–‡ç¬¬ä¸€ä¸ªå­—æ¯ï¼ŒåŒç†ï¼Œ<code>v</code> åˆ—ä¸ <code>k</code> è¡Œäº¤ç‚¹å­—æ¯æ˜¯ <code>F</code>ï¼Œ<code>e</code> åˆ—ä¸ <code>o</code> è¡Œäº¤ç‚¹å­—æ¯æ˜¯ <code>S</code>ï¼Œä»¥æ­¤ç±»æ¨ã€‚æ³¨æ„ï¼šç»´å‰å°¼äºšå¯†ç åªå¯¹å­—æ¯è¿›è¡ŒåŠ å¯†ï¼Œä¸åŒºåˆ†å¤§å°å†™ï¼Œè‹¥æ–‡æœ¬ä¸­å‡ºç°éå­—æ¯å­—ç¬¦ä¼šåŸæ ·ä¿ç•™ï¼Œå¦‚æœè¾“å…¥å¤šè¡Œæ–‡æœ¬ï¼Œæ¯è¡Œæ˜¯å•ç‹¬åŠ å¯†çš„ã€‚</p><h3><span id="yu-fo-lun-shan">ä¸ä½›è®ºç¦…</span></h3><p>å­—ç¬¦ä¸²è½¬æ¢åï¼Œæ˜¯ä¸€äº›ä½›è¯­ï¼Œåœ¨çº¿ä½“éªŒï¼š<a href="https://keyfc.net/bbs/tools/tudoucode.aspx">https://keyfc.net/bbs/tools/tudoucode.aspx</a></p><p>ç¤ºä¾‹ï¼š</p><ul><li>æ˜æ–‡ï¼šçˆ¬è™«</li><li>å¯†æ–‡ï¼šä½›æ›°ï¼šä¿±æ›³æ —ç¾…ã€‚è«³æ•…å¤§å¤šç½°é¡›å†¥æœ‰è«³å§ªå¸ç½°çŸ¥ä¿±è–©å¿ƒä¿±æ™ºä¼Š</li></ul><h3><span id="dang-pu-mi-ma">å½“é“ºå¯†ç </span></h3><p>å½“é“ºå¯†ç åœ¨ CTF æ¯”èµ›é¢˜ç›®ä¸­å‡ºç°è¿‡ã€‚è¯¥åŠ å¯†ç®—æ³•æ˜¯æ ¹æ®å½“å‰æ±‰å­—æœ‰å¤šå°‘ç¬”ç”»å‡ºå¤´ï¼Œå¯¹åº”çš„æ˜æ–‡å°±æ˜¯æ•°å­—å‡ ã€‚</p><p>ç¤ºä¾‹ï¼š</p><ul><li>æ˜æ–‡ï¼šç‹å¤« äº•å·¥ å¤«å£ ç”±ä¸­äºº äº•ä¸­ å¤«å¤« ç”±ä¸­å¤§</li><li>å¯†æ–‡ï¼š67 84 70 123 82 77 125</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdn.itbob.cn/img/cover/encryption_algorithm.png&quot; alt=&quot;encryption_algorithm&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;center&gt;&lt;font color=&quot;red&quot; s</summary>
      
    
    
    
    <category term="JS é€†å‘ç†è®º" scheme="https://www.itbob.cn/categories/JS-%E9%80%86%E5%90%91%E7%90%86%E8%AE%BA/"/>
    
    
    <category term="ç®—æ³•" scheme="https://www.itbob.cn/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="JS é€†å‘ç†è®º" scheme="https://www.itbob.cn/tags/JS-%E9%80%86%E5%90%91%E7%90%86%E8%AE%BA/"/>
    
    <category term="çˆ¬è™«" scheme="https://www.itbob.cn/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>è®¤è¯† SM1/SM2/SM3/SM4/SM7/SM9/ZUC å›½å¯†ç®—æ³•</title>
    <link href="https://www.itbob.cn/article/041/"/>
    <id>https://www.itbob.cn/article/041/</id>
    <published>2021-11-04T04:39:00.000Z</published>
    <updated>2022-05-22T12:49:00.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.itbob.cn/img/cover/sm_algorithm.png" alt="sm_algorithm"></p><p><strong><center><font color="red" size="5px" weight="bolder">æ¬¢è¿åŠ å…¥çˆ¬è™«é€†å‘å¾®ä¿¡äº¤æµç¾¤ï¼šæ·»åŠ å¾®ä¿¡ IT-BOBï¼ˆå¤‡æ³¨äº¤æµç¾¤ï¼‰</font></center></strong></p><h2><span id="wen-zhang-mu-lu">æ–‡ç« ç›®å½•</span></h2><hr><!-- toc --><ul><li><a href="#jian-jie">ç®€ä»‹</a></li><li><a href="#suan-fa-gai-shu">ç®—æ³•æ¦‚è¿°</a></li><li><a href="#suan-fa-xiang-jie">ç®—æ³•è¯¦è§£</a><ul><li><a href="#sm1-fen-zu-jia-mi-suan-fa">SM1 åˆ†ç»„åŠ å¯†ç®—æ³•</a></li><li><a href="#tuo-yuan-qu-xian-gong-yao-jia-mi-suan-fa">æ¤­åœ†æ›²çº¿å…¬é’¥åŠ å¯†ç®—æ³•</a></li><li><a href="#za-cou-suan-fa">æ‚å‡‘ç®—æ³•</a></li><li><a href="#fen-zu-jia-mi-suan-fa">åˆ†ç»„åŠ å¯†ç®—æ³•</a></li><li><a href="#fen-zu-jia-mi-suan-fa-1">åˆ†ç»„åŠ å¯†ç®—æ³•</a></li><li><a href="#biao-shi-jia-mi-suan-fa">æ ‡è¯†åŠ å¯†ç®—æ³•</a></li><li><a href="#zu-chong-zhi-suan-fa">ç¥–å†²ä¹‹ç®—æ³•</a></li></ul></li><li><a href="#bian-cheng-yu-yan-shi-xian">ç¼–ç¨‹è¯­è¨€å®ç°</a><ul><li><a href="#python-yu-yan-shi-xian">Python è¯­è¨€å®ç°</a></li><li><a href="#javascript-yu-yan-shi-xian">JavaScript è¯­è¨€å®ç°</a></li><li><a href="#qi-ta-yu-yan-shi-xian-yi-ji-can-kao-zi-liao">å…¶ä»–è¯­è¨€å®ç°ä»¥åŠå‚è€ƒèµ„æ–™</a></li></ul></li><li><a href="#fu-gm-t-mi-ma-xing-ye-biao-zhun">é™„ï¼šGM/T å¯†ç è¡Œä¸šæ ‡å‡†</a></li></ul><!-- tocstop --><hr><h2><span id="jian-jie">ç®€ä»‹</span></h2><p>å›½å¯†å³å›½å®¶å¯†ç å±€è®¤å®šçš„å›½äº§åŠ å¯†ç®—æ³•ï¼Œçˆ¬è™«å·¥ç¨‹å¸ˆåœ¨åš JS é€†å‘çš„æ—¶å€™ï¼Œä¼šé‡åˆ°å„ç§å„æ ·çš„åŠ å¯†ç®—æ³•ï¼Œå…¶ä¸­ RSAã€AESã€SHA ç­‰ç®—æ³•æ˜¯æœ€å¸¸è§çš„ï¼Œè¿™äº›ç®—æ³•éƒ½æ˜¯å›½å¤–çš„ï¼Œåœ¨æˆ‘ä»¥å‰çš„æ–‡ç« é‡Œä¹Ÿæœ‰ä»‹ç»ï¼š<a href="https://itrhx.blog.csdn.net/article/details/119250052">ã€Šå²ä¸Šæœ€å…¨æ€»ç»“ï¼çˆ¬è™«å¸¸è§åŠ å¯†è§£å¯†ç®—æ³•ã€‹</a></p><p>äº‹å®ä¸Šä» 2010 å¹´å¼€å§‹ï¼Œæˆ‘å›½å›½å®¶å¯†ç ç®¡ç†å±€å°±å·²ç»å¼€å§‹é™†ç»­å‘å¸ƒäº†ä¸€ç³»åˆ—å›½äº§åŠ å¯†ç®—æ³•ï¼Œè¿™å…¶ä¸­å°±åŒ…æ‹¬ SM1ã€SM2ã€SM3 ã€SM4ã€SM7ã€SM9ã€ZUCï¼ˆç¥–å†²ä¹‹åŠ å¯†ç®—æ³•ï¼‰ç­‰ï¼ŒSM ä»£è¡¨å•†å¯†ï¼Œå³å•†ä¸šå¯†ç ï¼Œæ˜¯æŒ‡ç”¨äºå•†ä¸šçš„ã€ä¸æ¶‰åŠå›½å®¶ç§˜å¯†çš„å¯†ç æŠ€æœ¯ã€‚<strong>SM1 å’Œ SM7 çš„ç®—æ³•ä¸å…¬å¼€</strong>ï¼Œå…¶ä½™ç®—æ³•éƒ½å·²æˆä¸º ISO/IEC å›½é™…æ ‡å‡†ã€‚</p><p>åœ¨è¿™äº›å›½äº§åŠ å¯†ç®—æ³•ä¸­ï¼Œ<strong><font color="#B01B15">SM2ã€SM3ã€SM4 ä¸‰ç§åŠ å¯†ç®—æ³•æ˜¯æ¯”è¾ƒå¸¸è§çš„</font></strong>ï¼Œåœ¨çˆ¬å–éƒ¨åˆ† gov ç½‘ç«™æ—¶ï¼Œä¹Ÿå¯èƒ½ä¼šé‡åˆ°è¿™äº›ç®—æ³•ï¼Œæ‰€ä»¥ä½œä¸ºçˆ¬è™«å·¥ç¨‹å¸ˆæ˜¯æœ‰å¿…è¦äº†è§£ä¸€ä¸‹è¿™äº›ç®—æ³•çš„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºæŸ gov ç½‘ç«™å°±ä½¿ç”¨äº† SM2 å’Œ SM4 åŠ å¯†ç®—æ³•ï¼š</p><p><img src="https://img-blog.csdnimg.cn/758cb19d1fbc4ec5ad7cc33781c2f34e.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAVFJIWCDigKIg6bKN5YuD,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt></p><hr><h2><span id="suan-fa-gai-shu">ç®—æ³•æ¦‚è¿°</span></h2><table><thead><tr><th style="text-align:center">ç®—æ³•åç§°</th><th style="text-align:center">ç®—æ³•ç±»åˆ«</th><th style="text-align:center">åº”ç”¨é¢†åŸŸ</th><th style="text-align:center">ç‰¹ç‚¹</th></tr></thead><tbody><tr><td style="text-align:center">SM1</td><td style="text-align:center">å¯¹ç§°ï¼ˆåˆ†ç»„ï¼‰åŠ å¯†ç®—æ³•</td><td style="text-align:center">èŠ¯ç‰‡</td><td style="text-align:center">åˆ†ç»„é•¿åº¦ã€å¯†é’¥é•¿åº¦å‡ä¸º 128 æ¯”ç‰¹</td></tr><tr><td style="text-align:center">SM2</td><td style="text-align:center">éå¯¹ç§°ï¼ˆåŸºäºæ¤­åœ†æ›²çº¿ ECCï¼‰åŠ å¯†ç®—æ³•</td><td style="text-align:center">æ•°æ®åŠ å¯†</td><td style="text-align:center">ECC æ¤­åœ†æ›²çº¿å¯†ç æœºåˆ¶ 256 ä½ï¼Œç›¸æ¯” RSA å¤„ç†é€Ÿåº¦å¿«ï¼Œæ¶ˆè€—æ›´å°‘</td></tr><tr><td style="text-align:center">SM3</td><td style="text-align:center">æ•£åˆ—ï¼ˆhashï¼‰å‡½æ•°ç®—æ³•</td><td style="text-align:center">å®Œæ•´æ€§æ ¡éªŒ</td><td style="text-align:center">å®‰å…¨æ€§åŠæ•ˆç‡ä¸ SHA-256 ç›¸å½“ï¼Œå‹ç¼©å‡½æ•°æ›´å¤æ‚</td></tr><tr><td style="text-align:center">SM4</td><td style="text-align:center">å¯¹ç§°ï¼ˆåˆ†ç»„ï¼‰åŠ å¯†ç®—æ³•</td><td style="text-align:center">æ•°æ®åŠ å¯†å’Œå±€åŸŸç½‘äº§å“</td><td style="text-align:center">åˆ†ç»„é•¿åº¦ã€å¯†é’¥é•¿åº¦å‡ä¸º 128 æ¯”ç‰¹ï¼Œè®¡ç®—è½®æ•°å¤š</td></tr><tr><td style="text-align:center">SM7</td><td style="text-align:center">å¯¹ç§°ï¼ˆåˆ†ç»„ï¼‰åŠ å¯†ç®—æ³•</td><td style="text-align:center">éæ¥è§¦å¼ IC å¡</td><td style="text-align:center">åˆ†ç»„é•¿åº¦ã€å¯†é’¥é•¿åº¦å‡ä¸º 128 æ¯”ç‰¹</td></tr><tr><td style="text-align:center">SM9</td><td style="text-align:center">æ ‡è¯†åŠ å¯†ç®—æ³•ï¼ˆIBEï¼‰</td><td style="text-align:center">ç«¯å¯¹ç«¯ç¦»çº¿å®‰å…¨é€šè®¯</td><td style="text-align:center">åŠ å¯†å¼ºåº¦ç­‰åŒäº 3072 ä½å¯†é’¥çš„ RSA åŠ å¯†ç®—æ³•</td></tr><tr><td style="text-align:center">ZUC</td><td style="text-align:center">å¯¹ç§°ï¼ˆåºåˆ—ï¼‰åŠ å¯†ç®—æ³•</td><td style="text-align:center">ç§»åŠ¨é€šä¿¡ 4G ç½‘ç»œ</td><td style="text-align:center">æµå¯†ç </td></tr></tbody></table><hr><h2><span id="suan-fa-xiang-jie">ç®—æ³•è¯¦è§£</span></h2><h3><span id="sm1-fen-zu-jia-mi-suan-fa">SM1 åˆ†ç»„åŠ å¯†ç®—æ³•</span></h3><p>SM1 ä¸ºåˆ†ç»„åŠ å¯†ç®—æ³•ï¼Œå¯¹ç§°åŠ å¯†ï¼Œåˆ†ç»„é•¿åº¦å’Œå¯†é’¥é•¿åº¦éƒ½ä¸º 128 ä½ï¼Œæ•…å¯¹æ¶ˆæ¯è¿›è¡ŒåŠ è§£å¯†æ—¶ï¼Œè‹¥æ¶ˆæ¯é•¿åº¦è¿‡é•¿ï¼Œéœ€è¦è¿›è¡Œåˆ†ç»„ï¼Œè¦æ¶ˆæ¯é•¿åº¦ä¸è¶³ï¼Œåˆ™è¦è¿›è¡Œå¡«å……ã€‚ç®—æ³•å®‰å…¨ä¿å¯†å¼ºåº¦åŠç›¸å…³è½¯ç¡¬ä»¶å®ç°æ€§èƒ½ä¸ AES ç›¸å½“ï¼Œè¯¥ç®—æ³•ä¸å…¬å¼€ï¼Œä»…ä»¥ IP æ ¸çš„å½¢å¼å­˜åœ¨äºèŠ¯ç‰‡ä¸­ï¼Œè°ƒç”¨è¯¥ç®—æ³•æ—¶ï¼Œéœ€è¦é€šè¿‡åŠ å¯†èŠ¯ç‰‡çš„æ¥å£è¿›è¡Œè°ƒç”¨ï¼Œé‡‡ç”¨è¯¥ç®—æ³•å·²ç»ç ”åˆ¶äº†ç³»åˆ—èŠ¯ç‰‡ã€æ™ºèƒ½ IC å¡ã€æ™ºèƒ½å¯†ç é’¥åŒ™ã€åŠ å¯†å¡ã€åŠ å¯†æœºç­‰å®‰å…¨äº§å“ï¼Œå¹¿æ³›åº”ç”¨äºç”µå­æ”¿åŠ¡ã€ç”µå­å•†åŠ¡åŠå›½æ°‘ç»æµçš„å„ä¸ªåº”ç”¨é¢†åŸŸï¼ˆåŒ…æ‹¬å›½å®¶æ”¿åŠ¡é€šã€è­¦åŠ¡é€šç­‰é‡è¦é¢†åŸŸï¼‰ï¼Œä¸€èˆ¬äº†è§£çš„äººæ¯”è¾ƒå°‘ï¼Œçˆ¬è™«å·¥ç¨‹å¸ˆä¹Ÿä¸ä¼šé‡åˆ°è¿™ç§åŠ å¯†ç®—æ³•ã€‚</p><h3><span id="tuo-yuan-qu-xian-gong-yao-jia-mi-suan-fa">æ¤­åœ†æ›²çº¿å…¬é’¥åŠ å¯†ç®—æ³•</span></h3><p>SM2 ä¸ºæ¤­åœ†æ›²çº¿ï¼ˆECCï¼‰å…¬é’¥åŠ å¯†ç®—æ³•ï¼Œéå¯¹ç§°åŠ å¯†ï¼ŒSM2 ç®—æ³•å’Œ RSA ç®—æ³•éƒ½æ˜¯å…¬é’¥åŠ å¯†ç®—æ³•ï¼ŒSM2 ç®—æ³•æ˜¯ä¸€ç§æ›´å…ˆè¿›å®‰å…¨çš„ç®—æ³•ï¼Œåœ¨æˆ‘ä»¬å›½å®¶å•†ç”¨å¯†ç ä½“ç³»ä¸­è¢«ç”¨æ¥æ›¿æ¢ RSA ç®—æ³•ï¼Œåœ¨ä¸å°‘ gov ç½‘ç«™ä¼šè§åˆ°æ­¤ç±»åŠ å¯†ç®—æ³•ã€‚æˆ‘å›½å­¦è€…å¯¹æ¤­åœ†æ›²çº¿å¯†ç çš„ç ”ç©¶ä» 20 ä¸–çºª 80 å¹´ä»£å¼€å§‹ï¼Œç›®å‰å·²å–å¾—ä¸å°‘æˆæœï¼ŒSM2 æ¤­åœ†æ›²çº¿å…¬é’¥å¯†ç ç®—æ³•æ¯” RSA ç®—æ³•æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">SM2</th><th style="text-align:center">RSA</th></tr></thead><tbody><tr><td style="text-align:center">å®‰å…¨æ€§</td><td style="text-align:center">256 ä½ SM2 å¼ºåº¦å·²è¶…è¿‡ RSA-2048</td><td style="text-align:center">ä¸€èˆ¬</td></tr><tr><td style="text-align:center">ç®—æ³•ç»“æ„</td><td style="text-align:center">åŸºæœ¬æ¤­åœ†æ›²çº¿ï¼ˆECCï¼‰</td><td style="text-align:center">åŸºäºç‰¹æ®Šçš„å¯é€†æ¨¡å¹‚è¿ç®—</td></tr><tr><td style="text-align:center">è®¡ç®—å¤æ‚åº¦</td><td style="text-align:center">å®Œå…¨æŒ‡æ•°çº§</td><td style="text-align:center">äºšæŒ‡æ•°çº§</td></tr><tr><td style="text-align:center">å­˜å‚¨ç©ºé—´ï¼ˆå¯†é’¥é•¿åº¦ï¼‰</td><td style="text-align:center">192-256 bit</td><td style="text-align:center">2048-4096 bit</td></tr><tr><td style="text-align:center">ç§˜é’¥ç”Ÿæˆé€Ÿåº¦</td><td style="text-align:center">è¾ƒ RSA ç®—æ³•å¿«ç™¾å€ä»¥ä¸Š</td><td style="text-align:center">æ…¢</td></tr><tr><td style="text-align:center">è§£å¯†åŠ å¯†é€Ÿåº¦</td><td style="text-align:center">è¾ƒå¿«</td><td style="text-align:center">ä¸€èˆ¬</td></tr></tbody></table><h3><span id="za-cou-suan-fa">æ‚å‡‘ç®—æ³•</span></h3><p>SM3 ä¸ºå¯†ç æ‚å‡‘ç®—æ³•ï¼Œé‡‡ç”¨å¯†ç æ•£åˆ—ï¼ˆhashï¼‰å‡½æ•°æ ‡å‡†ï¼Œç”¨äºæ›¿ä»£ MD5/SHA-1/SHA-2 ç­‰å›½é™…ç®—æ³•ï¼Œæ˜¯åœ¨ SHA-256 åŸºç¡€ä¸Šæ”¹è¿›å®ç°çš„ä¸€ç§ç®—æ³•ï¼Œæ¶ˆæ¯åˆ†ç»„é•¿åº¦ä¸º 512 ä½ï¼Œæ‘˜è¦å€¼é•¿åº¦ä¸º 256 ä½ï¼Œå…¶ä¸­ä½¿ç”¨äº†å¼‚æˆ–ã€æ¨¡ã€æ¨¡åŠ ã€ç§»ä½ã€ä¸ã€æˆ–ã€éè¿ç®—ï¼Œç”±å¡«å……ã€è¿­ä»£è¿‡ç¨‹ã€æ¶ˆæ¯æ‰©å±•å’Œå‹ç¼©å‡½æ•°æ‰€æ„æˆã€‚åœ¨å•†ç”¨å¯†ç ä½“ç³»ä¸­ï¼ŒSM3 ä¸»è¦ç”¨äºæ•°å­—ç­¾ååŠéªŒè¯ã€æ¶ˆæ¯è®¤è¯ç ç”ŸæˆåŠéªŒè¯ã€éšæœºæ•°ç”Ÿæˆç­‰ã€‚æ®å›½å®¶å¯†ç ç®¡ç†å±€è¡¨ç¤ºï¼Œå…¶å®‰å…¨æ€§åŠæ•ˆç‡è¦é«˜äº MD5 ç®—æ³•å’Œ SHA-1 ç®—æ³•ï¼Œä¸ SHA-256 ç›¸å½“ã€‚</p><h3><span id="fen-zu-jia-mi-suan-fa">åˆ†ç»„åŠ å¯†ç®—æ³•</span></h3><p>SM4 ä¸ºæ— çº¿å±€åŸŸç½‘æ ‡å‡†çš„åˆ†ç»„åŠ å¯†ç®—æ³•ï¼Œå¯¹ç§°åŠ å¯†ï¼Œç”¨äºæ›¿ä»£ DES/AES ç­‰å›½é™…ç®—æ³•ï¼ŒSM4 ç®—æ³•ä¸ AES ç®—æ³•å…·æœ‰ç›¸åŒçš„å¯†é’¥é•¿åº¦å’Œåˆ†ç»„é•¿åº¦ï¼Œå‡ä¸º 128 ä½ï¼Œæ•…å¯¹æ¶ˆæ¯è¿›è¡ŒåŠ è§£å¯†æ—¶ï¼Œè‹¥æ¶ˆæ¯é•¿åº¦è¿‡é•¿ï¼Œéœ€è¦è¿›è¡Œåˆ†ç»„ï¼Œè¦æ¶ˆæ¯é•¿åº¦ä¸è¶³ï¼Œåˆ™è¦è¿›è¡Œå¡«å……ã€‚åŠ å¯†ç®—æ³•ä¸å¯†é’¥æ‰©å±•ç®—æ³•éƒ½é‡‡ç”¨ 32 è½®éçº¿æ€§è¿­ä»£ç»“æ„ï¼Œè§£å¯†ç®—æ³•ä¸åŠ å¯†ç®—æ³•çš„ç»“æ„ç›¸åŒï¼Œåªæ˜¯è½®å¯†é’¥çš„ä½¿ç”¨é¡ºåºç›¸åï¼Œè§£å¯†è½®å¯†é’¥æ˜¯åŠ å¯†è½®å¯†é’¥çš„é€†åºã€‚</p><table><thead><tr><th></th><th>SM4</th><th>DES</th><th>AES</th></tr></thead><tbody><tr><td>è®¡ç®—è½®æ•°</td><td>32</td><td>16ï¼ˆ3DES ä¸º 16*3ï¼‰</td><td>10/12/14</td></tr><tr><td>å¯†ç éƒ¨ä»¶</td><td>S ç›’ã€éçº¿æ€§å˜æ¢ã€çº¿æ€§å˜æ¢ã€åˆæˆå˜æ¢</td><td>æ ‡å‡†ç®—æœ¯å’Œé€»è¾‘è¿ç®—ã€å…ˆæ›¿æ¢åç½®æ¢ï¼Œä¸å«çº¿æ€§å˜æ¢</td><td>S ç›’ã€è¡Œç§»ä½å˜æ¢ã€åˆ—æ··åˆå˜æ¢ã€åœˆå¯†é’¥åŠ å˜æ¢ï¼ˆAddRoundKeyï¼‰</td></tr></tbody></table><h3><span id="fen-zu-jia-mi-suan-fa">åˆ†ç»„åŠ å¯†ç®—æ³•</span></h3><p>SM7 ä¸ºåˆ†ç»„åŠ å¯†ç®—æ³•ï¼Œå¯¹ç§°åŠ å¯†ï¼Œè¯¥ç®—æ³•ä¸å…¬å¼€ï¼Œåº”ç”¨åŒ…æ‹¬èº«ä»½è¯†åˆ«ç±»åº”ç”¨ï¼ˆéæ¥è§¦å¼ IC å¡ã€é—¨ç¦å¡ã€å·¥ä½œè¯ã€å‚èµ›è¯ç­‰ï¼‰ï¼Œç¥¨åŠ¡ç±»åº”ç”¨ï¼ˆå¤§å‹èµ›äº‹é—¨ç¥¨ã€å±•ä¼šé—¨ç¥¨ç­‰ï¼‰ï¼Œæ”¯ä»˜ä¸é€šå¡ç±»åº”ç”¨ï¼ˆç§¯åˆ†æ¶ˆè´¹å¡ã€æ ¡å›­ä¸€å¡é€šã€ä¼ä¸šä¸€å¡é€šç­‰ï¼‰ã€‚çˆ¬è™«å·¥ç¨‹å¸ˆåŸºæœ¬ä¸Šä¸ä¼šé‡åˆ°æ­¤ç±»ç®—æ³•ã€‚</p><h3><span id="biao-shi-jia-mi-suan-fa">æ ‡è¯†åŠ å¯†ç®—æ³•</span></h3><p>SM9 ä¸ºæ ‡è¯†åŠ å¯†ç®—æ³•ï¼ˆIdentity-Based Cryptographyï¼‰ï¼Œéå¯¹ç§°åŠ å¯†ï¼Œæ ‡è¯†åŠ å¯†å°†ç”¨æˆ·çš„æ ‡è¯†ï¼ˆå¦‚å¾®ä¿¡å·ã€é‚®ä»¶åœ°å€ã€æ‰‹æœºå·ç ã€QQ å·ç­‰ï¼‰ä½œä¸ºå…¬é’¥ï¼Œçœç•¥äº†äº¤æ¢æ•°å­—è¯ä¹¦å’Œå…¬é’¥è¿‡ç¨‹ï¼Œä½¿å¾—å®‰å…¨ç³»ç»Ÿå˜å¾—æ˜“äºéƒ¨ç½²å’Œç®¡ç†ï¼Œé€‚ç”¨äºäº’è”ç½‘åº”ç”¨çš„å„ç§æ–°å…´åº”ç”¨çš„å®‰å…¨ä¿éšœï¼Œå¦‚åŸºäºäº‘æŠ€æœ¯çš„å¯†ç æœåŠ¡ã€ç”µå­é‚®ä»¶å®‰å…¨ã€æ™ºèƒ½ç»ˆç«¯ä¿æŠ¤ã€ç‰©è”ç½‘å®‰å…¨ã€äº‘å­˜å‚¨å®‰å…¨ç­‰ç­‰ã€‚è¿™äº›å®‰å…¨åº”ç”¨å¯é‡‡ç”¨æ‰‹æœºå·ç æˆ–é‚®ä»¶åœ°å€ä½œä¸ºå…¬é’¥ï¼Œå®ç°æ•°æ®åŠ å¯†ã€èº«ä»½è®¤è¯ã€é€šè¯åŠ å¯†ã€é€šé“åŠ å¯†ç­‰ã€‚åœ¨å•†ç”¨å¯†ç ä½“ç³»ä¸­ï¼ŒSM9 ä¸»è¦ç”¨äºç”¨æˆ·çš„èº«ä»½è®¤è¯ï¼Œæ®æ–°åç½‘å…¬å¼€æŠ¥é“ï¼ŒSM9 çš„åŠ å¯†å¼ºåº¦ç­‰åŒäº 3072 ä½å¯†é’¥çš„ RSA åŠ å¯†ç®—æ³•ã€‚</p><h3><span id="zu-chong-zhi-suan-fa">ç¥–å†²ä¹‹ç®—æ³•</span></h3><p>ZUC ä¸ºæµå¯†ç ç®—æ³•ï¼Œå¯¹ç§°åŠ å¯†ï¼Œè¯¥æœºå¯†æ€§ç®—æ³•å¯é€‚ç”¨äº 3GPP LTE é€šä¿¡ä¸­çš„åŠ å¯†å’Œè§£å¯†ï¼Œè¯¥ç®—æ³•åŒ…æ‹¬ç¥–å†²ä¹‹ç®—æ³•ï¼ˆZUCï¼‰ã€æœºå¯†æ€§ç®—æ³•ï¼ˆ128-EEA3ï¼‰å’Œå®Œæ•´æ€§ç®—æ³•ï¼ˆ128-EIA3ï¼‰ä¸‰ä¸ªéƒ¨åˆ†ã€‚å·²ç»è¢«å›½é™…ç»„ç»‡ 3GPP æ¨èä¸º 4G æ— çº¿é€šä¿¡çš„ç¬¬ä¸‰å¥—å›½é™…åŠ å¯†å’Œå®Œæ•´æ€§æ ‡å‡†çš„å€™é€‰ç®—æ³•ã€‚</p><hr><h2><span id="bian-cheng-yu-yan-shi-xian">ç¼–ç¨‹è¯­è¨€å®ç°</span></h2><h3><span id="python-yu-yan-shi-xian">Python è¯­è¨€å®ç°</span></h3><p>åœ¨ Python é‡Œé¢å¹¶æ²¡æœ‰æ¯”è¾ƒå®˜æ–¹çš„åº“æ¥å®ç°å›½å¯†ç®—æ³•ï¼Œè¿™é‡Œä»…åˆ—å‡ºäº†å…¶ä¸­ä¸¤ä¸ªè¾ƒä¸ºå®Œå–„çš„ç¬¬ä¸‰æ–¹åº“ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒSM1 å’Œ SM7 ç®—æ³•ä¸å…¬å¼€ï¼Œç›®å‰å¤§å¤šåº“ä»…å®ç°äº† SM2ã€SM3ã€SM4 ä¸‰ç§å¯†ç®—æ³•ã€‚</p><ul><li>snowland-smx-pythonï¼š<a href="https://gitee.com/snowlandltd/snowland-smx-python">https://gitee.com/snowlandltd/snowland-smx-python</a></li><li>gmsslï¼š<a href="https://github.com/duanhongyi/gmssl">https://github.com/duanhongyi/gmssl</a></li><li>gmssl-pythonï¼š<a href="https://github.com/gongxian-ding/gmssl-python">https://github.com/gongxian-ding/gmssl-python</a></li></ul><p>å…¶ä¸­ gmssl-python æ˜¯ gmssl çš„æ”¹è¿›ç‰ˆï¼Œgmssl-python æ–°å¢æ”¯æŒäº† SM9 ç®—æ³•ï¼Œä¸è¿‡æˆªæ­¢æœ¬æ–‡ç¼–å†™æ—¶ï¼Œgmssl-python å¹¶æœªå‘å¸ƒ pypiï¼Œä¹Ÿæœª PR åˆ° gmsslï¼Œä½¿ç”¨ <code>pip install gmssl</code> å®‰è£…çš„ gmssl ä¸æ”¯æŒ SM9 ç®—æ³•ã€‚è‹¥è¦ä½¿ç”¨ SM9 ç®—æ³•ï¼Œå¯ä¸‹è½½ gmssl-python æºç æ‰‹åŠ¨å®‰è£…ã€‚</p><p>ä»¥ gmssl çš„ SM2 ç®—æ³•ä¸ºä¾‹ï¼Œå®ç°å¦‚ä¸‹ï¼ˆå…¶ä»–ç®—æ³•å’Œè¯¦ç»†ç”¨æ³•å¯å‚è€ƒå…¶å®˜æ–¹æ–‡æ¡£ï¼‰ï¼š</p><p>SM2 åŠ å¯†ï¼ˆencryptï¼‰å’Œè§£å¯†ï¼ˆdecryptï¼‰ï¼š</p><pre><code class="hljs python"><span class="hljs-keyword">from</span> gmssl <span class="hljs-keyword">import</span> sm2<span class="hljs-comment"># 16 è¿›åˆ¶çš„å…¬é’¥å’Œç§é’¥</span>private_key = <span class="hljs-string">&#x27;00B9AB0B828FF68872F21A837FC303668428DEA11DCD1B24429D0C99E24EED83D5&#x27;</span>public_key = <span class="hljs-string">&#x27;B9C9A6E04E9C91F7BA880429273747D7EF5DDEB0BB2FF6317EB00BEF331A83081A6994B8993F3F5D6EADDDB81872266C87C018FB4162F5AF347B483E24620207&#x27;</span>sm2_crypt = sm2.CryptSM2(public_key=public_key, private_key=private_key)<span class="hljs-comment"># å¾…åŠ å¯†æ•°æ®å’ŒåŠ å¯†åæ•°æ®ä¸º bytes ç±»å‹</span>data = <span class="hljs-string">b&quot;this is the data to be encrypted&quot;</span>enc_data = sm2_crypt.encrypt(data)dec_data = sm2_crypt.decrypt(enc_data)<span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;enc_data: &#x27;</span>, enc_data.<span class="hljs-built_in">hex</span>())<span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;dec_data: &#x27;</span>, dec_data)<span class="hljs-comment"># enc_data:  3cb96dd2e0b6c24df8e22a5da3951d061a6ee6ce99f46a446426feca83e501073288b1553ca8d91fad79054e26696a27c982492466dafb5ed06a573fb09947f2aed8dfae243b095ab88115c584bb6f0814efe2f338a00de42b244c99698e81c7913c1d82b7609557677a36681dd10b646229350ad0261b51ca5ed6030d660947</span><span class="hljs-comment"># dec_data:  b&#x27;this is the data to be encrypted&#x27;</span></code></pre><p>SM2 ç­¾åï¼ˆsignï¼‰å’Œæ ¡éªŒï¼ˆverifyï¼‰ï¼š</p><pre><code class="hljs python"><span class="hljs-keyword">from</span> gmssl <span class="hljs-keyword">import</span> sm2, func<span class="hljs-comment"># 16 è¿›åˆ¶çš„å…¬é’¥å’Œç§é’¥</span>private_key = <span class="hljs-string">&#x27;00B9AB0B828FF68872F21A837FC303668428DEA11DCD1B24429D0C99E24EED83D5&#x27;</span>public_key = <span class="hljs-string">&#x27;B9C9A6E04E9C91F7BA880429273747D7EF5DDEB0BB2FF6317EB00BEF331A83081A6994B8993F3F5D6EADDDB81872266C87C018FB4162F5AF347B483E24620207&#x27;</span>sm2_crypt = sm2.CryptSM2(public_key=public_key, private_key=private_key)<span class="hljs-comment"># å¾…ç­¾åæ•°æ®ä¸º bytes ç±»å‹</span>data = <span class="hljs-string">b&quot;this is the data to be signed&quot;</span>random_hex_str = func.random_hex(sm2_crypt.para_len)<span class="hljs-comment">#  16 è¿›åˆ¶</span>sign = sm2_crypt.sign(data, random_hex_str)verify = sm2_crypt.verify(sign, data)<span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;sign: &#x27;</span>, sign)<span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;verify: &#x27;</span>, verify)<span class="hljs-comment"># sign:  45cfe5306b1a87cf5d0034ef6712babdd1d98547e75bcf89a17f3bcb617150a3f111ab05597601bab8c41e2b980754b74ebe9a169a59db37d549569910ae273a</span><span class="hljs-comment"># verify:  True</span></code></pre><h3><span id="javascript-yu-yan-shi-xian">JavaScript è¯­è¨€å®ç°</span></h3><p>åœ¨ JavaScript ä¸­å·²æœ‰æ¯”è¾ƒæˆç†Ÿçš„å®ç°åº“ï¼Œè¿™é‡Œæ¨è sm-cryptoï¼Œç›®å‰æ”¯æŒ SM2ã€SM3 å’Œ SM4ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒSM2 éå¯¹ç§°åŠ å¯†çš„ç»“æœç”± C1ã€C2ã€C3 ä¸‰éƒ¨åˆ†ç»„æˆï¼Œå…¶ä¸­ C1 æ˜¯ç”Ÿæˆéšæœºæ•°çš„è®¡ç®—å‡ºçš„æ¤­åœ†æ›²çº¿ç‚¹ï¼ŒC2 æ˜¯å¯†æ–‡æ•°æ®ï¼ŒC3 æ˜¯ SM3 çš„æ‘˜è¦å€¼ï¼Œæœ€å¼€å§‹çš„å›½å¯†æ ‡å‡†çš„ç»“æœæ˜¯æŒ‰ C1C2C3 é¡ºåºçš„ï¼Œæ–°æ ‡å‡†çš„æ˜¯æŒ‰ C1C3C2 é¡ºåºå­˜æ”¾çš„ï¼Œsm-crypto æ”¯æŒè®¾ç½® cipherModeï¼Œä¹Ÿå°±æ˜¯ C1C2C3 çš„æ’åˆ—é¡ºåºã€‚</p><p>sm-cryptoï¼š<a href="https://www.npmjs.com/package/sm-crypto">https://www.npmjs.com/package/sm-crypto</a></p><p>ä»¥ SM2 ç®—æ³•ä¸ºä¾‹ï¼Œå®ç°å¦‚ä¸‹ï¼ˆå…¶ä»–ç®—æ³•å’Œè¯¦ç»†ç”¨æ³•å¯å‚è€ƒå…¶å®˜æ–¹æ–‡æ¡£ï¼‰ï¼š</p><p>SM2 åŠ å¯†ï¼ˆencryptï¼‰å’Œè§£å¯†ï¼ˆdecryptï¼‰ï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> sm2 = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;sm-crypto&#x27;</span>).sm2<span class="hljs-comment">// 1 - C1C3C2ï¼Œ0 - C1C2C3ï¼Œé»˜è®¤ä¸º1</span><span class="hljs-keyword">const</span> cipherMode = <span class="hljs-number">1</span><span class="hljs-comment">// è·å–å¯†é’¥å¯¹</span><span class="hljs-keyword">let</span> keypair = sm2.generateKeyPairHex()<span class="hljs-keyword">let</span> publicKey = keypair.publicKey   <span class="hljs-comment">// å…¬é’¥</span><span class="hljs-keyword">let</span> privateKey = keypair.privateKey <span class="hljs-comment">// ç§é’¥</span><span class="hljs-keyword">let</span> msgString = <span class="hljs-string">&quot;this is the data to be encrypted&quot;</span><span class="hljs-keyword">let</span> encryptData = sm2.doEncrypt(msgString, publicKey, cipherMode)    <span class="hljs-comment">// åŠ å¯†ç»“æœ</span><span class="hljs-keyword">let</span> decryptData = sm2.doDecrypt(encryptData, privateKey, cipherMode) <span class="hljs-comment">// è§£å¯†ç»“æœ</span><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;encryptData: &quot;</span>, encryptData)<span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;decryptData: &quot;</span>, decryptData)<span class="hljs-comment">// encryptData:  ddf261103fae06d0efe20ea0fe0d82bcc170e8efd8eeae24e9559b3835993f0ed2acb8ba6782fc21941ee74ca453d77664a5cb7dbb91517e6a3b0c27db7ce587ae7af54f8df48d7fa822b7062e2af66c112aa57de94d12ba28e5ba96bf4439d299b41da4a5282d054696adc64156d248049d1eb1d0af28d76b542fe8a95d427e</span><span class="hljs-comment">// decryptData:  this is the data to be encrypted</span></code></pre><p>SM2 ç­¾åï¼ˆsignï¼‰å’Œæ ¡éªŒï¼ˆverifyï¼‰ï¼š</p><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> sm2 = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;sm-crypto&#x27;</span>).sm2<span class="hljs-comment">// è·å–å¯†é’¥å¯¹</span><span class="hljs-keyword">let</span> keypair = sm2.generateKeyPairHex()<span class="hljs-keyword">let</span> publicKey = keypair.publicKey   <span class="hljs-comment">// å…¬é’¥</span><span class="hljs-keyword">let</span> privateKey = keypair.privateKey <span class="hljs-comment">// ç§é’¥</span><span class="hljs-comment">// çº¯ç­¾å + ç”Ÿæˆæ¤­åœ†æ›²çº¿ç‚¹</span><span class="hljs-keyword">let</span> msgString = <span class="hljs-string">&quot;this is the data to be signed&quot;</span><span class="hljs-keyword">let</span> sigValueHex = sm2.doSignature(msgString, privateKey)                    <span class="hljs-comment">// ç­¾å</span><span class="hljs-keyword">let</span> verifyResult = sm2.doVerifySignature(msgString, sigValueHex, publicKey) <span class="hljs-comment">// éªŒç­¾ç»“æœ</span><span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;sigValueHex: &quot;</span>, sigValueHex)<span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;verifyResult: &quot;</span>, verifyResult)<span class="hljs-comment">// sigValueHex:  924cbb9f2b5adb554ef77129ff1e3a00b2da42017ad3ec2f806d824a77646987ba8c8c4fb94576c38bc11ae69cc98ebbb40b5d47715171ec7dcea913dfc6ccc1</span><span class="hljs-comment">// verifyResult:  true</span></code></pre><h3><span id="qi-ta-yu-yan-shi-xian-yi-ji-can-kao-zi-liao">å…¶ä»–è¯­è¨€å®ç°ä»¥åŠå‚è€ƒèµ„æ–™</span></h3><ul><li>Java è¯­è¨€å®ç°ï¼š<ul><li><a href="https://github.com/bcgit/bc-csharp">https://github.com/bcgit/bc-csharp</a></li><li><a href="https://github.com/xjfuuu/SM2_SM3_SM4Encrypt">https://github.com/xjfuuu/SM2_SM3_SM4Encrypt</a></li></ul></li><li>Go è¯­è¨€å®ç°ï¼š<a href="https://github.com/tjfoc/gmsm">https://github.com/tjfoc/gmsm</a></li><li>å¼€æºå›½å¯†ç®—æ³•å·¥å…·ç®±ï¼š<a href="http://gmssl.org/">http://gmssl.org/</a></li><li>å›½å¯†ç®—æ³•æºä»£ç ä¸‹è½½ï¼š<a href="http://www.scctc.org.cn/templates/Download/index.aspx?nodeid=71">http://www.scctc.org.cn/templates/Download/index.aspx?nodeid=71</a></li><li>å›½å®¶å¯†ç ç®¡ç†å±€ï¼š<a href="https://www.sca.gov.cn/">https://www.sca.gov.cn/</a></li><li>å¯†ç æ ‡å‡†å§”å‘˜ä¼šï¼š<a href="http://www.gmbz.org.cn/">http://www.gmbz.org.cn/</a></li></ul><hr><h2><span id="fu-gm-t-mi-ma-xing-ye-biao-zhun">é™„ï¼šGM/T å¯†ç è¡Œä¸šæ ‡å‡†</span></h2><ul><li><a href="http://www.gmbz.org.cn/main/viewfile/20180117202410524608.html">GM/T 0001.1-2012ï¼šç¥–å†²ä¹‹åºåˆ—å¯†ç ç®—æ³•ï¼šç¬¬1éƒ¨åˆ†ï¼šç®—æ³•æè¿°</a></li><li><a href="http://www.gmbz.org.cn/main/viewfile/20180107233806310781.html">GM/T 0001.2-2012ï¼šç¥–å†²ä¹‹åºåˆ—å¯†ç ç®—æ³•ï¼šç¬¬2éƒ¨åˆ†ï¼šåŸºäºç¥–å†²ä¹‹ç®—æ³•çš„æœºå¯†æ€§ç®—æ³•</a></li><li><a href="http://www.gmbz.org.cn/main/viewfile/20180107234058336917.html">GM/T 0001.3-2012ï¼šç¥–å†²ä¹‹åºåˆ—å¯†ç ç®—æ³•ï¼šç¬¬3éƒ¨åˆ†ï¼šåŸºäºç¥–å†²ä¹‹ç®—æ³•çš„å®Œæ•´æ€§ç®—æ³•</a></li><li><a href="http://www.gmbz.org.cn/main/viewfile/20180108015515787986.html">GM/T 0003.1-2012ï¼šSM2 æ¤­åœ†æ›²çº¿å…¬é’¥å¯†ç ç®—æ³•ç¬¬1éƒ¨åˆ†ï¼šæ€»åˆ™</a></li><li><a href="http://www.gmbz.org.cn/main/viewfile/20180108023346264349.html">GM/T 0003.2-2012ï¼šSM2 æ¤­åœ†æ›²çº¿å…¬é’¥å¯†ç ç®—æ³•ç¬¬2éƒ¨åˆ†ï¼šæ•°å­—ç­¾åç®—æ³•</a></li><li><a href="http://www.gmbz.org.cn/main/viewfile/20180108023456003485.html">GM/T 0003.3-2012ï¼šSM2 æ¤­åœ†æ›²çº¿å…¬é’¥å¯†ç ç®—æ³•ç¬¬3éƒ¨åˆ†ï¼šå¯†é’¥äº¤æ¢åè®®</a></li><li><a href="http://www.gmbz.org.cn/main/viewfile/20180108023602687857.html">GM/T 0003.4-2012ï¼šSM2 æ¤­åœ†æ›²çº¿å…¬é’¥å¯†ç ç®—æ³•ç¬¬4éƒ¨åˆ†ï¼šå…¬é’¥åŠ å¯†ç®—æ³•</a></li><li><a href="http://www.gmbz.org.cn/main/viewfile/2018010802371372251.html">GM/T 0003.5-2012ï¼šSM2 æ¤­åœ†æ›²çº¿å…¬é’¥å¯†ç ç®—æ³•ç¬¬5éƒ¨åˆ†ï¼šå‚æ•°å®šä¹‰</a></li><li><a href="http://www.gmbz.org.cn/main/viewfile/20180108023812835219.html">GM/T 0004-2012ï¼šSM3 å¯†ç æ‚å‡‘ç®—æ³•</a></li><li><a href="http://www.gmbz.org.cn/main/viewfile/20180108015408199368.html">GM/T 0002-2012ï¼šSM4 åˆ†ç»„å¯†ç ç®—æ³•</a></li><li><a href="http://www.gmbz.org.cn/main/viewfile/2018011002473633053.html">GM/T 0044.1-2016ï¼šSM9 æ ‡è¯†å¯†ç ç®—æ³• ç¬¬1éƒ¨åˆ†ï¼šæ€»åˆ™</a></li><li><a href="http://www.gmbz.org.cn/main/viewfile/20180110024900801385.html">GM/T 0044.2-2016ï¼šSM9 æ ‡è¯†å¯†ç ç®—æ³• ç¬¬2éƒ¨åˆ†ï¼šæ•°å­—ç­¾åç®—æ³•</a></li><li><a href="http://www.gmbz.org.cn/main/viewfile/20180110025010004565.html">GM/T 0044.3-2016ï¼šSM9 æ ‡è¯†å¯†ç ç®—æ³• ç¬¬3éƒ¨åˆ†ï¼šå¯†é’¥äº¤æ¢åè®®</a></li><li><a href="http://www.gmbz.org.cn/main/viewfile/20180110025115084846.html">GM/T 0044.4-2016ï¼šSM9 æ ‡è¯†å¯†ç ç®—æ³• ç¬¬4éƒ¨åˆ†ï¼šå¯†é’¥å°è£…æœºåˆ¶å’Œå…¬é’¥åŠ å¯†ç®—æ³•</a></li><li><a href="http://www.gmbz.org.cn/main/viewfile/20180110025229918536.html">GM/T 0044.5-2016ï¼šSM9 æ ‡è¯†å¯†ç ç®—æ³• ç¬¬5éƒ¨åˆ†ï¼šå‚æ•°å®šä¹‰</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdn.itbob.cn/img/cover/sm_algorithm.png&quot; alt=&quot;sm_algorithm&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;center&gt;&lt;font color=&quot;red&quot; size=&quot;5px&quot; weight</summary>
      
    
    
    
    <category term="JS é€†å‘ç†è®º" scheme="https://www.itbob.cn/categories/JS-%E9%80%86%E5%90%91%E7%90%86%E8%AE%BA/"/>
    
    
    <category term="ç®—æ³•" scheme="https://www.itbob.cn/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="JS é€†å‘ç†è®º" scheme="https://www.itbob.cn/tags/JS-%E9%80%86%E5%90%91%E7%90%86%E8%AE%BA/"/>
    
    <category term="çˆ¬è™«" scheme="https://www.itbob.cn/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>Python æ•°æ®ç»“æ„ä¹‹æ ˆçš„å®ç°</title>
    <link href="https://www.itbob.cn/article/038/"/>
    <id>https://www.itbob.cn/article/038/</id>
    <published>2020-11-30T06:48:05.000Z</published>
    <updated>2022-05-22T12:49:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="wen-zhang-mu-lu">æ–‡ç« ç›®å½•</span></h2><!-- toc --><ul><li><a href="#zhan-de-gai-nian">æ ˆçš„æ¦‚å¿µ</a></li><li><a href="#zhan-de-te-dian">æ ˆçš„ç‰¹ç‚¹</a></li><li><a href="#zhan-de-cao-zuo">æ ˆçš„æ“ä½œ</a></li><li><a href="#python-shi-xian-zhan">Python å®ç°æ ˆ</a></li><li><a href="#zhan-de-jian-dan-ying-yong-gua-hao-pi-pei-wen-ti">æ ˆçš„ç®€å•åº”ç”¨ï¼šæ‹¬å·åŒ¹é…é—®é¢˜</a></li><li><a href="#zhan-de-jian-dan-ying-yong-dao-xu-shu-chu-yi-zu-yuan-su">æ ˆçš„ç®€å•åº”ç”¨ï¼šå€’åºè¾“å‡ºä¸€ç»„å…ƒç´ </a></li></ul><!-- tocstop --><hr><h2><span id="zhan-de-gai-nian">æ ˆçš„æ¦‚å¿µ</span></h2><p>æ ˆï¼ˆstackï¼‰åˆåå †æ ˆï¼Œæ ˆæ˜¯ä¸€ç§çº¿æ€§æ•°æ®ç»“æ„ï¼Œç”¨å…ˆè¿›åå‡ºæˆ–è€…æ˜¯åè¿›å…ˆå‡ºçš„æ–¹å¼å­˜å‚¨æ•°æ®ï¼Œæ ˆä¸­æ•°æ®çš„æ’å…¥åˆ é™¤æ“ä½œéƒ½æ˜¯åœ¨æ ˆçš„é¡¶ç«¯è¿›è¡Œï¼Œè¿™ä¸€ç«¯è¢«ç§°ä¸ºæ ˆé¡¶ï¼Œç›¸å¯¹åœ°ï¼ŒæŠŠå¦ä¸€ç«¯ç§°ä¸ºæ ˆåº•ã€‚å‘ä¸€ä¸ªæ ˆæ’å…¥æ–°å…ƒç´ åˆç§°ä½œè¿›æ ˆã€å…¥æ ˆæˆ–å‹æ ˆï¼Œå®ƒæ˜¯æŠŠæ–°å…ƒç´ æ”¾åˆ°æ ˆé¡¶å…ƒç´ çš„ä¸Šé¢ï¼Œä½¿ä¹‹æˆä¸ºæ–°çš„æ ˆé¡¶å…ƒç´ ï¼›ä»ä¸€ä¸ªæ ˆåˆ é™¤å…ƒç´ åˆç§°ä½œå‡ºæ ˆæˆ–é€€æ ˆï¼Œå®ƒæ˜¯æŠŠæ ˆé¡¶å…ƒç´ åˆ é™¤æ‰ï¼Œä½¿å…¶ç›¸é‚»çš„å…ƒç´ æˆä¸ºæ–°çš„æ ˆé¡¶å…ƒç´ ã€‚</p><p><img src="https://cdn.itbob.cn/img/article/038/01.png" alt="01"></p><hr><h2><span id="zhan-de-te-dian">æ ˆçš„ç‰¹ç‚¹</span></h2><p>å…ƒç´ åè¿›å…ˆå‡ºï¼ˆLast in First Outï¼ŒLIFOï¼‰</p><hr><h2><span id="zhan-de-cao-zuo">æ ˆçš„æ“ä½œ</span></h2><ul><li><font color="#FF0000"><strong>push(item)</strong></font>ï¼šè¿›æ ˆï¼ˆå‘æ ˆé¡¶æ·»åŠ å…ƒç´ ï¼‰</li><li><font color="#FF0000"><strong>pop()</strong></font>ï¼šå‡ºæ ˆï¼ˆåˆ é™¤æ ˆé¡¶å…ƒç´ ï¼‰</li><li><font color="#FF0000"><strong>top()</strong></font>ï¼šæŸ¥çœ‹æ ˆé¡¶å…ƒç´ </li><li><font color="#FF0000"><strong>empty()</strong></font>ï¼šåˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º</li></ul><hr><h2><span id="python-shi-xian-zhan">Python å®ç°æ ˆ</span></h2><p>æ ˆå¹¶ä¸æ˜¯ Python çš„å†…å»ºç±»å‹ï¼Œåœ¨å¿…è¦çš„æ—¶å€™å¯ä»¥ä½¿ç”¨åˆ—è¡¨æ¥æ¨¡æ‹ŸåŸºäºæ•°ç»„çš„æ ˆã€‚å¦‚æœå°†åˆ—è¡¨çš„æœ«å°¾çœ‹ä½œæ˜¯æ ˆçš„é¡¶ï¼Œåˆ—è¡¨æ–¹æ³• <code>append()</code> å°±æ˜¯å°†å…ƒç´ å‹å…¥åˆ°æ ˆä¸­ï¼ˆè¿›æ ˆï¼‰ï¼Œè€Œåˆ—è¡¨æ–¹æ³• <code>pop()</code> ä¼šåˆ é™¤å¹¶è¿”å›æ ˆé¡¶çš„å…ƒç´ ï¼ˆå‡ºæ ˆï¼‰ï¼Œåˆ—è¡¨ç´¢å¼•çš„æ–¹å¼ <code>arr[-1]</code> å¯ä»¥æŸ¥çœ‹æ ˆé¡¶å…ƒç´ ã€‚å…·ä½“ä»£ç å®ç°å¦‚ä¸‹ï¼š</p><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Stack</span>:</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span>        self.stack = []    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">push</span>(<span class="hljs-params">self, item</span>):</span>        self.stack.append(item)    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">pop</span>(<span class="hljs-params">self</span>):</span>        <span class="hljs-keyword">if</span> self.empty():            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>        <span class="hljs-keyword">else</span>:            <span class="hljs-keyword">return</span> self.stack.pop()    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">top</span>(<span class="hljs-params">self</span>):</span>        <span class="hljs-keyword">if</span> self.empty():            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>        <span class="hljs-keyword">else</span>:            <span class="hljs-keyword">return</span> self.stack[-<span class="hljs-number">1</span>]    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">empty</span>(<span class="hljs-params">self</span>):</span>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self.stack) == <span class="hljs-number">0</span></code></pre><hr><h2><span id="zhan-de-jian-dan-ying-yong-gua-hao-pi-pei-wen-ti">æ ˆçš„ç®€å•åº”ç”¨ï¼šæ‹¬å·åŒ¹é…é—®é¢˜</span></h2><p><font color="#2DAF8B"><strong>é—®é¢˜æè¿°ï¼š</strong></font></p><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²ä¸­åªåŒ…å«å°æ‹¬å· <code>()</code>ã€ä¸­æ‹¬å· <code>[]</code>ã€å¤§æ‹¬å· <code>&#123;&#125;</code>ï¼Œæ±‚è¯¥å­—ç¬¦ä¸²ä¸­çš„æ‹¬å·æ˜¯å¦åŒ¹é…ã€‚åŒ¹é…è§„åˆ™ï¼šæˆå¯¹å‡ºç°æˆ–è€…å·¦å³å¯¹ç§°å‡ºç°ï¼Œä¾‹å¦‚ï¼š</p><p><font color="#FF0000"><strong>()[]{}</strong></font>ï¼šåŒ¹é…ï¼›<font color="#FF0000"><strong>{[()]}</strong></font>ï¼šåŒ¹é…ï¼›<font color="#FF0000"><strong>({}]</strong></font>ï¼šä¸åŒ¹é…ï¼›<font color="#FF0000"><strong>()]</strong></font>ï¼šä¸åŒ¹é…ï¼›<font color="#FF0000"><strong>({)}</strong></font>ï¼šä¸åŒ¹é…</p><p><font color="#2DAF8B"><strong>é€šè¿‡æ ˆæ¥è§£å†³ï¼š</strong></font></p><p>æœ‰å­—ç¬¦ä¸² <font color="#FF0000"><strong>()[{}]</strong></font>ï¼Œä¾æ¬¡å–æ¯ä¸ªæ‹¬å·ï¼Œåªè¦æ˜¯å·¦æ‹¬å·å°±è¿›æ ˆï¼Œåªè¦æ˜¯å³æ‹¬å·å°±åˆ¤æ–­æ ˆé¡¶æ˜¯å¦ä¸ºå¯¹åº”çš„å·¦æ‹¬å·ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ul><li><strong>â‘ </strong> é‡åˆ°å·¦å°æ‹¬å· <font color="#FF0000"><strong>(</strong></font>ï¼Œæ‰§è¡Œè¿›æ ˆæ“ä½œï¼›</li><li><strong>â‘¡</strong> é‡åˆ°å³å°æ‹¬å· <font color="#FF0000"><strong>)</strong></font>ï¼Œåˆ¤æ–­æ­¤æ—¶æ ˆé¡¶æ˜¯å¦ä¸ºå·¦å°æ‹¬å· <font color="#FF0000"><strong>(</strong></font>ï¼Œæ˜¯åˆ™è®©å·¦å°æ‹¬å· <font color="#FF0000"><strong>(</strong></font> å‡ºæ ˆï¼Œæ­¤æ—¶æ ˆä¸ºç©º;</li><li><strong>â‘¢</strong> é‡åˆ°å·¦ä¸­æ‹¬å· <font color="#FF0000"><strong>[</strong></font>ï¼Œæ‰§è¡Œè¿›æ ˆæ“ä½œï¼›</li><li><strong>â‘£</strong> é‡åˆ°å·¦å¤§æ‹¬å· <font color="#FF0000"><strong>{</strong></font>ï¼Œæ‰§è¡Œè¿›æ ˆæ“ä½œï¼›</li><li><strong>â‘¤</strong> é‡åˆ°å³å¤§æ‹¬å· <font color="#FF0000"><strong>}</strong></font>ï¼Œåˆ¤æ–­æ­¤æ—¶æ ˆé¡¶æ˜¯å¦ä¸ºå·¦å¤§æ‹¬å· <font color="#FF0000"><strong>{</strong></font>ï¼Œæ˜¯åˆ™è®©å·¦å¤§æ‹¬å· <font color="#FF0000"><strong>{</strong></font> å‡ºæ ˆï¼Œæ­¤æ—¶æ ˆä¸ºç©ºï¼›</li><li><strong>â‘¥</strong> é‡åˆ°å³ä¸­æ‹¬å· <font color="#FF0000"><strong>]</strong></font>ï¼Œåˆ¤æ–­æ­¤æ—¶æ ˆé¡¶æ˜¯å¦ä¸ºå·¦ä¸­æ‹¬å· <font color="#FF0000"><strong>[</strong></font>ï¼Œæ˜¯åˆ™è®©å·¦ä¸­æ‹¬å· <font color="#FF0000"><strong>[</strong></font> å‡ºæ ˆï¼Œæ­¤æ—¶æ ˆä¸ºç©ºï¼›</li><li><strong>â‘¦</strong> åˆ¤æ–­æœ€ç»ˆçš„æ ˆæ˜¯å¦ä¸ºç©ºï¼Œæ˜¯åˆ™è¡¨ç¤ºåŒ¹é…ï¼Œä¸æ˜¯åˆ™è¡¨ç¤ºä¸åŒ¹é…ã€‚å…¶ä¸­ç¬¬ <strong>â‘¡ â‘¤ â‘¥</strong> æ­¥ä¸­ï¼Œè‹¥åˆ¤æ–­ä¸ºä¸æ˜¯ï¼Œåˆ™ç›´æ¥è¡¨ç¤ºä¸åŒ¹é…ã€‚</li></ul><p><font color="#2DAF8B"><strong>Python ä»£ç å®ç°ï¼š</strong></font></p><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Stack</span>:</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span>        self.stack = []    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">push</span>(<span class="hljs-params">self, item</span>):</span>        self.stack.append(item)    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">pop</span>(<span class="hljs-params">self</span>):</span>        <span class="hljs-keyword">if</span> self.empty():            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>        <span class="hljs-keyword">else</span>:            <span class="hljs-keyword">return</span> self.stack.pop()    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">top</span>(<span class="hljs-params">self</span>):</span>        <span class="hljs-keyword">if</span> self.empty():            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>        <span class="hljs-keyword">else</span>:            <span class="hljs-keyword">return</span> self.stack[-<span class="hljs-number">1</span>]    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">empty</span>(<span class="hljs-params">self</span>):</span>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self.stack) == <span class="hljs-number">0</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">brackets_match</span>(<span class="hljs-params">s</span>):</span>    match_dict = &#123;<span class="hljs-string">&#x27;&#125;&#x27;</span>: <span class="hljs-string">&#x27;&#123;&#x27;</span>, <span class="hljs-string">&#x27;]&#x27;</span>: <span class="hljs-string">&quot;[&quot;</span>, <span class="hljs-string">&#x27;)&#x27;</span>: <span class="hljs-string">&#x27;(&#x27;</span>&#125;    stack = Stack()    <span class="hljs-keyword">for</span> ch <span class="hljs-keyword">in</span> s:        <span class="hljs-keyword">if</span> ch <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;(&#x27;</span>, <span class="hljs-string">&#x27;[&#x27;</span>, <span class="hljs-string">&#x27;&#123;&#x27;</span>]:    <span class="hljs-comment"># å¦‚æœä¸ºå·¦æ‹¬å·ï¼Œåˆ™æ‰§è¡Œè¿›æ ˆæ“ä½œ</span>            stack.push(ch)        <span class="hljs-keyword">else</span>:                        <span class="hljs-comment"># å¦‚æœä¸ºå³æ‹¬å·</span>            <span class="hljs-keyword">if</span> stack.empty():        <span class="hljs-comment"># å¦‚æœæ ˆä¸ºç©ºï¼Œåˆ™ä¸åŒ¹é…ï¼Œå³å¤šäº†ä¸€ä¸ªå³æ‹¬å·ï¼Œæ²¡æœ‰å·¦æ‹¬å·åŒ¹é…</span>                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>            <span class="hljs-keyword">elif</span> stack.top() == match_dict[ch]:  <span class="hljs-comment"># å¦‚æœæ ˆé¡¶çš„å…ƒç´ ä¸ºå¯¹åº”çš„å·¦æ‹¬å·ï¼Œåˆ™è®©æ ˆé¡¶å‡ºæ ˆ</span>                stack.pop()            <span class="hljs-keyword">else</span>:                    <span class="hljs-comment"># å¦‚æœæ ˆé¡¶å…ƒç´ ä¸æ˜¯å¯¹åº”çš„å·¦æ‹¬å·ï¼Œåˆ™ä¸åŒ¹é…</span>                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>    <span class="hljs-keyword">if</span> stack.empty():                <span class="hljs-comment"># æœ€åçš„æ ˆå¦‚æœä¸ºç©ºï¼Œåˆ™åŒ¹é…ï¼Œå¦åˆ™ä¸åŒ¹é…</span>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>    <span class="hljs-keyword">else</span>:        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><span class="hljs-built_in">print</span>(brackets_match(<span class="hljs-string">&#x27;[&#123;()&#125;()&#123;()&#125;[](&#123;&#125;)&#123;&#125;]&#x27;</span>))<span class="hljs-built_in">print</span>(brackets_match(<span class="hljs-string">&#x27;()[&#123;&#125;]&#x27;</span>))<span class="hljs-built_in">print</span>(brackets_match(<span class="hljs-string">&#x27;(&#123;)&#125;&#x27;</span>))<span class="hljs-built_in">print</span>(brackets_match(<span class="hljs-string">&#x27;[]&#125;&#x27;</span>))</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class="hljs python"><span class="hljs-literal">True</span><span class="hljs-literal">True</span><span class="hljs-literal">False</span><span class="hljs-literal">False</span></code></pre><hr><h2><span id="zhan-de-jian-dan-ying-yong-dao-xu-shu-chu-yi-zu-yuan-su">æ ˆçš„ç®€å•åº”ç”¨ï¼šå€’åºè¾“å‡ºä¸€ç»„å…ƒç´ </span></h2><p>æŠŠå…ƒç´ å­˜å…¥æ ˆï¼Œå†é¡ºåºå–å‡ºï¼š</p><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Stack</span>:</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span>        self.stack = []    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">push</span>(<span class="hljs-params">self, item</span>):</span>        self.stack.append(item)    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">pop</span>(<span class="hljs-params">self</span>):</span>        <span class="hljs-keyword">if</span> self.empty():            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>        <span class="hljs-keyword">else</span>:            <span class="hljs-keyword">return</span> self.stack.pop()    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">top</span>(<span class="hljs-params">self</span>):</span>        <span class="hljs-keyword">if</span> self.empty():            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>        <span class="hljs-keyword">else</span>:            <span class="hljs-keyword">return</span> self.stack[-<span class="hljs-number">1</span>]    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">empty</span>(<span class="hljs-params">self</span>):</span>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(self.stack) == <span class="hljs-number">0</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">reverse_list</span>(<span class="hljs-params">s</span>):</span>    stack = Stack()    <span class="hljs-keyword">for</span> ch <span class="hljs-keyword">in</span> s:        stack.push(ch)    new_list = []    <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> stack.empty():        new_list.append(stack.pop())    <span class="hljs-keyword">return</span> new_list<span class="hljs-built_in">print</span>(reverse_list([<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>]))</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class="hljs python">[<span class="hljs-string">&#x27;E&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;A&#x27;</span>]</code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2&gt;&lt;span id=&quot;wen-zhang-mu-lu&quot;&gt;æ–‡ç« ç›®å½•&lt;/span&gt;&lt;/h2&gt;
&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#zhan-de-gai-nian&quot;&gt;æ ˆçš„æ¦‚å¿µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#zhan-de-te-dia</summary>
      
    
    
    
    <category term="æ•°æ®ç»“æ„" scheme="https://www.itbob.cn/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
    <category term="Python" scheme="https://www.itbob.cn/tags/Python/"/>
    
    <category term="æ•°æ®ç»“æ„" scheme="https://www.itbob.cn/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>Python ç®—æ³•ä¹‹é€’å½’ä¸å°¾é€’å½’ï¼Œæ–æ³¢é‚£å¥‘æ•°åˆ—ä»¥åŠæ±‰è¯ºå¡”çš„å®ç°</title>
    <link href="https://www.itbob.cn/article/037/"/>
    <id>https://www.itbob.cn/article/037/</id>
    <published>2020-10-28T14:05:13.000Z</published>
    <updated>2022-05-22T12:48:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="wen-zhang-mu-lu">æ–‡ç« ç›®å½•</span></h2><!-- toc --><ul><li><a href="#di-gui-gai-nian">é€’å½’æ¦‚å¿µ</a></li><li><a href="#di-gui-yao-su">é€’å½’è¦ç´ </a></li><li><a href="#di-gui-yu-die-dai-de-qu-bie">é€’å½’ä¸è¿­ä»£çš„åŒºåˆ«</a></li><li><a href="#shi-li-yi-jie-cheng">ç¤ºä¾‹ä¸€ï¼šé˜¶ä¹˜</a></li><li><a href="#shi-li-er-fei-bo-na-qi-shu-lie">ç¤ºä¾‹äºŒï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—</a></li><li><a href="#shi-li-san-han-nuo-ta-wen-ti">ç¤ºä¾‹ä¸‰ï¼šæ±‰è¯ºå¡”é—®é¢˜</a></li><li><a href="#wei-di-gui">å°¾é€’å½’</a></li><li><a href="#python-zhong-wei-di-gui-de-jie-jue-fang-an">Python ä¸­å°¾é€’å½’çš„è§£å†³æ–¹æ¡ˆ</a></li></ul><!-- tocstop --><hr><h2><span id="di-gui-gai-nian">é€’å½’æ¦‚å¿µ</span></h2><p><font color="#ff0000"><strong>é€’å½’</strong></font>ï¼šç¨‹åºè°ƒç”¨è‡ªèº«çš„ç¼–ç¨‹æŠ€å·§ç§°ä¸ºé€’å½’ï¼ˆ recursionï¼‰ã€‚ç”¨ä¸€ç§é€šä¿—çš„è¯æ¥è¯´å°±æ˜¯è‡ªå·±è°ƒç”¨è‡ªå·±ï¼Œå®ƒé€šå¸¸æŠŠä¸€ä¸ªå¤§å‹å¤æ‚çš„é—®é¢˜å±‚å±‚è½¬åŒ–ä¸ºä¸€ä¸ªä¸åŸé—®é¢˜ç›¸ä¼¼çš„ã€ä½†æ˜¯è§„æ¨¡è¾ƒå°çš„é—®é¢˜æ¥æ±‚è§£ï¼Œå½“é—®é¢˜å°åˆ°ä¸€å®šè§„æ¨¡çš„æ—¶å€™ï¼Œéœ€è¦ä¸€ä¸ªé€’å½’å‡ºå£è¿”å›ã€‚é€’å½’ç­–ç•¥åªéœ€å°‘é‡çš„ç¨‹åºå°±å¯æè¿°å‡ºè§£é¢˜è¿‡ç¨‹æ‰€éœ€è¦çš„å¤šæ¬¡é‡å¤è®¡ç®—ï¼Œå¤§å¤§åœ°å‡å°‘äº†ç¨‹åºçš„ä»£ç é‡ã€‚é€’å½’çš„èƒ½åŠ›åœ¨äºç”¨æœ‰é™çš„è¯­å¥æ¥å®šä¹‰å¯¹è±¡çš„æ— é™é›†åˆã€‚</p><p><font color="#ff0000"><strong>é€’å½’å‡½æ•°</strong></font>ï¼šåœ¨ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå‡½æ•°ç›´æ¥æˆ–é—´æ¥è°ƒç”¨å‡½æ•°æœ¬èº«ï¼Œåˆ™è¯¥å‡½æ•°ç§°ä¸ºé€’å½’å‡½æ•°ï¼›åœ¨æ•°å­¦ä¸Šçš„å®šä¹‰å¦‚ä¸‹ï¼šå¯¹äºæŸä¸€å‡½æ•° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>ï¼Œå…¶å®šä¹‰åŸŸæ˜¯é›†åˆ Aï¼Œé‚£ä¹ˆè‹¥å¯¹äº A é›†åˆä¸­çš„æŸä¸€ä¸ªå€¼ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">X_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œå…¶å‡½æ•°å€¼ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x_0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> ç”± <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>0</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(f(x_0))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">))</span></span></span></span> å†³å®šï¼Œé‚£ä¹ˆå°±ç§° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> ä¸ºé€’å½’å‡½æ•°ã€‚</p><hr><h2><span id="di-gui-yao-su">é€’å½’è¦ç´ </span></h2><ul><li><p>é€’å½’å¿…é¡»åŒ…å«ä¸€ä¸ªåŸºæœ¬çš„å‡ºå£ï¼ˆç»“æŸæ¡ä»¶ï¼‰ï¼Œå¦åˆ™å°±ä¼šæ— é™é€’å½’ï¼Œæœ€ç»ˆå¯¼è‡´æ ˆæº¢å‡ºï¼›</p></li><li><p>é€’å½’å¿…é¡»åŒ…å«ä¸€ä¸ªå¯ä»¥åˆ†è§£çš„é—®é¢˜ï¼Œä¾‹å¦‚è¦æƒ³æ±‚å¾— <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">fact(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>ï¼Œå°±éœ€è¦ç”¨ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>âˆ—</mo><mi>f</mi><mi>a</mi><mi>c</mi><mi>t</mi><mo stretchy="false">(</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">n * fact(n-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4653em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>ï¼›</p></li><li><p>é€’å½’å¿…é¡»å¿…é¡»è¦å‘ç€é€’å½’å‡ºå£é è¿‘ï¼Œä¾‹å¦‚æ¯æ¬¡é€’å½’è°ƒç”¨éƒ½ä¼š <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ï¼Œå‘ç€é€’å½’å‡ºå£ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">n == 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">==</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> é è¿‘ã€‚</p></li></ul><hr><h2><span id="di-gui-yu-die-dai-de-qu-bie">é€’å½’ä¸è¿­ä»£çš„åŒºåˆ«</span></h2><ul><li><p><font color="#ff0000"><strong>é€’å½’ï¼ˆrecursionï¼‰</strong></font>ï¼šé€’å½’åˆ™æ˜¯ä¸€æ­¥ä¸€æ­¥å¾€å‰é€’æ¨ï¼Œç›´åˆ°é€’å½’åŸºç¡€ï¼Œå¯»æ‰¾ä¸€æ¡è·¯å¾„ï¼Œ ç„¶åå†ç”±å‰å‘åè®¡ç®—ã€‚ï¼ˆAè°ƒç”¨Aï¼‰</p></li><li><p><font color="#ff0000"><strong>è¿­ä»£ï¼ˆiterationï¼‰</strong></font>ï¼šè¿­ä»£æ˜¯é‡å¤åé¦ˆè¿‡ç¨‹çš„æ´»åŠ¨ï¼Œå…¶ç›®çš„é€šå¸¸æ˜¯ä¸ºäº†é€¼è¿‘æ‰€éœ€ç›®æ ‡æˆ–ç»“æœã€‚æ¯ä¸€æ¬¡å¯¹è¿‡ç¨‹çš„é‡å¤ç§°ä¸ºä¸€æ¬¡â€œè¿­ä»£â€ï¼Œè€Œæ¯ä¸€æ¬¡è¿­ä»£å¾—åˆ°çš„ç»“æœä¼šä½œä¸ºä¸‹ä¸€æ¬¡è¿­ä»£çš„åˆå§‹å€¼ï¼Œå› æ­¤è¿­ä»£æ˜¯ä»å‰å¾€åè®¡ç®—çš„ã€‚ï¼ˆAé‡å¤è°ƒç”¨Bï¼‰</p></li></ul><hr><h2><span id="shi-li-yi-jie-cheng">ç¤ºä¾‹ä¸€ï¼šé˜¶ä¹˜</span></h2><p>ä¸€ä¸ªæ­£æ•´æ•°çš„é˜¶ä¹˜ï¼ˆfactorialï¼‰æ˜¯æ‰€æœ‰å°äºåŠç­‰äºè¯¥æ•°çš„æ­£æ•´æ•°çš„ç§¯ï¼Œå¹¶ä¸” 0 çš„é˜¶ä¹˜ä¸º 1ã€‚å³ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo stretchy="false">!</mo><mo>=</mo><mn>1</mn><mo>Ã—</mo><mn>2</mn><mo>Ã—</mo><mn>3</mn><mo>Ã—</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>Ã—</mo><mo stretchy="false">(</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo>Ã—</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">n!=1Ã—2Ã—3Ã—...Ã—(n-1)Ã—n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">n</span><span class="mclose">!</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">...</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>ï¼Œä»¥é€’å½’æ–¹å¼å®šä¹‰ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo stretchy="false">!</mo><mo>=</mo><mo stretchy="false">(</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">!</mo><mo>Ã—</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">n!=(n-1)!Ã—n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">n</span><span class="mclose">!</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)!</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">factorial</span>(<span class="hljs-params">n</span>):</span>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span>:        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>    <span class="hljs-keyword">else</span>:        <span class="hljs-keyword">return</span> n * factorial(n-<span class="hljs-number">1</span>)</code></pre><hr><h2><span id="shi-li-er-fei-bo-na-qi-shu-lie">ç¤ºä¾‹äºŒï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—</span></h2><p>æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆFibonacci sequenceï¼‰ï¼Œåˆç§°é»„é‡‘åˆ†å‰²æ•°åˆ—ã€å› æ•°å­¦å®¶è±æ˜‚çº³å¤šÂ·æ–æ³¢é‚£å¥‘ä»¥å…”å­ç¹æ®–ä¸ºä¾‹å­è€Œå¼•å…¥ï¼Œæ•…åˆç§°ä¸ºâ€œå…”å­æ•°åˆ—â€ã€‚</p><p>æœ‰ä¸€ä¸ªæ•°åˆ—ï¼š0ã€1ã€1ã€2ã€3ã€5ã€8ã€13ã€21ã€34ã€55ã€89â€¦ï¼Œè¿™ä¸ªæ•°åˆ—ä»ç¬¬3é¡¹å¼€å§‹ï¼Œæ¯ä¸€é¡¹éƒ½ç­‰äºå‰ä¸¤é¡¹ä¹‹å’Œã€‚ä»¥é€’æ¨çš„æ–¹æ³•å®šä¹‰ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>F</mi><mo stretchy="false">(</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mi>F</mi><mo stretchy="false">(</mo><mi>n</mi><mo>âˆ’</mo><mn>2</mn><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>n</mi><mo>â‰¥</mo><mn>3</mn><mo separator="true">,</mo><mi>n</mi><mo>âˆˆ</mo><msup><mi>N</mi><mo>âˆ—</mo></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">F(n)=F(n - 1)+F(n - 2) (n â‰¥ 3, n âˆˆ N^*)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">fibonacc</span>(<span class="hljs-params">n</span>):</span>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">1</span> <span class="hljs-keyword">or</span> n == <span class="hljs-number">2</span>:        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>    <span class="hljs-keyword">else</span>:        <span class="hljs-keyword">return</span> fibonacc(n-<span class="hljs-number">1</span>) + fibonacc(n-<span class="hljs-number">2</span>)</code></pre><p>ä»¥ä¸Šæ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(2^n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ï¼Œç¨å¾®å¤§ä¸€ç‚¹çš„æ•°éƒ½ä¼šç®—å¾ˆä¹…ï¼Œæœ‰ä¸€ä¸ªç®€å•çš„è§£å†³æ–¹æ¡ˆï¼Œä½¿ç”¨ <code>lru_cache</code> ç¼“å­˜è£…é¥°å™¨ï¼Œç¼“å­˜ä¸€äº›ä¸­é—´ç»“æœï¼š</p><pre><code class="hljs python"><span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> lru_cache<span class="hljs-comment"># ç¼“å­˜æ–æ³¢é‚£å¥‘å‡½æ•°å·²ç»è®¡ç®—å‡ºçš„ç»“æœï¼Œæœ€å¤šå ç”¨1024å­—èŠ‚å†…å­˜</span><span class="hljs-meta">@lru_cache(<span class="hljs-params">maxsize=<span class="hljs-number">1024</span></span>)</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">fibonacc</span>(<span class="hljs-params">n</span>):</span>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">1</span> <span class="hljs-keyword">or</span> n == <span class="hljs-number">2</span>:        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>    <span class="hljs-keyword">else</span>:        <span class="hljs-keyword">return</span> fibonacc(n-<span class="hljs-number">1</span>) + fibonacc(n-<span class="hljs-number">2</span>)</code></pre><p>å¦å¤–è¿˜æœ‰æ›´åŠ èŠ‚çœæ—¶é—´å’Œç©ºé—´çš„æ–¹æ³•ï¼š</p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">fibonacc</span>(<span class="hljs-params">n, current=<span class="hljs-number">0</span>, <span class="hljs-built_in">next</span>=<span class="hljs-number">1</span></span>):</span>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span>:        <span class="hljs-keyword">return</span> current    <span class="hljs-keyword">else</span>:        <span class="hljs-keyword">return</span> fibonacc(n-<span class="hljs-number">1</span>, <span class="hljs-built_in">next</span>, current+<span class="hljs-built_in">next</span>)</code></pre><hr><h2><span id="shi-li-san-han-nuo-ta-wen-ti">ç¤ºä¾‹ä¸‰ï¼šæ±‰è¯ºå¡”é—®é¢˜</span></h2><p>æ±‰è¯ºå¡”ï¼ˆåˆç§°æ²³å†…å¡”ï¼‰é—®é¢˜æ˜¯æºäºå°åº¦ä¸€ä¸ªå¤è€ä¼ è¯´çš„ç›Šæ™ºç©å…·ã€‚å¤§æ¢µå¤©åˆ›é€ ä¸–ç•Œçš„æ—¶å€™åšäº†ä¸‰æ ¹é‡‘åˆšçŸ³æŸ±å­ï¼Œåœ¨ä¸€æ ¹æŸ±å­ä¸Šä»ä¸‹å¾€ä¸ŠæŒ‰ç…§å¤§å°é¡ºåºæ‘ç€64ç‰‡é»„é‡‘åœ†ç›˜ã€‚å¤§æ¢µå¤©å‘½ä»¤å©†ç½—é—¨æŠŠåœ†ç›˜ä»ä¸‹é¢å¼€å§‹æŒ‰å¤§å°é¡ºåºé‡æ–°æ‘†æ”¾åœ¨å¦ä¸€æ ¹æŸ±å­ä¸Šã€‚å¹¶ä¸”è§„å®šï¼Œåœ¨å°åœ†ç›˜ä¸Šä¸èƒ½æ”¾å¤§åœ†ç›˜ï¼Œåœ¨ä¸‰æ ¹æŸ±å­ä¹‹é—´ä¸€æ¬¡åªèƒ½ç§»åŠ¨ä¸€ä¸ªåœ†ç›˜ã€‚64ç‰‡é»„é‡‘åœ†ç›˜ç§»åŠ¨å®Œæ¯•ä¹‹æ—¥ï¼Œå°±æ˜¯ä¸–ç•Œæ¯ç­ä¹‹æ—¶ã€‚</p><p><img src="https://cdn.itbob.cn/img/article/037/01.gif" alt="01æ±‰è¯ºå¡”"></p><p>å¯¹äº n ä¸ªç›˜å­ï¼Œç§»åŠ¨æ­¥éª¤å¦‚ä¸‹ï¼š</p><ul><li>æŠŠ n-1 ä¸ªç›˜å­ç”± A ç»è¿‡ C ç§»åŠ¨åˆ° B</li><li>æŠŠæœ€åä¸€ä¸ªç›˜å­ç§»åŠ¨åˆ° C</li><li>æŠŠ n-1 ä¸ªç›˜å­ç”± B ç»è¿‡ A ç§»åŠ¨åˆ° C</li></ul><p><img src="https://cdn.itbob.cn/img/article/037/02.png" alt="02æ±‰è¯ºå¡”"></p><p>é€’å½’ä»£ç å®ç°ï¼š</p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hanoi</span>(<span class="hljs-params">n, a, b, c</span>):</span>                                <span class="hljs-comment"># n ä¸ªç›˜å­ï¼Œaï¼Œbï¼Œcä¸‰ä¸ªæŸ±å­</span>    <span class="hljs-keyword">if</span> n &gt; <span class="hljs-number">0</span>:        hanoi(n-<span class="hljs-number">1</span>, a, c, b)                           <span class="hljs-comment"># æŠŠ n-1 ä¸ªç›˜å­ç”± a ç»è¿‡ c ç§»åŠ¨åˆ° b</span>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;moving from &#123;0&#125; to &#123;1&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(a, c))  <span class="hljs-comment"># æŠŠæœ€åä¸€ä¸ªç›˜å­ç§»åŠ¨åˆ° c</span>        hanoi(n-<span class="hljs-number">1</span>, b, a, c)                           <span class="hljs-comment"># æŠŠ n-1 ä¸ªç›˜å­ç”± b ç»è¿‡ a ç§»åŠ¨åˆ° c</span></code></pre><p>ç¤ºä¾‹ï¼š</p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hanoi</span>(<span class="hljs-params">n, a, b, c</span>):</span>    <span class="hljs-keyword">if</span> n &gt; <span class="hljs-number">0</span>:        hanoi(n-<span class="hljs-number">1</span>, a, c, b)        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;moving from &#123;0&#125; to &#123;1&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(a, c))        hanoi(n-<span class="hljs-number">1</span>, b, a, c)hanoi(<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>)</code></pre><pre><code class="hljs python">moving <span class="hljs-keyword">from</span> A to Cmoving <span class="hljs-keyword">from</span> A to Bmoving <span class="hljs-keyword">from</span> C to Bmoving <span class="hljs-keyword">from</span> A to Cmoving <span class="hljs-keyword">from</span> B to Amoving <span class="hljs-keyword">from</span> B to Cmoving <span class="hljs-keyword">from</span> A to C</code></pre><hr><h2><span id="wei-di-gui">å°¾é€’å½’</span></h2><p>å¦‚æœä¸€ä¸ªå‡½æ•°ä¸­æ‰€æœ‰é€’å½’å½¢å¼çš„è°ƒç”¨éƒ½å‡ºç°åœ¨å‡½æ•°çš„æœ«å°¾ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªé€’å½’å‡½æ•°æ˜¯å°¾é€’å½’çš„ã€‚é€šä¿—æ¥è®²å°±æ˜¯é€’å½’è°ƒç”¨æ”¾åœ¨äº†å‡½æ•°çš„æœ€åã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># ä¸€èˆ¬é€’å½’</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">func</span>(<span class="hljs-params">n</span>):</span>    <span class="hljs-keyword">if</span> n &gt; <span class="hljs-number">0</span>:        func(n-<span class="hljs-number">1</span>)        <span class="hljs-built_in">print</span>(n)<span class="hljs-comment"># ä¸€èˆ¬é€’å½’</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">func</span>(<span class="hljs-params">n</span>):</span>    <span class="hljs-keyword">if</span> n &gt; <span class="hljs-number">0</span>:        <span class="hljs-keyword">return</span> func(n-<span class="hljs-number">1</span>) + n<span class="hljs-comment"># å°¾é€’å½’</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">func</span>(<span class="hljs-params">n</span>):</span>    a = n    <span class="hljs-keyword">if</span> n &gt; <span class="hljs-number">0</span>:        a += <span class="hljs-number">1</span>        <span class="hljs-built_in">print</span>(a, n)        <span class="hljs-keyword">return</span> func(n-<span class="hljs-number">1</span>)</code></pre><p>å¯¹äºæ™®é€šçš„é€’å½’ï¼Œæ¯ä¸€çº§é€’å½’éƒ½äº§ç”Ÿäº†æ–°çš„å±€éƒ¨å˜é‡ï¼Œå¿…é¡»åˆ›å»ºæ–°çš„è°ƒç”¨æ ˆï¼Œéšç€é€’å½’æ·±åº¦çš„å¢åŠ ï¼Œåˆ›å»ºçš„æ ˆè¶Šæ¥è¶Šå¤šï¼Œå®¹æ˜“é€ æˆçˆ†æ ˆã€‚</p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">normal_recursion</span>(<span class="hljs-params">n</span>):</span>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">1</span>:        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>    <span class="hljs-keyword">else</span>:        <span class="hljs-keyword">return</span> n + normal_recursion(n-<span class="hljs-number">1</span>)</code></pre><p><code>normal_recursion(5)</code> æ‰§è¡Œï¼š</p><pre><code class="hljs python">normal_recursion(<span class="hljs-number">5</span>)<span class="hljs-number">5</span> + normal_recursion(<span class="hljs-number">4</span>)<span class="hljs-number">5</span> + <span class="hljs-number">4</span> + normal_recursion(<span class="hljs-number">3</span>)<span class="hljs-number">5</span> + <span class="hljs-number">4</span> + <span class="hljs-number">3</span> + normal_recursion(<span class="hljs-number">2</span>)<span class="hljs-number">5</span> + <span class="hljs-number">4</span> + <span class="hljs-number">3</span> + <span class="hljs-number">2</span> + normal_recursion(<span class="hljs-number">1</span>)<span class="hljs-number">5</span> + <span class="hljs-number">4</span> + <span class="hljs-number">3</span> + <span class="hljs-number">3</span><span class="hljs-number">5</span> + <span class="hljs-number">4</span> + <span class="hljs-number">6</span><span class="hljs-number">5</span> + <span class="hljs-number">10</span><span class="hljs-number">15</span></code></pre><p>å°¾é€’å½’åŸºäºå‡½æ•°çš„å°¾è°ƒç”¨ï¼Œæ¯ä¸€çº§è°ƒç”¨ç›´æ¥è¿”å›é€’å½’å‡½æ•°æ›´æ–°è°ƒç”¨æ ˆï¼Œæ²¡æœ‰æ–°å±€éƒ¨å˜é‡çš„äº§ç”Ÿï¼Œç±»ä¼¼è¿­ä»£çš„å®ç°ã€‚</p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">tail_recursion</span>(<span class="hljs-params">n, total=<span class="hljs-number">0</span></span>):</span>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span>:        <span class="hljs-keyword">return</span> total    <span class="hljs-keyword">else</span>:        <span class="hljs-keyword">return</span> tail_recursion(n-<span class="hljs-number">1</span>, total+n)</code></pre><p><code>normal_recursion(5)</code> æ‰§è¡Œï¼š</p><pre><code class="hljs python">tail_recursion(<span class="hljs-number">5</span>, <span class="hljs-number">0</span>)tail_recursion(<span class="hljs-number">4</span>, <span class="hljs-number">5</span>)tail_recursion(<span class="hljs-number">3</span>, <span class="hljs-number">9</span>)tail_recursion(<span class="hljs-number">2</span>, <span class="hljs-number">12</span>)tail_recursion(<span class="hljs-number">1</span>, <span class="hljs-number">14</span>)tail_recursion(<span class="hljs-number">0</span>, <span class="hljs-number">15</span>)<span class="hljs-number">15</span></code></pre><p>åœ¨ Pythonï¼ŒJavaï¼ŒPascal ç­‰è¯­è¨€ä¸­æ˜¯æ— æ³•å®ç°å°¾é€’å½’ä¼˜åŒ–çš„ï¼Œæ‰€ä»¥é‡‡ç”¨äº† forï¼Œwhileï¼Œgoto ç­‰ç‰¹æ®Šç»“æ„ä»¥è¿­ä»£çš„æ–¹å¼æ¥ä»£æ›¿å°¾é€’å½’ã€‚</p><hr><h2><span id="python-zhong-wei-di-gui-de-jie-jue-fang-an">Python ä¸­å°¾é€’å½’çš„è§£å†³æ–¹æ¡ˆ</span></h2><p>ä½¿ç”¨æ™®é€šçš„é€’å½’æ¥å®ç°æ–æ³¢é‚£å¥‘æ•°åˆ—çš„è®¡ç®—ï¼Œä»£ç æ®µå¦‚ä¸‹ï¼š</p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">fibonacc</span>(<span class="hljs-params">n, current=<span class="hljs-number">0</span>, <span class="hljs-built_in">next</span>=<span class="hljs-number">1</span></span>):</span>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span>:        <span class="hljs-keyword">return</span> current    <span class="hljs-keyword">else</span>:        <span class="hljs-keyword">return</span> fibonacc(n-<span class="hljs-number">1</span>, <span class="hljs-built_in">next</span>, current+<span class="hljs-built_in">next</span>)a = fibonacc(<span class="hljs-number">1000</span>)<span class="hljs-built_in">print</span>(a)</code></pre><p>æ­¤æ—¶ä¼šæŠ¥é”™ï¼Œå› ä¸ºè¶…è¿‡äº†æœ€å¤§é€’å½’æ·±åº¦ï¼ˆé»˜è®¤æ·±åº¦900-1000å·¦å³ï¼‰ï¼š</p><pre><code class="hljs python">Traceback (most recent call last):  File <span class="hljs-string">&quot;F:/PycharmProjects/algorithm/fibonacc_test.py&quot;</span>, line <span class="hljs-number">57</span>, <span class="hljs-keyword">in</span> &lt;module&gt;    a = fibonacc(<span class="hljs-number">1000</span>)  File <span class="hljs-string">&quot;F:/PycharmProjects/algorithm/fibonacc_test.py&quot;</span>, line <span class="hljs-number">47</span>, <span class="hljs-keyword">in</span> fibonacc    <span class="hljs-keyword">return</span> fibonacc(n-<span class="hljs-number">1</span>, <span class="hljs-built_in">next</span>, current+<span class="hljs-built_in">next</span>)  File <span class="hljs-string">&quot;F:/PycharmProjects/algorithm/fibonacc_test.py&quot;</span>, line <span class="hljs-number">47</span>, <span class="hljs-keyword">in</span> fibonacc    <span class="hljs-keyword">return</span> fibonacc(n-<span class="hljs-number">1</span>, <span class="hljs-built_in">next</span>, current+<span class="hljs-built_in">next</span>)  File <span class="hljs-string">&quot;F:/PycharmProjects/algorithm/fibonacc_test.py&quot;</span>, line <span class="hljs-number">47</span>, <span class="hljs-keyword">in</span> fibonacc    <span class="hljs-keyword">return</span> fibonacc(n-<span class="hljs-number">1</span>, <span class="hljs-built_in">next</span>, current+<span class="hljs-built_in">next</span>)  [Previous line repeated <span class="hljs-number">995</span> more times]  File <span class="hljs-string">&quot;F:/PycharmProjects/algorithm/fibonacc_test.py&quot;</span>, line <span class="hljs-number">44</span>, <span class="hljs-keyword">in</span> fibonacc    <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span>:RecursionError: maximum recursion depth exceeded <span class="hljs-keyword">in</span> comparison</code></pre><p>å¦‚æœæ˜¯é€’å½’æ·±åº¦ä¸æ˜¯å¾ˆå¤§çš„æƒ…å†µï¼Œå¯ä»¥æ‰‹åŠ¨é‡è®¾é€’å½’æ·±åº¦æ¥è§£å†³ï¼š</p><pre><code class="hljs python"><span class="hljs-keyword">import</span> syssys.setrecursionlimit(<span class="hljs-number">10000</span>)  <span class="hljs-comment"># é€’å½’æ·±åº¦è®¾ç½®ä¸º 10000</span></code></pre><p>å¦‚æœé€’å½’æ·±åº¦éå¸¸å¤§ï¼Œé‚£ä¹ˆå°±å¯ä»¥é‡‡ç”¨å°¾é€’å½’ä¼˜åŒ–ï¼Œä½†æ˜¯ Python å®˜æ–¹æ˜¯å¹¶ä¸æ”¯æŒå°¾é€’å½’çš„ï¼ˆä¸çŸ¥é“ä¸ºå•¥ï¼‰ï¼Œç„¶è€Œè¿™éš¾ä¸åˆ°å¹¿å¤§çš„ç¨‹åºå‘˜ä»¬ï¼Œæ—©åœ¨ 2006 å¹´ <a href="https://code.activestate.com/recipes/users/2792865/">Crutcher Dunnavant</a> å°±æƒ³å‡ºäº†ä¸€ä¸ªè§£å†³åŠæ³•ï¼Œå®ç°ä¸€ä¸ª <code>tail_call_optimized</code> è£…é¥°å™¨ï¼ŒåŸæ–‡é“¾æ¥ï¼š<a href="https://code.activestate.com/recipes/474088/">https://code.activestate.com/recipes/474088/</a>ï¼ŒåŸä»£ç æ˜¯ Python 2.4 å®ç°çš„ï¼Œç”¨ Python 3.x å®ç°å¦‚ä¸‹ï¼š</p><pre><code class="hljs python"><span class="hljs-comment"># This program shows off a python decorator</span><span class="hljs-comment"># which implements tail call optimization. It</span><span class="hljs-comment"># does this by throwing an exception if it is</span><span class="hljs-comment"># it&#x27;s own grandparent, and catching such</span><span class="hljs-comment"># exceptions to recall the stack.</span><span class="hljs-keyword">import</span> sys<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TailRecurseException</span>(<span class="hljs-params">BaseException</span>):</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, args, kwargs</span>):</span>        self.args = args        self.kwargs = kwargs<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">tail_call_optimized</span>(<span class="hljs-params">g</span>):</span>    <span class="hljs-string">&quot;&quot;&quot;</span><span class="hljs-string">    This function decorates a function with tail call</span><span class="hljs-string">    optimization. It does this by throwing an exception</span><span class="hljs-string">    if it is it&#x27;s own grandparent, and catching such</span><span class="hljs-string">    exceptions to fake the tail call optimization.</span><span class="hljs-string"></span><span class="hljs-string">    This function fails if the decorated5</span><span class="hljs-string">    function recurses in a non-tail context.</span><span class="hljs-string">    &quot;&quot;&quot;</span>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">func</span>(<span class="hljs-params">*args, **kwargs</span>):</span>        f = sys._getframe()        <span class="hljs-keyword">if</span> f.f_back <span class="hljs-keyword">and</span> f.f_back.f_back <span class="hljs-keyword">and</span> f.f_back.f_back.f_code == f.f_code:            <span class="hljs-keyword">raise</span> TailRecurseException(args, kwargs)        <span class="hljs-keyword">else</span>:            <span class="hljs-keyword">while</span> <span class="hljs-number">1</span>:                <span class="hljs-keyword">try</span>:                    <span class="hljs-keyword">return</span> g(*args, **kwargs)                <span class="hljs-keyword">except</span> TailRecurseException <span class="hljs-keyword">as</span> e:                    args = e.args                    kwargs = e.kwargs    func.__doc__ = g.__doc__    <span class="hljs-keyword">return</span> func</code></pre><p>ä½¿ç”¨è¯¥è£…é¥°å™¨å†æ¥å®ç°æ¯”è¾ƒå¤§çš„æ–æ³¢é‚£å¥‘æ•°åˆ—çš„è®¡ç®—ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">@tail_call_optimized</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">fibonacc</span>(<span class="hljs-params">n, current=<span class="hljs-number">0</span>, <span class="hljs-built_in">next</span>=<span class="hljs-number">1</span></span>):</span>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span>:        <span class="hljs-keyword">return</span> current    <span class="hljs-keyword">else</span>:        <span class="hljs-keyword">return</span> fibonacc(n-<span class="hljs-number">1</span>, <span class="hljs-built_in">next</span>, current+<span class="hljs-built_in">next</span>)a = fibonacc(<span class="hljs-number">1000</span>)<span class="hljs-built_in">print</span>(a)</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code class="hljs python"><span class="hljs-number">43466557686937456435688527675040625802564660517371780402481729089536555417949051890403879840079255169295922593080322634775209689623239873322471161642996440906533187938298969649928516003704476137795166849228875</span></code></pre><p><code>tail_call_optimized</code> å®ç°å°¾é€’å½’ä¼˜åŒ–çš„åŸç†ï¼šå½“é€’å½’å‡½æ•°è¢«è¯¥è£…é¥°å™¨ä¿®é¥°åï¼Œé€’å½’è°ƒç”¨åœ¨è£…é¥°å™¨whileå¾ªç¯å†…éƒ¨è¿›è¡Œï¼Œæ¯å½“äº§ç”Ÿæ–°çš„é€’å½’è°ƒç”¨æ ˆå¸§æ—¶ï¼Œ<code>f.f_back.f_back.f_code == f.f_code:</code> å°±æ•è·å½“å‰å°¾è°ƒç”¨å‡½æ•°çš„å‚æ•°ï¼Œå¹¶æŠ›å‡ºå¼‚å¸¸ï¼Œä»è€Œé”€æ¯é€’å½’æ ˆå¹¶ä½¿ç”¨æ•è·çš„å‚æ•°æ‰‹åŠ¨è°ƒç”¨é€’å½’å‡½æ•°ï¼Œæ‰€ä»¥é€’å½’çš„è¿‡ç¨‹ä¸­å§‹ç»ˆåªå­˜åœ¨ä¸€ä¸ªæ ˆå¸§å¯¹è±¡ï¼Œè¾¾åˆ°ä¼˜åŒ–çš„ç›®çš„ã€‚</p><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">TRHXâ€¢é²å‹ƒã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/109322815</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2&gt;&lt;span id=&quot;wen-zhang-mu-lu&quot;&gt;æ–‡ç« ç›®å½•&lt;/span&gt;&lt;/h2&gt;
&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#di-gui-gai-nian&quot;&gt;é€’å½’æ¦‚å¿µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#di-gui-yao-su&quot;&gt;</summary>
      
    
    
    
    <category term="ç®—æ³•" scheme="https://www.itbob.cn/categories/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="Python" scheme="https://www.itbob.cn/tags/Python/"/>
    
    <category term="ç®—æ³•" scheme="https://www.itbob.cn/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Python å®ç°åå¤§ç»å…¸æ’åºç®—æ³•</title>
    <link href="https://www.itbob.cn/article/036/"/>
    <id>https://www.itbob.cn/article/036/</id>
    <published>2020-10-23T16:12:00.000Z</published>
    <updated>2022-05-22T12:47:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="wen-zhang-mu-lu">æ–‡ç« ç›®å½•</span></h2><!-- toc --><ul><li><a href="#font-color-ff0000-pai-xu-suan-fa-fen-lei-font"><font color="#FF0000">æ’åºç®—æ³•åˆ†ç±»</font></a></li><li><a href="#font-color-ff0000-yi-mou-pao-pai-xu-bubble-sort-font"><font color="#FF0000">ä¸€ã€å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰</font></a><ul><li><a href="#1-yuan-li">1ã€åŸç†</a></li><li><a href="#2-bu-zou">2ã€æ­¥éª¤</a></li><li><a href="#3-dong-hua-yan-shi">3ã€åŠ¨ç”»æ¼”ç¤º</a></li><li><a href="#4-dai-ma-shi-xian">4ã€ä»£ç å®ç°</a></li><li><a href="#5-ju-ti-shi-li">5ã€å…·ä½“ç¤ºä¾‹</a></li></ul></li><li><a href="#font-color-ff0000-er-xuan-ze-pai-xu-selection-sort-font"><font color="#FF0000">äºŒã€é€‰æ‹©æ’åºï¼ˆSelection Sortï¼‰</font></a><ul><li><a href="#1-yuan-li-1">1ã€åŸç†</a></li><li><a href="#2-bu-zou-1">2ã€æ­¥éª¤</a></li><li><a href="#3-dong-hua-yan-shi-1">3ã€åŠ¨ç”»æ¼”ç¤º</a></li><li><a href="#4-dai-ma-shi-xian-1">4ã€ä»£ç å®ç°</a></li><li><a href="#5-ju-ti-shi-li-1">5ã€å…·ä½“ç¤ºä¾‹</a></li></ul></li><li><a href="#font-color-ff0000-san-cha-ru-pai-xu-insertion-sort-font"><font color="#FF0000">ä¸‰ã€æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰</font></a><ul><li><a href="#1-yuan-li-2">1ã€åŸç†</a></li><li><a href="#2-bu-zou-2">2ã€æ­¥éª¤</a></li><li><a href="#3-dong-hua-yan-shi-2">3ã€åŠ¨ç”»æ¼”ç¤º</a></li><li><a href="#4-dai-ma-shi-xian-2">4ã€ä»£ç å®ç°</a></li><li><a href="#5-ju-ti-shi-li-2">5ã€å…·ä½“ç¤ºä¾‹</a></li></ul></li><li><a href="#font-color-ff0000-si-xi-er-pai-xu-shell-sort-font"><font color="#FF0000">å››ã€å¸Œå°”æ’åºï¼ˆShell Sortï¼‰</font></a><ul><li><a href="#1-yuan-li-3">1ã€åŸç†</a></li><li><a href="#2-bu-zou-3">2ã€æ­¥éª¤</a></li><li><a href="#3-dong-hua-yan-shi-3">3ã€åŠ¨ç”»æ¼”ç¤º</a></li><li><a href="#4-dai-ma-shi-xian-3">4ã€ä»£ç å®ç°</a></li><li><a href="#5-ju-ti-shi-li-3">5ã€å…·ä½“ç¤ºä¾‹</a></li></ul></li><li><a href="#font-color-ff0000-wu-gui-bing-pai-xu-merge-sort-font"><font color="#FF0000">äº”ã€å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰</font></a><ul><li><a href="#1-yuan-li-4">1ã€åŸç†</a></li><li><a href="#2-bu-zou-4">2ã€æ­¥éª¤</a></li><li><a href="#3-dong-hua-yan-shi-4">3ã€åŠ¨ç”»æ¼”ç¤º</a></li><li><a href="#4-dai-ma-shi-xian-4">4ã€ä»£ç å®ç°</a></li><li><a href="#5-ju-ti-shi-li-4">5ã€å…·ä½“ç¤ºä¾‹</a></li></ul></li><li><a href="#font-color-ff0000-liu-kuai-su-pai-xu-quick-sort-font"><font color="#FF0000">å…­ã€å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰</font></a><ul><li><a href="#1-yuan-li-5">1ã€åŸç†</a></li><li><a href="#2-bu-zou-5">2ã€æ­¥éª¤</a></li><li><a href="#3-dong-hua-yan-shi-5">3ã€åŠ¨ç”»æ¼”ç¤º</a></li><li><a href="#4-dai-ma-shi-xian-5">4ã€ä»£ç å®ç°</a></li><li><a href="#5-ju-ti-shi-li-5">5ã€å…·ä½“ç¤ºä¾‹</a></li></ul></li><li><a href="#font-color-ff0000-qi-dui-pai-xu-heap-sort-font"><font color="#FF0000">ä¸ƒã€å †æ’åºï¼ˆHeap Sortï¼‰</font></a><ul><li><a href="#1-yuan-li-6">1ã€åŸç†</a></li><li><a href="#2-bu-zou-6">2ã€æ­¥éª¤</a></li><li><a href="#3-dong-hua-yan-shi-6">3ã€åŠ¨ç”»æ¼”ç¤º</a></li><li><a href="#4-dai-ma-shi-xian-6">4ã€ä»£ç å®ç°</a></li><li><a href="#5-ju-ti-shi-li-6">5ã€å…·ä½“ç¤ºä¾‹</a></li></ul></li><li><a href="#font-color-ff0000-ba-ji-shu-pai-xu-counting-sort-font"><font color="#FF0000">å…«ã€è®¡æ•°æ’åºï¼ˆCounting Sortï¼‰</font></a><ul><li><a href="#1-yuan-li-7">1ã€åŸç†</a></li><li><a href="#2-bu-zou-7">2ã€æ­¥éª¤</a></li><li><a href="#3-dong-hua-yan-shi-7">3ã€åŠ¨ç”»æ¼”ç¤º</a></li><li><a href="#4-dai-ma-shi-xian-7">4ã€ä»£ç å®ç°</a></li><li><a href="#5-ju-ti-shi-li-7">5ã€å…·ä½“ç¤ºä¾‹</a></li></ul></li><li><a href="#font-color-ff0000-jiu-tong-pai-xu-bucket-sort-font"><font color="#FF0000">ä¹ã€æ¡¶æ’åºï¼ˆBucket Sortï¼‰</font></a><ul><li><a href="#1-yuan-li-8">1ã€åŸç†</a></li><li><a href="#2-bu-zou-8">2ã€æ­¥éª¤</a></li><li><a href="#3-dong-hua-yan-shi-8">3ã€åŠ¨ç”»æ¼”ç¤º</a></li><li><a href="#4-dai-ma-shi-xian-8">4ã€ä»£ç å®ç°</a></li><li><a href="#5-ju-ti-shi-li-8">5ã€å…·ä½“ç¤ºä¾‹</a></li></ul></li><li><a href="#font-color-ff0000-shi-ji-shu-pai-xu-radix-sort-font"><font color="#FF0000">åã€åŸºæ•°æ’åºï¼ˆRadix Sortï¼‰</font></a><ul><li><a href="#1-yuan-li-9">1ã€åŸç†</a></li><li><a href="#2-bu-zou-9">2ã€æ­¥éª¤</a></li><li><a href="#3-dong-hua-yan-shi-9">3ã€åŠ¨ç”»æ¼”ç¤º</a></li><li><a href="#4-dai-ma-shi-xian-9">4ã€ä»£ç å®ç°</a></li><li><a href="#5-ju-ti-shi-li-9">5ã€å…·ä½“ç¤ºä¾‹</a></li></ul></li></ul><!-- tocstop --><hr><ul><li>å‚è€ƒèµ„æ–™ï¼š<a href="https://www.bilibili.com/video/BV1mp4y1D7UP">https://www.bilibili.com/video/BV1mp4y1D7UP</a></li><li>æœ¬æ–‡åŠ¨å›¾æ¼”ç¤ºæ¥æºï¼š<a href="https://visualgo.net/">https://visualgo.net/</a></li></ul><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/108987300</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h2><span id="pai-xu-suan-fa-fen-lei"><font color="#FF0000">æ’åºç®—æ³•åˆ†ç±»</font></span></h2><ul><li><font color="#FF0000"><strong>å†…éƒ¨æ’åº</strong></font>ï¼šæŒ‡åœ¨æ’åºæœŸé—´ï¼Œå…ƒç´ å…¨éƒ¨å­˜æ”¾åœ¨å†…å­˜ä¸­çš„æ’åºï¼Œå¸¸è§çš„å†…éƒ¨æ’åºç®—æ³•æœ‰ï¼š<strong>å†’æ³¡æ’åºã€é€‰æ‹©æ’åºã€æ’å…¥æ’åºã€å¸Œå°”æ’åºã€å½’å¹¶æ’åºã€å¿«é€Ÿæ’åºã€å †æ’åºã€åŸºæ•°æ’åº</strong>ç­‰ã€‚</li><li><font color="#FF0000"><strong>å¤–éƒ¨æ’åº</strong></font>ï¼šæŒ‡åœ¨æ’åºæœŸé—´ï¼Œå…ƒç´ æ— æ³•å®Œå…¨å…¨éƒ¨åŒæ—¶å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œå¿…é¡»åœ¨æ’åºçš„è¿‡ç¨‹ä¸­æ ¹æ®è¦æ±‚ä¸æ–­åœ°åœ¨å†…ã€å¤–å­˜ä¹‹é—´ç§»åŠ¨çš„æ’åºï¼›</li><li><font color="#FF0000"><strong>æ¯”è¾ƒç±»æ’åº</strong></font>ï¼šé€šè¿‡æ¯”è¾ƒæ¥å†³å®šå…ƒç´ é—´çš„ç›¸å¯¹æ¬¡åºï¼Œç”±äºå…¶æ—¶é—´å¤æ‚åº¦ä¸èƒ½çªç ´O(nlogn)ï¼Œå› æ­¤ä¹Ÿç§°ä¸ºéçº¿æ€§æ—¶é—´æ¯”è¾ƒç±»æ’åºã€‚</li><li><font color="#FF0000"><strong>éæ¯”è¾ƒç±»æ’åº</strong></font>ï¼šä¸é€šè¿‡æ¯”è¾ƒæ¥å†³å®šå…ƒç´ é—´çš„ç›¸å¯¹æ¬¡åºï¼Œå®ƒå¯ä»¥çªç ´åŸºäºæ¯”è¾ƒæ’åºçš„æ—¶é—´ä¸‹ç•Œï¼Œä»¥çº¿æ€§æ—¶é—´è¿è¡Œï¼Œå› æ­¤ä¹Ÿç§°ä¸ºçº¿æ€§æ—¶é—´éæ¯”è¾ƒç±»æ’åºã€‚ å¸¸è§çš„éæ¯”è¾ƒç±»æ’åºç®—æ³•æœ‰ï¼š<strong>åŸºæ•°æ’åºã€è®¡æ•°æ’åºã€æ¡¶æ’åº</strong>ç­‰</li></ul><hr><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå†…éƒ¨æ’åºç®—æ³•åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­éƒ½è¦è¿›è¡Œä¸¤ç§æ“ä½œï¼šæ¯”è¾ƒå’Œç§»åŠ¨ã€‚é€šè¿‡æ¯”è¾ƒä¸¤ä¸ªå…³é”®å­—çš„å¤§å°ï¼Œç¡®å®šå¯¹åº”å…ƒç´ çš„å‰åå…³ç³»ï¼Œç„¶åé€šè¿‡ç§»åŠ¨å…ƒç´ ä»¥è¾¾åˆ°æœ‰åºã€‚ä½†æ˜¯ï¼Œå¹¶éæ‰€æœ‰çš„å†…éƒ¨æ’åºç®—æ³•éƒ½è¦åŸºäºæ¯”è¾ƒæ“ä½œã€‚</p><p>æ¯ç§æ’åºç®—æ³•éƒ½æœ‰å„è‡ªçš„ä¼˜ç¼ºç‚¹ï¼Œé€‚åˆåœ¨ä¸åŒçš„ç¯å¢ƒä¸‹ä½¿ç”¨ï¼Œå°±å…¶å…¨é¢æ€§èƒ½è€Œè¨€ï¼Œå¾ˆéš¾æå‡ºä¸€ç§è¢«è®¤ä¸ºæ˜¯æœ€å¥½çš„ç®—æ³•ã€‚<font color="#FF0000"><strong>é€šå¸¸å¯ä»¥å°†æ’åºç®—æ³•åˆ†ä¸ºæ’å…¥æ’åºã€äº¤æ¢æ’åºã€é€‰æ‹©æ’åºã€å½’å¹¶æ’åºå’ŒåŸºæ•°æ’åºäº”å¤§ç±»</strong></font>ï¼Œå†…éƒ¨æ’åºç®—æ³•çš„æ€§èƒ½å–å†³äºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦ï¼Œè€Œæ—¶é—´å¤æ‚åº¦ä¸€èˆ¬æ˜¯ç”±æ¯”è¾ƒå’Œç§»åŠ¨çš„æ¬¡æ•°å†³å®šçš„ã€‚</p><hr><p><img src="https://cdn.itbob.cn/img/article/036/01.png" alt="01"></p><table><thead><tr><th>æ’åºç®—æ³•</th><th>æ—¶é—´å¤æ‚åº¦ï¼ˆå¹³å‡ï¼‰</th><th>æ—¶é—´å¤æ‚åº¦ï¼ˆæœ€å¥½ï¼‰</th><th>æ—¶é—´å¤æ‚åº¦ï¼ˆæœ€åï¼‰</th><th>ç©ºé—´å¤æ‚åº¦</th><th>ç¨³å®šæ€§</th></tr></thead><tbody><tr><td>å†’æ³¡æ’åº</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></td><td>ç¨³å®š</td></tr><tr><td>é€‰æ‹©æ’åº</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></td><td>ä¸ç¨³å®š</td></tr><tr><td>æ’å…¥æ’åº</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></td><td>ç¨³å®š</td></tr><tr><td>å¸Œå°”æ’åº</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><msup><mi>g</mi><mn>2</mn></msup><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlog^2n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><msup><mi>g</mi><mn>2</mn></msup><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlog^2n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></td><td>ä¸ç¨³å®š</td></tr><tr><td>å½’å¹¶æ’åº</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td>ç¨³å®š</td></tr><tr><td>å¿«é€Ÿæ’åº</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(logn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td>ä¸ç¨³å®š</td></tr><tr><td>å †æ’åº</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></td><td>ä¸ç¨³å®š</td></tr><tr><td>è®¡æ•°æ’åº</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n+k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n+k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n+k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span></td><td>ç¨³å®š</td></tr><tr><td>æ¡¶æ’åº</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n+k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n+k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n+k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span></td><td>ç¨³å®š</td></tr><tr><td>åŸºæ•°æ’åº</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>âˆ—</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n*k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>âˆ—</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n*k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>âˆ—</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n*k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span></td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n+k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span></td><td>ç¨³å®š</td></tr></tbody></table><p><strong>ç¨³å®šæ€§</strong>ï¼šæ’åºå 2 ä¸ªç›¸ç­‰é”®å€¼çš„é¡ºåºå’Œæ’åºä¹‹å‰å®ƒä»¬çš„é¡ºåºæ˜¯å¦ç›¸åŒã€‚ä¾‹ï¼šå¦‚æœ a åŸæœ¬åœ¨ b å‰é¢ï¼Œä¸” a=bï¼Œæ’åºä¹‹å a ä»ç„¶åœ¨ b çš„å‰é¢ï¼Œåˆ™è¡¨ç¤ºå…·æœ‰ç¨³å®šæ€§ã€‚</p><p>å¸¸è§æ—¶é—´å¤æ‚åº¦å¤§å°æ¯”è¾ƒï¼š</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo>&lt;</mo><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo>&lt;</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>&lt;</mo><mi>O</mi><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mo stretchy="false">)</mo><mo>&lt;</mo><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">!</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1) &lt; O(logn) &lt; O(n) &lt; O(nlogn) &lt; O(n^2) &lt;...&lt; O(2^n)&lt;O (n!)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord">...</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">!)</span></span></span></span></p><hr><h2><span id="yi-mou-pao-pai-xu-bubble-sort"><font color="#FF0000">ä¸€ã€å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰</font></span></h2><h3><span id="1-yuan-li">1ã€åŸç†</span></h3><p>é‡å¤åœ°èµ°è®¿è¦æ’åºçš„å…ƒç´ ï¼Œä¾æ¬¡æ¯”è¾ƒä¸¤ä¸ªç›¸é‚»çš„å…ƒç´ ï¼Œå¦‚æœé¡ºåºï¼ˆå¦‚ä»å¤§åˆ°å°ï¼‰é”™è¯¯å°±æŠŠä»–ä»¬äº¤æ¢è¿‡æ¥ã€‚èµ°è®¿å…ƒç´ çš„å·¥ä½œæ˜¯é‡å¤åœ°è¿›è¡Œï¼Œç›´åˆ°æ²¡æœ‰ç›¸é‚»å…ƒç´ éœ€è¦äº¤æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥å…ƒç´ åˆ—å·²ç»æ’åºå®Œæˆã€‚å†’æ³¡çš„æ„æ€å…¶å®å°±æ˜¯æ¯ä¸€è½®å†’æ³¡ä¸€ä¸ªæœ€å¤§çš„å…ƒç´ å°±ä¼šé€šè¿‡ä¸æ–­æ¯”è¾ƒå’Œäº¤æ¢ç›¸é‚»å…ƒç´ ä½¿å®ƒè½¬ç§»åˆ°æœ€å³è¾¹ã€‚</p><p>å‡å¦‚æœ‰ 10 ä¸ªå°ç›†å‹ä»å·¦åˆ°å³ç«™æˆä¸€æ’ï¼Œä¸ªå¤´ä¸ç­‰ã€‚è€å¸ˆæƒ³è®©ä»–ä»¬æŒ‰ç…§ä¸ªå¤´ä»ä½åˆ°é«˜ç«™å¥½ï¼Œäºæ˜¯ä»–å¼€å§‹å–Šå£å·ã€‚ æ¯å–Šä¸€æ¬¡ï¼Œä»ç¬¬ä¸€ä¸ªå°ç›†å‹å¼€å§‹ï¼Œç›¸é‚»çš„å°æœ‹å‹å¦‚æœèº«é«˜ä¸æ˜¯æ­£åºå°±ä¼šä¸¤ä¸¤è°ƒæ¢ï¼Œå°±è¿™æ ·ç¬¬ä¸€è½®ä¸ªå¤´æœ€é«˜çš„æ’åˆ°äº†æœ€å³è¾¹ï¼ˆå†’æ³¡åˆ°æœ€å³è¾¹ï¼‰ï¼Œç¬¬äºŒè½®ä¾æ¬¡è¿™ä¹ˆæ¥ï¼Œä»ç¬¬ä¸€ä¸ªå°æœ‹å‹å¼€å§‹ä¸¤ä¸¤äº¤æ¢ï¼Œè¿™æ ·æ¬¡é«˜çš„å°ç›†å‹åˆæ’åˆ°äº†å€’æ•°ç¬¬äºŒä¸ªä½ç½®ã€‚ä¾æ¬¡ç±»æ¨ã€‚</p><h3><span id="2-bu-zou">2ã€æ­¥éª¤</span></h3><ul><li><strong>â‘ </strong> æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ ã€‚å¦‚æœç¬¬ä¸€ä¸ªæ¯”ç¬¬äºŒä¸ªå¤§ï¼Œå°±äº¤æ¢å®ƒä»¬ä¸¤ä¸ªï¼›</li><li><strong>â‘¡</strong> å¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ä½œåŒæ ·çš„å·¥ä½œï¼Œä»å¼€å§‹ç¬¬ä¸€å¯¹åˆ°ç»“å°¾çš„æœ€åä¸€å¯¹ï¼Œè¿™æ ·åœ¨æœ€åçš„å…ƒç´ åº”è¯¥ä¼šæ˜¯æœ€å¤§çš„æ•°ï¼›</li><li><strong>â‘¢</strong> é’ˆå¯¹æ‰€æœ‰çš„å…ƒç´ é‡å¤æ­¥éª¤ <strong>â‘ </strong> ~ <strong>â‘¡</strong>ï¼Œé™¤äº†æœ€åä¸€ä¸ªå…ƒç´ ï¼Œç›´åˆ°æ’åºå®Œæˆã€‚</li></ul><h3><span id="3-dong-hua-yan-shi">3ã€åŠ¨ç”»æ¼”ç¤º</span></h3><p><img src="https://cdn.itbob.cn/img/article/036/02%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F.gif" alt="02å†’æ³¡æ’åº"></p><h3><span id="4-dai-ma-shi-xian">4ã€ä»£ç å®ç°</span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bubbleSort</span>(<span class="hljs-params">arr</span>):</span>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(arr)-<span class="hljs-number">1</span>):         <span class="hljs-comment"># å¾ªç¯ç¬¬ i è¶Ÿ</span>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(arr)-i-<span class="hljs-number">1</span>):   <span class="hljs-comment"># j ä¸ºä¸‹æ ‡</span>            <span class="hljs-keyword">if</span> arr[j] &gt; arr[j+<span class="hljs-number">1</span>]:       <span class="hljs-comment"># å¦‚æœè¿™ä¸ªæ•°å¤§äºåé¢çš„æ•°å°±äº¤æ¢ä¸¤è€…çš„ä½ç½®</span>                arr[j], arr[j+<span class="hljs-number">1</span>] = arr[j+<span class="hljs-number">1</span>], arr[j]    <span class="hljs-keyword">return</span> arr</code></pre><p>å†’æ³¡æ’åºè¿˜æœ‰ä¸€ç§ä¼˜åŒ–ç®—æ³•ï¼Œå°±æ˜¯ç«‹ä¸€ä¸ª flagï¼Œå½“æŸä¸€è¶Ÿåºåˆ—éå†ä¸­å…ƒç´ æ²¡æœ‰å‘ç”Ÿäº¤æ¢ï¼Œåˆ™è¯æ˜è¯¥åºåˆ—å·²ç»æœ‰åºï¼Œå°±ä¸å†è¿›è¡Œåç»­çš„æ’åºã€‚åŠ¨ç”»æ¼”ç¤ºé‡Œå°±æ˜¯æ”¹è¿›åçš„ç®—æ³•ï¼Œæ”¹è¿›åçš„ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bubbleSort</span>(<span class="hljs-params">arr</span>):</span>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(arr)-<span class="hljs-number">1</span>):         <span class="hljs-comment"># å¾ªç¯ç¬¬ i è¶Ÿ</span>    flag = <span class="hljs-literal">False</span>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(arr)-i-<span class="hljs-number">1</span>):   <span class="hljs-comment"># j ä¸ºä¸‹æ ‡</span>            <span class="hljs-keyword">if</span> arr[j] &gt; arr[j+<span class="hljs-number">1</span>]:       <span class="hljs-comment"># å¦‚æœè¿™ä¸ªæ•°å¤§äºåé¢çš„æ•°å°±äº¤æ¢ä¸¤è€…çš„ä½ç½®</span>                arr[j], arr[j+<span class="hljs-number">1</span>] = arr[j+<span class="hljs-number">1</span>], arr[j]                flag = <span class="hljs-literal">True</span>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> flag:            <span class="hljs-keyword">return</span>    <span class="hljs-keyword">return</span> arr</code></pre><p>å†’æ³¡æ’åºæœ€å¿«çš„æƒ…å†µï¼šå½“è¾“å…¥çš„æ•°æ®æ˜¯æ­£åºæ—¶ï¼›æœ€æ…¢çš„æƒ…å†µï¼šå½“è¾“å…¥çš„æ•°æ®æ˜¯ååºæ—¶ã€‚</p><h3><span id="5-ju-ti-shi-li">5ã€å…·ä½“ç¤ºä¾‹</span></h3><p>æœªæ”¹è¿›ç‰ˆæœ¬ï¼š</p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bubble_sort</span>(<span class="hljs-params">arr</span>):</span>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(arr)-<span class="hljs-number">1</span>):         <span class="hljs-comment"># å¾ªç¯ç¬¬ i è¶Ÿ</span>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(arr)-i-<span class="hljs-number">1</span>):   <span class="hljs-comment"># j ä¸ºä¸‹æ ‡</span>            <span class="hljs-keyword">if</span> arr[j] &gt; arr[j+<span class="hljs-number">1</span>]:       <span class="hljs-comment"># å¦‚æœè¿™ä¸ªæ•°å¤§äºåé¢çš„æ•°å°±äº¤æ¢ä¸¤è€…çš„ä½ç½®</span>                arr[j], arr[j+<span class="hljs-number">1</span>] = arr[j+<span class="hljs-number">1</span>], arr[j]        <span class="hljs-built_in">print</span>(arr)                      <span class="hljs-comment"># æ¯ä¸€è¶Ÿæ¯”è¾ƒå®Œäº†å°±æ‰“å°ä¸€æ¬¡</span>arr = [<span class="hljs-number">3</span>, <span class="hljs-number">44</span>, <span class="hljs-number">38</span>, <span class="hljs-number">5</span>, <span class="hljs-number">47</span>, <span class="hljs-number">15</span>, <span class="hljs-number">36</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">2</span>, <span class="hljs-number">46</span>, <span class="hljs-number">4</span>, <span class="hljs-number">19</span>, <span class="hljs-number">50</span>, <span class="hljs-number">48</span>]bubble_sort(arr)</code></pre><pre><code class="hljs python">[<span class="hljs-number">3</span>, <span class="hljs-number">38</span>, <span class="hljs-number">5</span>, <span class="hljs-number">44</span>, <span class="hljs-number">15</span>, <span class="hljs-number">36</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">2</span>, <span class="hljs-number">46</span>, <span class="hljs-number">4</span>, <span class="hljs-number">19</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>][<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">38</span>, <span class="hljs-number">15</span>, <span class="hljs-number">36</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">2</span>, <span class="hljs-number">44</span>, <span class="hljs-number">4</span>, <span class="hljs-number">19</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>][<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">36</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">2</span>, <span class="hljs-number">38</span>, <span class="hljs-number">4</span>, <span class="hljs-number">19</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>][<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">2</span>, <span class="hljs-number">36</span>, <span class="hljs-number">4</span>, <span class="hljs-number">19</span>, <span class="hljs-number">38</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>][<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">26</span>, <span class="hljs-number">2</span>, <span class="hljs-number">27</span>, <span class="hljs-number">4</span>, <span class="hljs-number">19</span>, <span class="hljs-number">36</span>, <span class="hljs-number">38</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>][<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">2</span>, <span class="hljs-number">26</span>, <span class="hljs-number">4</span>, <span class="hljs-number">19</span>, <span class="hljs-number">27</span>, <span class="hljs-number">36</span>, <span class="hljs-number">38</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>][<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">15</span>, <span class="hljs-number">4</span>, <span class="hljs-number">19</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">36</span>, <span class="hljs-number">38</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>][<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">36</span>, <span class="hljs-number">38</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>][<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">36</span>, <span class="hljs-number">38</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>][<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">36</span>, <span class="hljs-number">38</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>][<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">36</span>, <span class="hljs-number">38</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>][<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">36</span>, <span class="hljs-number">38</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>][<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">36</span>, <span class="hljs-number">38</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>][<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">36</span>, <span class="hljs-number">38</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>]</code></pre><p>æ”¹è¿›ç‰ˆæœ¬ï¼š</p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bubble_sort</span>(<span class="hljs-params">arr</span>):</span>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(arr)-<span class="hljs-number">1</span>):         <span class="hljs-comment"># å¾ªç¯ç¬¬ i è¶Ÿ</span>        flag = <span class="hljs-literal">False</span>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(arr)-i-<span class="hljs-number">1</span>):   <span class="hljs-comment"># j ä¸ºä¸‹æ ‡</span>            <span class="hljs-keyword">if</span> arr[j] &gt; arr[j+<span class="hljs-number">1</span>]:       <span class="hljs-comment"># å¦‚æœè¿™ä¸ªæ•°å¤§äºåé¢çš„æ•°å°±äº¤æ¢ä¸¤è€…çš„ä½ç½®</span>                arr[j], arr[j+<span class="hljs-number">1</span>] = arr[j+<span class="hljs-number">1</span>], arr[j]                flag = <span class="hljs-literal">True</span>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> flag:            <span class="hljs-keyword">return</span>        <span class="hljs-built_in">print</span>(arr)                      <span class="hljs-comment"># æ¯ä¸€è¶Ÿæ¯”è¾ƒå®Œäº†å°±æ‰“å°ä¸€æ¬¡</span>arr = [<span class="hljs-number">3</span>, <span class="hljs-number">44</span>, <span class="hljs-number">38</span>, <span class="hljs-number">5</span>, <span class="hljs-number">47</span>, <span class="hljs-number">15</span>, <span class="hljs-number">36</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">2</span>, <span class="hljs-number">46</span>, <span class="hljs-number">4</span>, <span class="hljs-number">19</span>, <span class="hljs-number">50</span>, <span class="hljs-number">48</span>]bubble_sort(arr)</code></pre><pre><code class="hljs python">[<span class="hljs-number">3</span>, <span class="hljs-number">38</span>, <span class="hljs-number">5</span>, <span class="hljs-number">44</span>, <span class="hljs-number">15</span>, <span class="hljs-number">36</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">2</span>, <span class="hljs-number">46</span>, <span class="hljs-number">4</span>, <span class="hljs-number">19</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>][<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">38</span>, <span class="hljs-number">15</span>, <span class="hljs-number">36</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">2</span>, <span class="hljs-number">44</span>, <span class="hljs-number">4</span>, <span class="hljs-number">19</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>][<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">36</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">2</span>, <span class="hljs-number">38</span>, <span class="hljs-number">4</span>, <span class="hljs-number">19</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>][<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">2</span>, <span class="hljs-number">36</span>, <span class="hljs-number">4</span>, <span class="hljs-number">19</span>, <span class="hljs-number">38</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>][<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">26</span>, <span class="hljs-number">2</span>, <span class="hljs-number">27</span>, <span class="hljs-number">4</span>, <span class="hljs-number">19</span>, <span class="hljs-number">36</span>, <span class="hljs-number">38</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>][<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">2</span>, <span class="hljs-number">26</span>, <span class="hljs-number">4</span>, <span class="hljs-number">19</span>, <span class="hljs-number">27</span>, <span class="hljs-number">36</span>, <span class="hljs-number">38</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>][<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">15</span>, <span class="hljs-number">4</span>, <span class="hljs-number">19</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">36</span>, <span class="hljs-number">38</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>][<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">36</span>, <span class="hljs-number">38</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>][<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">36</span>, <span class="hljs-number">38</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>]</code></pre><hr><h2><span id="er-xuan-ze-pai-xu-selection-sort"><font color="#FF0000">äºŒã€é€‰æ‹©æ’åºï¼ˆSelection Sortï¼‰</font></span></h2><h3><span id="1-yuan-li">1ã€åŸç†</span></h3><p>ç¬¬ä¸€æ¬¡ä»å¾…æ’åºçš„æ•°æ®å…ƒç´ ä¸­é€‰å‡ºæœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰çš„ä¸€ä¸ªå…ƒç´ ï¼Œå­˜æ”¾åœ¨åºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç„¶åå†ä»å‰©ä½™çš„æœªæ’åºå…ƒç´ ä¸­å¯»æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶åæ”¾åˆ°å·²æ’åºçš„åºåˆ—çš„æœ«å°¾ã€‚ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°å…¨éƒ¨å¾…æ’åºçš„æ•°æ®å…ƒç´ çš„ä¸ªæ•°ä¸ºé›¶ã€‚å¯ä»¥ç†è§£ä¸º ä¸€ä¸ª 0 åˆ° n-1 çš„è¿­ä»£ï¼Œæ¯æ¬¡å‘åæŸ¥æ‰¾é€‰æ‹©ä¸€ä¸ªæœ€å°çš„å…ƒç´ ã€‚é€‰æ‹©æ’åºæ˜¯ä¸ç¨³å®šçš„æ’åºæ–¹æ³•ã€‚</p><p>å‡å¦‚æœ‰ 10 ä¸ªå°ç›†å‹ä»å·¦åˆ°å³ç«™æˆä¸€æ’ï¼Œä¸ªå¤´ä¸ç­‰ã€‚è€å¸ˆæƒ³è®©ä»–ä»¬æŒ‰ç…§ä¸ªå¤´ä»ä½åˆ°é«˜ç«™å¥½ï¼Œæˆ‘ä»¬ä»ç¬¬ä¸€ä¸ªå¼€å§‹ï¼Œä»å¤´åˆ°å°¾æ‰¾ä¸€ä¸ªä¸ªå¤´æœ€å°çš„å°ç›†å‹ï¼Œç„¶åæŠŠå®ƒå’Œç¬¬ä¸€ä¸ªå°ç›†å‹äº¤æ¢ã€‚ ç„¶åä»ç¬¬äºŒä¸ªå°ç›†å‹å¼€å§‹é‡‡å–åŒæ ·çš„ç­–ç•¥ï¼Œè¿™æ ·ä¸€åœˆä¸‹æ¥å°ç›†å‹å°±æ˜¯æœ‰åºçš„äº†ã€‚</p><h3><span id="2-bu-zou">2ã€æ­¥éª¤</span></h3><ul><li><strong>â‘ </strong> é¦–å…ˆåœ¨æœªæ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œå­˜æ”¾åˆ°æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼›</li><li><strong>â‘¡</strong> å†ä»å‰©ä½™æœªæ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶åæ”¾åˆ°å·²æ’åºåºåˆ—çš„æœ«å°¾ï¼›</li><li><strong>â‘¢</strong> é‡å¤æ­¥éª¤ <strong>â‘¡</strong>ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æ’åºå®Œæ¯•ã€‚</li></ul><h3><span id="3-dong-hua-yan-shi">3ã€åŠ¨ç”»æ¼”ç¤º</span></h3><p><img src="https://cdn.itbob.cn/img/article/036/03%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F.gif" alt="03é€‰æ‹©æ’åº"></p><h3><span id="4-dai-ma-shi-xian">4ã€ä»£ç å®ç°</span></h3><p>Python ä»£ç ï¼š</p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">selection_sort</span>(<span class="hljs-params">arr</span>):</span>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(arr)-<span class="hljs-number">1</span>):          <span class="hljs-comment"># å¾ªç¯ç¬¬ i è¶Ÿ</span>        min_index = i                    <span class="hljs-comment"># è®°å½•æœ€å°æ•°çš„ä¸‹æ ‡</span>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i+<span class="hljs-number">1</span>, <span class="hljs-built_in">len</span>(arr)):   <span class="hljs-comment"># j ä¸ºä¸‹æ ‡</span>            <span class="hljs-keyword">if</span> arr[j] &lt; arr[min_index]:  <span class="hljs-comment"># å¦‚æœè¿™ä¸ªæ•°å°äºè®°å½•çš„æœ€å°æ•°ï¼Œåˆ™æ›´æ–°æœ€å°æ•°çš„ä¸‹æ ‡</span>                min_index = j        arr[i], arr[min_index] = arr[min_index], arr[i]  <span class="hljs-comment"># å°† i ä½ç½®çš„æ•°ï¼ˆå·²æ’åºåºåˆ—çš„æœ«å°¾çš„æ•°ï¼‰å’Œæœ€å°æ•°è¿›è¡Œäº¤æ¢</span>    <span class="hljs-keyword">return</span> arr</code></pre><h3><span id="5-ju-ti-shi-li">5ã€å…·ä½“ç¤ºä¾‹</span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">selection_sort</span>(<span class="hljs-params">arr</span>):</span>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(arr)-<span class="hljs-number">1</span>):          <span class="hljs-comment"># å¾ªç¯ç¬¬ i è¶Ÿ</span>        min_index = i                    <span class="hljs-comment"># è®°å½•æœ€å°æ•°çš„ä¸‹æ ‡</span>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i+<span class="hljs-number">1</span>, <span class="hljs-built_in">len</span>(arr)):   <span class="hljs-comment"># j ä¸ºä¸‹æ ‡</span>            <span class="hljs-keyword">if</span> arr[j] &lt; arr[min_index]:  <span class="hljs-comment"># å¦‚æœè¿™ä¸ªæ•°å°äºè®°å½•çš„æœ€å°æ•°ï¼Œåˆ™æ›´æ–°æœ€å°æ•°çš„ä¸‹æ ‡</span>                min_index = j        arr[i], arr[min_index] = arr[min_index], arr[i]  <span class="hljs-comment"># å°† i ä½ç½®çš„æ•°ï¼ˆå·²æ’åºåºåˆ—çš„æœ«å°¾çš„æ•°ï¼‰å’Œæœ€å°æ•°è¿›è¡Œäº¤æ¢</span>        <span class="hljs-built_in">print</span>(arr)                       <span class="hljs-comment"># æ¯ä¸€è¶Ÿæ¯”è¾ƒå®Œäº†å°±æ‰“å°ä¸€æ¬¡</span>arr = [<span class="hljs-number">3</span>, <span class="hljs-number">44</span>, <span class="hljs-number">38</span>, <span class="hljs-number">5</span>, <span class="hljs-number">47</span>, <span class="hljs-number">15</span>, <span class="hljs-number">36</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">2</span>, <span class="hljs-number">46</span>, <span class="hljs-number">4</span>, <span class="hljs-number">19</span>, <span class="hljs-number">50</span>, <span class="hljs-number">48</span>]selection_sort(arr)</code></pre><pre><code class="hljs python">[<span class="hljs-number">2</span>, <span class="hljs-number">44</span>, <span class="hljs-number">38</span>, <span class="hljs-number">5</span>, <span class="hljs-number">47</span>, <span class="hljs-number">15</span>, <span class="hljs-number">36</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">3</span>, <span class="hljs-number">46</span>, <span class="hljs-number">4</span>, <span class="hljs-number">19</span>, <span class="hljs-number">50</span>, <span class="hljs-number">48</span>][<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">38</span>, <span class="hljs-number">5</span>, <span class="hljs-number">47</span>, <span class="hljs-number">15</span>, <span class="hljs-number">36</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">4</span>, <span class="hljs-number">19</span>, <span class="hljs-number">50</span>, <span class="hljs-number">48</span>][<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">47</span>, <span class="hljs-number">15</span>, <span class="hljs-number">36</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">38</span>, <span class="hljs-number">19</span>, <span class="hljs-number">50</span>, <span class="hljs-number">48</span>][<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">47</span>, <span class="hljs-number">15</span>, <span class="hljs-number">36</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">38</span>, <span class="hljs-number">19</span>, <span class="hljs-number">50</span>, <span class="hljs-number">48</span>][<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">47</span>, <span class="hljs-number">36</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">38</span>, <span class="hljs-number">19</span>, <span class="hljs-number">50</span>, <span class="hljs-number">48</span>][<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">36</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">38</span>, <span class="hljs-number">47</span>, <span class="hljs-number">50</span>, <span class="hljs-number">48</span>][<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">26</span>, <span class="hljs-number">36</span>, <span class="hljs-number">27</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">38</span>, <span class="hljs-number">47</span>, <span class="hljs-number">50</span>, <span class="hljs-number">48</span>][<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">36</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">38</span>, <span class="hljs-number">47</span>, <span class="hljs-number">50</span>, <span class="hljs-number">48</span>][<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">36</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">38</span>, <span class="hljs-number">47</span>, <span class="hljs-number">50</span>, <span class="hljs-number">48</span>][<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">36</span>, <span class="hljs-number">38</span>, <span class="hljs-number">46</span>, <span class="hljs-number">44</span>, <span class="hljs-number">47</span>, <span class="hljs-number">50</span>, <span class="hljs-number">48</span>][<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">36</span>, <span class="hljs-number">38</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">50</span>, <span class="hljs-number">48</span>][<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">36</span>, <span class="hljs-number">38</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">50</span>, <span class="hljs-number">48</span>][<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">36</span>, <span class="hljs-number">38</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">50</span>, <span class="hljs-number">48</span>][<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">15</span>, <span class="hljs-number">19</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">36</span>, <span class="hljs-number">38</span>, <span class="hljs-number">44</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">50</span>]</code></pre><hr><h2><span id="san-cha-ru-pai-xu-insertion-sort"><font color="#FF0000">ä¸‰ã€æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰</font></span></h2><h3><span id="1-yuan-li">1ã€åŸç†</span></h3><p>æ’å…¥æ’åºä¸€èˆ¬ä¹Ÿè¢«ç§°ä¸ºç›´æ¥æ’å…¥æ’åºã€‚å¯¹äºå°‘é‡å…ƒç´ çš„æ’åºï¼Œå®ƒæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ç®—æ³•ã€‚å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯å°†ä¸€ä¸ªè®°å½•æ’å…¥åˆ°å·²ç»æ’å¥½åºçš„æœ‰åºè¡¨ä¸­ï¼Œä»è€Œå½¢æˆä¸€ä¸ªæ–°çš„æœ‰åºè¡¨ã€‚åœ¨å…¶å®ç°è¿‡ç¨‹ä½¿ç”¨åŒå±‚å¾ªç¯ï¼Œå¤–å±‚å¾ªç¯å¯¹é™¤äº†ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å¤–çš„æ‰€æœ‰å…ƒç´ è¿›è¡Œéå†ï¼Œå†…å±‚å¾ªç¯å¯¹å½“å‰å…ƒç´ å‰é¢æœ‰åºè¡¨è¿›è¡Œå¾…æ’å…¥ä½ç½®æŸ¥æ‰¾ï¼Œå¹¶è¿›è¡Œç§»åŠ¨ã€‚</p><p>æ’å…¥æ’åºçš„å·¥ä½œæ–¹å¼åƒè®¸å¤šäººæ’åºä¸€æ‰‹æ‰‘å…‹ç‰Œã€‚å¼€å§‹æ—¶ï¼Œæˆ‘ä»¬çš„å·¦æ‰‹ä¸ºç©ºå¹¶ä¸”æ¡Œå­ä¸Šçš„ç‰Œé¢å‘ä¸‹ã€‚ç„¶åï¼Œæˆ‘ä»¬æ¯æ¬¡ä»æ¡Œå­ä¸Šæ‹¿èµ°ä¸€å¼ ç‰Œå¹¶å°†å®ƒæ’å…¥å·¦æ‰‹ä¸­æ­£ç¡®çš„ä½ç½®ã€‚ä¸ºäº†æ‰¾åˆ°ä¸€å¼ ç‰Œçš„æ­£ç¡®ä½ç½®ï¼Œæˆ‘ä»¬ä»å³åˆ°å·¦å°†å®ƒä¸å·²åœ¨æ‰‹ä¸­çš„æ¯å¼ ç‰Œè¿›è¡Œæ¯”è¾ƒã€‚æ‹¿åœ¨å·¦æ‰‹ä¸Šçš„ç‰Œæ€»æ˜¯æ’åºå¥½çš„ï¼ŒåŸæ¥è¿™äº›ç‰Œæ˜¯æ¡Œå­ä¸Šç‰Œå †ä¸­é¡¶éƒ¨çš„ç‰Œã€‚</p><h3><span id="2-bu-zou">2ã€æ­¥éª¤</span></h3><ul><li><strong>â‘ </strong> ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œè¯¥å…ƒç´ å¯ä»¥è®¤ä¸ºå·²ç»è¢«æ’åºï¼›</li><li><strong>â‘¡</strong> å–å‡ºä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œåœ¨å·²ç»æ’åºçš„å…ƒç´ åºåˆ—ä¸­ä»åå‘å‰æ‰«æï¼›</li><li><strong>â‘¢</strong> å¦‚æœè¯¥å…ƒç´ ï¼ˆå·²æ’åºçš„ï¼‰å¤§äºæ–°å…ƒç´ ï¼Œå°†è¯¥å…ƒç´ å¾€å³ç§»åˆ°ä¸‹ä¸€ä½ç½®ï¼Œé‡å¤è¯¥æ­¥éª¤ï¼Œç›´åˆ°æ‰¾åˆ°å·²æ’åºçš„å…ƒç´ å°äºæˆ–è€…ç­‰äºæ–°å…ƒç´ çš„ä½ç½®ï¼›</li><li><strong>â‘£</strong> å°†æ–°å…ƒç´ æ’å…¥åˆ°æ­¥éª¤ <strong>â‘¢</strong> æ‰¾åˆ°çš„ä½ç½®çš„åé¢ï¼›</li><li><strong>â‘¤</strong> é‡å¤æ­¥éª¤ <strong>â‘¡</strong> ~ <strong>â‘£</strong>ã€‚</li></ul><h3><span id="3-dong-hua-yan-shi">3ã€åŠ¨ç”»æ¼”ç¤º</span></h3><p><img src="https://cdn.itbob.cn/img/article/036/04%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F.gif" alt="04æ’å…¥æ’åº"></p><h3><span id="4-dai-ma-shi-xian">4ã€ä»£ç å®ç°</span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">insertion_sort</span>(<span class="hljs-params">arr</span>):</span>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-built_in">len</span>(arr)):    <span class="hljs-comment"># å°† i çœ‹åšæ‘¸åˆ°çš„ç‰Œçš„ä¸‹æ ‡</span>        tmp = arr[i]                <span class="hljs-comment"># å°†æ‘¸åˆ°çš„ç‰Œå‚¨å­˜åˆ° tmp</span>        j = i-<span class="hljs-number">1</span>                     <span class="hljs-comment"># å°† j çœ‹åšæ‰‹é‡Œçš„ç‰Œçš„ä¸‹æ ‡</span>        <span class="hljs-keyword">while</span> j &gt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> arr[j] &gt; tmp:  <span class="hljs-comment"># å¦‚æœæ‰‹é‡Œçš„ç‰Œå¤§äºæ‘¸åˆ°çš„ç‰Œ</span>            arr[j+<span class="hljs-number">1</span>] = arr[j]       <span class="hljs-comment"># å°†æ‰‹é‡Œçš„ç‰Œå¾€å³ç§»ä¸€ä¸ªä½ç½®ï¼ˆå°†æ‰‹é‡Œçš„ç‰Œèµ‹å€¼ç»™ä¸‹ä¸€ä¸ªä½ç½®ï¼‰</span>            j -= <span class="hljs-number">1</span>                  <span class="hljs-comment"># å°†æ‰‹é‡Œçš„ç‰Œçš„ä¸‹æ ‡å‡ 1ï¼Œå†æ¬¡å‡†å¤‡ä¸æ‘¸åˆ°çš„ç‰Œè¿›è¡Œæ¯”è¾ƒ</span>        arr[j+<span class="hljs-number">1</span>] = tmp              <span class="hljs-comment"># å°†æ‘¸åˆ°çš„ç‰Œæ’å…¥åˆ° j+1 ä½ç½®</span>    <span class="hljs-keyword">return</span> arr</code></pre><h3><span id="5-ju-ti-shi-li">5ã€å…·ä½“ç¤ºä¾‹</span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">insertion_sort</span>(<span class="hljs-params">arr</span>):</span>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-built_in">len</span>(arr)):    <span class="hljs-comment"># å°† i çœ‹åšæ‘¸åˆ°çš„ç‰Œçš„ä¸‹æ ‡</span>        tmp = arr[i]                <span class="hljs-comment"># å°†æ‘¸åˆ°çš„ç‰Œå‚¨å­˜åˆ° tmp</span>        j = i-<span class="hljs-number">1</span>                     <span class="hljs-comment"># å°† j çœ‹åšæ‰‹é‡Œçš„ç‰Œçš„ä¸‹æ ‡</span>        <span class="hljs-keyword">while</span> j &gt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> arr[j] &gt; tmp:  <span class="hljs-comment"># å¦‚æœæ‰‹é‡Œçš„ç‰Œå¤§äºæ‘¸åˆ°çš„ç‰Œ</span>            arr[j+<span class="hljs-number">1</span>] = arr[j]       <span class="hljs-comment"># å°†æ‰‹é‡Œçš„ç‰Œå¾€å³ç§»ä¸€ä¸ªä½ç½®ï¼ˆå°†æ‰‹é‡Œçš„ç‰Œèµ‹å€¼ç»™ä¸‹ä¸€ä¸ªä½ç½®ï¼‰</span>            j -= <span class="hljs-number">1</span>                  <span class="hljs-comment"># å°†æ‰‹é‡Œçš„ç‰Œçš„ä¸‹æ ‡å‡ 1ï¼Œå†æ¬¡å‡†å¤‡ä¸æ‘¸åˆ°çš„ç‰Œè¿›è¡Œæ¯”è¾ƒ</span>        arr[j+<span class="hljs-number">1</span>] = tmp              <span class="hljs-comment"># å°†æ‘¸åˆ°çš„ç‰Œæ’å…¥åˆ° j+1 ä½ç½®</span>        <span class="hljs-built_in">print</span>(arr)                  <span class="hljs-comment"># æ¯ä¸€è¶Ÿæ¯”è¾ƒå®Œäº†å°±æ‰“å°ä¸€æ¬¡</span>arr = [<span class="hljs-number">0</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]insertion_sort(arr)</code></pre><pre><code class="hljs python">[<span class="hljs-number">0</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]  <span class="hljs-comment"># æ‰‹é‡Œç¬¬ä¸€å¼ ç‰Œä¸º 0ï¼Œæ‘¸åˆ° 9ï¼Œæ­¤æ—¶ i=1ï¼Œj=0ï¼Œ0 æ¯” 9 å°ï¼Œå°† 9 æ’åˆ°ç´¢å¼• j+1=1 å¤„ã€‚</span>[<span class="hljs-number">0</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">7</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]  <span class="hljs-comment"># æ‰‹é‡Œçš„ç‰Œä¸º 0ï¼Œ9ï¼Œæ‘¸åˆ° 8ï¼Œæ­¤æ—¶ i=2ï¼Œj=1ï¼Œ9 æ¯” 8 å¤§ï¼Œå°† 9 å³ç§»ä¸€ä¸ªä½ç½®ï¼Œj-1=0ï¼Œå°† 8 æ’åˆ° j+1=1 å¤„</span>[<span class="hljs-number">0</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>][<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>][<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>][<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>][<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>][<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">6</span>][<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]</code></pre><hr><h2><span id="si-xi-er-pai-xu-shell-sort"><font color="#FF0000">å››ã€å¸Œå°”æ’åºï¼ˆShell Sortï¼‰</font></span></h2><h3><span id="1-yuan-li">1ã€åŸç†</span></h3><p>å¸Œå°”æ’åºæ˜¯æ’å…¥æ’åºçš„ä¸€ç§æ›´é«˜æ•ˆçš„æ”¹è¿›ç‰ˆæœ¬ï¼Œæ˜¯ä¸€ç§åˆ†ç»„æ’å…¥æ’åºç®—æ³•ï¼Œåˆç§°ç¼©å°å¢é‡æ’åºï¼ˆDiminishing Increment Sortï¼‰ï¼Œå¸Œå°”æ’åºæ˜¯éç¨³å®šæ’åºç®—æ³•ã€‚è¯¥æ–¹æ³•å›  D.L.Shell äº 1959 å¹´æå‡ºè€Œå¾—åã€‚</p><p>å¸Œå°”æ’åºæ˜¯åŸºäºæ’å…¥æ’åºçš„ä»¥ä¸‹ä¸¤ç‚¹æ€§è´¨è€Œæå‡ºæ”¹è¿›æ–¹æ³•çš„ï¼š</p><ul><li>æ’å…¥æ’åºåœ¨å¯¹å‡ ä¹å·²ç»æ’å¥½åºçš„æ•°æ®æ“ä½œæ—¶ï¼Œæ•ˆç‡é«˜ï¼Œå³å¯ä»¥è¾¾åˆ°çº¿æ€§æ’åºçš„æ•ˆç‡ï¼›</li><li>ä½†æ’å…¥æ’åºä¸€èˆ¬æ¥è¯´æ˜¯ä½æ•ˆçš„ï¼Œå› ä¸ºæ’å…¥æ’åºæ¯æ¬¡åªèƒ½å°†æ•°æ®ç§»åŠ¨ä¸€ä½ï¼›</li></ul><p>å¸Œå°”æ’åºçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šå…ˆå°†æ•´ä¸ªå¾…æ’åºçš„è®°å½•åºåˆ—åˆ†å‰²æˆä¸ºè‹¥å¹²å­åºåˆ—åˆ†åˆ«è¿›è¡Œç›´æ¥æ’å…¥æ’åºï¼Œå¾…æ•´ä¸ªåºåˆ—ä¸­çš„è®°å½•â€œåŸºæœ¬æœ‰åºâ€æ—¶ï¼Œå†å¯¹å…¨ä½“è®°å½•è¿›è¡Œä¾æ¬¡ç›´æ¥æ’å…¥æ’åºã€‚</p><h3><span id="2-bu-zou">2ã€æ­¥éª¤</span></h3><ul><li><strong>â‘ </strong> n ä¸ºæ•°ç»„é•¿åº¦ï¼Œé¦–å…ˆå–ä¸€ä¸ªæ•´æ•° <strong>d1=n/2</strong>ï¼Œå°†å…ƒç´ åˆ†ä¸º <strong>d1</strong> ä¸ªç»„ï¼Œæ¯ç»„ç›¸é‚»é‡å…ƒç´ ä¹‹é—´è·ç¦»ä¸º <strong>d1-1</strong>ï¼Œåœ¨å„ç»„å†…è¿›è¡Œç›´æ¥æ’å…¥æ’åºï¼›</li><li><strong>â‘¡</strong> å–ç¬¬äºŒä¸ªæ•´æ•° <strong>d2=d1/2</strong>ï¼Œé‡å¤æ­¥éª¤ <strong>â‘ </strong> åˆ†ç»„æ’åºè¿‡ç¨‹ï¼Œç›´åˆ° <strong>di=1</strong>ï¼Œå³æ‰€æœ‰å…ƒç´ åœ¨åŒä¸€ç»„å†…è¿›è¡Œç›´æ¥æ’å…¥æ’åºã€‚</li></ul><p>PSï¼šå¸Œå°”æ’åºæ¯è¶Ÿå¹¶ä¸ä½¿æŸäº›å…ƒç´ æœ‰åºï¼Œè€Œæ˜¯ä½¿æ•´ä½“æ•°æ®è¶Šæ¥è¶Šæ¥è¿‘æœ‰åºï¼›æœ€åä¸€è¶Ÿæ’åºä½¿å¾—æ‰€æœ‰æ•°æ®æœ‰åºã€‚</p><h3><span id="3-dong-hua-yan-shi">3ã€åŠ¨ç”»æ¼”ç¤º</span></h3><p><img src="https://cdn.itbob.cn/img/article/036/05%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F.gif" alt="05å¸Œå°”æ’åº"></p><p><img src="https://cdn.itbob.cn/img/article/036/06%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F.gif" alt="06å¸Œå°”æ’åº"></p><h3><span id="4-dai-ma-shi-xian">4ã€ä»£ç å®ç°</span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">insertion_sort_gap</span>(<span class="hljs-params">arr, gap</span>):</span>     <span class="hljs-comment"># å°† gap çœ‹åšéš” gap ä¸ªè·ç¦»æ‘¸ä¸€å¼ ç‰Œï¼Œè€Œä¸æ˜¯ä¾æ¬¡æŒ‰ç…§é¡ºåºæ‘¸ç‰Œ</span>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(gap, <span class="hljs-built_in">len</span>(arr)):    <span class="hljs-comment"># å°† i çœ‹åšæ‘¸åˆ°çš„ç‰Œçš„ä¸‹æ ‡</span>        tmp = arr[i]                  <span class="hljs-comment"># å°†æ‘¸åˆ°çš„ç‰Œå‚¨å­˜åˆ° tmp</span>        j = i-gap                     <span class="hljs-comment"># å°† j çœ‹åšæ‰‹é‡Œçš„ç‰Œçš„ä¸‹æ ‡</span>        <span class="hljs-keyword">while</span> j &gt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> arr[j] &gt; tmp:  <span class="hljs-comment"># å¦‚æœæ‰‹é‡Œçš„ç‰Œå¤§äºæ‘¸åˆ°çš„ç‰Œ</span>            arr[j+gap] = arr[j]         <span class="hljs-comment"># å°†æ‰‹é‡Œçš„ç‰Œå¾€å³ç§»ä¸€ä¸ªä½ç½®ï¼ˆå°†æ‰‹é‡Œçš„ç‰Œèµ‹å€¼ç»™ä¸‹ä¸€ä¸ªä½ç½®ï¼‰</span>            j -= gap                    <span class="hljs-comment"># å°†æ‰‹é‡Œçš„ç‰Œçš„ä¸‹æ ‡å‡ gapï¼Œå†æ¬¡å‡†å¤‡ä¸æ‘¸åˆ°çš„ç‰Œè¿›è¡Œæ¯”è¾ƒ</span>        arr[j+gap] = tmp                <span class="hljs-comment"># å°†æ‘¸åˆ°çš„ç‰Œæ’å…¥åˆ° j+gap ä½ç½®</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">shell_sort</span>(<span class="hljs-params">arr</span>):</span>    d = <span class="hljs-built_in">len</span>(arr) // <span class="hljs-number">2</span>                   <span class="hljs-comment"># ç¬¬ä¸€æ¬¡åˆ†ç»„</span>    <span class="hljs-keyword">while</span> d &gt;= <span class="hljs-number">1</span>:        insertion_sort_gap(arr, d)      <span class="hljs-comment"># è°ƒç”¨æ’å…¥æ’åº</span>        d //= <span class="hljs-number">2</span>                         <span class="hljs-comment"># æ•´é™¤ 2 åå†æ¬¡åˆ†ç»„</span>    <span class="hljs-keyword">return</span> arr</code></pre><p>ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨ä¸¤ä¸ªå‡½æ•°ï¼Œå†™åœ¨ä¸€èµ·å³å¯ï¼š</p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">shell_sort</span>(<span class="hljs-params">arr</span>):</span>    d = <span class="hljs-built_in">len</span>(arr) // <span class="hljs-number">2</span>                   <span class="hljs-comment"># ç¬¬ä¸€æ¬¡åˆ†ç»„</span>    <span class="hljs-keyword">while</span> d &gt;= <span class="hljs-number">1</span>:                       <span class="hljs-comment"># å°† d çœ‹åšéš” d ä¸ªè·ç¦»æ‘¸ä¸€å¼ ç‰Œï¼Œè€Œä¸æ˜¯ä¾æ¬¡æŒ‰ç…§é¡ºåºæ‘¸ç‰Œ</span>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(d, <span class="hljs-built_in">len</span>(arr)):    <span class="hljs-comment"># å°† i çœ‹åšæ‘¸åˆ°çš„ç‰Œçš„ä¸‹æ ‡</span>            tmp = arr[i]                <span class="hljs-comment"># å°†æ‘¸åˆ°çš„ç‰Œå‚¨å­˜åˆ° tmp</span>            j = i - d                   <span class="hljs-comment"># å°† j çœ‹åšæ‰‹é‡Œçš„ç‰Œçš„ä¸‹æ ‡</span>            <span class="hljs-keyword">while</span> j &gt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> arr[j] &gt; tmp:   <span class="hljs-comment"># å¦‚æœæ‰‹é‡Œçš„ç‰Œå¤§äºæ‘¸åˆ°çš„ç‰Œ</span>                arr[j + d] = arr[j]          <span class="hljs-comment"># å°†æ‰‹é‡Œçš„ç‰Œå¾€å³ç§»ä¸€ä¸ªä½ç½®ï¼ˆå°†æ‰‹é‡Œçš„ç‰Œèµ‹å€¼ç»™ä¸‹ä¸€ä¸ªä½ç½®ï¼‰</span>                j -= d                       <span class="hljs-comment"># å°†æ‰‹é‡Œçš„ç‰Œçš„ä¸‹æ ‡å‡ dï¼Œå†æ¬¡å‡†å¤‡ä¸æ‘¸åˆ°çš„ç‰Œè¿›è¡Œæ¯”è¾ƒ</span>            arr[j + d] = tmp                 <span class="hljs-comment"># å°†æ‘¸åˆ°çš„ç‰Œæ’å…¥åˆ° j+d ä½ç½®</span>        d //= <span class="hljs-number">2</span>                              <span class="hljs-comment"># æ•´é™¤ 2 åå†æ¬¡åˆ†ç»„</span>    <span class="hljs-keyword">return</span> arr</code></pre><h3><span id="5-ju-ti-shi-li">5ã€å…·ä½“ç¤ºä¾‹</span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">insertion_sort_gap</span>(<span class="hljs-params">arr, gap</span>):</span>     <span class="hljs-comment"># å°† gap çœ‹åšéš” gap ä¸ªè·ç¦»æ‘¸ä¸€å¼ ç‰Œï¼Œè€Œä¸æ˜¯ä¾æ¬¡æŒ‰ç…§é¡ºåºæ‘¸ç‰Œ</span>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(gap, <span class="hljs-built_in">len</span>(arr)):    <span class="hljs-comment"># å°† i çœ‹åšæ‘¸åˆ°çš„ç‰Œçš„ä¸‹æ ‡</span>        tmp = arr[i]                  <span class="hljs-comment"># å°†æ‘¸åˆ°çš„ç‰Œå‚¨å­˜åˆ° tmp</span>        j = i-gap                     <span class="hljs-comment"># å°† j çœ‹åšæ‰‹é‡Œçš„ç‰Œçš„ä¸‹æ ‡</span>        <span class="hljs-keyword">while</span> j &gt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> arr[j] &gt; tmp:  <span class="hljs-comment"># å¦‚æœæ‰‹é‡Œçš„ç‰Œå¤§äºæ‘¸åˆ°çš„ç‰Œ</span>            arr[j+gap] = arr[j]         <span class="hljs-comment"># å°†æ‰‹é‡Œçš„ç‰Œå¾€å³ç§»ä¸€ä¸ªä½ç½®ï¼ˆå°†æ‰‹é‡Œçš„ç‰Œèµ‹å€¼ç»™ä¸‹ä¸€ä¸ªä½ç½®ï¼‰</span>            j -= gap                    <span class="hljs-comment"># å°†æ‰‹é‡Œçš„ç‰Œçš„ä¸‹æ ‡å‡ gapï¼Œå†æ¬¡å‡†å¤‡ä¸æ‘¸åˆ°çš„ç‰Œè¿›è¡Œæ¯”è¾ƒ</span>        arr[j+gap] = tmp                <span class="hljs-comment"># å°†æ‘¸åˆ°çš„ç‰Œæ’å…¥åˆ° j+gap ä½ç½®</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">shell_sort</span>(<span class="hljs-params">arr</span>):</span>    d = <span class="hljs-built_in">len</span>(arr) // <span class="hljs-number">2</span>                   <span class="hljs-comment"># ç¬¬ä¸€æ¬¡åˆ†ç»„</span>    <span class="hljs-keyword">while</span> d &gt;= <span class="hljs-number">1</span>:        insertion_sort_gap(arr, d)      <span class="hljs-comment"># è°ƒç”¨æ’å…¥æ’åº</span>        <span class="hljs-built_in">print</span>(arr)                      <span class="hljs-comment"># æ¯ä¸€è½®æ’åºåæ‰“å°ä¸€æ¬¡</span>        d //= <span class="hljs-number">2</span>                         <span class="hljs-comment"># æ•´é™¤ 2 åå†æ¬¡åˆ†ç»„</span>arr = [<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>]shell_sort(arr)</code></pre><pre><code class="hljs python">[<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>][<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>, <span class="hljs-number">5</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>][<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]</code></pre><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">shell_sort</span>(<span class="hljs-params">arr</span>):</span>    d = <span class="hljs-built_in">len</span>(arr) // <span class="hljs-number">2</span>                   <span class="hljs-comment"># ç¬¬ä¸€æ¬¡åˆ†ç»„</span>    <span class="hljs-keyword">while</span> d &gt;= <span class="hljs-number">1</span>:                       <span class="hljs-comment"># å°† d çœ‹åšéš” d ä¸ªè·ç¦»æ‘¸ä¸€å¼ ç‰Œï¼Œè€Œä¸æ˜¯ä¾æ¬¡æŒ‰ç…§é¡ºåºæ‘¸ç‰Œ</span>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(d, <span class="hljs-built_in">len</span>(arr)):    <span class="hljs-comment"># å°† i çœ‹åšæ‘¸åˆ°çš„ç‰Œçš„ä¸‹æ ‡</span>            tmp = arr[i]                <span class="hljs-comment"># å°†æ‘¸åˆ°çš„ç‰Œå‚¨å­˜åˆ° tmp</span>            j = i - d                   <span class="hljs-comment"># å°† j çœ‹åšæ‰‹é‡Œçš„ç‰Œçš„ä¸‹æ ‡</span>            <span class="hljs-keyword">while</span> j &gt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> arr[j] &gt; tmp:   <span class="hljs-comment"># å¦‚æœæ‰‹é‡Œçš„ç‰Œå¤§äºæ‘¸åˆ°çš„ç‰Œ</span>                arr[j + d] = arr[j]          <span class="hljs-comment"># å°†æ‰‹é‡Œçš„ç‰Œå¾€å³ç§»ä¸€ä¸ªä½ç½®ï¼ˆå°†æ‰‹é‡Œçš„ç‰Œèµ‹å€¼ç»™ä¸‹ä¸€ä¸ªä½ç½®ï¼‰</span>                j -= d                       <span class="hljs-comment"># å°†æ‰‹é‡Œçš„ç‰Œçš„ä¸‹æ ‡å‡ dï¼Œå†æ¬¡å‡†å¤‡ä¸æ‘¸åˆ°çš„ç‰Œè¿›è¡Œæ¯”è¾ƒ</span>            arr[j + d] = tmp                 <span class="hljs-comment"># å°†æ‘¸åˆ°çš„ç‰Œæ’å…¥åˆ° j+d ä½ç½®</span>        <span class="hljs-built_in">print</span>(arr)                           <span class="hljs-comment"># æ¯ä¸€è½®æ’åºåæ‰“å°ä¸€æ¬¡</span>        d //= <span class="hljs-number">2</span>                              <span class="hljs-comment"># æ•´é™¤ 2 åå†æ¬¡åˆ†ç»„</span>arr = [<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>]shell_sort(arr)</code></pre><pre><code class="hljs python">[<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>][<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>, <span class="hljs-number">5</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>][<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]</code></pre><hr><h2><span id="wu-gui-bing-pai-xu-merge-sort"><font color="#FF0000">äº”ã€å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰</font></span></h2><h3><span id="1-yuan-li">1ã€åŸç†</span></h3><p>å½’å¹¶çš„æ¦‚å¿µï¼šå‡è®¾ä¸€ä¸ªåˆ—è¡¨åˆ†ä¸ºä¸¤æ®µï¼Œå…¶ä¸­æ¯ä¸€æ®µéƒ½æ˜¯æœ‰åºåˆ—è¡¨ï¼Œç°åœ¨å°†è¯¥ä¸¤æ®µåˆå¹¶ä¸ºä¸€ä¸ªæœ‰åºåˆ—è¡¨ï¼Œè¿™ç§æ“ä½œç§°ä¸ºä¸€æ¬¡å½’å¹¶ã€‚</p><p>å½’å¹¶æ’åºæ˜¯å»ºç«‹åœ¨å½’å¹¶æ“ä½œä¸Šçš„ä¸€ç§æœ‰æ•ˆï¼Œç¨³å®šçš„æ’åºç®—æ³•ï¼Œè¯¥ç®—æ³•æ˜¯é‡‡ç”¨åˆ†æ²»æ³•ï¼ˆDivide and Conquerï¼‰çš„ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨ã€‚å°†å·²æœ‰åºçš„å­åºåˆ—åˆå¹¶ï¼Œå¾—åˆ°å®Œå…¨æœ‰åºçš„åºåˆ—ï¼›å³å…ˆä½¿æ¯ä¸ªå­åºåˆ—æœ‰åºï¼Œå†ä½¿å­åºåˆ—æ®µé—´æœ‰åºã€‚è‹¥å°†ä¸¤ä¸ªæœ‰åºè¡¨åˆå¹¶æˆä¸€ä¸ªæœ‰åºè¡¨ï¼Œç§°ä¸ºäºŒè·¯å½’å¹¶ã€‚</p><p><img src="https://cdn.itbob.cn/img/article/036/08.png" alt="08"></p><h3><span id="2-bu-zou">2ã€æ­¥éª¤</span></h3><p><font color="#ff0000"><strong>å½’å¹¶çš„åŸºæœ¬æ­¥éª¤ï¼š</strong></font></p><ul><li><strong>â‘ </strong> ç”³è¯·ç©ºé—´ï¼Œä½¿å…¶å¤§å°ä¸º<strong>ä¸¤ä¸ªå·²ç»æ’åºåºåˆ—ä¹‹å’Œ</strong>ï¼Œè¯¥ç©ºé—´ç”¨æ¥å­˜æ”¾åˆå¹¶åçš„åºåˆ—ï¼›</li><li><strong>â‘¡</strong> è®¾å®šä¸¤ä¸ªæŒ‡é’ˆï¼Œæœ€åˆä½ç½®åˆ†åˆ«ä¸ºä¸¤ä¸ªå·²ç»æ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼›</li><li><strong>â‘¢</strong> æ¯”è¾ƒä¸¤ä¸ªæŒ‡é’ˆæ‰€æŒ‡å‘çš„å…ƒç´ ï¼Œé€‰æ‹©ç›¸å¯¹å°çš„å…ƒç´ æ”¾å…¥åˆ°åˆå¹¶ç©ºé—´ï¼Œå¹¶ç§»åŠ¨æŒ‡é’ˆåˆ°ä¸‹ä¸€ä½ç½®ï¼›</li><li><strong>â‘£</strong> é‡å¤æ­¥éª¤ <strong>â‘¢</strong> ç›´åˆ°æŸä¸€æŒ‡é’ˆè¾¾åˆ°åºåˆ—å°¾ï¼›</li><li><strong>â‘¤</strong> å°†å¦ä¸€åºåˆ—å‰©ä¸‹çš„æ‰€æœ‰å…ƒç´ ç›´æ¥å¤åˆ¶åˆ°åˆå¹¶åºåˆ—å°¾ã€‚</li></ul><p><font color="#ff0000"><strong>å½’å¹¶æ’åºçš„æ­¥éª¤ï¼š</strong></font></p><ul><li><strong>â‘ </strong> åˆ†è§£ï¼šå°†åˆ—è¡¨è¶Šåˆ†è¶Šå°ï¼Œç›´è‡³åˆ†æˆä¸€ä¸ªå…ƒç´ ï¼Œç»ˆæ­¢æ¡ä»¶ï¼šä¸€ä¸ªå…ƒç´ æ˜¯æœ‰åºçš„ã€‚</li><li><strong>â‘¡</strong> åˆå¹¶ï¼šä¸æ–­å°†ä¸¤ä¸ªæœ‰åºåˆ—è¡¨è¿›è¡Œå½’å¹¶ï¼Œåˆ—è¡¨è¶Šæ¥è¶Šå¤§ï¼Œç›´åˆ°æ‰€æœ‰åºåˆ—å½’å¹¶å®Œæ¯•ã€‚</li></ul><h3><span id="3-dong-hua-yan-shi">3ã€åŠ¨ç”»æ¼”ç¤º</span></h3><p><img src="https://cdn.itbob.cn/img/article/036/07%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F.gif" alt="07å½’å¹¶æ’åº"></p><h3><span id="4-dai-ma-shi-xian">4ã€ä»£ç å®ç°</span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">merge</span>(<span class="hljs-params">arr, low, mid, high</span>):</span>    <span class="hljs-comment"># low å’Œ high ä¸ºæ•´ä¸ªæ•°ç»„çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®ç´¢å¼•ï¼Œmid ä¸ºä¸­é—´ä½ç½®ç´¢å¼•</span>    <span class="hljs-comment"># i å’Œ j ä¸ºæŒ‡é’ˆï¼Œæœ€åˆä½ç½®åˆ†åˆ«ä¸ºä¸¤ä¸ªæœ‰åºåºåˆ—çš„èµ·å§‹ä½ç½®</span>    <span class="hljs-comment"># ltmp ç”¨æ¥å­˜æ”¾åˆå¹¶åçš„åºåˆ—</span>    i = low    j = mid+<span class="hljs-number">1</span>    ltmp = []    <span class="hljs-keyword">while</span> i &lt;= mid <span class="hljs-keyword">and</span> j &lt;= high:  <span class="hljs-comment"># åªè¦å·¦å³ä¸¤è¾¹éƒ½æœ‰æ•°</span>        <span class="hljs-keyword">if</span> arr[i] &lt; arr[j]:        <span class="hljs-comment"># å½“å·¦è¾¹çš„æ•°å°äºå³è¾¹çš„æ•°</span>            ltmp.append(arr[i])    <span class="hljs-comment"># å°†å·¦è¾¹çš„æ•°å­˜å…¥ ltmp</span>            i += <span class="hljs-number">1</span>                 <span class="hljs-comment"># å·¦è¾¹çš„æŒ‡é’ˆå¾€å³ç§»ä¸€ä½</span>        <span class="hljs-keyword">else</span>:                      <span class="hljs-comment"># å½“å³è¾¹çš„æ•°å°äºå·¦è¾¹çš„æ•°</span>            ltmp.append(arr[j])    <span class="hljs-comment"># å°†å³è¾¹çš„æ•°å­˜å…¥ ltmp</span>            j += <span class="hljs-number">1</span>                 <span class="hljs-comment"># å³è¾¹çš„æŒ‡é’ˆå¾€å³ç§»ä¸€ä½</span>    <span class="hljs-comment"># ä¸Šé¢çš„ while è¯­å¥æ‰§è¡Œå®Œåï¼Œå·¦è¾¹æˆ–è€…å³è¾¹æ²¡æœ‰æ•°äº†</span>    <span class="hljs-keyword">while</span> i &lt;= mid:                <span class="hljs-comment"># å½“å·¦è¾¹è¿˜æœ‰æ•°çš„æ—¶å€™</span>        ltmp.append(arr[i])        <span class="hljs-comment"># å°†å·¦è¾¹å‰©ä¸‹çš„æ•°å…¨éƒ¨å­˜å…¥ ltmp</span>        i += <span class="hljs-number">1</span>    <span class="hljs-keyword">while</span> j &lt;= high:               <span class="hljs-comment"># å½“å³è¾¹è¿˜æœ‰æ•°çš„æ—¶å€™</span>        ltmp.append(arr[j])        <span class="hljs-comment"># å°†å³è¾¹å‰©ä¸‹çš„æ•°å…¨éƒ¨å­˜å…¥ ltmp</span>        j += <span class="hljs-number">1</span>    arr[low:high+<span class="hljs-number">1</span>] = ltmp         <span class="hljs-comment"># å°†æ’åºåçš„æ•°ç»„å†™å›åŸæ•°ç»„</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">merge_sort</span>(<span class="hljs-params">arr, low, high</span>):</span>       <span class="hljs-comment"># low å’Œ high ä¸ºæ•´ä¸ªæ•°ç»„çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®ç´¢å¼•</span>    <span class="hljs-keyword">if</span> low &lt; high:                    <span class="hljs-comment"># è‡³å°‘æœ‰ä¸¤ä¸ªå…ƒç´ </span>        mid = (low + high) // <span class="hljs-number">2</span>        merge_sort(arr, low, mid)     <span class="hljs-comment"># æŠŠå·¦è¾¹é€’å½’åˆ†è§£</span>        merge_sort(arr, mid+<span class="hljs-number">1</span>, high)  <span class="hljs-comment"># æŠŠå³è¾¹é€’å½’åˆ†è§£</span>        merge(arr, low, mid, high)    <span class="hljs-comment"># åšå½’å¹¶</span></code></pre><h3><span id="5-ju-ti-shi-li">5ã€å…·ä½“ç¤ºä¾‹</span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">merge</span>(<span class="hljs-params">arr, low, mid, high</span>):</span>    <span class="hljs-comment"># low å’Œ high ä¸ºæ•´ä¸ªæ•°ç»„çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®ç´¢å¼•ï¼Œmid ä¸ºä¸­é—´ä½ç½®ç´¢å¼•</span>    <span class="hljs-comment"># i å’Œ j ä¸ºæŒ‡é’ˆï¼Œæœ€åˆä½ç½®åˆ†åˆ«ä¸ºä¸¤ä¸ªæœ‰åºåºåˆ—çš„èµ·å§‹ä½ç½®</span>    <span class="hljs-comment"># ltmp ç”¨æ¥å­˜æ”¾åˆå¹¶åçš„åºåˆ—</span>    i = low    j = mid+<span class="hljs-number">1</span>    ltmp = []    <span class="hljs-keyword">while</span> i &lt;= mid <span class="hljs-keyword">and</span> j &lt;= high:  <span class="hljs-comment"># åªè¦å·¦å³ä¸¤è¾¹éƒ½æœ‰æ•°</span>        <span class="hljs-keyword">if</span> arr[i] &lt; arr[j]:        <span class="hljs-comment"># å½“å·¦è¾¹çš„æ•°å°äºå³è¾¹çš„æ•°</span>            ltmp.append(arr[i])    <span class="hljs-comment"># å°†å·¦è¾¹çš„æ•°å­˜å…¥ ltmp</span>            i += <span class="hljs-number">1</span>                 <span class="hljs-comment"># å·¦è¾¹çš„æŒ‡é’ˆå¾€å³ç§»ä¸€ä½</span>        <span class="hljs-keyword">else</span>:                      <span class="hljs-comment"># å½“å³è¾¹çš„æ•°å°äºå·¦è¾¹çš„æ•°</span>            ltmp.append(arr[j])    <span class="hljs-comment"># å°†å³è¾¹çš„æ•°å­˜å…¥ ltmp</span>            j += <span class="hljs-number">1</span>                 <span class="hljs-comment"># å³è¾¹çš„æŒ‡é’ˆå¾€å³ç§»ä¸€ä½</span>    <span class="hljs-comment"># ä¸Šé¢çš„ while è¯­å¥æ‰§è¡Œå®Œåï¼Œå·¦è¾¹æˆ–è€…å³è¾¹æ²¡æœ‰æ•°äº†</span>    <span class="hljs-keyword">while</span> i &lt;= mid:                <span class="hljs-comment"># å½“å·¦è¾¹è¿˜æœ‰æ•°çš„æ—¶å€™</span>        ltmp.append(arr[i])        <span class="hljs-comment"># å°†å·¦è¾¹å‰©ä¸‹çš„æ•°å…¨éƒ¨å­˜å…¥ ltmp</span>        i += <span class="hljs-number">1</span>    <span class="hljs-keyword">while</span> j &lt;= high:               <span class="hljs-comment"># å½“å³è¾¹è¿˜æœ‰æ•°çš„æ—¶å€™</span>        ltmp.append(arr[j])        <span class="hljs-comment"># å°†å³è¾¹å‰©ä¸‹çš„æ•°å…¨éƒ¨å­˜å…¥ ltmp</span>        j += <span class="hljs-number">1</span>    arr[low:high+<span class="hljs-number">1</span>] = ltmp         <span class="hljs-comment"># å°†æ’åºåçš„æ•°ç»„å†™å›åŸæ•°ç»„</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">merge_sort</span>(<span class="hljs-params">arr, low, high</span>):</span>       <span class="hljs-comment"># low å’Œ high ä¸ºæ•´ä¸ªæ•°ç»„çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®ç´¢å¼•</span>    <span class="hljs-keyword">if</span> low &lt; high:                    <span class="hljs-comment"># è‡³å°‘æœ‰ä¸¤ä¸ªå…ƒç´ </span>        mid = (low + high) // <span class="hljs-number">2</span>        merge_sort(arr, low, mid)     <span class="hljs-comment"># æŠŠå·¦è¾¹é€’å½’åˆ†è§£</span>        merge_sort(arr, mid+<span class="hljs-number">1</span>, high)  <span class="hljs-comment"># æŠŠå³è¾¹é€’å½’åˆ†è§£</span>        merge(arr, low, mid, high)    <span class="hljs-comment"># åšå½’å¹¶</span>        <span class="hljs-built_in">print</span>(arr)                    <span class="hljs-comment"># æ¯ä¸€æ¬¡å½’å¹¶æ‰“å°ä¸€æ¬¡</span>arr = [<span class="hljs-number">7</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>]merge_sort(arr, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(arr)-<span class="hljs-number">1</span>)</code></pre><pre><code class="hljs python">[<span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>][<span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>][<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>][<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">4</span>][<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>][<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>]</code></pre><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/108987300</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h2><span id="liu-kuai-su-pai-xu-quick-sort"><font color="#FF0000">å…­ã€å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰</font></span></h2><h3><span id="1-yuan-li">1ã€åŸç†</span></h3><p>å¿«é€Ÿæ’åºæ˜¯å¯¹å†’æ³¡æ’åºçš„ä¸€ç§æ”¹è¿›ã€‚é¡¾åæ€ä¹‰å¿«é€Ÿæ’åºå°±æ˜¯å¿«ï¼Œè€Œä¸”æ•ˆç‡é«˜ï¼å®ƒæ˜¯å¤„ç†å¤§æ•°æ®æœ€å¿«çš„æ’åºç®—æ³•ä¹‹ä¸€äº†ã€‚å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šé€šè¿‡ä¸€è¶Ÿæ’åºå°†è¦æ’åºçš„æ•°æ®åˆ†å‰²æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®éƒ½æ¯”å¦å¤–ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®éƒ½è¦å°ï¼Œç„¶åå†æŒ‰æ­¤æ–¹æ³•å¯¹è¿™ä¸¤éƒ¨åˆ†æ•°æ®åˆ†åˆ«è¿›è¡Œå¿«é€Ÿæ’åºï¼Œæ•´ä¸ªæ’åºè¿‡ç¨‹å¯ä»¥é€’å½’è¿›è¡Œï¼Œä»¥æ­¤è¾¾åˆ°æ•´ä¸ªæ•°æ®å˜æˆæœ‰åºåºåˆ—ã€‚</p><h3><span id="2-bu-zou">2ã€æ­¥éª¤</span></h3><ul><li><strong>â‘ </strong> ä»æ•°åˆ—ä¸­æŒ‘å‡ºä¸€ä¸ªå…ƒç´ ï¼Œç§°ä¸º â€œåŸºå‡†å€¼â€;</li><li><strong>â‘¡</strong> é‡æ–°æ’åºæ•°åˆ—ï¼Œæ‰€æœ‰å…ƒç´ æ¯”åŸºå‡†å€¼å°çš„æ”¾åœ¨åŸºå‡†å€¼çš„å·¦è¾¹ï¼Œæ¯”åŸºå‡†å€¼å¤§çš„æ”¾åœ¨åŸºå‡†å€¼çš„å³è¾¹ï¼ˆç›¸åŒçš„æ•°å¯ä»¥åˆ°ä»»ä¸€è¾¹ï¼‰ã€‚åœ¨è¿™ä¸ªåˆ†åŒºé€€å‡ºä¹‹åï¼Œè¯¥åŸºå‡†å€¼å°±å¤„äºæ•°åˆ—çš„ä¸­é—´ä½ç½®ã€‚è¿™ä¸ªç§°ä¸ºåˆ†åŒºï¼ˆpartitionï¼‰æ“ä½œï¼Œä¹Ÿå¯ä»¥ç§°ä¸ºä¸€æ¬¡å½’ä½æ“ä½œï¼Œå½’ä½æ“ä½œçš„è¿‡ç¨‹è§ä¸‹åŠ¨å›¾ï¼›</li><li><strong>â‘¢</strong> é€’å½’åœ°æŠŠå°äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—å’Œå¤§äºåŸºå‡†å€¼å…ƒç´ çš„å­æ•°åˆ—æŒ‰ç…§æ­¥éª¤ <strong>â‘  â‘¡</strong> æ’åºã€‚</li></ul><p><img src="https://cdn.itbob.cn/img/article/036/09%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F.gif" alt="09å¿«é€Ÿæ’åº"></p><h3><span id="3-dong-hua-yan-shi">3ã€åŠ¨ç”»æ¼”ç¤º</span></h3><p><img src="https://cdn.itbob.cn/img/article/036/10%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F.gif" alt="10å¿«é€Ÿæ’åº"></p><h3><span id="4-dai-ma-shi-xian">4ã€ä»£ç å®ç°</span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">partition</span>(<span class="hljs-params">arr, left, right</span>):</span>    <span class="hljs-comment"># å½’ä½æ“ä½œï¼Œleftï¼Œright åˆ†åˆ«ä¸ºæ•°ç»„å·¦è¾¹å’Œå³è¾¹çš„ä½ç½®ç´¢å¼•</span>    tmp = arr[left]    <span class="hljs-keyword">while</span> left &lt; right:        <span class="hljs-keyword">while</span> left &lt; right <span class="hljs-keyword">and</span> arr[right] &gt;= tmp:  <span class="hljs-comment"># ä»å³è¾¹æ‰¾æ¯” tmp å°çš„æ•°ï¼Œå¦‚æœæ¯” tmp å¤§ï¼Œåˆ™ç§»åŠ¨æŒ‡é’ˆ</span>            right -= <span class="hljs-number">1</span>                             <span class="hljs-comment"># å°†æŒ‡é’ˆå·¦ç§»ä¸€ä¸ªä½ç½®</span>        arr[left] = arr[right]                     <span class="hljs-comment"># å°†å³è¾¹çš„å€¼å†™åˆ°å·¦è¾¹çš„ç©ºä½ä¸Š</span>        <span class="hljs-keyword">while</span> left &lt; right <span class="hljs-keyword">and</span> arr[left] &lt;= tmp:   <span class="hljs-comment"># ä»å·¦è¾¹æ‰¾æ¯” tmp å¤§çš„æ•°ï¼Œå¦‚æœæ¯” tmp å°ï¼Œåˆ™ç§»åŠ¨æŒ‡é’ˆ</span>            left += <span class="hljs-number">1</span>                              <span class="hljs-comment"># å°†æŒ‡é’ˆå³ç§»ä¸€ä¸ªä½ç½®</span>        arr[right] = arr[left]                     <span class="hljs-comment"># å°†å·¦è¾¹çš„å€¼å†™åˆ°å³è¾¹çš„ç©ºä½ä¸Š</span>    arr[left] = tmp                                <span class="hljs-comment"># æŠŠ tmp å½’ä½</span>    <span class="hljs-keyword">return</span> left                   <span class="hljs-comment"># è¿”å› leftï¼Œright éƒ½å¯ä»¥ï¼Œç›®çš„æ˜¯ä¾¿äºåé¢çš„é€’å½’æ“ä½œå¯¹å·¦å³ä¸¤éƒ¨åˆ†è¿›è¡Œæ’åº</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">quick_sort</span>(<span class="hljs-params">arr, left, right</span>):</span>          <span class="hljs-comment"># å¿«é€Ÿæ’åº</span>    <span class="hljs-keyword">if</span> left &lt; right:        mid = partition(arr, left, right)        quick_sort(arr, left, mid-<span class="hljs-number">1</span>)       <span class="hljs-comment"># å¯¹å·¦åŠéƒ¨åˆ†è¿›è¡Œå½’ä½æ“ä½œ</span>        quick_sort(arr, mid+<span class="hljs-number">1</span>, right)      <span class="hljs-comment"># å¯¹å³åŠéƒ¨åˆ†è¿›è¡Œå½’ä½æ“ä½œ</span>    <span class="hljs-keyword">return</span> arr</code></pre><h3><span id="5-ju-ti-shi-li">5ã€å…·ä½“ç¤ºä¾‹</span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">partition</span>(<span class="hljs-params">arr, left, right</span>):</span>    <span class="hljs-comment"># å½’ä½æ“ä½œï¼Œleftï¼Œright åˆ†åˆ«ä¸ºæ•°ç»„å·¦è¾¹å’Œå³è¾¹çš„ä½ç½®ç´¢å¼•</span>    tmp = arr[left]    <span class="hljs-keyword">while</span> left &lt; right:        <span class="hljs-keyword">while</span> left &lt; right <span class="hljs-keyword">and</span> arr[right] &gt;= tmp:  <span class="hljs-comment"># ä»å³è¾¹æ‰¾æ¯” tmp å°çš„æ•°ï¼Œå¦‚æœæ¯” tmp å¤§ï¼Œåˆ™ç§»åŠ¨æŒ‡é’ˆ</span>            right -= <span class="hljs-number">1</span>                             <span class="hljs-comment"># å°†æŒ‡é’ˆå·¦ç§»ä¸€ä¸ªä½ç½®</span>        arr[left] = arr[right]                     <span class="hljs-comment"># å°†å³è¾¹çš„å€¼å†™åˆ°å·¦è¾¹çš„ç©ºä½ä¸Š</span>        <span class="hljs-keyword">while</span> left &lt; right <span class="hljs-keyword">and</span> arr[left] &lt;= tmp:   <span class="hljs-comment"># ä»å·¦è¾¹æ‰¾æ¯” tmp å¤§çš„æ•°ï¼Œå¦‚æœæ¯” tmp å°ï¼Œåˆ™ç§»åŠ¨æŒ‡é’ˆ</span>            left += <span class="hljs-number">1</span>                              <span class="hljs-comment"># å°†æŒ‡é’ˆå³ç§»ä¸€ä¸ªä½ç½®</span>        arr[right] = arr[left]                     <span class="hljs-comment"># å°†å·¦è¾¹çš„å€¼å†™åˆ°å³è¾¹çš„ç©ºä½ä¸Š</span>    arr[left] = tmp                                <span class="hljs-comment"># æŠŠ tmp å½’ä½</span>    <span class="hljs-keyword">return</span> left                   <span class="hljs-comment"># è¿”å› leftï¼Œright éƒ½å¯ä»¥ï¼Œç›®çš„æ˜¯ä¾¿äºåé¢çš„é€’å½’æ“ä½œå¯¹å·¦å³ä¸¤éƒ¨åˆ†è¿›è¡Œæ’åº</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">quick_sort</span>(<span class="hljs-params">arr, left, right</span>):</span>    <span class="hljs-keyword">if</span> left &lt; right:        mid = partition(arr, left, right)        <span class="hljs-built_in">print</span>(arr)                         <span class="hljs-comment"># æ¯æ¬¡å½’ä½åæ‰“å°ä¸€æ¬¡</span>        quick_sort(arr, left, mid-<span class="hljs-number">1</span>)       <span class="hljs-comment"># å¯¹å·¦åŠéƒ¨åˆ†è¿›è¡Œå½’ä½æ“ä½œ</span>        quick_sort(arr, mid+<span class="hljs-number">1</span>, right)      <span class="hljs-comment"># å¯¹å³åŠéƒ¨åˆ†è¿›è¡Œå½’ä½æ“ä½œ</span>arr = [<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>]quick_sort(arr, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(arr)-<span class="hljs-number">1</span>)</code></pre><pre><code class="hljs python">[<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>][<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>][<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>][<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>][<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>][<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]</code></pre><hr><h2><span id="qi-dui-pai-xu-heap-sort"><font color="#FF0000">ä¸ƒã€å †æ’åºï¼ˆHeap Sortï¼‰</font></span></h2><h3><span id="1-yuan-li">1ã€åŸç†</span></h3><p>å †æ’åºæ˜¯æŒ‡åˆ©ç”¨å †è¿™ç§æ•°æ®ç»“æ„æ‰€è®¾è®¡çš„ä¸€ç§æ’åºç®—æ³•ã€‚å †æ˜¯ä¸€ä¸ªè¿‘ä¼¼å®Œå…¨äºŒå‰æ ‘çš„ç»“æ„ï¼Œå¹¶åŒæ—¶æ»¡è¶³å †ç§¯çš„æ€§è´¨ï¼šå³å­ç»“ç‚¹çš„é”®å€¼æˆ–ç´¢å¼•æ€»æ˜¯å°äºï¼ˆæˆ–è€…å¤§äºï¼‰å®ƒçš„çˆ¶èŠ‚ç‚¹ã€‚</p><ul><li>å †ï¼šä¸€ç§ç‰¹æ®Šçš„å®Œå…¨äºŒå‰æ ‘ç»“æ„</li><li>å¤§æ ¹å †ï¼šä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼Œæ»¡è¶³ä»»ä¸€èŠ‚ç‚¹éƒ½æ¯”å…¶å­©å­èŠ‚ç‚¹å¤§</li><li>å°æ ¹å †ï¼šä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼Œæ»¡è¶³ä»»ä¸€èŠ‚ç‚¹éƒ½æ¯”å…¶å­©å­èŠ‚ç‚¹å°</li></ul><p><img src="https://cdn.itbob.cn/img/article/036/11%E5%A0%86%E6%8E%92%E5%BA%8F.png" alt="11å †æ’åº"></p><h3><span id="2-bu-zou">2ã€æ­¥éª¤</span></h3><ul><li>â‘  æ„å»ºå †ï¼šå°†å¾…æ’åºåºåˆ—æ„å»ºæˆä¸€ä¸ªå † H[0â€¦â€¦n-1]ï¼Œä»æœ€åä¸€ä¸ªéå¶å­ç»“ç‚¹å¼€å§‹ï¼Œä»å·¦è‡³å³ï¼Œä»ä¸‹è‡³ä¸Šè¿›è¡Œè°ƒæ•´ã€‚æ ¹æ®å‡åºæˆ–é™åºéœ€æ±‚é€‰æ‹©å¤§é¡¶å †æˆ–å°é¡¶å †ï¼›</li><li>â‘¡ æ­¤æ—¶çš„å †é¡¶å…ƒç´ ï¼Œä¸ºæœ€å¤§æˆ–è€…æœ€å°å…ƒç´ ï¼›</li><li>â‘¢ æŠŠå †é¡¶å…ƒç´ å’Œå †å°¾å…ƒç´ äº’æ¢ï¼Œè°ƒæ•´å †ï¼Œé‡æ–°ä½¿å †æœ‰åºï¼›</li><li>â‘£ æ­¤æ—¶å †é¡¶å…ƒç´ ä¸ºç¬¬äºŒå¤§å…ƒç´ ï¼›</li><li>â‘¤ é‡å¤ä»¥ä¸Šæ­¥éª¤ï¼Œç›´åˆ°å †å˜ç©ºã€‚</li></ul><h3><span id="3-dong-hua-yan-shi">3ã€åŠ¨ç”»æ¼”ç¤º</span></h3><p><img src="https://cdn.itbob.cn/img/article/036/12%E6%9E%84%E5%BB%BA%E5%A0%86.gif" alt="12æ„å»ºå †"></p><p>å †æ„å»ºå®Œæˆåå†è¿›è¡Œæ¨æ’åºï¼š</p><p><img src="https://cdn.itbob.cn/img/article/036/13%E5%A0%86%E6%8E%92%E5%BA%8F.gif" alt="13å †æ’åº"></p><h3><span id="4-dai-ma-shi-xian">4ã€ä»£ç å®ç°</span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sift</span>(<span class="hljs-params">arr, low, high</span>):</span>    <span class="hljs-string">&quot;&quot;&quot;</span><span class="hljs-string">    :param li: åˆ—è¡¨</span><span class="hljs-string">    :param low: å †çš„æ ¹èŠ‚ç‚¹ä½ç½®</span><span class="hljs-string">    :param high: å †çš„æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®</span><span class="hljs-string">    &quot;&quot;&quot;</span>    i = low                 <span class="hljs-comment"># iæœ€å¼€å§‹æŒ‡å‘æ ¹èŠ‚ç‚¹</span>    j = <span class="hljs-number">2</span> * i + <span class="hljs-number">1</span>           <span class="hljs-comment"># jå¼€å§‹æ˜¯å·¦å­©å­</span>    tmp = arr[low]          <span class="hljs-comment"># æŠŠå †é¡¶å­˜èµ·æ¥</span>    <span class="hljs-keyword">while</span> j &lt;= high:        <span class="hljs-comment"># åªè¦jä½ç½®æœ‰æ•°</span>        <span class="hljs-keyword">if</span> j + <span class="hljs-number">1</span> &lt;= high <span class="hljs-keyword">and</span> arr[j+<span class="hljs-number">1</span>] &gt; arr[j]:   <span class="hljs-comment"># å¦‚æœå³å­©å­æœ‰å¹¶ä¸”æ¯”è¾ƒå¤§</span>            j = j + <span class="hljs-number">1</span>       <span class="hljs-comment"># jæŒ‡å‘å³å­©å­</span>        <span class="hljs-keyword">if</span> arr[j] &gt; tmp:            arr[i] = arr[j]            i = j           <span class="hljs-comment"># å¾€ä¸‹çœ‹ä¸€å±‚</span>            j = <span class="hljs-number">2</span> * i + <span class="hljs-number">1</span>        <span class="hljs-keyword">else</span>:               <span class="hljs-comment"># tmpæ›´å¤§ï¼ŒæŠŠtmpæ”¾åˆ°içš„ä½ç½®ä¸Š</span>            arr[i] = tmp    <span class="hljs-comment"># æŠŠtmpæ”¾åˆ°æŸä¸€çº§é¢†å¯¼ä½ç½®ä¸Š</span>            <span class="hljs-keyword">break</span>    <span class="hljs-keyword">else</span>:        arr[i] = tmp        <span class="hljs-comment"># æŠŠtmpæ”¾åˆ°å¶å­èŠ‚ç‚¹ä¸Š</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">heap_sort</span>(<span class="hljs-params">arr</span>):</span>    n = <span class="hljs-built_in">len</span>(arr)    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>((n-<span class="hljs-number">2</span>)//<span class="hljs-number">2</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):   <span class="hljs-comment"># iè¡¨ç¤ºå»ºå †çš„æ—¶å€™è°ƒæ•´çš„éƒ¨åˆ†çš„æ ¹çš„ä¸‹æ ‡</span>        sift(arr, i, n-<span class="hljs-number">1</span>)    <span class="hljs-comment"># å»ºå †å®Œæˆ</span>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n-<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):        <span class="hljs-comment"># i æŒ‡å‘å½“å‰å †çš„æœ€åä¸€ä¸ªå…ƒç´ </span>        arr[<span class="hljs-number">0</span>], arr[i] = arr[i], arr[<span class="hljs-number">0</span>]        sift(arr, <span class="hljs-number">0</span>, i - <span class="hljs-number">1</span>)             <span class="hljs-comment"># i-1æ˜¯æ–°çš„high</span>    <span class="hljs-keyword">return</span> arr</code></pre><h3><span id="5-ju-ti-shi-li">5ã€å…·ä½“ç¤ºä¾‹</span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sift</span>(<span class="hljs-params">arr, low, high</span>):</span>    <span class="hljs-string">&quot;&quot;&quot;</span><span class="hljs-string">    :param li: åˆ—è¡¨</span><span class="hljs-string">    :param low: å †çš„æ ¹èŠ‚ç‚¹ä½ç½®</span><span class="hljs-string">    :param high: å †çš„æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®</span><span class="hljs-string">    &quot;&quot;&quot;</span>    i = low                 <span class="hljs-comment"># iæœ€å¼€å§‹æŒ‡å‘æ ¹èŠ‚ç‚¹</span>    j = <span class="hljs-number">2</span> * i + <span class="hljs-number">1</span>           <span class="hljs-comment"># jå¼€å§‹æ˜¯å·¦å­©å­</span>    tmp = arr[low]          <span class="hljs-comment"># æŠŠå †é¡¶å­˜èµ·æ¥</span>    <span class="hljs-keyword">while</span> j &lt;= high:        <span class="hljs-comment"># åªè¦jä½ç½®æœ‰æ•°</span>        <span class="hljs-keyword">if</span> j + <span class="hljs-number">1</span> &lt;= high <span class="hljs-keyword">and</span> arr[j+<span class="hljs-number">1</span>] &gt; arr[j]:   <span class="hljs-comment"># å¦‚æœå³å­©å­æœ‰å¹¶ä¸”æ¯”è¾ƒå¤§</span>            j = j + <span class="hljs-number">1</span>       <span class="hljs-comment"># jæŒ‡å‘å³å­©å­</span>        <span class="hljs-keyword">if</span> arr[j] &gt; tmp:            arr[i] = arr[j]            i = j           <span class="hljs-comment"># å¾€ä¸‹çœ‹ä¸€å±‚</span>            j = <span class="hljs-number">2</span> * i + <span class="hljs-number">1</span>        <span class="hljs-keyword">else</span>:               <span class="hljs-comment"># tmpæ›´å¤§ï¼ŒæŠŠtmpæ”¾åˆ°içš„ä½ç½®ä¸Š</span>            arr[i] = tmp    <span class="hljs-comment"># æŠŠtmpæ”¾åˆ°æŸä¸€çº§é¢†å¯¼ä½ç½®ä¸Š</span>            <span class="hljs-keyword">break</span>    <span class="hljs-keyword">else</span>:        arr[i] = tmp        <span class="hljs-comment"># æŠŠtmpæ”¾åˆ°å¶å­èŠ‚ç‚¹ä¸Š</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">heap_sort</span>(<span class="hljs-params">arr</span>):</span>    n = <span class="hljs-built_in">len</span>(arr)    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;å»ºå †è¿‡ç¨‹ï¼š&#x27;</span>)    <span class="hljs-built_in">print</span>(arr)    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>((n-<span class="hljs-number">2</span>)//<span class="hljs-number">2</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):   <span class="hljs-comment"># iè¡¨ç¤ºå»ºå †çš„æ—¶å€™è°ƒæ•´çš„éƒ¨åˆ†çš„æ ¹çš„ä¸‹æ ‡</span>        sift(arr, i, n-<span class="hljs-number">1</span>)        <span class="hljs-built_in">print</span>(arr)    <span class="hljs-comment"># å»ºå †å®Œæˆ</span>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;å †æ’åºè¿‡ç¨‹ï¼š&#x27;</span>)    <span class="hljs-built_in">print</span>(arr)    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n-<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):        <span class="hljs-comment"># i æŒ‡å‘å½“å‰å †çš„æœ€åä¸€ä¸ªå…ƒç´ </span>        arr[<span class="hljs-number">0</span>], arr[i] = arr[i], arr[<span class="hljs-number">0</span>]        sift(arr, <span class="hljs-number">0</span>, i - <span class="hljs-number">1</span>)             <span class="hljs-comment"># i-1æ˜¯æ–°çš„high</span>        <span class="hljs-built_in">print</span>(arr)arr = [<span class="hljs-number">2</span>, <span class="hljs-number">7</span>, <span class="hljs-number">26</span>, <span class="hljs-number">25</span>, <span class="hljs-number">19</span>, <span class="hljs-number">17</span>, <span class="hljs-number">1</span>, <span class="hljs-number">90</span>, <span class="hljs-number">3</span>, <span class="hljs-number">36</span>]heap_sort(arr)</code></pre><pre><code class="hljs python">å»ºå †è¿‡ç¨‹ï¼š[<span class="hljs-number">2</span>, <span class="hljs-number">7</span>, <span class="hljs-number">26</span>, <span class="hljs-number">25</span>, <span class="hljs-number">19</span>, <span class="hljs-number">17</span>, <span class="hljs-number">1</span>, <span class="hljs-number">90</span>, <span class="hljs-number">3</span>, <span class="hljs-number">36</span>][<span class="hljs-number">2</span>, <span class="hljs-number">7</span>, <span class="hljs-number">26</span>, <span class="hljs-number">25</span>, <span class="hljs-number">36</span>, <span class="hljs-number">17</span>, <span class="hljs-number">1</span>, <span class="hljs-number">90</span>, <span class="hljs-number">3</span>, <span class="hljs-number">19</span>][<span class="hljs-number">2</span>, <span class="hljs-number">7</span>, <span class="hljs-number">26</span>, <span class="hljs-number">90</span>, <span class="hljs-number">36</span>, <span class="hljs-number">17</span>, <span class="hljs-number">1</span>, <span class="hljs-number">25</span>, <span class="hljs-number">3</span>, <span class="hljs-number">19</span>][<span class="hljs-number">2</span>, <span class="hljs-number">7</span>, <span class="hljs-number">26</span>, <span class="hljs-number">90</span>, <span class="hljs-number">36</span>, <span class="hljs-number">17</span>, <span class="hljs-number">1</span>, <span class="hljs-number">25</span>, <span class="hljs-number">3</span>, <span class="hljs-number">19</span>][<span class="hljs-number">2</span>, <span class="hljs-number">90</span>, <span class="hljs-number">26</span>, <span class="hljs-number">25</span>, <span class="hljs-number">36</span>, <span class="hljs-number">17</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-number">3</span>, <span class="hljs-number">19</span>][<span class="hljs-number">90</span>, <span class="hljs-number">36</span>, <span class="hljs-number">26</span>, <span class="hljs-number">25</span>, <span class="hljs-number">19</span>, <span class="hljs-number">17</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>]å †æ’åºè¿‡ç¨‹ï¼š[<span class="hljs-number">90</span>, <span class="hljs-number">36</span>, <span class="hljs-number">26</span>, <span class="hljs-number">25</span>, <span class="hljs-number">19</span>, <span class="hljs-number">17</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>][<span class="hljs-number">36</span>, <span class="hljs-number">25</span>, <span class="hljs-number">26</span>, <span class="hljs-number">7</span>, <span class="hljs-number">19</span>, <span class="hljs-number">17</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">90</span>][<span class="hljs-number">26</span>, <span class="hljs-number">25</span>, <span class="hljs-number">17</span>, <span class="hljs-number">7</span>, <span class="hljs-number">19</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">36</span>, <span class="hljs-number">90</span>][<span class="hljs-number">25</span>, <span class="hljs-number">19</span>, <span class="hljs-number">17</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">26</span>, <span class="hljs-number">36</span>, <span class="hljs-number">90</span>][<span class="hljs-number">19</span>, <span class="hljs-number">7</span>, <span class="hljs-number">17</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">25</span>, <span class="hljs-number">26</span>, <span class="hljs-number">36</span>, <span class="hljs-number">90</span>][<span class="hljs-number">17</span>, <span class="hljs-number">7</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">19</span>, <span class="hljs-number">25</span>, <span class="hljs-number">26</span>, <span class="hljs-number">36</span>, <span class="hljs-number">90</span>][<span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">17</span>, <span class="hljs-number">19</span>, <span class="hljs-number">25</span>, <span class="hljs-number">26</span>, <span class="hljs-number">36</span>, <span class="hljs-number">90</span>][<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-number">17</span>, <span class="hljs-number">19</span>, <span class="hljs-number">25</span>, <span class="hljs-number">26</span>, <span class="hljs-number">36</span>, <span class="hljs-number">90</span>][<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">17</span>, <span class="hljs-number">19</span>, <span class="hljs-number">25</span>, <span class="hljs-number">26</span>, <span class="hljs-number">36</span>, <span class="hljs-number">90</span>][<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">17</span>, <span class="hljs-number">19</span>, <span class="hljs-number">25</span>, <span class="hljs-number">26</span>, <span class="hljs-number">36</span>, <span class="hljs-number">90</span>][<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>, <span class="hljs-number">17</span>, <span class="hljs-number">19</span>, <span class="hljs-number">25</span>, <span class="hljs-number">26</span>, <span class="hljs-number">36</span>, <span class="hljs-number">90</span>]</code></pre><hr><h2><span id="ba-ji-shu-pai-xu-counting-sort"><font color="#FF0000">å…«ã€è®¡æ•°æ’åºï¼ˆCounting Sortï¼‰</font></span></h2><h3><span id="1-yuan-li">1ã€åŸç†</span></h3><p>è®¡æ•°æ’åºæ˜¯ä¸€ä¸ªéåŸºäºæ¯”è¾ƒçš„æ’åºç®—æ³•ï¼Œå®ƒçš„ä¼˜åŠ¿åœ¨äºåœ¨å¯¹ä¸€å®šèŒƒå›´å†…çš„æ•´æ•°æ’åºæ—¶ï¼Œå®ƒçš„å¤æ‚åº¦ä¸º ÎŸ(n+k)ï¼Œå…¶ä¸­ k æ˜¯æ•´æ•°çš„èŒƒå›´ï¼Œå¿«äºä»»ä½•æ¯”è¾ƒæ’åºç®—æ³•ã€‚è®¡æ•°æ’åºæ˜¯ä¸€ç§ç‰ºç‰²ç©ºé—´æ¢å–æ—¶é—´çš„åšæ³•ã€‚è®¡æ•°æ’åºçš„æ ¸å¿ƒåœ¨äºå°†è¾“å…¥çš„æ•°æ®å€¼è½¬åŒ–ä¸ºé”®å­˜å‚¨åœ¨é¢å¤–å¼€è¾Ÿçš„æ•°ç»„ç©ºé—´ä¸­ã€‚ä½œä¸ºä¸€ç§çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„æ’åºï¼Œ<strong>è®¡æ•°æ’åºè¦æ±‚è¾“å…¥çš„æ•°æ®å¿…é¡»æ˜¯æœ‰ç¡®å®šèŒƒå›´çš„æ•´æ•°ã€‚</strong></p><h3><span id="2-bu-zou">2ã€æ­¥éª¤</span></h3><ul><li><strong>â‘ </strong> æ‰¾åˆ°å¾…æ’åºåˆ—è¡¨ä¸­çš„æœ€å¤§å€¼ kï¼Œå¼€è¾Ÿä¸€ä¸ªé•¿åº¦ä¸º k+1 çš„è®¡æ•°åˆ—è¡¨ï¼Œè®¡æ•°åˆ—è¡¨ä¸­çš„å€¼éƒ½ä¸º 0ã€‚</li><li><strong>â‘¡</strong> éå†å¾…æ’åºåˆ—è¡¨ï¼Œå¦‚æœéå†åˆ°çš„å…ƒç´ å€¼ä¸º iï¼Œåˆ™è®¡æ•°åˆ—è¡¨ä¸­ç´¢å¼• i çš„å€¼åŠ 1ã€‚</li><li><strong>â‘¢</strong> éå†å®Œæ•´ä¸ªå¾…æ’åºåˆ—è¡¨ï¼Œè®¡æ•°åˆ—è¡¨ä¸­ç´¢å¼• i çš„å€¼ j è¡¨ç¤º i çš„ä¸ªæ•°ä¸º jï¼Œç»Ÿè®¡å‡ºå¾…æ’åºåˆ—è¡¨ä¸­æ¯ä¸ªå€¼çš„æ•°é‡ã€‚</li><li><strong>â‘£</strong> åˆ›å»ºä¸€ä¸ªæ–°åˆ—è¡¨ï¼ˆä¹Ÿå¯ä»¥æ¸…ç©ºåŸåˆ—è¡¨ï¼Œåœ¨åŸåˆ—è¡¨ä¸­æ·»åŠ ï¼‰ï¼Œéå†è®¡æ•°åˆ—è¡¨ï¼Œä¾æ¬¡åœ¨æ–°åˆ—è¡¨ä¸­æ·»åŠ  j ä¸ª iï¼Œæ–°åˆ—è¡¨å°±æ˜¯æ’å¥½åºåçš„åˆ—è¡¨ï¼Œæ•´ä¸ªè¿‡ç¨‹æ²¡æœ‰æ¯”è¾ƒå¾…æ’åºåˆ—è¡¨ä¸­çš„æ•°æ®å¤§å°ã€‚</li></ul><h3><span id="3-dong-hua-yan-shi">3ã€åŠ¨ç”»æ¼”ç¤º</span></h3><p><img src="https://cdn.itbob.cn/img/article/036/14%E8%AE%A1%E6%95%B0%E6%8E%92%E5%BA%8F.gif" alt="14è®¡æ•°æ’åº"></p><h3><span id="4-dai-ma-shi-xian">4ã€ä»£ç å®ç°</span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">count_sort</span>(<span class="hljs-params">arr</span>):</span>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(arr) &lt; <span class="hljs-number">2</span>:                       <span class="hljs-comment"># å¦‚æœæ•°ç»„é•¿åº¦å°äº 2 åˆ™ç›´æ¥è¿”å›</span>        <span class="hljs-keyword">return</span> arr    max_num = <span class="hljs-built_in">max</span>(arr)    count = [<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(max_num+<span class="hljs-number">1</span>)]  <span class="hljs-comment"># å¼€è¾Ÿä¸€ä¸ªè®¡æ•°åˆ—è¡¨</span>    <span class="hljs-keyword">for</span> val <span class="hljs-keyword">in</span> arr:        count[val] += <span class="hljs-number">1</span>    arr.clear()                        <span class="hljs-comment"># åŸæ•°ç»„æ¸…ç©º</span>    <span class="hljs-keyword">for</span> ind, val <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(count):  <span class="hljs-comment"># éå†å€¼å’Œä¸‹æ ‡ï¼ˆå€¼çš„æ•°é‡ï¼‰</span>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(val):            arr.append(ind)    <span class="hljs-keyword">return</span> arr</code></pre><h3><span id="5-ju-ti-shi-li">5ã€å…·ä½“ç¤ºä¾‹</span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">count_sort</span>(<span class="hljs-params">arr</span>):</span>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(arr) &lt; <span class="hljs-number">2</span>:                       <span class="hljs-comment"># å¦‚æœæ•°ç»„é•¿åº¦å°äº 2 åˆ™ç›´æ¥è¿”å›</span>        <span class="hljs-keyword">return</span> arr    max_num = <span class="hljs-built_in">max</span>(arr)    count = [<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(max_num+<span class="hljs-number">1</span>)]  <span class="hljs-comment"># å¼€è¾Ÿä¸€ä¸ªè®¡æ•°åˆ—è¡¨</span>    <span class="hljs-keyword">for</span> val <span class="hljs-keyword">in</span> arr:        count[val] += <span class="hljs-number">1</span>    arr.clear()                        <span class="hljs-comment"># åŸæ•°ç»„æ¸…ç©º</span>    <span class="hljs-keyword">for</span> ind, val <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(count):  <span class="hljs-comment"># éå†å€¼å’Œä¸‹æ ‡ï¼ˆå€¼çš„æ•°é‡ï¼‰</span>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(val):            arr.append(ind)    <span class="hljs-keyword">return</span> arrarr = [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">7</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">2</span>]sorted_arr = count_sort(arr)<span class="hljs-built_in">print</span>(sorted_arr)</code></pre><pre><code class="hljs python">[<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">9</span>]</code></pre><hr><h2><span id="jiu-tong-pai-xu-bucket-sort"><font color="#FF0000">ä¹ã€æ¡¶æ’åºï¼ˆBucket Sortï¼‰</font></span></h2><h3><span id="1-yuan-li">1ã€åŸç†</span></h3><p>æ¡¶æ’åºåˆå«ç®±æ’åºï¼Œå·¥ä½œçš„åŸç†æ˜¯å°†æ•°ç»„åˆ†åˆ°æœ‰é™æ•°é‡çš„æ¡¶å­é‡Œã€‚æ¯ä¸ªæ¡¶å­å†ä¸ªåˆ«æ’åºï¼ˆæœ‰å¯èƒ½å†ä½¿ç”¨åˆ«çš„æ’åºç®—æ³•æˆ–æ˜¯ä»¥é€’å½’æ–¹å¼ç»§ç»­ä½¿ç”¨æ¡¶æ’åºè¿›è¡Œæ’åºï¼‰ã€‚æ¡¶æ’åºæ˜¯é¸½å·¢æ’åºçš„ä¸€ç§å½’çº³ç»“æœã€‚</p><p>æ¡¶æ’åºä¹Ÿæ˜¯è®¡æ•°æ’åºçš„å‡çº§ç‰ˆã€‚å®ƒåˆ©ç”¨äº†å‡½æ•°çš„æ˜ å°„å…³ç³»ï¼Œé«˜æ•ˆä¸å¦çš„å…³é”®å°±åœ¨äºè¿™ä¸ªæ˜ å°„å‡½æ•°çš„ç¡®å®šã€‚ä¸ºäº†ä½¿æ¡¶æ’åºæ›´åŠ é«˜æ•ˆï¼Œæˆ‘ä»¬éœ€è¦åšåˆ°è¿™ä¸¤ç‚¹ï¼š</p><ul><li>åœ¨é¢å¤–ç©ºé—´å……è¶³çš„æƒ…å†µä¸‹ï¼Œå°½é‡å¢å¤§æ¡¶çš„æ•°é‡ï¼›</li><li>ä½¿ç”¨çš„æ˜ å°„å‡½æ•°èƒ½å¤Ÿå°†è¾“å…¥çš„ N ä¸ªæ•°æ®å‡åŒ€çš„åˆ†é…åˆ° K ä¸ªæ¡¶ä¸­ã€‚</li></ul><p>åŒæ—¶ï¼Œå¯¹äºæ¡¶ä¸­å…ƒç´ çš„æ’åºï¼Œé€‰æ‹©ä½•ç§æ¯”è¾ƒæ’åºç®—æ³•å¯¹äºæ€§èƒ½çš„å½±å“è‡³å…³é‡è¦ã€‚</p><ul><li>æœ€å¿«æƒ…å†µï¼šå½“è¾“å…¥çš„æ•°æ®å¯ä»¥å‡åŒ€çš„åˆ†é…åˆ°æ¯ä¸€ä¸ªæ¡¶ä¸­ï¼›</li><li>æœ€æ…¢æƒ…å†µï¼šå½“è¾“å…¥çš„æ•°æ®è¢«åˆ†é…åˆ°äº†åŒä¸€ä¸ªæ¡¶ä¸­ã€‚</li></ul><h3><span id="2-bu-zou">2ã€æ­¥éª¤</span></h3><ul><li><strong>â‘ </strong> åˆ›å»ºä¸€ä¸ªå®šé‡çš„æ•°ç»„å½“ä½œç©ºæ¡¶å­ï¼›</li><li><strong>â‘¡</strong> éå†åºåˆ—ï¼ŒæŠŠå…ƒç´ ä¸€ä¸ªä¸€ä¸ªæ”¾åˆ°å¯¹åº”çš„æ¡¶å­å»ï¼›</li><li><strong>â‘¢</strong> å¯¹æ¯ä¸ªä¸æ˜¯ç©ºçš„æ¡¶å­è¿›è¡Œæ’åºï¼›</li><li><strong>â‘£</strong> ä»ä¸æ˜¯ç©ºçš„æ¡¶å­é‡ŒæŠŠå…ƒç´ å†æ”¾å›åŸæ¥çš„åºåˆ—ä¸­ã€‚</li></ul><h3><span id="3-dong-hua-yan-shi">3ã€åŠ¨ç”»æ¼”ç¤º</span></h3><p>ï¼ˆåŠ¨å›¾æ¥æºäº@äº”åˆ†é’Ÿå­¦ç®—æ³•ï¼Œä¾µåˆ ï¼‰</p><p><img src="https://cdn.itbob.cn/img/article/036/15%E6%A1%B6%E6%8E%92%E5%BA%8F.gif" alt="15æ¡¶æ’åº"></p><h3><span id="4-dai-ma-shi-xian">4ã€ä»£ç å®ç°</span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bucket_sort</span>(<span class="hljs-params">arr</span>):</span>    max_num = <span class="hljs-built_in">max</span>(arr)    n = <span class="hljs-built_in">len</span>(arr)    buckets = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]         <span class="hljs-comment"># åˆ›å»ºæ¡¶</span>    <span class="hljs-keyword">for</span> var <span class="hljs-keyword">in</span> arr:        i = <span class="hljs-built_in">min</span>(var // (max_num // n), n-<span class="hljs-number">1</span>)  <span class="hljs-comment"># i è¡¨ç¤º var æ”¾åˆ°å‡ å·æ¡¶é‡Œ</span>        buckets[i].append(var)               <span class="hljs-comment"># æŠŠ var åŠ åˆ°æ¡¶é‡Œè¾¹</span>        <span class="hljs-comment"># ä¿æŒæ¡¶å†…çš„é¡ºåº</span>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(buckets[i])-<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>):            <span class="hljs-keyword">if</span> buckets[i][j] &lt; buckets[i][j-<span class="hljs-number">1</span>]:                buckets[i][j], buckets[i][j-<span class="hljs-number">1</span>] = buckets[i][j-<span class="hljs-number">1</span>], buckets[i][j]            <span class="hljs-keyword">else</span>:                <span class="hljs-keyword">break</span>    sorted_arr = []    <span class="hljs-keyword">for</span> buc <span class="hljs-keyword">in</span> buckets:        sorted_arr.extend(buc)    <span class="hljs-keyword">return</span> sorted_arr</code></pre><h3><span id="5-ju-ti-shi-li">5ã€å…·ä½“ç¤ºä¾‹</span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bucket_sort</span>(<span class="hljs-params">arr</span>):</span>    max_num = <span class="hljs-built_in">max</span>(arr)    n = <span class="hljs-built_in">len</span>(arr)    buckets = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]         <span class="hljs-comment"># åˆ›å»ºæ¡¶</span>    <span class="hljs-keyword">for</span> var <span class="hljs-keyword">in</span> arr:        i = <span class="hljs-built_in">min</span>(var // (max_num // n), n-<span class="hljs-number">1</span>)  <span class="hljs-comment"># i è¡¨ç¤º var æ”¾åˆ°å‡ å·æ¡¶é‡Œ</span>        buckets[i].append(var)               <span class="hljs-comment"># æŠŠ var åŠ åˆ°æ¡¶é‡Œè¾¹</span>        <span class="hljs-comment"># ä¿æŒæ¡¶å†…çš„é¡ºåº</span>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(buckets[i])-<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>):            <span class="hljs-keyword">if</span> buckets[i][j] &lt; buckets[i][j-<span class="hljs-number">1</span>]:                buckets[i][j], buckets[i][j-<span class="hljs-number">1</span>] = buckets[i][j-<span class="hljs-number">1</span>], buckets[i][j]            <span class="hljs-keyword">else</span>:                <span class="hljs-keyword">break</span>    sorted_arr = []    <span class="hljs-keyword">for</span> buc <span class="hljs-keyword">in</span> buckets:        sorted_arr.extend(buc)    <span class="hljs-keyword">return</span> sorted_arrarr = [<span class="hljs-number">7</span>, <span class="hljs-number">12</span>, <span class="hljs-number">56</span>, <span class="hljs-number">23</span>, <span class="hljs-number">19</span>, <span class="hljs-number">33</span>, <span class="hljs-number">35</span>, <span class="hljs-number">42</span>, <span class="hljs-number">42</span>, <span class="hljs-number">2</span>, <span class="hljs-number">8</span>, <span class="hljs-number">22</span>, <span class="hljs-number">39</span>, <span class="hljs-number">26</span>, <span class="hljs-number">17</span>]sorted_arr = bucket_sort(arr)<span class="hljs-built_in">print</span>(sorted_arr)</code></pre><pre><code class="hljs python">[<span class="hljs-number">2</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>, <span class="hljs-number">17</span>, <span class="hljs-number">19</span>, <span class="hljs-number">22</span>, <span class="hljs-number">23</span>, <span class="hljs-number">26</span>, <span class="hljs-number">33</span>, <span class="hljs-number">35</span>, <span class="hljs-number">39</span>, <span class="hljs-number">42</span>, <span class="hljs-number">42</span>, <span class="hljs-number">56</span>]</code></pre><hr><h2><span id="shi-ji-shu-pai-xu-radix-sort"><font color="#FF0000">åã€åŸºæ•°æ’åºï¼ˆRadix Sortï¼‰</font></span></h2><h3><span id="1-yuan-li">1ã€åŸç†</span></h3><p>åŸºæ•°æ’åºå±äºåˆ†é…å¼æ’åºï¼Œæ˜¯ä¸€ç§éæ¯”è¾ƒå‹æ•´æ•°æ’åºç®—æ³•ï¼Œå…¶åŸç†æ˜¯å°†æ•´æ•°æŒ‰ä½æ•°åˆ‡å‰²æˆä¸åŒçš„æ•°å­—ï¼Œç„¶åæŒ‰æ¯ä¸ªä½æ•°åˆ†åˆ«æ¯”è¾ƒã€‚ç”±äºæ•´æ•°ä¹Ÿå¯ä»¥è¡¨è¾¾å­—ç¬¦ä¸²ï¼ˆæ¯”å¦‚åå­—æˆ–æ—¥æœŸï¼‰å’Œç‰¹å®šæ ¼å¼çš„æµ®ç‚¹æ•°ï¼Œæ‰€ä»¥åŸºæ•°æ’åºä¹Ÿä¸æ˜¯åªèƒ½ä½¿ç”¨äºæ•´æ•°ã€‚</p><p>åŸºæ•°æ’åºã€è®¡æ•°æ’åºã€æ¡¶æ’åºä¸‰ç§æ’åºç®—æ³•éƒ½åˆ©ç”¨äº†æ¡¶çš„æ¦‚å¿µï¼Œä½†å¯¹æ¡¶çš„ä½¿ç”¨æ–¹æ³•ä¸Šæ˜¯æœ‰æ˜æ˜¾å·®å¼‚çš„ï¼š</p><ul><li>åŸºæ•°æ’åºï¼šæ ¹æ®é”®å€¼çš„æ¯ä½æ•°å­—æ¥åˆ†é…æ¡¶ï¼›</li><li>è®¡æ•°æ’åºï¼šæ¯ä¸ªæ¡¶åªå­˜å‚¨å•ä¸€é”®å€¼ï¼›</li><li>æ¡¶æ’åºï¼šæ¯ä¸ªæ¡¶å­˜å‚¨ä¸€å®šèŒƒå›´çš„æ•°å€¼ã€‚</li></ul><h3><span id="2-bu-zou">2ã€æ­¥éª¤</span></h3><ul><li><strong>â‘ </strong> å–æ•°ç»„ä¸­çš„æœ€å¤§æ•°ï¼Œå¹¶å–å¾—ä½æ•°ï¼›</li><li><strong>â‘¡</strong> ä»æœ€ä½ä½å¼€å§‹ï¼Œä¾æ¬¡è¿›è¡Œä¸€æ¬¡æ’åºï¼›</li><li><strong>â‘¢</strong> ä»æœ€ä½ä½æ’åºä¸€ç›´åˆ°æœ€é«˜ä½æ’åºå®Œæˆä»¥å, æ•°åˆ—å°±å˜æˆä¸€ä¸ªæœ‰åºåºåˆ—ã€‚</li></ul><h3><span id="3-dong-hua-yan-shi">3ã€åŠ¨ç”»æ¼”ç¤º</span></h3><p><img src="https://cdn.itbob.cn/img/article/036/16%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F.gif" alt="16åŸºæ•°æ’åº"></p><h3><span id="4-dai-ma-shi-xian">4ã€ä»£ç å®ç°</span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">radix_sort</span>(<span class="hljs-params">li</span>):</span>    max_num = <span class="hljs-built_in">max</span>(li)      <span class="hljs-comment"># æœ€å¤§å€¼ 9-&gt;1æ¬¡å¾ªç¯, 99-&gt;2æ¬¡å¾ªç¯, 888-&gt;3æ¬¡å¾ªç¯, 10000-&gt;5æ¬¡å¾ªç¯</span>    it = <span class="hljs-number">0</span>    <span class="hljs-keyword">while</span> <span class="hljs-number">10</span> ** it &lt;= max_num:        buckets = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>)]        <span class="hljs-keyword">for</span> var <span class="hljs-keyword">in</span> li:            <span class="hljs-comment"># var=987, it=1, 987//10-&gt;98, 98%10-&gt;8; it=2, 987//100-&gt;9, 9%10=9</span>            digit = (var // <span class="hljs-number">10</span> ** it) % <span class="hljs-number">10</span>   <span class="hljs-comment"># ä¾æ¬¡å–ä¸€ä½æ•°</span>            buckets[digit].append(var)        <span class="hljs-comment"># åˆ†æ¡¶å®Œæˆ</span>        li.clear()        <span class="hljs-keyword">for</span> buc <span class="hljs-keyword">in</span> buckets:            li.extend(buc)        it += <span class="hljs-number">1</span>            <span class="hljs-comment"># æŠŠæ•°é‡æ–°å†™å› li</span>    <span class="hljs-keyword">return</span> arr</code></pre><h3><span id="5-ju-ti-shi-li">5ã€å…·ä½“ç¤ºä¾‹</span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">radix_sort</span>(<span class="hljs-params">li</span>):</span>    max_num = <span class="hljs-built_in">max</span>(li)      <span class="hljs-comment"># æœ€å¤§å€¼ 9-&gt;1æ¬¡å¾ªç¯, 99-&gt;2æ¬¡å¾ªç¯, 888-&gt;3æ¬¡å¾ªç¯, 10000-&gt;5æ¬¡å¾ªç¯</span>    it = <span class="hljs-number">0</span>    <span class="hljs-keyword">while</span> <span class="hljs-number">10</span> ** it &lt;= max_num:        buckets = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>)]        <span class="hljs-keyword">for</span> var <span class="hljs-keyword">in</span> li:            <span class="hljs-comment"># var=987, it=1, 987//10-&gt;98, 98%10-&gt;8; it=2, 987//100-&gt;9, 9%10=9</span>            digit = (var // <span class="hljs-number">10</span> ** it) % <span class="hljs-number">10</span>   <span class="hljs-comment"># ä¾æ¬¡å–ä¸€ä½æ•°</span>            buckets[digit].append(var)        <span class="hljs-comment"># åˆ†æ¡¶å®Œæˆ</span>        li.clear()        <span class="hljs-keyword">for</span> buc <span class="hljs-keyword">in</span> buckets:            li.extend(buc)        it += <span class="hljs-number">1</span>            <span class="hljs-comment"># æŠŠæ•°é‡æ–°å†™å› li</span>    <span class="hljs-keyword">return</span> arrarr = [<span class="hljs-number">3221</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">9680</span>, <span class="hljs-number">577</span>, <span class="hljs-number">9420</span>, <span class="hljs-number">7</span>, <span class="hljs-number">5622</span>, <span class="hljs-number">4793</span>, <span class="hljs-number">2030</span>, <span class="hljs-number">3138</span>, <span class="hljs-number">82</span>, <span class="hljs-number">2599</span>, <span class="hljs-number">743</span>, <span class="hljs-number">4127</span>]sorted_arr = radix_sort(arr)<span class="hljs-built_in">print</span>(sorted_arr)</code></pre><pre><code class="hljs python">[<span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-number">10</span>, <span class="hljs-number">82</span>, <span class="hljs-number">577</span>, <span class="hljs-number">743</span>, <span class="hljs-number">2030</span>, <span class="hljs-number">2599</span>, <span class="hljs-number">3138</span>, <span class="hljs-number">3221</span>, <span class="hljs-number">4127</span>, <span class="hljs-number">4793</span>, <span class="hljs-number">5622</span>, <span class="hljs-number">9420</span>, <span class="hljs-number">9680</span>]</code></pre><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/108987300</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h2&gt;&lt;span id=&quot;wen-zhang-mu-lu&quot;&gt;æ–‡ç« ç›®å½•&lt;/span&gt;&lt;/h2&gt;
&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#font-color-ff0000-pai-xu-suan-fa-fen-lei-font&quot;&gt;&lt;font color=&quot;</summary>
      
    
    
    
    <category term="ç®—æ³•" scheme="https://www.itbob.cn/categories/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="Python" scheme="https://www.itbob.cn/tags/Python/"/>
    
    <category term="ç®—æ³•" scheme="https://www.itbob.cn/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>COVID-19 è‚ºç‚ç–«æƒ…æ•°æ®å®æ—¶ç›‘æ§ï¼ˆpython çˆ¬è™« + pyecharts æ•°æ®å¯è§†åŒ– + wordcloud è¯äº‘å›¾ï¼‰</title>
    <link href="https://www.itbob.cn/article/035/"/>
    <id>https://www.itbob.cn/article/035/</id>
    <published>2020-07-06T04:49:35.000Z</published>
    <updated>2022-05-22T12:46:00.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong><center><font color="red" size="5px" weight="bolder">æ¬¢è¿åŠ å…¥çˆ¬è™«é€†å‘å¾®ä¿¡äº¤æµç¾¤ï¼šæ·»åŠ å¾®ä¿¡ IT-BOBï¼ˆå¤‡æ³¨äº¤æµç¾¤ï¼‰</font></center></strong></p><h2><span id="wen-zhang-mu-lu">æ–‡ç« ç›®å½•</span></h2><!-- toc --><ul><li><a href="#font-color-ff0000-1x00-qian-yan-font"><font color="#FF0000">ã€1x00ã€‘å‰è¨€</font></a></li><li><a href="#font-color-ff0000-2x00-si-wei-dao-tu-font"><font color="#FF0000">ã€2x00ã€‘æ€ç»´å¯¼å›¾</font></a></li><li><a href="#font-color-ff0000-3x00-shu-ju-jie-gou-fen-xi-font"><font color="#FF0000">ã€3x00ã€‘æ•°æ®ç»“æ„åˆ†æ</font></a></li><li><a href="#font-color-ff0000-4x00-zhu-han-shu-main-font"><font color="#FF0000">ã€4x00ã€‘ä¸»å‡½æ•° main()</font></a></li><li><a href="#font-color-ff0000-5x00-shu-ju-huo-qu-mo-kuai-data-get-font"><font color="#FF0000">ã€5x00ã€‘æ•°æ®è·å–æ¨¡å— data_get</font></a><ul><li><a href="#font-color-4876ff-5x01-chu-shi-hua-han-shu-init-font"><font color="#4876FF">ã€5x01ã€‘åˆå§‹åŒ–å‡½æ•° init()</font></a></li><li><a href="#font-color-4876ff-5x02-zhong-guo-zong-shu-ju-china-total-data-font"><font color="#4876FF">ã€5x02ã€‘ä¸­å›½æ€»æ•°æ® china_total_data()</font></a></li><li><a href="#font-color-4876ff-5x03-quan-qiu-zong-shu-ju-global-total-data-font"><font color="#4876FF">ã€5x03ã€‘å…¨çƒæ€»æ•°æ® global_total_data()</font></a></li><li><a href="#font-color-4876ff-5x04-zhong-guo-mei-ri-shu-ju-china-daily-data-font"><font color="#4876FF">ã€5x04ã€‘ä¸­å›½æ¯æ—¥æ•°æ® china_daily_data()</font></a></li><li><a href="#font-color-4876ff-5x05-jing-wai-mei-ri-shu-ju-foreign-daily-data-font"><font color="#4876FF">ã€5x05ã€‘å¢ƒå¤–æ¯æ—¥æ•°æ® foreign_daily_data()</font></a></li></ul></li><li><a href="#font-color-ff0000-6x00-ci-yun-tu-hui-zhi-mo-kuai-data-wordcloud-font"><font color="#FF0000">ã€6x00ã€‘è¯äº‘å›¾ç»˜åˆ¶æ¨¡å— data_wordcloud</font></a><ul><li><a href="#font-color-4876ff-6x01-zhong-guo-lei-ji-que-zhen-ci-yun-tu-foreign-daily-data-font"><font color="#4876FF">ã€6x01ã€‘ä¸­å›½ç´¯è®¡ç¡®è¯Šè¯äº‘å›¾ foreign_daily_data()</font></a></li><li><a href="#font-color-4876ff-6x02-quan-qiu-lei-ji-que-zhen-ci-yun-tu-foreign-daily-data-font"><font color="#4876FF">ã€6x02ã€‘å…¨çƒç´¯è®¡ç¡®è¯Šè¯äº‘å›¾ foreign_daily_data()</font></a></li></ul></li><li><a href="#font-color-ff0000-7x00-di-tu-hui-zhi-mo-kuai-data-map-font"><font color="#FF0000">ã€7x00ã€‘åœ°å›¾ç»˜åˆ¶æ¨¡å— data_map</font></a><ul><li><a href="#font-color-4876ff-7x01-zhong-guo-lei-ji-que-zhen-di-tu-china-total-map-font"><font color="#4876FF">ã€7x01ã€‘ä¸­å›½ç´¯è®¡ç¡®è¯Šåœ°å›¾ china_total_map()</font></a></li><li><a href="#font-color-4876ff-7x02-quan-qiu-lei-ji-que-zhen-di-tu-global-total-map-font"><font color="#4876FF">ã€7x02ã€‘å…¨çƒç´¯è®¡ç¡®è¯Šåœ°å›¾ global_total_map()</font></a></li><li><a href="#font-color-4876ff-7x03-zhong-guo-mei-ri-shu-ju-zhe-xian-tu-china-daily-map-font"><font color="#4876FF">ã€7x03ã€‘ä¸­å›½æ¯æ—¥æ•°æ®æŠ˜çº¿å›¾ china_daily_map()</font></a></li><li><a href="#font-color-4876ff-7x04-jing-wai-mei-ri-shu-ju-zhe-xian-tu-foreign-daily-map-font"><font color="#4876FF">ã€7x04ã€‘å¢ƒå¤–æ¯æ—¥æ•°æ®æŠ˜çº¿å›¾ foreign_daily_map()</font></a></li></ul></li><li><a href="#font-color-ff0000-8x00-jie-guo-jie-tu-font"><font color="#FF0000">ã€8x00ã€‘ç»“æœæˆªå›¾</font></a><ul><li><a href="#font-color-4876ff-8x01-shu-ju-chu-cun-excel-font"><font color="#4876FF">ã€8x01ã€‘æ•°æ®å‚¨å­˜ Excel</font></a></li><li><a href="#font-color-4876ff-8x02-ci-yun-tu-font"><font color="#4876FF">ã€8x02ã€‘è¯äº‘å›¾</font></a></li><li><a href="#font-color-4876ff-8x03-di-tu-zhe-xian-tu-font"><font color="#4876FF">ã€8x03ã€‘åœ°å›¾ + æŠ˜çº¿å›¾</font></a></li></ul></li><li><a href="#font-color-ff0000-9x00-wan-zheng-dai-ma-font"><font color="#FF0000">ã€9x00ã€‘å®Œæ•´ä»£ç </font></a></li></ul><!-- tocstop --><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/107140534</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h2><span id="1x00-qian-yan"><font color="#FF0000">ã€1x00ã€‘å‰è¨€</font></span></h2><p>æœ¬æ¥ä¸¤ä¸‰ä¸ªæœˆä¹‹å‰å°±æƒ³æä¸ªç–«æƒ…æ•°æ®å®æ—¶æ•°æ®å±•ç¤ºçš„ï¼Œç”±äºå„ç§ä¸å¯æŠ—æ‹’å› ç´ ä¸€è€Œå†å†è€Œä¸‰çš„é¸½äº†ï¼Œæœ€è¿‘ç»ˆäºæŠ½ç©ºå†™äº†ä¸€ä¸ªï¼Œæ•°æ®æ˜¯ç”¨ Python çˆ¬å–çš„<a href="https://voice.baidu.com/act/newpneumonia/newpneumonia/">ç™¾åº¦ç–«æƒ…å®æ—¶å¤§æ•°æ®æŠ¥å‘Š</a>ï¼Œè¯·æ±‚åº“ç”¨çš„ requestsï¼Œè§£æç”¨çš„ Xpath è¯­æ³•ï¼Œè¯äº‘ç”¨çš„ wordcloud åº“ï¼Œæ•°æ®å¯è§†åŒ–ç”¨ pyecharts ç»˜åˆ¶çš„åœ°å›¾å’ŒæŠ˜çº¿å›¾ï¼Œæ•°æ®å‚¨å­˜åœ¨ Excel è¡¨æ ¼é‡Œé¢ï¼Œä½¿ç”¨ openpyxl å¯¹è¡¨æ ¼è¿›è¡Œå¤„ç†ã€‚</p><p>æœ¬ç¨‹åºå®ç°äº†ç´¯è®¡ç¡®è¯Šåœ°å›¾å±•ç¤ºå’Œæ¯æ—¥æ•°æ®å˜åŒ–æŠ˜çº¿å›¾å±•ç¤ºï¼Œå…¶ä»–æ›´å¤šæ•°æ®çš„è·å–å’Œå±•ç¤ºå‡å¯åœ¨ç¨‹åºä¸­è¿›è¡Œæ‹“å±•ï¼Œå¯ä»¥å°†ç¨‹åºéƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šï¼Œè®¾ç½®å®šæ—¶è¿è¡Œï¼Œå³å¯å®æ—¶å±•ç¤ºæ•°æ®ï¼Œpyecharts ç»˜å›¾æ¨¡å—ä¹Ÿå¯ä»¥æ•´åˆåˆ° Web æ¡†æ¶ï¼ˆDjangoã€Flaskç­‰ï¼‰ä¸­ä½¿ç”¨ã€‚</p><p>åœ¨è·å–æ•°æ®æ—¶æœ‰<font color="#FF0000"><strong>å…¨çƒ</strong></font>å’Œ<font color="#FF0000"><strong>å¢ƒå¤–</strong></font>ä¸¤ä¸ªæ¦‚å¿µï¼Œå…¨çƒåŒ…å«ä¸­å›½ï¼Œå¢ƒå¤–ä¸åŒ…å«ä¸­å›½ï¼ŒåæœŸç»˜åˆ¶çš„å››ä¸ªå›¾ï¼šä¸­å›½ç´¯è®¡ç¡®è¯Šåœ°å›¾ã€å…¨çƒç´¯è®¡ç¡®è¯Šåœ°å›¾ï¼ˆåŒ…å«ä¸­å›½ï¼‰ã€ä¸­å›½æ¯æ—¥æ•°æ®æŠ˜çº¿å›¾ã€å¢ƒå¤–æ¯æ—¥æ•°æ®æŠ˜çº¿å›¾ï¼ˆä¸åŒ…å«ä¸­å›½ï¼‰ã€‚</p><p><font color="#FF0000"><strong>æ³¨æ„é¡¹ï¼šç›´æ¥å‘è¯¥ç½‘é¡µå‘é€è¯·æ±‚è·å–çš„å“åº”ä¸­ï¼Œæ²¡æœ‰æ¯ä¸ªå›½å®¶çš„æ¯æ—¥æ•°æ®ï¼Œè¯¥æ•°æ®è·å–çš„åœ°å€æ˜¯ï¼š<a href="https://voice.baidu.com/newpneumonia/get?target=trend&amp;isCaseIn=1&amp;stage=publish">https://voice.baidu.com/newpneumonia/get?target=trend&amp;isCaseIn=1&amp;stage=publish</a></strong></font></p><ul><li><strong>é¢„è§ˆåœ°å€</strong>ï¼š<s><a href="http://cov.itrhx.com/">http://cov.itrhx.com/</a></s>ï¼ˆå·²å¤±æ•ˆï¼‰</li><li><strong>æ•°æ®æ¥æº</strong>ï¼š<a href="https://voice.baidu.com/act/newpneumonia/newpneumonia/">https://voice.baidu.com/act/newpneumonia/newpneumonia/</a></li><li><strong>pyecharts æ–‡æ¡£</strong>ï¼š<a href="https://pyecharts.org/">https://pyecharts.org/</a></li><li><strong>openpyxl æ–‡æ¡£</strong>ï¼š<a href="https://openpyxl.readthedocs.io/">https://openpyxl.readthedocs.io/</a></li><li><strong>wordcloud æ–‡æ¡£</strong>ï¼š<a href="http://amueller.github.io/word_cloud/">http://amueller.github.io/word_cloud/</a></li></ul><h2><span id="2x00-si-wei-dao-tu"><font color="#FF0000">ã€2x00ã€‘æ€ç»´å¯¼å›¾</font></span></h2><p><img src="https://cdn.itbob.cn/img/article/035/01.png" alt="01"></p><h2><span id="3x00-shu-ju-jie-gou-fen-xi"><font color="#FF0000">ã€3x00ã€‘æ•°æ®ç»“æ„åˆ†æ</font></span></h2><p>é€šè¿‡æŸ¥çœ‹ç™¾åº¦çš„ç–«æƒ…æ•°æ®é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°å¾ˆå¤šæ•´é½çš„æ•°æ®ï¼ŒçŒœæµ‹å°±æ˜¯ç–«æƒ…ç›¸å…³çš„æ•°æ®ï¼Œä¿å­˜è¯¥é¡µé¢ï¼Œå¯¹å…¶è¿›è¡Œæ ¼å¼åŒ–ï¼Œå¾ˆå®¹æ˜“å¯ä»¥åˆ†æå‡ºæ‰€æœ‰çš„æ•°æ®éƒ½åœ¨ <code>&lt;script type=&quot;application/json&quot; id=&quot;captain-config&quot;&gt;&lt;/script&gt;</code> é‡Œé¢ï¼Œå…¶ä¸­ title é‡Œé¢æ˜¯ä¸€äº› Unicode ç¼–ç ï¼Œå°†å…¶è½¬ä¸ºä¸­æ–‡åæ›´å®¹æ˜“å¾—åˆ°ä¸åŒçš„åˆ†ç±»æ•°æ®ã€‚</p><p><img src="https://cdn.itbob.cn/img/article/035/02.png" alt="02"></p><p>ç”±äºæ•°æ®ç¹å¤šï¼Œå¯ä»¥å°†æ•°æ®ä¸»ä½“éƒ¨åˆ†æå–å‡ºæ¥ï¼Œåˆ é™¤ä¸€äº›é‡å¤é¡¹å’Œå…¶ä»–æ‚é¡¹ï¼Œç•™ä¸‹æ•°æ®å¤§ä½“ä½ç½®å¹¶åˆ†ææ•°æ®ç»“æ„ï¼Œä¾¿äºåæœŸçš„æ•°æ®æå–ï¼Œç»è¿‡å¤„ç†åçš„æ•°æ®å¤§è‡´ç»“æ„å¦‚ä¸‹ï¼š</p><pre><code class="hljs json">&lt;script type=<span class="hljs-string">&quot;application/json&quot;</span> id=<span class="hljs-string">&quot;captain-config&quot;</span>&gt;    &#123;        <span class="hljs-attr">&quot;component&quot;</span>: [            &#123;                <span class="hljs-attr">&quot;mapLastUpdatedTime&quot;</span>: <span class="hljs-string">&quot;2020.07.05 16:13&quot;</span>,        <span class="hljs-comment">// å›½å†…ç–«æƒ…æ•°æ®æœ€åæ›´æ–°æ—¶é—´</span>                <span class="hljs-attr">&quot;caseList&quot;</span>: [                                    <span class="hljs-comment">// caseList åˆ—è¡¨ï¼Œæ¯ä¸€ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå­—å…¸</span>                    &#123;                        <span class="hljs-attr">&quot;confirmed&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,                        <span class="hljs-comment">// æ¯ä¸ªå­—å…¸åŒ…å«ä¸­å›½æ¯ä¸ªçœçš„æ¯ä¸€é¡¹ç–«æƒ…æ•°æ®</span>                        <span class="hljs-attr">&quot;died&quot;</span>: <span class="hljs-string">&quot;0&quot;</span>,                        <span class="hljs-attr">&quot;crued&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,                        <span class="hljs-attr">&quot;relativeTime&quot;</span>: <span class="hljs-string">&quot;1593792000&quot;</span>,                        <span class="hljs-attr">&quot;confirmedRelative&quot;</span>: <span class="hljs-string">&quot;0&quot;</span>,                        <span class="hljs-attr">&quot;diedRelative&quot;</span>: <span class="hljs-string">&quot;0&quot;</span>,                        <span class="hljs-attr">&quot;curedRelative&quot;</span>: <span class="hljs-string">&quot;0&quot;</span>,                        <span class="hljs-attr">&quot;curConfirm&quot;</span>: <span class="hljs-string">&quot;0&quot;</span>,                        <span class="hljs-attr">&quot;curConfirmRelative&quot;</span>: <span class="hljs-string">&quot;0&quot;</span>,                        <span class="hljs-attr">&quot;icuDisable&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,                        <span class="hljs-attr">&quot;area&quot;</span>: <span class="hljs-string">&quot;è¥¿è—&quot;</span>,                        <span class="hljs-attr">&quot;subList&quot;</span>: [                            <span class="hljs-comment">// subList åˆ—è¡¨ï¼Œæ¯ä¸€ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå­—å…¸</span>                            &#123;                                <span class="hljs-attr">&quot;city&quot;</span>: <span class="hljs-string">&quot;æ‹‰è¨&quot;</span>,                 <span class="hljs-comment">// æ¯ä¸ªå­—å…¸åŒ…å«è¯¥çœä»½å¯¹åº”çš„æ¯ä¸ªåŸå¸‚ç–«æƒ…æ•°æ®</span>                                <span class="hljs-attr">&quot;confirmed&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,                                <span class="hljs-attr">&quot;died&quot;</span>: <span class="hljs-string">&quot;0&quot;</span>,                                <span class="hljs-attr">&quot;crued&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,                                <span class="hljs-attr">&quot;confirmedRelative&quot;</span>: <span class="hljs-string">&quot;0&quot;</span>,                                <span class="hljs-attr">&quot;curConfirm&quot;</span>: <span class="hljs-string">&quot;0&quot;</span>,                                <span class="hljs-attr">&quot;cityCode&quot;</span>: <span class="hljs-string">&quot;100&quot;</span>                            &#125;                        ]                    &#125;                ],                <span class="hljs-attr">&quot;caseOutsideList&quot;</span>: [                           <span class="hljs-comment">// caseOutsideList åˆ—è¡¨ï¼Œæ¯ä¸€ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå­—å…¸</span>                    &#123;                        <span class="hljs-attr">&quot;confirmed&quot;</span>: <span class="hljs-string">&quot;241419&quot;</span>,                 <span class="hljs-comment">// æ¯ä¸ªå­—å…¸åŒ…å«å„å›½çš„æ¯ä¸€é¡¹ç–«æƒ…æ•°æ®</span>                        <span class="hljs-attr">&quot;died&quot;</span>: <span class="hljs-string">&quot;34854&quot;</span>,                        <span class="hljs-attr">&quot;crued&quot;</span>: <span class="hljs-string">&quot;191944&quot;</span>,                        <span class="hljs-attr">&quot;relativeTime&quot;</span>: <span class="hljs-string">&quot;1593792000&quot;</span>,                        <span class="hljs-attr">&quot;confirmedRelative&quot;</span>: <span class="hljs-string">&quot;223&quot;</span>,                        <span class="hljs-attr">&quot;curConfirm&quot;</span>: <span class="hljs-string">&quot;14621&quot;</span>,                        <span class="hljs-attr">&quot;icuDisable&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,                        <span class="hljs-attr">&quot;area&quot;</span>: <span class="hljs-string">&quot;æ„å¤§åˆ©&quot;</span>,                        <span class="hljs-attr">&quot;subList&quot;</span>: [                          <span class="hljs-comment">// subList åˆ—è¡¨ï¼Œæ¯ä¸€ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå­—å…¸</span>                            &#123;                                <span class="hljs-attr">&quot;city&quot;</span>: <span class="hljs-string">&quot;ä¼¦å·´ç¬¬&quot;</span>,              <span class="hljs-comment">// æ¯ä¸ªå­—å…¸åŒ…å«æ¯ä¸ªå›½å®¶å¯¹åº”çš„æ¯ä¸ªåŸå¸‚ç–«æƒ…æ•°æ®</span>                                <span class="hljs-attr">&quot;confirmed&quot;</span>: <span class="hljs-string">&quot;94318&quot;</span>,                                <span class="hljs-attr">&quot;died&quot;</span>: <span class="hljs-string">&quot;16691&quot;</span>,                                <span class="hljs-attr">&quot;crued&quot;</span>: <span class="hljs-string">&quot;68201&quot;</span>,                                <span class="hljs-attr">&quot;curConfirm&quot;</span>: <span class="hljs-string">&quot;9426&quot;</span>                            &#125;                        ]                    &#125;                ],                <span class="hljs-attr">&quot;summaryDataIn&quot;</span>: &#123;                           <span class="hljs-comment">// summaryDataIn å›½å†…æ€»çš„ç–«æƒ…æ•°æ®</span>                    <span class="hljs-attr">&quot;confirmed&quot;</span>: <span class="hljs-string">&quot;85307&quot;</span>,                    <span class="hljs-attr">&quot;died&quot;</span>: <span class="hljs-string">&quot;4648&quot;</span>,                    <span class="hljs-attr">&quot;cured&quot;</span>: <span class="hljs-string">&quot;80144&quot;</span>,                    <span class="hljs-attr">&quot;asymptomatic&quot;</span>: <span class="hljs-string">&quot;99&quot;</span>,                    <span class="hljs-attr">&quot;asymptomaticRelative&quot;</span>: <span class="hljs-string">&quot;7&quot;</span>,                    <span class="hljs-attr">&quot;unconfirmed&quot;</span>: <span class="hljs-string">&quot;7&quot;</span>,                    <span class="hljs-attr">&quot;relativeTime&quot;</span>: <span class="hljs-string">&quot;1593792000&quot;</span>,                    <span class="hljs-attr">&quot;confirmedRelative&quot;</span>: <span class="hljs-string">&quot;19&quot;</span>,                    <span class="hljs-attr">&quot;unconfirmedRelative&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,                    <span class="hljs-attr">&quot;curedRelative&quot;</span>: <span class="hljs-string">&quot;27&quot;</span>,                    <span class="hljs-attr">&quot;diedRelative&quot;</span>: <span class="hljs-string">&quot;0&quot;</span>,                    <span class="hljs-attr">&quot;icu&quot;</span>: <span class="hljs-string">&quot;6&quot;</span>,                    <span class="hljs-attr">&quot;icuRelative&quot;</span>: <span class="hljs-string">&quot;0&quot;</span>,                    <span class="hljs-attr">&quot;overseasInput&quot;</span>: <span class="hljs-string">&quot;1931&quot;</span>,                    <span class="hljs-attr">&quot;unOverseasInputCumulative&quot;</span>: <span class="hljs-string">&quot;83375&quot;</span>,                    <span class="hljs-attr">&quot;overseasInputRelative&quot;</span>: <span class="hljs-string">&quot;6&quot;</span>,                    <span class="hljs-attr">&quot;unOverseasInputNewAdd&quot;</span>: <span class="hljs-string">&quot;13&quot;</span>,                    <span class="hljs-attr">&quot;curConfirm&quot;</span>: <span class="hljs-string">&quot;515&quot;</span>,                    <span class="hljs-attr">&quot;curConfirmRelative&quot;</span>: <span class="hljs-string">&quot;-8&quot;</span>,                    <span class="hljs-attr">&quot;icuDisable&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>                &#125;,                <span class="hljs-attr">&quot;summaryDataOut&quot;</span>: &#123;                           <span class="hljs-comment">// summaryDataOut å›½å¤–æ€»çš„ç–«æƒ…æ•°æ®</span>                    <span class="hljs-attr">&quot;confirmed&quot;</span>: <span class="hljs-string">&quot;11302569&quot;</span>,                    <span class="hljs-attr">&quot;died&quot;</span>: <span class="hljs-string">&quot;528977&quot;</span>,                    <span class="hljs-attr">&quot;curConfirm&quot;</span>: <span class="hljs-string">&quot;4410601&quot;</span>,                    <span class="hljs-attr">&quot;cured&quot;</span>: <span class="hljs-string">&quot;6362991&quot;</span>,                    <span class="hljs-attr">&quot;confirmedRelative&quot;</span>: <span class="hljs-string">&quot;206165&quot;</span>,                    <span class="hljs-attr">&quot;curedRelative&quot;</span>: <span class="hljs-string">&quot;190018&quot;</span>,                    <span class="hljs-attr">&quot;diedRelative&quot;</span>: <span class="hljs-string">&quot;4876&quot;</span>,                    <span class="hljs-attr">&quot;curConfirmRelative&quot;</span>: <span class="hljs-string">&quot;11271&quot;</span>,                    <span class="hljs-attr">&quot;relativeTime&quot;</span>: <span class="hljs-string">&quot;1593792000&quot;</span>                &#125;,                <span class="hljs-attr">&quot;trend&quot;</span>: &#123;                                    <span class="hljs-comment">// trend å­—å…¸ï¼ŒåŒ…å«å›½å†…æ¯æ—¥çš„ç–«æƒ…æ•°æ®</span>                    <span class="hljs-attr">&quot;updateDate&quot;</span>: [],                         <span class="hljs-comment">// æ—¥æœŸ</span>                    <span class="hljs-attr">&quot;list&quot;</span>: [                                 <span class="hljs-comment">// list åˆ—è¡¨ï¼Œæ¯é¡¹æ•°æ®åŠå…¶å¯¹åº”çš„å€¼</span>                        &#123;                            <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;ç¡®è¯Š&quot;</span>,                            <span class="hljs-attr">&quot;data&quot;</span>: []                        &#125;,                        &#123;                            <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;ç–‘ä¼¼&quot;</span>,                            <span class="hljs-attr">&quot;data&quot;</span>: []                        &#125;,                        &#123;                            <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;æ²»æ„ˆ&quot;</span>,                            <span class="hljs-attr">&quot;data&quot;</span>: []                        &#125;,                        &#123;                            <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;æ­»äº¡&quot;</span>,                            <span class="hljs-attr">&quot;data&quot;</span>: []                        &#125;,                        &#123;                            <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;æ–°å¢ç¡®è¯Š&quot;</span>,                            <span class="hljs-attr">&quot;data&quot;</span>: []                        &#125;,                        &#123;                            <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;æ–°å¢ç–‘ä¼¼&quot;</span>,                            <span class="hljs-attr">&quot;data&quot;</span>: []                        &#125;,                        &#123;                            <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;æ–°å¢æ²»æ„ˆ&quot;</span>,                            <span class="hljs-attr">&quot;data&quot;</span>: []                        &#125;,                        &#123;                            <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;æ–°å¢æ­»äº¡&quot;</span>,                            <span class="hljs-attr">&quot;data&quot;</span>: []                        &#125;,                        &#123;                            <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;ç´¯è®¡å¢ƒå¤–è¾“å…¥&quot;</span>,                            <span class="hljs-attr">&quot;data&quot;</span>: []                        &#125;,                        &#123;                            <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;æ–°å¢å¢ƒå¤–è¾“å…¥&quot;</span>,                            <span class="hljs-attr">&quot;data&quot;</span>: []                        &#125;                    ]                &#125;,                <span class="hljs-attr">&quot;foreignLastUpdatedTime&quot;</span>: <span class="hljs-string">&quot;2020.07.05 16:13&quot;</span>,       <span class="hljs-comment">// å›½å¤–ç–«æƒ…æ•°æ®æœ€åæ›´æ–°æ—¶é—´</span>                <span class="hljs-attr">&quot;globalList&quot;</span>: [                                     <span class="hljs-comment">// globalList åˆ—è¡¨ï¼Œæ¯ä¸€ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå­—å…¸</span>                    &#123;                        <span class="hljs-attr">&quot;area&quot;</span>: <span class="hljs-string">&quot;äºšæ´²&quot;</span>,                              <span class="hljs-comment">// æŒ‰ç…§ä¸åŒæ´²è¿›è¡Œåˆ†ç±»</span>                        <span class="hljs-attr">&quot;subList&quot;</span>: [                                <span class="hljs-comment">// subList åˆ—è¡¨ï¼Œæ¯ä¸ªæ´²å„ä¸ªå›½å®¶çš„ç–«æƒ…æ•°æ®</span>                            &#123;                                <span class="hljs-attr">&quot;died&quot;</span>: <span class="hljs-string">&quot;52&quot;</span>,                                <span class="hljs-attr">&quot;confirmed&quot;</span>: <span class="hljs-string">&quot;6159&quot;</span>,                                <span class="hljs-attr">&quot;crued&quot;</span>: <span class="hljs-string">&quot;4809&quot;</span>,                                <span class="hljs-attr">&quot;curConfirm&quot;</span>: <span class="hljs-string">&quot;1298&quot;</span>,                                <span class="hljs-attr">&quot;confirmedRelative&quot;</span>: <span class="hljs-string">&quot;0&quot;</span>,                                <span class="hljs-attr">&quot;relativeTime&quot;</span>: <span class="hljs-string">&quot;1593792000&quot;</span>,                                <span class="hljs-attr">&quot;country&quot;</span>: <span class="hljs-string">&quot;å¡”å‰å…‹æ–¯å¦&quot;</span>                            &#125;                        ],                        <span class="hljs-attr">&quot;died&quot;</span>: <span class="hljs-string">&quot;56556&quot;</span>,                            <span class="hljs-comment">// æ¯ä¸ªæ´²æ€»çš„ç–«æƒ…æ•°æ®</span>                        <span class="hljs-attr">&quot;crued&quot;</span>: <span class="hljs-string">&quot;1625562&quot;</span>,                        <span class="hljs-attr">&quot;confirmed&quot;</span>: <span class="hljs-string">&quot;2447873&quot;</span>,                        <span class="hljs-attr">&quot;curConfirm&quot;</span>: <span class="hljs-string">&quot;765755&quot;</span>,                        <span class="hljs-attr">&quot;confirmedRelative&quot;</span>: <span class="hljs-string">&quot;60574&quot;</span>                    &#125;,                    &#123;                        <span class="hljs-attr">&quot;area&quot;</span>: <span class="hljs-string">&quot;å…¶ä»–&quot;</span>,                             <span class="hljs-comment">// å…¶ä»–ç‰¹æ®ŠåŒºåŸŸç–«æƒ…æ•°æ®</span>                        <span class="hljs-attr">&quot;subList&quot;</span>: [                            &#123;                                <span class="hljs-attr">&quot;died&quot;</span>: <span class="hljs-string">&quot;13&quot;</span>,                                <span class="hljs-attr">&quot;confirmed&quot;</span>: <span class="hljs-string">&quot;712&quot;</span>,                                <span class="hljs-attr">&quot;crued&quot;</span>: <span class="hljs-string">&quot;651&quot;</span>,                                <span class="hljs-attr">&quot;curConfirm&quot;</span>: <span class="hljs-string">&quot;48&quot;</span>,                                <span class="hljs-attr">&quot;confirmedRelative&quot;</span>: <span class="hljs-string">&quot;0&quot;</span>,                                <span class="hljs-attr">&quot;relativeTime&quot;</span>: <span class="hljs-string">&quot;1593792000&quot;</span>,                                <span class="hljs-attr">&quot;country&quot;</span>: <span class="hljs-string">&quot;é’»çŸ³å…¬ä¸»å·é‚®è½®&quot;</span>                            &#125;                        ],                        <span class="hljs-attr">&quot;died&quot;</span>: <span class="hljs-string">&quot;13&quot;</span>,                              <span class="hljs-comment">// å…¶ä»–ç‰¹æ®ŠåŒºåŸŸç–«æƒ…æ€»çš„æ•°æ®</span>                        <span class="hljs-attr">&quot;crued&quot;</span>: <span class="hljs-string">&quot;651&quot;</span>,                        <span class="hljs-attr">&quot;confirmed&quot;</span>: <span class="hljs-string">&quot;712&quot;</span>,                        <span class="hljs-attr">&quot;curConfirm&quot;</span>: <span class="hljs-string">&quot;48&quot;</span>,                        <span class="hljs-attr">&quot;confirmedRelative&quot;</span>: <span class="hljs-string">&quot;0&quot;</span>                    &#125;,                    &#123;                        <span class="hljs-attr">&quot;area&quot;</span>: <span class="hljs-string">&quot;çƒ­é—¨&quot;</span>,                            <span class="hljs-comment">// çƒ­é—¨å›½å®¶ç–«æƒ…æ•°æ®</span>                        <span class="hljs-attr">&quot;subList&quot;</span>: [                            &#123;                                <span class="hljs-attr">&quot;died&quot;</span>: <span class="hljs-string">&quot;5206&quot;</span>,                                <span class="hljs-attr">&quot;confirmed&quot;</span>: <span class="hljs-string">&quot;204610&quot;</span>,                                <span class="hljs-attr">&quot;crued&quot;</span>: <span class="hljs-string">&quot;179492&quot;</span>,                                <span class="hljs-attr">&quot;curConfirm&quot;</span>: <span class="hljs-string">&quot;19912&quot;</span>,                                <span class="hljs-attr">&quot;confirmedRelative&quot;</span>: <span class="hljs-string">&quot;1172&quot;</span>,                                <span class="hljs-attr">&quot;relativeTime&quot;</span>: <span class="hljs-string">&quot;1593792000&quot;</span>,                                <span class="hljs-attr">&quot;country&quot;</span>: <span class="hljs-string">&quot;åœŸè€³å…¶&quot;</span>                            &#125;                        ],                        <span class="hljs-attr">&quot;died&quot;</span>: <span class="hljs-string">&quot;528967&quot;</span>,                         <span class="hljs-comment">// çƒ­é—¨å›½å®¶ç–«æƒ…æ€»çš„æ•°æ®</span>                        <span class="hljs-attr">&quot;crued&quot;</span>: <span class="hljs-string">&quot;6362924&quot;</span>,                        <span class="hljs-attr">&quot;confirmed&quot;</span>: <span class="hljs-string">&quot;11302357&quot;</span>,                        <span class="hljs-attr">&quot;confirmedRelative&quot;</span>: <span class="hljs-string">&quot;216478&quot;</span>,                        <span class="hljs-attr">&quot;curConfirm&quot;</span>: <span class="hljs-string">&quot;4410466&quot;</span>                    &#125;],                <span class="hljs-attr">&quot;allForeignTrend&quot;</span>: &#123;                            <span class="hljs-comment">// allForeignTrend å­—å…¸ï¼ŒåŒ…å«å›½å¤–æ¯æ—¥çš„ç–«æƒ…æ•°æ®</span>                        <span class="hljs-attr">&quot;updateDate&quot;</span>: [],                       <span class="hljs-comment">// æ—¥æœŸ</span>                        <span class="hljs-attr">&quot;list&quot;</span>: [                               <span class="hljs-comment">// list åˆ—è¡¨ï¼Œæ¯é¡¹æ•°æ®åŠå…¶å¯¹åº”çš„å€¼</span>                            &#123;                                <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;ç´¯è®¡ç¡®è¯Š&quot;</span>,                                <span class="hljs-attr">&quot;data&quot;</span>: []                            &#125;,                            &#123;                                <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;æ²»æ„ˆ&quot;</span>,                                <span class="hljs-attr">&quot;data&quot;</span>: []                            &#125;,                            &#123;                                <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;æ­»äº¡&quot;</span>,                                <span class="hljs-attr">&quot;data&quot;</span>: []                            &#125;,                            &#123;                                <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;ç°æœ‰ç¡®è¯Š&quot;</span>,                                <span class="hljs-attr">&quot;data&quot;</span>: []                            &#125;,                            &#123;                                <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;æ–°å¢ç¡®è¯Š&quot;</span>,                                <span class="hljs-attr">&quot;data&quot;</span>: []                            &#125;                        ]                    &#125;,                <span class="hljs-attr">&quot;topAddCountry&quot;</span>: [                    <span class="hljs-comment">// ç¡®è¯Šå¢é‡æœ€é«˜çš„å›½å®¶</span>                        &#123;                            <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;ç¾å›½&quot;</span>,                            <span class="hljs-attr">&quot;value&quot;</span>: <span class="hljs-number">53162</span>                        &#125;                    ],                <span class="hljs-attr">&quot;topOverseasInput&quot;</span>: [                <span class="hljs-comment">// å¢ƒå¤–è¾“å…¥æœ€å¤šçš„çœä»½</span>                    &#123;                        <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;é»‘é¾™æ±Ÿ&quot;</span>,                        <span class="hljs-attr">&quot;value&quot;</span>: <span class="hljs-number">386</span>                    &#125;                ]            &#125;        ]    &#125;&lt;/script&gt;</code></pre><h2><span id="4x00-zhu-han-shu-main"><font color="#FF0000">ã€4x00ã€‘ä¸»å‡½æ•° main()</font></span></h2><p>åˆ†åˆ«å°†æ•°æ®è·å–ã€è¯äº‘å›¾ç»˜åˆ¶ã€åœ°å›¾ç»˜åˆ¶å†™å…¥ä¸‰ä¸ªæ–‡ä»¶ï¼š<code>data_get()</code>ã€<code>data_wordcloud()</code>ã€<code>data_map()</code>ï¼Œç„¶åä½¿ç”¨ä¸€ä¸ªä¸»å‡½æ•°æ–‡ä»¶ <a href="http://main.py">main.py</a> æ¥è°ƒç”¨è¿™ä¸‰ä¸ªæ–‡ä»¶é‡Œé¢çš„å‡½æ•°ã€‚</p><pre><code class="hljs python"><span class="hljs-keyword">import</span> data_get<span class="hljs-keyword">import</span> data_wordcloud<span class="hljs-keyword">import</span> data_mapdata_dict = data_get.init()data_get.china_total_data(data_dict)data_get.global_total_data(data_dict)data_get.china_daily_data(data_dict)data_get.foreign_daily_data(data_dict)data_wordcloud.china_wordcloud()data_wordcloud.global_wordcloud()data_map.all_map()</code></pre><h2><span id="5x00-shu-ju-huo-qu-mo-kuai-data-get"><font color="#FF0000">ã€5x00ã€‘æ•°æ®è·å–æ¨¡å— data_get</font></span></h2><h3><span id="5x01-chu-shi-hua-han-shu-init"><font color="#4876FF">ã€5x01ã€‘åˆå§‹åŒ–å‡½æ•° init()</font></span></h3><p>ä½¿ç”¨ xpath è¯­æ³• <code>//script[@id=&quot;captain-config&quot;]/text()</code> æå–é‡Œé¢çš„å€¼ï¼Œåˆ©ç”¨ <code>json.loads</code> æ–¹æ³•å°†å…¶è½¬æ¢ä¸ºå­—å…¸å¯¹è±¡ï¼Œä»¥ä¾¿åç»­çš„å…¶ä»–å‡½æ•°è°ƒç”¨ã€‚</p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">init</span>():</span>    headers = &#123;        <span class="hljs-string">&#x27;user-agent&#x27;</span>: <span class="hljs-string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.13 Safari/537.36&#x27;</span>    &#125;    url = <span class="hljs-string">&#x27;https://voice.baidu.com/act/newpneumonia/newpneumonia/&#x27;</span>    response = requests.get(url=url, headers=headers)    tree = etree.HTML(response.text)    dict1 = tree.xpath(<span class="hljs-string">&#x27;//script[@id=&quot;captain-config&quot;]/text()&#x27;</span>)    <span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(dict1[<span class="hljs-number">0</span>]))    dict2 = json.loads(dict1[<span class="hljs-number">0</span>])    <span class="hljs-keyword">return</span> dict2</code></pre><h3><span id="5x02-zhong-guo-zong-shu-ju-china-total-data"><font color="#4876FF">ã€5x02ã€‘ä¸­å›½æ€»æ•°æ® china_total_data()</font></span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">china_total_data</span>(<span class="hljs-params">data</span>):</span>    <span class="hljs-string">&quot;&quot;&quot;</span><span class="hljs-string">    1ã€ä¸­å›½çœ/ç›´è¾–å¸‚/è‡ªæ²»åŒº/è¡Œæ”¿åŒºç–«æƒ…æ•°æ®</span><span class="hljs-string">    çœ/ç›´è¾–å¸‚/è‡ªæ²»åŒº/è¡Œæ”¿åŒºï¼šarea</span><span class="hljs-string">    ç°æœ‰ç¡®è¯Šï¼š    curConfirm</span><span class="hljs-string">    ç´¯è®¡ç¡®è¯Šï¼š    confirmed</span><span class="hljs-string">    ç´¯è®¡æ²»æ„ˆï¼š    crued</span><span class="hljs-string">    ç´¯è®¡æ­»äº¡ï¼š    died</span><span class="hljs-string">    ç°æœ‰ç¡®è¯Šå¢é‡ï¼š curConfirmRelative</span><span class="hljs-string">    ç´¯è®¡ç¡®è¯Šå¢é‡ï¼š confirmedRelative</span><span class="hljs-string">    ç´¯è®¡æ²»æ„ˆå¢é‡ï¼š curedRelative</span><span class="hljs-string">    ç´¯è®¡æ­»äº¡å¢é‡ï¼š diedRelative</span><span class="hljs-string">    &quot;&quot;&quot;</span>    wb = openpyxl.Workbook()            <span class="hljs-comment"># åˆ›å»ºå·¥ä½œç°¿</span>    ws_china = wb.active                <span class="hljs-comment"># è·å–å·¥ä½œè¡¨</span>    ws_china.title = <span class="hljs-string">&quot;ä¸­å›½çœä»½ç–«æƒ…æ•°æ®&quot;</span>   <span class="hljs-comment"># å‘½åå·¥ä½œè¡¨</span>    ws_china.append([<span class="hljs-string">&#x27;çœ/ç›´è¾–å¸‚/è‡ªæ²»åŒº/è¡Œæ”¿åŒº&#x27;</span>, <span class="hljs-string">&#x27;ç°æœ‰ç¡®è¯Š&#x27;</span>, <span class="hljs-string">&#x27;ç´¯è®¡ç¡®è¯Š&#x27;</span>, <span class="hljs-string">&#x27;ç´¯è®¡æ²»æ„ˆ&#x27;</span>,                     <span class="hljs-string">&#x27;ç´¯è®¡æ­»äº¡&#x27;</span>, <span class="hljs-string">&#x27;ç°æœ‰ç¡®è¯Šå¢é‡&#x27;</span>, <span class="hljs-string">&#x27;ç´¯è®¡ç¡®è¯Šå¢é‡&#x27;</span>,                     <span class="hljs-string">&#x27;ç´¯è®¡æ²»æ„ˆå¢é‡&#x27;</span>, <span class="hljs-string">&#x27;ç´¯è®¡æ­»äº¡å¢é‡&#x27;</span>])    china = data[<span class="hljs-string">&#x27;component&#x27;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;caseList&#x27;</span>]    <span class="hljs-keyword">for</span> province <span class="hljs-keyword">in</span> china:        ws_china.append([province[<span class="hljs-string">&#x27;area&#x27;</span>],                        province[<span class="hljs-string">&#x27;curConfirm&#x27;</span>],                        province[<span class="hljs-string">&#x27;confirmed&#x27;</span>],                        province[<span class="hljs-string">&#x27;crued&#x27;</span>],                        province[<span class="hljs-string">&#x27;died&#x27;</span>],                        province[<span class="hljs-string">&#x27;curConfirmRelative&#x27;</span>],                        province[<span class="hljs-string">&#x27;confirmedRelative&#x27;</span>],                        province[<span class="hljs-string">&#x27;curedRelative&#x27;</span>],                        province[<span class="hljs-string">&#x27;diedRelative&#x27;</span>]])    <span class="hljs-string">&quot;&quot;&quot;</span><span class="hljs-string">    2ã€ä¸­å›½åŸå¸‚ç–«æƒ…æ•°æ®</span><span class="hljs-string">    åŸå¸‚ï¼šcity</span><span class="hljs-string">    ç°æœ‰ç¡®è¯Šï¼šcurConfirm</span><span class="hljs-string">    ç´¯è®¡ç¡®è¯Šï¼šconfirmed</span><span class="hljs-string">    ç´¯è®¡æ²»æ„ˆï¼šcrued</span><span class="hljs-string">    ç´¯è®¡æ­»äº¡ï¼šdied</span><span class="hljs-string">    ç´¯è®¡ç¡®è¯Šå¢é‡ï¼šconfirmedRelative</span><span class="hljs-string">    &quot;&quot;&quot;</span>    ws_city = wb.create_sheet(<span class="hljs-string">&#x27;ä¸­å›½åŸå¸‚ç–«æƒ…æ•°æ®&#x27;</span>)    ws_city.append([<span class="hljs-string">&#x27;åŸå¸‚&#x27;</span>, <span class="hljs-string">&#x27;ç°æœ‰ç¡®è¯Š&#x27;</span>, <span class="hljs-string">&#x27;ç´¯è®¡ç¡®è¯Š&#x27;</span>,                    <span class="hljs-string">&#x27;ç´¯è®¡æ²»æ„ˆ&#x27;</span>, <span class="hljs-string">&#x27;ç´¯è®¡æ­»äº¡&#x27;</span>, <span class="hljs-string">&#x27;ç´¯è®¡ç¡®è¯Šå¢é‡&#x27;</span>])    <span class="hljs-keyword">for</span> province <span class="hljs-keyword">in</span> china:        <span class="hljs-keyword">for</span> city <span class="hljs-keyword">in</span> province[<span class="hljs-string">&#x27;subList&#x27;</span>]:            <span class="hljs-comment"># æŸäº›åŸå¸‚æ²¡æœ‰ curConfirm æ•°æ®ï¼Œåˆ™å°†å…¶è®¾ç½®ä¸º 0ï¼Œcrued å’Œ died ä¸ºç©ºæ—¶ï¼Œæ›¿æ¢æˆ 0</span>            <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;curConfirm&#x27;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> city:                city[<span class="hljs-string">&#x27;curConfirm&#x27;</span>] = <span class="hljs-string">&#x27;0&#x27;</span>            <span class="hljs-keyword">if</span> city[<span class="hljs-string">&#x27;crued&#x27;</span>] == <span class="hljs-string">&#x27;&#x27;</span>:                city[<span class="hljs-string">&#x27;crued&#x27;</span>] = <span class="hljs-string">&#x27;0&#x27;</span>            <span class="hljs-keyword">if</span> city[<span class="hljs-string">&#x27;died&#x27;</span>] == <span class="hljs-string">&#x27;&#x27;</span>:                city[<span class="hljs-string">&#x27;died&#x27;</span>] = <span class="hljs-string">&#x27;0&#x27;</span>            ws_city.append([city[<span class="hljs-string">&#x27;city&#x27;</span>], <span class="hljs-string">&#x27;0&#x27;</span>, city[<span class="hljs-string">&#x27;confirmed&#x27;</span>],                           city[<span class="hljs-string">&#x27;crued&#x27;</span>], city[<span class="hljs-string">&#x27;died&#x27;</span>], city[<span class="hljs-string">&#x27;confirmedRelative&#x27;</span>]])    <span class="hljs-string">&quot;&quot;&quot;</span><span class="hljs-string">    3ã€ä¸­å›½ç–«æƒ…æ•°æ®æ›´æ–°æ—¶é—´ï¼šmapLastUpdatedTime</span><span class="hljs-string">    &quot;&quot;&quot;</span>    time_domestic = data[<span class="hljs-string">&#x27;component&#x27;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;mapLastUpdatedTime&#x27;</span>]    ws_time = wb.create_sheet(<span class="hljs-string">&#x27;ä¸­å›½ç–«æƒ…æ•°æ®æ›´æ–°æ—¶é—´&#x27;</span>)    ws_time.column_dimensions[<span class="hljs-string">&#x27;A&#x27;</span>].width = <span class="hljs-number">22</span>  <span class="hljs-comment"># è°ƒæ•´åˆ—å®½</span>    ws_time.append([<span class="hljs-string">&#x27;ä¸­å›½ç–«æƒ…æ•°æ®æ›´æ–°æ—¶é—´&#x27;</span>])    ws_time.append([time_domestic])    wb.save(<span class="hljs-string">&#x27;COVID-19-China.xlsx&#x27;</span>)    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;ä¸­å›½ç–«æƒ…æ•°æ®å·²ä¿å­˜è‡³ COVID-19-China.xlsxï¼&#x27;</span>)</code></pre><h3><span id="5x03-quan-qiu-zong-shu-ju-global-total-data"><font color="#4876FF">ã€5x03ã€‘å…¨çƒæ€»æ•°æ® global_total_data()</font></span></h3><p>å…¨çƒæ€»æ•°æ®åœ¨æå–å®Œæˆåï¼Œè¿›è¡Œåœ°å›¾ç»˜åˆ¶æ—¶å‘ç°å¹¶æ²¡æœ‰ä¸­å›½çš„æ•°æ®ï¼Œå› æ­¤åœ¨å†™å…¥å…¨çƒæ•°æ®æ—¶æ³¨æ„è¦å•ç‹¬å°†ä¸­å›½çš„æ•°æ®æ’å…¥ Excel ä¸­ã€‚</p><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">global_total_data</span>(<span class="hljs-params">data</span>):</span>    <span class="hljs-string">&quot;&quot;&quot;</span><span class="hljs-string">    1ã€å…¨çƒå„å›½ç–«æƒ…æ•°æ®</span><span class="hljs-string">    å›½å®¶ï¼šcountry</span><span class="hljs-string">    ç°æœ‰ç¡®è¯Šï¼šcurConfirm</span><span class="hljs-string">    ç´¯è®¡ç¡®è¯Šï¼šconfirmed</span><span class="hljs-string">    ç´¯è®¡æ²»æ„ˆï¼šcrued</span><span class="hljs-string">    ç´¯è®¡æ­»äº¡ï¼šdied</span><span class="hljs-string">    ç´¯è®¡ç¡®è¯Šå¢é‡ï¼šconfirmedRelative</span><span class="hljs-string">    &quot;&quot;&quot;</span>    wb = openpyxl.Workbook()    ws_global = wb.active    ws_global.title = <span class="hljs-string">&quot;å…¨çƒå„å›½ç–«æƒ…æ•°æ®&quot;</span>    <span class="hljs-comment"># æŒ‰ç…§å›½å®¶ä¿å­˜æ•°æ®</span>    countries = data[<span class="hljs-string">&#x27;component&#x27;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;caseOutsideList&#x27;</span>]    ws_global.append([<span class="hljs-string">&#x27;å›½å®¶&#x27;</span>, <span class="hljs-string">&#x27;ç°æœ‰ç¡®è¯Š&#x27;</span>, <span class="hljs-string">&#x27;ç´¯è®¡ç¡®è¯Š&#x27;</span>, <span class="hljs-string">&#x27;ç´¯è®¡æ²»æ„ˆ&#x27;</span>, <span class="hljs-string">&#x27;ç´¯è®¡æ­»äº¡&#x27;</span>, <span class="hljs-string">&#x27;ç´¯è®¡ç¡®è¯Šå¢é‡&#x27;</span>])    <span class="hljs-keyword">for</span> country <span class="hljs-keyword">in</span> countries:        ws_global.append([country[<span class="hljs-string">&#x27;area&#x27;</span>],                          country[<span class="hljs-string">&#x27;curConfirm&#x27;</span>],                          country[<span class="hljs-string">&#x27;confirmed&#x27;</span>],                          country[<span class="hljs-string">&#x27;crued&#x27;</span>],                          country[<span class="hljs-string">&#x27;died&#x27;</span>],                          country[<span class="hljs-string">&#x27;confirmedRelative&#x27;</span>]])    <span class="hljs-comment"># æŒ‰ç…§æ´²ä¿å­˜æ•°æ®</span>    continent = data[<span class="hljs-string">&#x27;component&#x27;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;globalList&#x27;</span>]    <span class="hljs-keyword">for</span> area <span class="hljs-keyword">in</span> continent:        ws_foreign = wb.create_sheet(area[<span class="hljs-string">&#x27;area&#x27;</span>] + <span class="hljs-string">&#x27;ç–«æƒ…æ•°æ®&#x27;</span>)        ws_foreign.append([<span class="hljs-string">&#x27;å›½å®¶&#x27;</span>, <span class="hljs-string">&#x27;ç°æœ‰ç¡®è¯Š&#x27;</span>, <span class="hljs-string">&#x27;ç´¯è®¡ç¡®è¯Š&#x27;</span>, <span class="hljs-string">&#x27;ç´¯è®¡æ²»æ„ˆ&#x27;</span>, <span class="hljs-string">&#x27;ç´¯è®¡æ­»äº¡&#x27;</span>, <span class="hljs-string">&#x27;ç´¯è®¡ç¡®è¯Šå¢é‡&#x27;</span>])        <span class="hljs-keyword">for</span> country <span class="hljs-keyword">in</span> area[<span class="hljs-string">&#x27;subList&#x27;</span>]:            ws_foreign.append([country[<span class="hljs-string">&#x27;country&#x27;</span>],                               country[<span class="hljs-string">&#x27;curConfirm&#x27;</span>],                               country[<span class="hljs-string">&#x27;confirmed&#x27;</span>],                               country[<span class="hljs-string">&#x27;crued&#x27;</span>],                               country[<span class="hljs-string">&#x27;died&#x27;</span>],                               country[<span class="hljs-string">&#x27;confirmedRelative&#x27;</span>]])    <span class="hljs-comment"># åœ¨â€œå…¨çƒå„å›½ç–«æƒ…æ•°æ®â€å’Œâ€œäºšæ´²ç–«æƒ…æ•°æ®â€ä¸¤å¼ è¡¨ä¸­å†™å…¥ä¸­å›½ç–«æƒ…æ•°æ®</span>    ws1, ws2 = wb[<span class="hljs-string">&#x27;å…¨çƒå„å›½ç–«æƒ…æ•°æ®&#x27;</span>], wb[<span class="hljs-string">&#x27;äºšæ´²ç–«æƒ…æ•°æ®&#x27;</span>]    original_data = data[<span class="hljs-string">&#x27;component&#x27;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;summaryDataIn&#x27;</span>]    add_china_data = [<span class="hljs-string">&#x27;ä¸­å›½&#x27;</span>,                      original_data[<span class="hljs-string">&#x27;curConfirm&#x27;</span>],                      original_data[<span class="hljs-string">&#x27;confirmed&#x27;</span>],                      original_data[<span class="hljs-string">&#x27;cured&#x27;</span>],                      original_data[<span class="hljs-string">&#x27;died&#x27;</span>],                      original_data[<span class="hljs-string">&#x27;confirmedRelative&#x27;</span>]]    ws1.append(add_china_data)    ws2.append(add_china_data)    <span class="hljs-string">&quot;&quot;&quot;</span><span class="hljs-string">    2ã€å…¨çƒç–«æƒ…æ•°æ®æ›´æ–°æ—¶é—´ï¼šforeignLastUpdatedTime</span><span class="hljs-string">    &quot;&quot;&quot;</span>    time_foreign = data[<span class="hljs-string">&#x27;component&#x27;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;foreignLastUpdatedTime&#x27;</span>]    ws_time = wb.create_sheet(<span class="hljs-string">&#x27;å…¨çƒç–«æƒ…æ•°æ®æ›´æ–°æ—¶é—´&#x27;</span>)    ws_time.column_dimensions[<span class="hljs-string">&#x27;A&#x27;</span>].width = <span class="hljs-number">22</span>  <span class="hljs-comment"># è°ƒæ•´åˆ—å®½</span>    ws_time.append([<span class="hljs-string">&#x27;å…¨çƒç–«æƒ…æ•°æ®æ›´æ–°æ—¶é—´&#x27;</span>])    ws_time.append([time_foreign])    wb.save(<span class="hljs-string">&#x27;COVID-19-Global.xlsx&#x27;</span>)    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;å…¨çƒç–«æƒ…æ•°æ®å·²ä¿å­˜è‡³ COVID-19-Global.xlsxï¼&#x27;</span>)</code></pre><h3><span id="5x04-zhong-guo-mei-ri-shu-ju-china-daily-data"><font color="#4876FF">ã€5x04ã€‘ä¸­å›½æ¯æ—¥æ•°æ® china_daily_data()</font></span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">china_daily_data</span>(<span class="hljs-params">data</span>):</span>    <span class="hljs-string">&quot;&quot;&quot;</span><span class="hljs-string">    i_dict = data[&#x27;component&#x27;][0][&#x27;trend&#x27;]</span><span class="hljs-string">    i_dict[&#x27;updateDate&#x27;]ï¼šæ—¥æœŸ</span><span class="hljs-string">    i_dict[&#x27;list&#x27;][0]ï¼šç¡®è¯Š</span><span class="hljs-string">    i_dict[&#x27;list&#x27;][1]ï¼šç–‘ä¼¼</span><span class="hljs-string">    i_dict[&#x27;list&#x27;][2]ï¼šæ²»æ„ˆ</span><span class="hljs-string">    i_dict[&#x27;list&#x27;][3]ï¼šæ­»äº¡</span><span class="hljs-string">    i_dict[&#x27;list&#x27;][4]ï¼šæ–°å¢ç¡®è¯Š</span><span class="hljs-string">    i_dict[&#x27;list&#x27;][5]ï¼šæ–°å¢ç–‘ä¼¼</span><span class="hljs-string">    i_dict[&#x27;list&#x27;][6]ï¼šæ–°å¢æ²»æ„ˆ</span><span class="hljs-string">    i_dict[&#x27;list&#x27;][7]ï¼šæ–°å¢æ­»äº¡</span><span class="hljs-string">    i_dict[&#x27;list&#x27;][8]ï¼šç´¯è®¡å¢ƒå¤–è¾“å…¥</span><span class="hljs-string">    i_dict[&#x27;list&#x27;][9]ï¼šæ–°å¢å¢ƒå¤–è¾“å…¥</span><span class="hljs-string">    &quot;&quot;&quot;</span>    ccd_dict = data[<span class="hljs-string">&#x27;component&#x27;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;trend&#x27;</span>]    update_date = ccd_dict[<span class="hljs-string">&#x27;updateDate&#x27;</span>]              <span class="hljs-comment"># æ—¥æœŸ</span>    china_confirmed = ccd_dict[<span class="hljs-string">&#x27;list&#x27;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;data&#x27;</span>]     <span class="hljs-comment"># æ¯æ—¥ç´¯è®¡ç¡®è¯Šæ•°æ®</span>    china_crued = ccd_dict[<span class="hljs-string">&#x27;list&#x27;</span>][<span class="hljs-number">2</span>][<span class="hljs-string">&#x27;data&#x27;</span>]         <span class="hljs-comment"># æ¯æ—¥ç´¯è®¡æ²»æ„ˆæ•°æ®</span>    china_died = ccd_dict[<span class="hljs-string">&#x27;list&#x27;</span>][<span class="hljs-number">3</span>][<span class="hljs-string">&#x27;data&#x27;</span>]          <span class="hljs-comment"># æ¯æ—¥ç´¯è®¡æ­»äº¡æ•°æ®</span>    wb = openpyxl.load_workbook(<span class="hljs-string">&#x27;COVID-19-China.xlsx&#x27;</span>)    <span class="hljs-comment"># å†™å…¥æ¯æ—¥ç´¯è®¡ç¡®è¯Šæ•°æ®</span>    ws_china_confirmed = wb.create_sheet(<span class="hljs-string">&#x27;ä¸­å›½æ¯æ—¥ç´¯è®¡ç¡®è¯Šæ•°æ®&#x27;</span>)    ws_china_confirmed.append([<span class="hljs-string">&#x27;æ—¥æœŸ&#x27;</span>, <span class="hljs-string">&#x27;æ•°æ®&#x27;</span>])    <span class="hljs-keyword">for</span> data <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(update_date, china_confirmed):        ws_china_confirmed.append(data)    <span class="hljs-comment"># å†™å…¥æ¯æ—¥ç´¯è®¡æ²»æ„ˆæ•°æ®</span>    ws_china_crued = wb.create_sheet(<span class="hljs-string">&#x27;ä¸­å›½æ¯æ—¥ç´¯è®¡æ²»æ„ˆæ•°æ®&#x27;</span>)    ws_china_crued.append([<span class="hljs-string">&#x27;æ—¥æœŸ&#x27;</span>, <span class="hljs-string">&#x27;æ•°æ®&#x27;</span>])    <span class="hljs-keyword">for</span> data <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(update_date, china_crued):        ws_china_crued.append(data)    <span class="hljs-comment"># å†™å…¥æ¯æ—¥ç´¯è®¡æ­»äº¡æ•°æ®</span>    ws_china_died = wb.create_sheet(<span class="hljs-string">&#x27;ä¸­å›½æ¯æ—¥ç´¯è®¡æ­»äº¡æ•°æ®&#x27;</span>)    ws_china_died.append([<span class="hljs-string">&#x27;æ—¥æœŸ&#x27;</span>, <span class="hljs-string">&#x27;æ•°æ®&#x27;</span>])    <span class="hljs-keyword">for</span> data <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(update_date, china_died):        ws_china_died.append(data)    wb.save(<span class="hljs-string">&#x27;COVID-19-China.xlsx&#x27;</span>)    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;ä¸­å›½æ¯æ—¥ç´¯è®¡ç¡®è¯Š/æ²»æ„ˆ/æ­»äº¡æ•°æ®å·²ä¿å­˜è‡³ COVID-19-China.xlsxï¼&#x27;</span>)</code></pre><h3><span id="5x05-jing-wai-mei-ri-shu-ju-foreign-daily-data"><font color="#4876FF">ã€5x05ã€‘å¢ƒå¤–æ¯æ—¥æ•°æ® foreign_daily_data()</font></span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">foreign_daily_data</span>(<span class="hljs-params">data</span>):</span>    <span class="hljs-string">&quot;&quot;&quot;</span><span class="hljs-string">    te_dict = data[&#x27;component&#x27;][0][&#x27;allForeignTrend&#x27;]</span><span class="hljs-string">    te_dict[&#x27;updateDate&#x27;]ï¼šæ—¥æœŸ</span><span class="hljs-string">    te_dict[&#x27;list&#x27;][0]ï¼šç´¯è®¡ç¡®è¯Š</span><span class="hljs-string">    te_dict[&#x27;list&#x27;][1]ï¼šæ²»æ„ˆ</span><span class="hljs-string">    te_dict[&#x27;list&#x27;][2]ï¼šæ­»äº¡</span><span class="hljs-string">    te_dict[&#x27;list&#x27;][3]ï¼šç°æœ‰ç¡®è¯Š</span><span class="hljs-string">    te_dict[&#x27;list&#x27;][4]ï¼šæ–°å¢ç¡®è¯Š</span><span class="hljs-string">    &quot;&quot;&quot;</span>    te_dict = data[<span class="hljs-string">&#x27;component&#x27;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;allForeignTrend&#x27;</span>]    update_date = te_dict[<span class="hljs-string">&#x27;updateDate&#x27;</span>]                <span class="hljs-comment"># æ—¥æœŸ</span>    foreign_confirmed = te_dict[<span class="hljs-string">&#x27;list&#x27;</span>][<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;data&#x27;</span>]     <span class="hljs-comment"># æ¯æ—¥ç´¯è®¡ç¡®è¯Šæ•°æ®</span>    foreign_crued = te_dict[<span class="hljs-string">&#x27;list&#x27;</span>][<span class="hljs-number">1</span>][<span class="hljs-string">&#x27;data&#x27;</span>]         <span class="hljs-comment"># æ¯æ—¥ç´¯è®¡æ²»æ„ˆæ•°æ®</span>    foreign_died = te_dict[<span class="hljs-string">&#x27;list&#x27;</span>][<span class="hljs-number">2</span>][<span class="hljs-string">&#x27;data&#x27;</span>]          <span class="hljs-comment"># æ¯æ—¥ç´¯è®¡æ­»äº¡æ•°æ®</span>    wb = openpyxl.load_workbook(<span class="hljs-string">&#x27;COVID-19-Global.xlsx&#x27;</span>)    <span class="hljs-comment"># å†™å…¥æ¯æ—¥ç´¯è®¡ç¡®è¯Šæ•°æ®</span>    ws_foreign_confirmed = wb.create_sheet(<span class="hljs-string">&#x27;å¢ƒå¤–æ¯æ—¥ç´¯è®¡ç¡®è¯Šæ•°æ®&#x27;</span>)    ws_foreign_confirmed.append([<span class="hljs-string">&#x27;æ—¥æœŸ&#x27;</span>, <span class="hljs-string">&#x27;æ•°æ®&#x27;</span>])    <span class="hljs-keyword">for</span> data <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(update_date, foreign_confirmed):        ws_foreign_confirmed.append(data)    <span class="hljs-comment"># å†™å…¥ç´¯è®¡æ²»æ„ˆæ•°æ®</span>    ws_foreign_crued = wb.create_sheet(<span class="hljs-string">&#x27;å¢ƒå¤–æ¯æ—¥ç´¯è®¡æ²»æ„ˆæ•°æ®&#x27;</span>)    ws_foreign_crued.append([<span class="hljs-string">&#x27;æ—¥æœŸ&#x27;</span>, <span class="hljs-string">&#x27;æ•°æ®&#x27;</span>])    <span class="hljs-keyword">for</span> data <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(update_date, foreign_crued):        ws_foreign_crued.append(data)    <span class="hljs-comment"># å†™å…¥ç´¯è®¡æ­»äº¡æ•°æ®</span>    ws_foreign_died = wb.create_sheet(<span class="hljs-string">&#x27;å¢ƒå¤–æ¯æ—¥ç´¯è®¡æ­»äº¡æ•°æ®&#x27;</span>)    ws_foreign_died.append([<span class="hljs-string">&#x27;æ—¥æœŸ&#x27;</span>, <span class="hljs-string">&#x27;æ•°æ®&#x27;</span>])    <span class="hljs-keyword">for</span> data <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(update_date, foreign_died):        ws_foreign_died.append(data)    wb.save(<span class="hljs-string">&#x27;COVID-19-Global.xlsx&#x27;</span>)    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;å¢ƒå¤–æ¯æ—¥ç´¯è®¡ç¡®è¯Š/æ²»æ„ˆ/æ­»äº¡æ•°æ®å·²ä¿å­˜è‡³ COVID-19-Global.xlsxï¼&#x27;</span>)</code></pre><h2><span id="6x00-ci-yun-tu-hui-zhi-mo-kuai-data-wordcloud"><font color="#FF0000">ã€6x00ã€‘è¯äº‘å›¾ç»˜åˆ¶æ¨¡å— data_wordcloud</font></span></h2><h3><span id="6x01-zhong-guo-lei-ji-que-zhen-ci-yun-tu-foreign-daily-data"><font color="#4876FF">ã€6x01ã€‘ä¸­å›½ç´¯è®¡ç¡®è¯Šè¯äº‘å›¾ foreign_daily_data()</font></span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">china_wordcloud</span>():</span>    wb = openpyxl.load_workbook(<span class="hljs-string">&#x27;COVID-19-China.xlsx&#x27;</span>)  <span class="hljs-comment"># è·å–å·²æœ‰çš„xlsxæ–‡ä»¶</span>    ws_china = wb[<span class="hljs-string">&#x27;ä¸­å›½çœä»½ç–«æƒ…æ•°æ®&#x27;</span>]                     <span class="hljs-comment"># è·å–ä¸­å›½çœä»½ç–«æƒ…æ•°æ®è¡¨</span>    ws_china.delete_rows(<span class="hljs-number">1</span>)                             <span class="hljs-comment"># åˆ é™¤ç¬¬ä¸€è¡Œ</span>    china_dict = &#123;&#125;                                     <span class="hljs-comment"># å°†çœä»½åŠå…¶ç´¯è®¡ç¡®è¯ŠæŒ‰ç…§é”®å€¼å¯¹å½¢å¼å‚¨å­˜åœ¨å­—å…¸ä¸­</span>    <span class="hljs-keyword">for</span> data <span class="hljs-keyword">in</span> ws_china.values:        china_dict[data[<span class="hljs-number">0</span>]] = <span class="hljs-built_in">int</span>(data[<span class="hljs-number">2</span>])    word_cloud = wordcloud.WordCloud(font_path=<span class="hljs-string">&#x27;C:/Windows/Fonts/simsun.ttc&#x27;</span>,                                     background_color=<span class="hljs-string">&#x27;#CDC9C9&#x27;</span>,                                     min_font_size=<span class="hljs-number">15</span>,                                     width=<span class="hljs-number">900</span>, height=<span class="hljs-number">500</span>)    word_cloud.generate_from_frequencies(china_dict)    word_cloud.to_file(<span class="hljs-string">&#x27;WordCloud-China.png&#x27;</span>)    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;ä¸­å›½çœä»½ç–«æƒ…è¯äº‘å›¾ç»˜åˆ¶å®Œæ¯•ï¼&#x27;</span>)</code></pre><h3><span id="6x02-quan-qiu-lei-ji-que-zhen-ci-yun-tu-foreign-daily-data"><font color="#4876FF">ã€6x02ã€‘å…¨çƒç´¯è®¡ç¡®è¯Šè¯äº‘å›¾ foreign_daily_data()</font></span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">global_wordcloud</span>():</span>    wb = openpyxl.load_workbook(<span class="hljs-string">&#x27;COVID-19-Global.xlsx&#x27;</span>)    ws_global = wb[<span class="hljs-string">&#x27;å…¨çƒå„å›½ç–«æƒ…æ•°æ®&#x27;</span>]    ws_global.delete_rows(<span class="hljs-number">1</span>)    global_dict = &#123;&#125;    <span class="hljs-keyword">for</span> data <span class="hljs-keyword">in</span> ws_global.values:        global_dict[data[<span class="hljs-number">0</span>]] = <span class="hljs-built_in">int</span>(data[<span class="hljs-number">2</span>])    word_cloud = wordcloud.WordCloud(font_path=<span class="hljs-string">&#x27;C:/Windows/Fonts/simsun.ttc&#x27;</span>,                                     background_color=<span class="hljs-string">&#x27;#CDC9C9&#x27;</span>,                                     width=<span class="hljs-number">900</span>, height=<span class="hljs-number">500</span>)    word_cloud.generate_from_frequencies(global_dict)    word_cloud.to_file(<span class="hljs-string">&#x27;WordCloud-Global.png&#x27;</span>)    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;å…¨çƒå„å›½ç–«æƒ…è¯äº‘å›¾ç»˜åˆ¶å®Œæ¯•ï¼&#x27;</span>)</code></pre><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/107140534</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h2><span id="7x00-di-tu-hui-zhi-mo-kuai-data-map"><font color="#FF0000">ã€7x00ã€‘åœ°å›¾ç»˜åˆ¶æ¨¡å— data_map</font></span></h2><h3><span id="7x01-zhong-guo-lei-ji-que-zhen-di-tu-china-total-map"><font color="#4876FF">ã€7x01ã€‘ä¸­å›½ç´¯è®¡ç¡®è¯Šåœ°å›¾ china_total_map()</font></span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">china_total_map</span>():</span>    wb = openpyxl.load_workbook(<span class="hljs-string">&#x27;COVID-19-China.xlsx&#x27;</span>)  <span class="hljs-comment"># è·å–å·²æœ‰çš„xlsxæ–‡ä»¶</span>    ws_time = wb[<span class="hljs-string">&#x27;ä¸­å›½ç–«æƒ…æ•°æ®æ›´æ–°æ—¶é—´&#x27;</span>]                   <span class="hljs-comment"># è·å–æ–‡ä»¶ä¸­ä¸­å›½ç–«æƒ…æ•°æ®æ›´æ–°æ—¶é—´è¡¨</span>    ws_data = wb[<span class="hljs-string">&#x27;ä¸­å›½çœä»½ç–«æƒ…æ•°æ®&#x27;</span>]                      <span class="hljs-comment"># è·å–æ–‡ä»¶ä¸­ä¸­å›½çœä»½ç–«æƒ…æ•°æ®è¡¨</span>    ws_data.delete_rows(<span class="hljs-number">1</span>)                              <span class="hljs-comment"># åˆ é™¤ç¬¬ä¸€è¡Œ</span>    province = []                                       <span class="hljs-comment"># çœä»½</span>    curconfirm = []                                     <span class="hljs-comment"># ç´¯è®¡ç¡®è¯Š</span>    <span class="hljs-keyword">for</span> data <span class="hljs-keyword">in</span> ws_data.values:        province.append(data[<span class="hljs-number">0</span>])        curconfirm.append(data[<span class="hljs-number">2</span>])    time_china = ws_time[<span class="hljs-string">&#x27;A2&#x27;</span>].value                    <span class="hljs-comment"># æ›´æ–°æ—¶é—´</span>    <span class="hljs-comment"># è®¾ç½®åˆ†çº§é¢œè‰²</span>    pieces = [        &#123;<span class="hljs-string">&#x27;max&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;min&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;0&#x27;</span>, <span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;#FFFFFF&#x27;</span>&#125;,        &#123;<span class="hljs-string">&#x27;max&#x27;</span>: <span class="hljs-number">9</span>, <span class="hljs-string">&#x27;min&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;1-9&#x27;</span>, <span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;#FFE5DB&#x27;</span>&#125;,        &#123;<span class="hljs-string">&#x27;max&#x27;</span>: <span class="hljs-number">99</span>, <span class="hljs-string">&#x27;min&#x27;</span>: <span class="hljs-number">10</span>, <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;10-99&#x27;</span>, <span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;#FF9985&#x27;</span>&#125;,        &#123;<span class="hljs-string">&#x27;max&#x27;</span>: <span class="hljs-number">999</span>, <span class="hljs-string">&#x27;min&#x27;</span>: <span class="hljs-number">100</span>, <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;100-999&#x27;</span>, <span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;#F57567&#x27;</span>&#125;,        &#123;<span class="hljs-string">&#x27;max&#x27;</span>: <span class="hljs-number">9999</span>, <span class="hljs-string">&#x27;min&#x27;</span>: <span class="hljs-number">1000</span>, <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;1000-9999&#x27;</span>, <span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;#E64546&#x27;</span>&#125;,        &#123;<span class="hljs-string">&#x27;max&#x27;</span>: <span class="hljs-number">99999</span>, <span class="hljs-string">&#x27;min&#x27;</span>: <span class="hljs-number">10000</span>, <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;â‰§10000&#x27;</span>, <span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;#B80909&#x27;</span>&#125;    ]    <span class="hljs-comment"># ç»˜åˆ¶åœ°å›¾</span>    ct_map = (        Map()        .add(series_name=<span class="hljs-string">&#x27;ç´¯è®¡ç¡®è¯Šäººæ•°&#x27;</span>, data_pair=[<span class="hljs-built_in">list</span>(z) <span class="hljs-keyword">for</span> z <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(province, curconfirm)], maptype=<span class="hljs-string">&quot;china&quot;</span>)        .set_global_opts(            title_opts=opts.TitleOpts(title=<span class="hljs-string">&quot;ä¸­å›½ç–«æƒ…æ•°æ®ï¼ˆç´¯è®¡ç¡®è¯Šï¼‰&quot;</span>,                                      subtitle=<span class="hljs-string">&#x27;æ•°æ®æ›´æ–°è‡³ï¼š&#x27;</span> + time_china + <span class="hljs-string">&#x27;\n\næ¥æºï¼šç™¾åº¦ç–«æƒ…å®æ—¶å¤§æ•°æ®æŠ¥å‘Š&#x27;</span>),            visualmap_opts=opts.VisualMapOpts(max_=<span class="hljs-number">300</span>, is_piecewise=<span class="hljs-literal">True</span>, pieces=pieces)        )    )    <span class="hljs-keyword">return</span> ct_map</code></pre><h3><span id="7x02-quan-qiu-lei-ji-que-zhen-di-tu-global-total-map"><font color="#4876FF">ã€7x02ã€‘å…¨çƒç´¯è®¡ç¡®è¯Šåœ°å›¾ global_total_map()</font></span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">global_total_map</span>():</span>    wb = openpyxl.load_workbook(<span class="hljs-string">&#x27;COVID-19-Global.xlsx&#x27;</span>)    ws_time = wb[<span class="hljs-string">&#x27;å…¨çƒç–«æƒ…æ•°æ®æ›´æ–°æ—¶é—´&#x27;</span>]    ws_data = wb[<span class="hljs-string">&#x27;å…¨çƒå„å›½ç–«æƒ…æ•°æ®&#x27;</span>]    ws_data.delete_rows(<span class="hljs-number">1</span>)    country = []                        <span class="hljs-comment"># å›½å®¶</span>    curconfirm = []                     <span class="hljs-comment"># ç´¯è®¡ç¡®è¯Š</span>    <span class="hljs-keyword">for</span> data <span class="hljs-keyword">in</span> ws_data.values:        country.append(data[<span class="hljs-number">0</span>])        curconfirm.append(data[<span class="hljs-number">2</span>])    time_global = ws_time[<span class="hljs-string">&#x27;A2&#x27;</span>].value   <span class="hljs-comment"># æ›´æ–°æ—¶é—´</span>    <span class="hljs-comment"># å›½å®¶åç§°ä¸­è‹±æ–‡æ˜ å°„è¡¨</span>    name_map = &#123;          <span class="hljs-string">&quot;Somalia&quot;</span>: <span class="hljs-string">&quot;ç´¢é©¬é‡Œ&quot;</span>,          <span class="hljs-string">&quot;Liechtenstein&quot;</span>: <span class="hljs-string">&quot;åˆ—æ”¯æ•¦å£«ç™»&quot;</span>,          <span class="hljs-string">&quot;Morocco&quot;</span>: <span class="hljs-string">&quot;æ‘©æ´›å“¥&quot;</span>,          <span class="hljs-string">&quot;W. Sahara&quot;</span>: <span class="hljs-string">&quot;è¥¿æ’’å“ˆæ‹‰&quot;</span>,          <span class="hljs-string">&quot;Serbia&quot;</span>: <span class="hljs-string">&quot;å¡å°”ç»´äºš&quot;</span>,          <span class="hljs-string">&quot;Afghanistan&quot;</span>: <span class="hljs-string">&quot;é˜¿å¯Œæ±—&quot;</span>,          <span class="hljs-string">&quot;Angola&quot;</span>: <span class="hljs-string">&quot;å®‰å“¥æ‹‰&quot;</span>,          <span class="hljs-string">&quot;Albania&quot;</span>: <span class="hljs-string">&quot;é˜¿å°”å·´å°¼äºš&quot;</span>,          <span class="hljs-string">&quot;Andorra&quot;</span>: <span class="hljs-string">&quot;å®‰é“å°”å…±å’Œå›½&quot;</span>,          <span class="hljs-string">&quot;United Arab Emirates&quot;</span>: <span class="hljs-string">&quot;é˜¿æ‹‰ä¼¯è”åˆé…‹é•¿å›½&quot;</span>,          <span class="hljs-string">&quot;Argentina&quot;</span>: <span class="hljs-string">&quot;é˜¿æ ¹å»·&quot;</span>,          <span class="hljs-string">&quot;Armenia&quot;</span>: <span class="hljs-string">&quot;äºšç¾å°¼äºš&quot;</span>,          <span class="hljs-string">&quot;Australia&quot;</span>: <span class="hljs-string">&quot;æ¾³å¤§åˆ©äºš&quot;</span>,          <span class="hljs-string">&quot;Austria&quot;</span>: <span class="hljs-string">&quot;å¥¥åœ°åˆ©&quot;</span>,          <span class="hljs-string">&quot;Azerbaijan&quot;</span>: <span class="hljs-string">&quot;é˜¿å¡æ‹œç–†&quot;</span>,          <span class="hljs-string">&quot;Burundi&quot;</span>: <span class="hljs-string">&quot;å¸ƒéš†è¿ª&quot;</span>,          <span class="hljs-string">&quot;Belgium&quot;</span>: <span class="hljs-string">&quot;æ¯”åˆ©æ—¶&quot;</span>,          <span class="hljs-string">&quot;Benin&quot;</span>: <span class="hljs-string">&quot;è´å®&quot;</span>,          <span class="hljs-string">&quot;Burkina Faso&quot;</span>: <span class="hljs-string">&quot;å¸ƒåŸºçº³æ³•ç´¢&quot;</span>,          <span class="hljs-string">&quot;Bangladesh&quot;</span>: <span class="hljs-string">&quot;å­ŸåŠ æ‹‰å›½&quot;</span>,          <span class="hljs-string">&quot;Bulgaria&quot;</span>: <span class="hljs-string">&quot;ä¿åŠ åˆ©äºš&quot;</span>,          <span class="hljs-string">&quot;Bahrain&quot;</span>: <span class="hljs-string">&quot;å·´æ—&quot;</span>,          <span class="hljs-string">&quot;Bahamas&quot;</span>: <span class="hljs-string">&quot;å·´å“ˆé©¬&quot;</span>,          <span class="hljs-string">&quot;Bosnia and Herz.&quot;</span>: <span class="hljs-string">&quot;æ³¢æ–¯å°¼äºšå’Œé»‘å¡å“¥ç»´é‚£&quot;</span>,          <span class="hljs-string">&quot;Belarus&quot;</span>: <span class="hljs-string">&quot;ç™½ä¿„ç½—æ–¯&quot;</span>,          <span class="hljs-string">&quot;Belize&quot;</span>: <span class="hljs-string">&quot;ä¼¯åˆ©å…¹&quot;</span>,          <span class="hljs-string">&quot;Bermuda&quot;</span>: <span class="hljs-string">&quot;ç™¾æ…•å¤§&quot;</span>,          <span class="hljs-string">&quot;Bolivia&quot;</span>: <span class="hljs-string">&quot;ç»åˆ©ç»´äºš&quot;</span>,          <span class="hljs-string">&quot;Brazil&quot;</span>: <span class="hljs-string">&quot;å·´è¥¿&quot;</span>,          <span class="hljs-string">&quot;Barbados&quot;</span>: <span class="hljs-string">&quot;å·´å·´å¤šæ–¯&quot;</span>,          <span class="hljs-string">&quot;Brunei&quot;</span>: <span class="hljs-string">&quot;æ–‡è±&quot;</span>,          <span class="hljs-string">&quot;Bhutan&quot;</span>: <span class="hljs-string">&quot;ä¸ä¸¹&quot;</span>,          <span class="hljs-string">&quot;Botswana&quot;</span>: <span class="hljs-string">&quot;åšèŒ¨ç“¦çº³&quot;</span>,          <span class="hljs-string">&quot;Central African Rep.&quot;</span>: <span class="hljs-string">&quot;ä¸­éå…±å’Œå›½&quot;</span>,          <span class="hljs-string">&quot;Canada&quot;</span>: <span class="hljs-string">&quot;åŠ æ‹¿å¤§&quot;</span>,          <span class="hljs-string">&quot;Switzerland&quot;</span>: <span class="hljs-string">&quot;ç‘å£«&quot;</span>,          <span class="hljs-string">&quot;Chile&quot;</span>: <span class="hljs-string">&quot;æ™ºåˆ©&quot;</span>,          <span class="hljs-string">&quot;China&quot;</span>: <span class="hljs-string">&quot;ä¸­å›½&quot;</span>,          <span class="hljs-string">&quot;CÃ´te d&#x27;Ivoire&quot;</span>: <span class="hljs-string">&quot;ç§‘ç‰¹è¿ªç“¦&quot;</span>,          <span class="hljs-string">&quot;Cameroon&quot;</span>: <span class="hljs-string">&quot;å–€éº¦éš†&quot;</span>,          <span class="hljs-string">&quot;Dem. Rep. Congo&quot;</span>: <span class="hljs-string">&quot;åˆšæœï¼ˆå¸ƒï¼‰&quot;</span>,          <span class="hljs-string">&quot;Congo&quot;</span>: <span class="hljs-string">&quot;åˆšæœï¼ˆé‡‘ï¼‰&quot;</span>,          <span class="hljs-string">&quot;Colombia&quot;</span>: <span class="hljs-string">&quot;å“¥ä¼¦æ¯”äºš&quot;</span>,          <span class="hljs-string">&quot;Cape Verde&quot;</span>: <span class="hljs-string">&quot;ä½›å¾—è§’&quot;</span>,          <span class="hljs-string">&quot;Costa Rica&quot;</span>: <span class="hljs-string">&quot;å“¥æ–¯è¾¾é»åŠ &quot;</span>,          <span class="hljs-string">&quot;Cuba&quot;</span>: <span class="hljs-string">&quot;å¤å·´&quot;</span>,          <span class="hljs-string">&quot;N. Cyprus&quot;</span>: <span class="hljs-string">&quot;åŒ—å¡æµ¦è·¯æ–¯&quot;</span>,          <span class="hljs-string">&quot;Cyprus&quot;</span>: <span class="hljs-string">&quot;å¡æµ¦è·¯æ–¯&quot;</span>,          <span class="hljs-string">&quot;Czech Rep.&quot;</span>: <span class="hljs-string">&quot;æ·å…‹&quot;</span>,          <span class="hljs-string">&quot;Germany&quot;</span>: <span class="hljs-string">&quot;å¾·å›½&quot;</span>,          <span class="hljs-string">&quot;Djibouti&quot;</span>: <span class="hljs-string">&quot;å‰å¸ƒæ&quot;</span>,          <span class="hljs-string">&quot;Denmark&quot;</span>: <span class="hljs-string">&quot;ä¸¹éº¦&quot;</span>,          <span class="hljs-string">&quot;Dominican Rep.&quot;</span>: <span class="hljs-string">&quot;å¤šç±³å°¼åŠ &quot;</span>,          <span class="hljs-string">&quot;Algeria&quot;</span>: <span class="hljs-string">&quot;é˜¿å°”åŠåˆ©äºš&quot;</span>,          <span class="hljs-string">&quot;Ecuador&quot;</span>: <span class="hljs-string">&quot;å„ç“œå¤šå°”&quot;</span>,          <span class="hljs-string">&quot;Egypt&quot;</span>: <span class="hljs-string">&quot;åŸƒåŠ&quot;</span>,          <span class="hljs-string">&quot;Eritrea&quot;</span>: <span class="hljs-string">&quot;å„ç«‹ç‰¹é‡Œäºš&quot;</span>,          <span class="hljs-string">&quot;Spain&quot;</span>: <span class="hljs-string">&quot;è¥¿ç­ç‰™&quot;</span>,          <span class="hljs-string">&quot;Estonia&quot;</span>: <span class="hljs-string">&quot;çˆ±æ²™å°¼äºš&quot;</span>,          <span class="hljs-string">&quot;Ethiopia&quot;</span>: <span class="hljs-string">&quot;åŸƒå¡ä¿„æ¯”äºš&quot;</span>,          <span class="hljs-string">&quot;Finland&quot;</span>: <span class="hljs-string">&quot;èŠ¬å…°&quot;</span>,          <span class="hljs-string">&quot;Fiji&quot;</span>: <span class="hljs-string">&quot;æ–æµ&quot;</span>,          <span class="hljs-string">&quot;France&quot;</span>: <span class="hljs-string">&quot;æ³•å›½&quot;</span>,          <span class="hljs-string">&quot;Gabon&quot;</span>: <span class="hljs-string">&quot;åŠ è“¬&quot;</span>,          <span class="hljs-string">&quot;United Kingdom&quot;</span>: <span class="hljs-string">&quot;è‹±å›½&quot;</span>,          <span class="hljs-string">&quot;Georgia&quot;</span>: <span class="hljs-string">&quot;æ ¼é²å‰äºš&quot;</span>,          <span class="hljs-string">&quot;Ghana&quot;</span>: <span class="hljs-string">&quot;åŠ çº³&quot;</span>,          <span class="hljs-string">&quot;Guinea&quot;</span>: <span class="hljs-string">&quot;å‡ å†…äºš&quot;</span>,          <span class="hljs-string">&quot;Gambia&quot;</span>: <span class="hljs-string">&quot;å†ˆæ¯”äºš&quot;</span>,          <span class="hljs-string">&quot;Guinea-Bissau&quot;</span>: <span class="hljs-string">&quot;å‡ å†…äºšæ¯”ç»&quot;</span>,          <span class="hljs-string">&quot;Eq. Guinea&quot;</span>: <span class="hljs-string">&quot;èµ¤é“å‡ å†…äºš&quot;</span>,          <span class="hljs-string">&quot;Greece&quot;</span>: <span class="hljs-string">&quot;å¸Œè…Š&quot;</span>,          <span class="hljs-string">&quot;Grenada&quot;</span>: <span class="hljs-string">&quot;æ ¼æ—çº³è¾¾&quot;</span>,          <span class="hljs-string">&quot;Greenland&quot;</span>: <span class="hljs-string">&quot;æ ¼é™µå…°å²›&quot;</span>,          <span class="hljs-string">&quot;Guatemala&quot;</span>: <span class="hljs-string">&quot;å±åœ°é©¬æ‹‰&quot;</span>,          <span class="hljs-string">&quot;Guam&quot;</span>: <span class="hljs-string">&quot;å…³å²›&quot;</span>,          <span class="hljs-string">&quot;Guyana&quot;</span>: <span class="hljs-string">&quot;åœ­äºšé‚£åˆä½œå…±å’Œå›½&quot;</span>,          <span class="hljs-string">&quot;Honduras&quot;</span>: <span class="hljs-string">&quot;æ´ªéƒ½æ‹‰æ–¯&quot;</span>,          <span class="hljs-string">&quot;Croatia&quot;</span>: <span class="hljs-string">&quot;å…‹ç½—åœ°äºš&quot;</span>,          <span class="hljs-string">&quot;Haiti&quot;</span>: <span class="hljs-string">&quot;æµ·åœ°&quot;</span>,          <span class="hljs-string">&quot;Hungary&quot;</span>: <span class="hljs-string">&quot;åŒˆç‰™åˆ©&quot;</span>,          <span class="hljs-string">&quot;Indonesia&quot;</span>: <span class="hljs-string">&quot;å°åº¦å°¼è¥¿äºš&quot;</span>,          <span class="hljs-string">&quot;India&quot;</span>: <span class="hljs-string">&quot;å°åº¦&quot;</span>,          <span class="hljs-string">&quot;Br. Indian Ocean Ter.&quot;</span>: <span class="hljs-string">&quot;è‹±å±å°åº¦æ´‹é¢†åœŸ&quot;</span>,          <span class="hljs-string">&quot;Ireland&quot;</span>: <span class="hljs-string">&quot;çˆ±å°”å…°&quot;</span>,          <span class="hljs-string">&quot;Iran&quot;</span>: <span class="hljs-string">&quot;ä¼Šæœ—&quot;</span>,          <span class="hljs-string">&quot;Iraq&quot;</span>: <span class="hljs-string">&quot;ä¼Šæ‹‰å…‹&quot;</span>,          <span class="hljs-string">&quot;Iceland&quot;</span>: <span class="hljs-string">&quot;å†°å²›&quot;</span>,          <span class="hljs-string">&quot;Israel&quot;</span>: <span class="hljs-string">&quot;ä»¥è‰²åˆ—&quot;</span>,          <span class="hljs-string">&quot;Italy&quot;</span>: <span class="hljs-string">&quot;æ„å¤§åˆ©&quot;</span>,          <span class="hljs-string">&quot;Jamaica&quot;</span>: <span class="hljs-string">&quot;ç‰™ä¹°åŠ &quot;</span>,          <span class="hljs-string">&quot;Jordan&quot;</span>: <span class="hljs-string">&quot;çº¦æ—¦&quot;</span>,          <span class="hljs-string">&quot;Japan&quot;</span>: <span class="hljs-string">&quot;æ—¥æœ¬&quot;</span>,          <span class="hljs-string">&quot;Siachen Glacier&quot;</span>: <span class="hljs-string">&quot;é”¡äºšç´å†°å·&quot;</span>,          <span class="hljs-string">&quot;Kazakhstan&quot;</span>: <span class="hljs-string">&quot;å“ˆè¨å…‹æ–¯å¦&quot;</span>,          <span class="hljs-string">&quot;Kenya&quot;</span>: <span class="hljs-string">&quot;è‚¯å°¼äºš&quot;</span>,          <span class="hljs-string">&quot;Kyrgyzstan&quot;</span>: <span class="hljs-string">&quot;å‰å°”å‰æ–¯æ–¯å¦&quot;</span>,          <span class="hljs-string">&quot;Cambodia&quot;</span>: <span class="hljs-string">&quot;æŸ¬åŸ”å¯¨&quot;</span>,          <span class="hljs-string">&quot;Korea&quot;</span>: <span class="hljs-string">&quot;éŸ©å›½&quot;</span>,          <span class="hljs-string">&quot;Kuwait&quot;</span>: <span class="hljs-string">&quot;ç§‘å¨ç‰¹&quot;</span>,          <span class="hljs-string">&quot;Lao PDR&quot;</span>: <span class="hljs-string">&quot;è€æŒ&quot;</span>,          <span class="hljs-string">&quot;Lebanon&quot;</span>: <span class="hljs-string">&quot;é»å·´å«©&quot;</span>,          <span class="hljs-string">&quot;Liberia&quot;</span>: <span class="hljs-string">&quot;åˆ©æ¯”é‡Œäºš&quot;</span>,          <span class="hljs-string">&quot;Libya&quot;</span>: <span class="hljs-string">&quot;åˆ©æ¯”äºš&quot;</span>,          <span class="hljs-string">&quot;Sri Lanka&quot;</span>: <span class="hljs-string">&quot;æ–¯é‡Œå…°å¡&quot;</span>,          <span class="hljs-string">&quot;Lesotho&quot;</span>: <span class="hljs-string">&quot;è±ç´¢æ‰˜&quot;</span>,          <span class="hljs-string">&quot;Lithuania&quot;</span>: <span class="hljs-string">&quot;ç«‹é™¶å®›&quot;</span>,          <span class="hljs-string">&quot;Luxembourg&quot;</span>: <span class="hljs-string">&quot;å¢æ£®å ¡&quot;</span>,          <span class="hljs-string">&quot;Latvia&quot;</span>: <span class="hljs-string">&quot;æ‹‰è„±ç»´äºš&quot;</span>,          <span class="hljs-string">&quot;Moldova&quot;</span>: <span class="hljs-string">&quot;æ‘©å°”å¤šç“¦&quot;</span>,          <span class="hljs-string">&quot;Madagascar&quot;</span>: <span class="hljs-string">&quot;é©¬è¾¾åŠ æ–¯åŠ &quot;</span>,          <span class="hljs-string">&quot;Mexico&quot;</span>: <span class="hljs-string">&quot;å¢¨è¥¿å“¥&quot;</span>,          <span class="hljs-string">&quot;Macedonia&quot;</span>: <span class="hljs-string">&quot;é©¬å…¶é¡¿&quot;</span>,          <span class="hljs-string">&quot;Mali&quot;</span>: <span class="hljs-string">&quot;é©¬é‡Œ&quot;</span>,          <span class="hljs-string">&quot;Malta&quot;</span>: <span class="hljs-string">&quot;é©¬è€³ä»–&quot;</span>,          <span class="hljs-string">&quot;Myanmar&quot;</span>: <span class="hljs-string">&quot;ç¼…ç”¸&quot;</span>,          <span class="hljs-string">&quot;Montenegro&quot;</span>: <span class="hljs-string">&quot;é»‘å±±&quot;</span>,          <span class="hljs-string">&quot;Mongolia&quot;</span>: <span class="hljs-string">&quot;è’™å¤å›½&quot;</span>,          <span class="hljs-string">&quot;Mozambique&quot;</span>: <span class="hljs-string">&quot;è«æ¡‘æ¯”å…‹&quot;</span>,          <span class="hljs-string">&quot;Mauritania&quot;</span>: <span class="hljs-string">&quot;æ¯›é‡Œå¡”å°¼äºš&quot;</span>,          <span class="hljs-string">&quot;Mauritius&quot;</span>: <span class="hljs-string">&quot;æ¯›é‡Œæ±‚æ–¯&quot;</span>,          <span class="hljs-string">&quot;Malawi&quot;</span>: <span class="hljs-string">&quot;é©¬æ‹‰ç»´&quot;</span>,          <span class="hljs-string">&quot;Malaysia&quot;</span>: <span class="hljs-string">&quot;é©¬æ¥è¥¿äºš&quot;</span>,          <span class="hljs-string">&quot;Namibia&quot;</span>: <span class="hljs-string">&quot;çº³ç±³æ¯”äºš&quot;</span>,          <span class="hljs-string">&quot;New Caledonia&quot;</span>: <span class="hljs-string">&quot;æ–°å–€é‡Œå¤šå°¼äºš&quot;</span>,          <span class="hljs-string">&quot;Niger&quot;</span>: <span class="hljs-string">&quot;å°¼æ—¥å°”&quot;</span>,          <span class="hljs-string">&quot;Nigeria&quot;</span>: <span class="hljs-string">&quot;å°¼æ—¥åˆ©äºš&quot;</span>,          <span class="hljs-string">&quot;Nicaragua&quot;</span>: <span class="hljs-string">&quot;å°¼åŠ æ‹‰ç“œ&quot;</span>,          <span class="hljs-string">&quot;Netherlands&quot;</span>: <span class="hljs-string">&quot;è·å…°&quot;</span>,          <span class="hljs-string">&quot;Norway&quot;</span>: <span class="hljs-string">&quot;æŒªå¨&quot;</span>,          <span class="hljs-string">&quot;Nepal&quot;</span>: <span class="hljs-string">&quot;å°¼æ³Šå°”&quot;</span>,          <span class="hljs-string">&quot;New Zealand&quot;</span>: <span class="hljs-string">&quot;æ–°è¥¿å…°&quot;</span>,          <span class="hljs-string">&quot;Oman&quot;</span>: <span class="hljs-string">&quot;é˜¿æ›¼&quot;</span>,          <span class="hljs-string">&quot;Pakistan&quot;</span>: <span class="hljs-string">&quot;å·´åŸºæ–¯å¦&quot;</span>,          <span class="hljs-string">&quot;Panama&quot;</span>: <span class="hljs-string">&quot;å·´æ‹¿é©¬&quot;</span>,          <span class="hljs-string">&quot;Peru&quot;</span>: <span class="hljs-string">&quot;ç§˜é²&quot;</span>,          <span class="hljs-string">&quot;Philippines&quot;</span>: <span class="hljs-string">&quot;è²å¾‹å®¾&quot;</span>,          <span class="hljs-string">&quot;Papua New Guinea&quot;</span>: <span class="hljs-string">&quot;å·´å¸ƒäºšæ–°å‡ å†…äºš&quot;</span>,          <span class="hljs-string">&quot;Poland&quot;</span>: <span class="hljs-string">&quot;æ³¢å…°&quot;</span>,          <span class="hljs-string">&quot;Puerto Rico&quot;</span>: <span class="hljs-string">&quot;æ³¢å¤šé»å„&quot;</span>,          <span class="hljs-string">&quot;Dem. Rep. Korea&quot;</span>: <span class="hljs-string">&quot;æœé²œ&quot;</span>,          <span class="hljs-string">&quot;Portugal&quot;</span>: <span class="hljs-string">&quot;è‘¡è„ç‰™&quot;</span>,          <span class="hljs-string">&quot;Paraguay&quot;</span>: <span class="hljs-string">&quot;å·´æ‹‰åœ­&quot;</span>,          <span class="hljs-string">&quot;Palestine&quot;</span>: <span class="hljs-string">&quot;å·´å‹’æ–¯å¦&quot;</span>,          <span class="hljs-string">&quot;Qatar&quot;</span>: <span class="hljs-string">&quot;å¡å¡”å°”&quot;</span>,          <span class="hljs-string">&quot;Romania&quot;</span>: <span class="hljs-string">&quot;ç½—é©¬å°¼äºš&quot;</span>,          <span class="hljs-string">&quot;Russia&quot;</span>: <span class="hljs-string">&quot;ä¿„ç½—æ–¯&quot;</span>,          <span class="hljs-string">&quot;Rwanda&quot;</span>: <span class="hljs-string">&quot;å¢æ—ºè¾¾&quot;</span>,          <span class="hljs-string">&quot;Saudi Arabia&quot;</span>: <span class="hljs-string">&quot;æ²™ç‰¹é˜¿æ‹‰ä¼¯&quot;</span>,          <span class="hljs-string">&quot;Sudan&quot;</span>: <span class="hljs-string">&quot;è‹ä¸¹&quot;</span>,          <span class="hljs-string">&quot;S. Sudan&quot;</span>: <span class="hljs-string">&quot;å—è‹ä¸¹&quot;</span>,          <span class="hljs-string">&quot;Senegal&quot;</span>: <span class="hljs-string">&quot;å¡å†…åŠ å°”&quot;</span>,          <span class="hljs-string">&quot;Singapore&quot;</span>: <span class="hljs-string">&quot;æ–°åŠ å¡&quot;</span>,          <span class="hljs-string">&quot;Solomon Is.&quot;</span>: <span class="hljs-string">&quot;æ‰€ç½—é—¨ç¾¤å²›&quot;</span>,          <span class="hljs-string">&quot;Sierra Leone&quot;</span>: <span class="hljs-string">&quot;å¡æ‹‰åˆ©æ˜‚&quot;</span>,          <span class="hljs-string">&quot;El Salvador&quot;</span>: <span class="hljs-string">&quot;è¨å°”ç“¦å¤š&quot;</span>,          <span class="hljs-string">&quot;Suriname&quot;</span>: <span class="hljs-string">&quot;è‹é‡Œå—&quot;</span>,          <span class="hljs-string">&quot;Slovakia&quot;</span>: <span class="hljs-string">&quot;æ–¯æ´›ä¼å…‹&quot;</span>,          <span class="hljs-string">&quot;Slovenia&quot;</span>: <span class="hljs-string">&quot;æ–¯æ´›æ–‡å°¼äºš&quot;</span>,          <span class="hljs-string">&quot;Sweden&quot;</span>: <span class="hljs-string">&quot;ç‘å…¸&quot;</span>,          <span class="hljs-string">&quot;Swaziland&quot;</span>: <span class="hljs-string">&quot;æ–¯å¨å£«å…°&quot;</span>,          <span class="hljs-string">&quot;Seychelles&quot;</span>: <span class="hljs-string">&quot;å¡èˆŒå°”&quot;</span>,          <span class="hljs-string">&quot;Syria&quot;</span>: <span class="hljs-string">&quot;å™åˆ©äºš&quot;</span>,          <span class="hljs-string">&quot;Chad&quot;</span>: <span class="hljs-string">&quot;ä¹å¾—&quot;</span>,          <span class="hljs-string">&quot;Togo&quot;</span>: <span class="hljs-string">&quot;å¤šå“¥&quot;</span>,          <span class="hljs-string">&quot;Thailand&quot;</span>: <span class="hljs-string">&quot;æ³°å›½&quot;</span>,          <span class="hljs-string">&quot;Tajikistan&quot;</span>: <span class="hljs-string">&quot;å¡”å‰å…‹æ–¯å¦&quot;</span>,          <span class="hljs-string">&quot;Turkmenistan&quot;</span>: <span class="hljs-string">&quot;åœŸåº“æ›¼æ–¯å¦&quot;</span>,          <span class="hljs-string">&quot;Timor-Leste&quot;</span>: <span class="hljs-string">&quot;ä¸œå¸æ±¶&quot;</span>,          <span class="hljs-string">&quot;Tonga&quot;</span>: <span class="hljs-string">&quot;æ±¤åŠ &quot;</span>,          <span class="hljs-string">&quot;Trinidad and Tobago&quot;</span>: <span class="hljs-string">&quot;ç‰¹ç«‹å°¼è¾¾å’Œå¤šå·´å“¥&quot;</span>,          <span class="hljs-string">&quot;Tunisia&quot;</span>: <span class="hljs-string">&quot;çªå°¼æ–¯&quot;</span>,          <span class="hljs-string">&quot;Turkey&quot;</span>: <span class="hljs-string">&quot;åœŸè€³å…¶&quot;</span>,          <span class="hljs-string">&quot;Tanzania&quot;</span>: <span class="hljs-string">&quot;å¦æ¡‘å°¼äºš&quot;</span>,          <span class="hljs-string">&quot;Uganda&quot;</span>: <span class="hljs-string">&quot;ä¹Œå¹²è¾¾&quot;</span>,          <span class="hljs-string">&quot;Ukraine&quot;</span>: <span class="hljs-string">&quot;ä¹Œå…‹å…°&quot;</span>,          <span class="hljs-string">&quot;Uruguay&quot;</span>: <span class="hljs-string">&quot;ä¹Œæ‹‰åœ­&quot;</span>,          <span class="hljs-string">&quot;United States&quot;</span>: <span class="hljs-string">&quot;ç¾å›½&quot;</span>,          <span class="hljs-string">&quot;Uzbekistan&quot;</span>: <span class="hljs-string">&quot;ä¹Œå…¹åˆ«å…‹æ–¯å¦&quot;</span>,          <span class="hljs-string">&quot;Venezuela&quot;</span>: <span class="hljs-string">&quot;å§”å†…ç‘æ‹‰&quot;</span>,          <span class="hljs-string">&quot;Vietnam&quot;</span>: <span class="hljs-string">&quot;è¶Šå—&quot;</span>,          <span class="hljs-string">&quot;Vanuatu&quot;</span>: <span class="hljs-string">&quot;ç“¦åŠªé˜¿å›¾&quot;</span>,          <span class="hljs-string">&quot;Yemen&quot;</span>: <span class="hljs-string">&quot;ä¹Ÿé—¨&quot;</span>,          <span class="hljs-string">&quot;South Africa&quot;</span>: <span class="hljs-string">&quot;å—é&quot;</span>,          <span class="hljs-string">&quot;Zambia&quot;</span>: <span class="hljs-string">&quot;èµæ¯”äºš&quot;</span>,          <span class="hljs-string">&quot;Zimbabwe&quot;</span>: <span class="hljs-string">&quot;æ´¥å·´å¸ƒéŸ¦&quot;</span>,          <span class="hljs-string">&quot;Aland&quot;</span>: <span class="hljs-string">&quot;å¥¥å…°ç¾¤å²›&quot;</span>,          <span class="hljs-string">&quot;American Samoa&quot;</span>: <span class="hljs-string">&quot;ç¾å±è¨æ‘©äºš&quot;</span>,          <span class="hljs-string">&quot;Fr. S. Antarctic Lands&quot;</span>: <span class="hljs-string">&quot;å—ææ´²&quot;</span>,          <span class="hljs-string">&quot;Antigua and Barb.&quot;</span>: <span class="hljs-string">&quot;å®‰æç“œå’Œå·´å¸ƒè¾¾&quot;</span>,          <span class="hljs-string">&quot;Comoros&quot;</span>: <span class="hljs-string">&quot;ç§‘æ‘©ç½—&quot;</span>,          <span class="hljs-string">&quot;CuraÃ§ao&quot;</span>: <span class="hljs-string">&quot;åº“æ‹‰ç´¢å²›&quot;</span>,          <span class="hljs-string">&quot;Cayman Is.&quot;</span>: <span class="hljs-string">&quot;å¼€æ›¼ç¾¤å²›&quot;</span>,          <span class="hljs-string">&quot;Dominica&quot;</span>: <span class="hljs-string">&quot;å¤šç±³å°¼åŠ &quot;</span>,          <span class="hljs-string">&quot;Falkland Is.&quot;</span>: <span class="hljs-string">&quot;ç¦å…‹å…°ç¾¤å²›é©¬å°”ç»´çº³æ–¯&quot;</span>,          <span class="hljs-string">&quot;Faeroe Is.&quot;</span>: <span class="hljs-string">&quot;æ³•ç½—ç¾¤å²›&quot;</span>,          <span class="hljs-string">&quot;Micronesia&quot;</span>: <span class="hljs-string">&quot;å¯†å…‹ç½—å°¼è¥¿äºš&quot;</span>,          <span class="hljs-string">&quot;Heard I. and McDonald Is.&quot;</span>: <span class="hljs-string">&quot;èµ«å¾·å²›å’Œéº¦å…‹å”çº³ç¾¤å²›&quot;</span>,          <span class="hljs-string">&quot;Isle of Man&quot;</span>: <span class="hljs-string">&quot;æ›¼å²›&quot;</span>,          <span class="hljs-string">&quot;Jersey&quot;</span>: <span class="hljs-string">&quot;æ³½è¥¿å²›&quot;</span>,          <span class="hljs-string">&quot;Kiribati&quot;</span>: <span class="hljs-string">&quot;åŸºé‡Œå·´æ–¯&quot;</span>,          <span class="hljs-string">&quot;Saint Lucia&quot;</span>: <span class="hljs-string">&quot;åœ£å¢è¥¿äºš&quot;</span>,          <span class="hljs-string">&quot;N. Mariana Is.&quot;</span>: <span class="hljs-string">&quot;åŒ—é©¬é‡Œäºšçº³ç¾¤å²›&quot;</span>,          <span class="hljs-string">&quot;Montserrat&quot;</span>: <span class="hljs-string">&quot;è’™ç‰¹å¡æ‹‰ç‰¹&quot;</span>,          <span class="hljs-string">&quot;Niue&quot;</span>: <span class="hljs-string">&quot;çº½åŸƒ&quot;</span>,          <span class="hljs-string">&quot;Palau&quot;</span>: <span class="hljs-string">&quot;å¸•åŠ³&quot;</span>,          <span class="hljs-string">&quot;Fr. Polynesia&quot;</span>: <span class="hljs-string">&quot;æ³•å±æ³¢åˆ©å°¼è¥¿äºš&quot;</span>,          <span class="hljs-string">&quot;S. Geo. and S. Sandw. Is.&quot;</span>: <span class="hljs-string">&quot;å—ä¹”æ²»äºšå²›å’Œå—æ¡‘å¨å¥‡ç¾¤å²›&quot;</span>,          <span class="hljs-string">&quot;Saint Helena&quot;</span>: <span class="hljs-string">&quot;åœ£èµ«å‹’æ‹¿&quot;</span>,          <span class="hljs-string">&quot;St. Pierre and Miquelon&quot;</span>: <span class="hljs-string">&quot;åœ£çš®åŸƒå°”å’Œå¯†å…‹éš†ç¾¤å²›&quot;</span>,          <span class="hljs-string">&quot;SÃ£o TomÃ© and Principe&quot;</span>: <span class="hljs-string">&quot;åœ£å¤šç¾å’Œæ™®æ—è¥¿æ¯”&quot;</span>,          <span class="hljs-string">&quot;Turks and Caicos Is.&quot;</span>: <span class="hljs-string">&quot;ç‰¹å…‹æ–¯å’Œå‡¯ç§‘æ–¯ç¾¤å²›&quot;</span>,          <span class="hljs-string">&quot;St. Vin. and Gren.&quot;</span>: <span class="hljs-string">&quot;åœ£æ–‡æ£®ç‰¹å’Œæ ¼æ—çº³ä¸æ–¯&quot;</span>,          <span class="hljs-string">&quot;U.S. Virgin Is.&quot;</span>: <span class="hljs-string">&quot;ç¾å±ç»´å°”äº¬ç¾¤å²›&quot;</span>,          <span class="hljs-string">&quot;Samoa&quot;</span>: <span class="hljs-string">&quot;è¨æ‘©äºš&quot;</span>        &#125;    pieces = [        &#123;<span class="hljs-string">&#x27;max&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;min&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;0&#x27;</span>, <span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;#FFFFFF&#x27;</span>&#125;,        &#123;<span class="hljs-string">&#x27;max&#x27;</span>: <span class="hljs-number">49</span>, <span class="hljs-string">&#x27;min&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;1-49&#x27;</span>, <span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;#FFE5DB&#x27;</span>&#125;,        &#123;<span class="hljs-string">&#x27;max&#x27;</span>: <span class="hljs-number">99</span>, <span class="hljs-string">&#x27;min&#x27;</span>: <span class="hljs-number">50</span>, <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;50-99&#x27;</span>, <span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;#FFC4B3&#x27;</span>&#125;,        &#123;<span class="hljs-string">&#x27;max&#x27;</span>: <span class="hljs-number">999</span>, <span class="hljs-string">&#x27;min&#x27;</span>: <span class="hljs-number">100</span>, <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;100-999&#x27;</span>, <span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;#FF9985&#x27;</span>&#125;,        &#123;<span class="hljs-string">&#x27;max&#x27;</span>: <span class="hljs-number">9999</span>, <span class="hljs-string">&#x27;min&#x27;</span>: <span class="hljs-number">1000</span>, <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;1000-9999&#x27;</span>, <span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;#F57567&#x27;</span>&#125;,        &#123;<span class="hljs-string">&#x27;max&#x27;</span>: <span class="hljs-number">99999</span>, <span class="hljs-string">&#x27;min&#x27;</span>: <span class="hljs-number">10000</span>, <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;10000-99999&#x27;</span>, <span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;#E64546&#x27;</span>&#125;,        &#123;<span class="hljs-string">&#x27;max&#x27;</span>: <span class="hljs-number">999999</span>, <span class="hljs-string">&#x27;min&#x27;</span>: <span class="hljs-number">100000</span>, <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;100000-999999&#x27;</span>, <span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;#B80909&#x27;</span>&#125;,        &#123;<span class="hljs-string">&#x27;max&#x27;</span>: <span class="hljs-number">9999999</span>, <span class="hljs-string">&#x27;min&#x27;</span>: <span class="hljs-number">1000000</span>, <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;â‰§1000000&#x27;</span>, <span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;#8A0808&#x27;</span>&#125;    ]    gt_map = (        Map()        .add(series_name=<span class="hljs-string">&#x27;ç´¯è®¡ç¡®è¯Šäººæ•°&#x27;</span>, data_pair=[<span class="hljs-built_in">list</span>(z) <span class="hljs-keyword">for</span> z <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(country, curconfirm)], maptype=<span class="hljs-string">&quot;world&quot;</span>, name_map=name_map, is_map_symbol_show=<span class="hljs-literal">False</span>)        .set_series_opts(label_opts=opts.LabelOpts(is_show=<span class="hljs-literal">False</span>))        .set_global_opts(            title_opts=opts.TitleOpts(title=<span class="hljs-string">&quot;å…¨çƒç–«æƒ…æ•°æ®ï¼ˆç´¯è®¡ç¡®è¯Šï¼‰&quot;</span>,                                      subtitle=<span class="hljs-string">&#x27;æ•°æ®æ›´æ–°è‡³ï¼š&#x27;</span> + time_global + <span class="hljs-string">&#x27;\n\næ¥æºï¼šç™¾åº¦ç–«æƒ…å®æ—¶å¤§æ•°æ®æŠ¥å‘Š&#x27;</span>),            visualmap_opts=opts.VisualMapOpts(max_=<span class="hljs-number">300</span>, is_piecewise=<span class="hljs-literal">True</span>, pieces=pieces),        )    )    <span class="hljs-keyword">return</span> gt_map</code></pre><h3><span id="7x03-zhong-guo-mei-ri-shu-ju-zhe-xian-tu-china-daily-map"><font color="#4876FF">ã€7x03ã€‘ä¸­å›½æ¯æ—¥æ•°æ®æŠ˜çº¿å›¾ china_daily_map()</font></span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">china_daily_map</span>():</span>    wb = openpyxl.load_workbook(<span class="hljs-string">&#x27;COVID-19-China.xlsx&#x27;</span>)    ws_china_confirmed = wb[<span class="hljs-string">&#x27;ä¸­å›½æ¯æ—¥ç´¯è®¡ç¡®è¯Šæ•°æ®&#x27;</span>]    ws_china_crued = wb[<span class="hljs-string">&#x27;ä¸­å›½æ¯æ—¥ç´¯è®¡æ²»æ„ˆæ•°æ®&#x27;</span>]    ws_china_died = wb[<span class="hljs-string">&#x27;ä¸­å›½æ¯æ—¥ç´¯è®¡æ­»äº¡æ•°æ®&#x27;</span>]    ws_china_confirmed.delete_rows(<span class="hljs-number">1</span>)    ws_china_crued.delete_rows(<span class="hljs-number">1</span>)    ws_china_died.delete_rows(<span class="hljs-number">1</span>)    x_date = []               <span class="hljs-comment"># æ—¥æœŸ</span>    y_china_confirmed = []    <span class="hljs-comment"># æ¯æ—¥ç´¯è®¡ç¡®è¯Š</span>    y_china_crued = []        <span class="hljs-comment"># æ¯æ—¥ç´¯è®¡æ²»æ„ˆ</span>    y_china_died = []         <span class="hljs-comment"># æ¯æ—¥ç´¯è®¡æ­»äº¡</span>    <span class="hljs-keyword">for</span> china_confirmed <span class="hljs-keyword">in</span> ws_china_confirmed.values:        y_china_confirmed.append(china_confirmed[<span class="hljs-number">1</span>])    <span class="hljs-keyword">for</span> china_crued <span class="hljs-keyword">in</span> ws_china_crued.values:        x_date.append(china_crued[<span class="hljs-number">0</span>])        y_china_crued.append(china_crued[<span class="hljs-number">1</span>])    <span class="hljs-keyword">for</span> china_died <span class="hljs-keyword">in</span> ws_china_died.values:        y_china_died.append(china_died[<span class="hljs-number">1</span>])    fi_map = (        Line(init_opts=opts.InitOpts(height=<span class="hljs-string">&#x27;420px&#x27;</span>))            .add_xaxis(xaxis_data=x_date)            .add_yaxis(            series_name=<span class="hljs-string">&quot;ä¸­å›½ç´¯è®¡ç¡®è¯Šæ•°æ®&quot;</span>,            y_axis=y_china_confirmed,            label_opts=opts.LabelOpts(is_show=<span class="hljs-literal">False</span>),        )            .add_yaxis(            series_name=<span class="hljs-string">&quot;ä¸­å›½ç´¯è®¡æ²»æ„ˆè¶‹åŠ¿&quot;</span>,            y_axis=y_china_crued,            label_opts=opts.LabelOpts(is_show=<span class="hljs-literal">False</span>),        )            .add_yaxis(            series_name=<span class="hljs-string">&quot;ä¸­å›½ç´¯è®¡æ­»äº¡è¶‹åŠ¿&quot;</span>,            y_axis=y_china_died,            label_opts=opts.LabelOpts(is_show=<span class="hljs-literal">False</span>),        )            .set_global_opts(            title_opts=opts.TitleOpts(title=<span class="hljs-string">&quot;ä¸­å›½æ¯æ—¥ç´¯è®¡ç¡®è¯Š/æ²»æ„ˆ/æ­»äº¡è¶‹åŠ¿&quot;</span>),            legend_opts=opts.LegendOpts(pos_bottom=<span class="hljs-string">&quot;bottom&quot;</span>, orient=<span class="hljs-string">&#x27;horizontal&#x27;</span>),            tooltip_opts=opts.TooltipOpts(trigger=<span class="hljs-string">&quot;axis&quot;</span>),            yaxis_opts=opts.AxisOpts(                type_=<span class="hljs-string">&quot;value&quot;</span>,                axistick_opts=opts.AxisTickOpts(is_show=<span class="hljs-literal">True</span>),                splitline_opts=opts.SplitLineOpts(is_show=<span class="hljs-literal">True</span>),            ),            xaxis_opts=opts.AxisOpts(type_=<span class="hljs-string">&quot;category&quot;</span>, boundary_gap=<span class="hljs-literal">False</span>),        )    )    <span class="hljs-keyword">return</span> fi_map</code></pre><h3><span id="7x04-jing-wai-mei-ri-shu-ju-zhe-xian-tu-foreign-daily-map"><font color="#4876FF">ã€7x04ã€‘å¢ƒå¤–æ¯æ—¥æ•°æ®æŠ˜çº¿å›¾ foreign_daily_map()</font></span></h3><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">foreign_daily_map</span>():</span>    wb = openpyxl.load_workbook(<span class="hljs-string">&#x27;COVID-19-Global.xlsx&#x27;</span>)    ws_foreign_confirmed = wb[<span class="hljs-string">&#x27;å¢ƒå¤–æ¯æ—¥ç´¯è®¡ç¡®è¯Šæ•°æ®&#x27;</span>]    ws_foreign_crued = wb[<span class="hljs-string">&#x27;å¢ƒå¤–æ¯æ—¥ç´¯è®¡æ²»æ„ˆæ•°æ®&#x27;</span>]    ws_foreign_died = wb[<span class="hljs-string">&#x27;å¢ƒå¤–æ¯æ—¥ç´¯è®¡æ­»äº¡æ•°æ®&#x27;</span>]    ws_foreign_confirmed.delete_rows(<span class="hljs-number">1</span>)    ws_foreign_crued.delete_rows(<span class="hljs-number">1</span>)    ws_foreign_died.delete_rows(<span class="hljs-number">1</span>)    x_date = []                <span class="hljs-comment"># æ—¥æœŸ</span>    y_foreign_confirmed = []   <span class="hljs-comment"># ç´¯è®¡ç¡®è¯Š</span>    y_foreign_crued = []       <span class="hljs-comment"># ç´¯è®¡æ²»æ„ˆ</span>    y_foreign_died = []        <span class="hljs-comment"># ç´¯è®¡æ­»äº¡</span>    <span class="hljs-keyword">for</span> foreign_confirmed <span class="hljs-keyword">in</span> ws_foreign_confirmed.values:        y_foreign_confirmed.append(foreign_confirmed[<span class="hljs-number">1</span>])    <span class="hljs-keyword">for</span> foreign_crued <span class="hljs-keyword">in</span> ws_foreign_crued.values:        x_date.append(foreign_crued[<span class="hljs-number">0</span>])        y_foreign_crued.append(foreign_crued[<span class="hljs-number">1</span>])    <span class="hljs-keyword">for</span> foreign_died <span class="hljs-keyword">in</span> ws_foreign_died.values:        y_foreign_died.append(foreign_died[<span class="hljs-number">1</span>])    fte_map = (        Line(init_opts=opts.InitOpts(height=<span class="hljs-string">&#x27;420px&#x27;</span>))            .add_xaxis(xaxis_data=x_date)            .add_yaxis(            series_name=<span class="hljs-string">&quot;å¢ƒå¤–ç´¯è®¡ç¡®è¯Šè¶‹åŠ¿&quot;</span>,            y_axis=y_foreign_confirmed,            label_opts=opts.LabelOpts(is_show=<span class="hljs-literal">False</span>),        )            .add_yaxis(            series_name=<span class="hljs-string">&quot;å¢ƒå¤–ç´¯è®¡æ²»æ„ˆè¶‹åŠ¿&quot;</span>,            y_axis=y_foreign_crued,            label_opts=opts.LabelOpts(is_show=<span class="hljs-literal">False</span>),        )            .add_yaxis(            series_name=<span class="hljs-string">&quot;å¢ƒå¤–ç´¯è®¡æ­»äº¡è¶‹åŠ¿&quot;</span>,            y_axis=y_foreign_died,            label_opts=opts.LabelOpts(is_show=<span class="hljs-literal">False</span>),        )            .set_global_opts(            title_opts=opts.TitleOpts(title=<span class="hljs-string">&quot;å¢ƒå¤–æ¯æ—¥ç´¯è®¡ç¡®è¯Š/æ²»æ„ˆ/æ­»äº¡è¶‹åŠ¿&quot;</span>),            legend_opts=opts.LegendOpts(pos_bottom=<span class="hljs-string">&quot;bottom&quot;</span>, orient=<span class="hljs-string">&#x27;horizontal&#x27;</span>),            tooltip_opts=opts.TooltipOpts(trigger=<span class="hljs-string">&quot;axis&quot;</span>),            yaxis_opts=opts.AxisOpts(                type_=<span class="hljs-string">&quot;value&quot;</span>,                axistick_opts=opts.AxisTickOpts(is_show=<span class="hljs-literal">True</span>),                splitline_opts=opts.SplitLineOpts(is_show=<span class="hljs-literal">True</span>),            ),            xaxis_opts=opts.AxisOpts(type_=<span class="hljs-string">&quot;category&quot;</span>, boundary_gap=<span class="hljs-literal">False</span>),        )    )    <span class="hljs-keyword">return</span> fte_map</code></pre><h2><span id="8x00-jie-guo-jie-tu"><font color="#FF0000">ã€8x00ã€‘ç»“æœæˆªå›¾</font></span></h2><h3><span id="8x01-shu-ju-chu-cun-excel"><font color="#4876FF">ã€8x01ã€‘æ•°æ®å‚¨å­˜ Excel</font></span></h3><p><img src="https://cdn.itbob.cn/img/article/035/03.png" alt="03"></p><p><img src="https://cdn.itbob.cn/img/article/035/04.png" alt="04"></p><h3><span id="8x02-ci-yun-tu"><font color="#4876FF">ã€8x02ã€‘è¯äº‘å›¾</font></span></h3><p><img src="https://cdn.itbob.cn/img/article/035/05.png" alt="05"></p><p><img src="https://cdn.itbob.cn/img/article/035/06.png" alt="06"></p><h3><span id="8x03-di-tu-zhe-xian-tu"><font color="#4876FF">ã€8x03ã€‘åœ°å›¾ + æŠ˜çº¿å›¾</font></span></h3><p><img src="https://cdn.itbob.cn/img/article/035/07.png" alt="07"></p><h2><span id="9x00-wan-zheng-dai-ma"><font color="#FF0000">ã€9x00ã€‘å®Œæ•´ä»£ç </font></span></h2><p>é¢„è§ˆåœ°å€ï¼š<s><a href="http://cov.itrhx.com/">http://cov.itrhx.com/</a></s>ï¼ˆå·²å¤±æ•ˆï¼‰<br>å®Œæ•´ä»£ç åœ°å€ï¼ˆç‚¹äº® star æœ‰ buff åŠ æˆï¼‰ï¼š<a href="https://github.com/TRHX/Python3-Spider-Practice">https://github.com/TRHX/Python3-Spider-Practice</a><br>çˆ¬è™«å®æˆ˜ä¸“æ ï¼ˆæŒç»­æ›´æ–°ï¼‰ï¼š<a href="https://itrhx.blog.csdn.net/article/category/9351278">https://itrhx.blog.csdn.net/article/category/9351278</a></p><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/107140534</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;&lt;center&gt;&lt;font color=&quot;red&quot; size=&quot;5px&quot; weight=&quot;bolder&quot;&gt;æ¬¢è¿åŠ å…¥çˆ¬è™«é€†å‘å¾®ä¿¡äº¤æµç¾¤ï¼šæ·»åŠ å¾®ä¿¡ IT-BOBï¼ˆå¤‡æ³¨äº¤æµç¾¤ï¼‰&lt;/font&gt;&lt;/center&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;&lt;span id=&quot;</summary>
      
    
    
    
    <category term="çˆ¬è™«" scheme="https://www.itbob.cn/categories/%E7%88%AC%E8%99%AB/"/>
    
    
    <category term="çˆ¬è™«" scheme="https://www.itbob.cn/tags/%E7%88%AC%E8%99%AB/"/>
    
    <category term="æ•°æ®å¯è§†åŒ–" scheme="https://www.itbob.cn/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆåï¼‰ï¼šæ•°æ®è¯»å†™</title>
    <link href="https://www.itbob.cn/article/034/"/>
    <id>https://www.itbob.cn/article/034/</id>
    <published>2020-06-26T14:54:56.000Z</published>
    <updated>2022-05-22T12:45:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="wen-zhang-mu-lu">æ–‡ç« ç›®å½•</span></h2><!-- toc --><ul><li><a href="#font-color-ff0000-01x00-du-qu-shu-ju-font"><font color="#FF0000">ã€01x00ã€‘è¯»å–æ•°æ®</font></a><ul><li><a href="#font-color-4876ff-01x01-jian-dan-shi-li-font"><font color="#4876FF">ã€01x01ã€‘ç®€å•ç¤ºä¾‹</font></a></li><li><a href="#font-color-4876ff-01x02-header-names-ding-zhi-lie-biao-qian-font"><font color="#4876FF">ã€01x02ã€‘header / names å®šåˆ¶åˆ—æ ‡ç­¾</font></a></li><li><a href="#font-color-4876ff-01x03-index-col-zhi-ding-lie-wei-xing-suo-yin-font"><font color="#4876FF">ã€01x03ã€‘index_col æŒ‡å®šåˆ—ä¸ºè¡Œç´¢å¼•</font></a></li><li><a href="#font-color-4876ff-01x04-sep-zhi-ding-fen-ge-fu-font"><font color="#4876FF">ã€01x04ã€‘sep æŒ‡å®šåˆ†éš”ç¬¦</font></a></li><li><a href="#font-color-4876ff-01x05-skiprows-hu-lue-xing-font"><font color="#4876FF">ã€01x05ã€‘skiprows å¿½ç•¥è¡Œ</font></a></li><li><a href="#font-color-4876ff-01x06-na-values-she-zhi-que-shi-zhi-font"><font color="#4876FF">ã€01x06ã€‘na_values è®¾ç½®ç¼ºå¤±å€¼</font></a></li><li><a href="#font-color-4876ff-01x07-nrows-chunksize-xing-yu-kuai-font"><font color="#4876FF">ã€01x07ã€‘nrows / chunksize è¡Œä¸å—</font></a></li></ul></li><li><a href="#font-color-ff0000-02x00-xie-ru-shu-ju-font"><font color="#FF0000">ã€02x00ã€‘å†™å…¥æ•°æ®</font></a><ul><li><a href="#font-color-4876ff-02x01-jian-dan-shi-li-font"><font color="#4876FF">ã€02x01ã€‘ç®€å•ç¤ºä¾‹</font></a></li><li><a href="#font-color-4876ff-02x02-sep-zhi-ding-fen-ge-fu-font"><font color="#4876FF">ã€02x02ã€‘sep æŒ‡å®šåˆ†éš”ç¬¦</font></a></li><li><a href="#font-color-4876ff-02x03-na-rep-ti-huan-que-shi-zhi-font"><font color="#4876FF">ã€02x03ã€‘na_rep æ›¿æ¢ç¼ºå¤±å€¼</font></a></li><li><a href="#font-color-4876ff-02x04-index-header-xing-yu-lie-biao-qian-font"><font color="#4876FF">ã€02x04ã€‘index / header è¡Œä¸åˆ—æ ‡ç­¾</font></a></li><li><a href="#font-color-4876ff-02x05-columns-zhi-ding-lie-font"><font color="#4876FF">ã€02x05ã€‘columns æŒ‡å®šåˆ—</font></a></li></ul></li></ul><!-- tocstop --><hr><p>Pandas ç³»åˆ—æ–‡ç« ï¼š</p><ul><li><a href="https://www.itbob.cn/article/025/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸€ï¼‰ï¼šè®¤è¯† Pandas åŠå…¶ Seriesã€DataFrame å¯¹è±¡</a></li><li><a href="https://www.itbob.cn/article/026/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäºŒï¼‰ï¼šIndex ç´¢å¼•å¯¹è±¡ä»¥åŠå„ç§ç´¢å¼•æ“ä½œ</a></li><li><a href="https://www.itbob.cn/article/027/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸‰ï¼‰ï¼šç®—æœ¯è¿ç®—ä¸ç¼ºå¤±å€¼çš„å¤„ç†</a></li><li><a href="https://www.itbob.cn/article/028/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå››ï¼‰ï¼šå‡½æ•°åº”ç”¨ã€æ˜ å°„ã€æ’åºå’Œå±‚çº§ç´¢å¼•</a></li><li><a href="https://www.itbob.cn/article/029/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäº”ï¼‰ï¼šç»Ÿè®¡è®¡ç®—ä¸ç»Ÿè®¡æè¿°</a></li><li><a href="https://www.itbob.cn/article/030/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…­ï¼‰ï¼šGroupBy æ•°æ®åˆ†è£‚ã€åº”ç”¨ä¸åˆå¹¶</a></li><li><a href="https://www.itbob.cn/article/031/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸ƒï¼‰ï¼šåˆå¹¶æ•°æ®é›†</a></li><li><a href="https://www.itbob.cn/article/032/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…«ï¼‰ï¼šæ•°æ®é‡å¡‘ã€é‡å¤æ•°æ®å¤„ç†ä¸æ•°æ®æ›¿æ¢</a></li><li><a href="https://www.itbob.cn/article/033/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¹ï¼‰ï¼šæ—¶é—´åºåˆ—</a></li><li><a href="https://www.itbob.cn/article/034/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆåï¼‰ï¼šæ•°æ®è¯»å†™</a></li></ul><hr><p>ä¸“æ ï¼š</p><ul><li>NumPy ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780393.html">https://itrhx.blog.csdn.net/category_9780393.html</a></li><li>Pandas ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780397.html">https://itrhx.blog.csdn.net/category_9780397.html</a></li><li>Matplotlib ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780418.html">https://itrhx.blog.csdn.net/category_9780418.html</a></li></ul><br>æ¨èå­¦ä¹ èµ„æ–™ä¸ç½‘ç«™ï¼š<br><br><ul><li>NumPy å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.numpy.org.cn/">https://www.numpy.org.cn/</a></li><li>Pandas å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.pypandas.cn/">https://www.pypandas.cn/</a></li><li>Matplotlib å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.matplotlib.org.cn/">https://www.matplotlib.org.cn/</a></li><li>NumPyã€Matplotlibã€Pandas é€ŸæŸ¥è¡¨ï¼š<a href="https://github.com/TRHX/Python-quick-reference-table">https://github.com/TRHX/Python-quick-reference-table</a></li></ul><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106963135</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h2><span id="01x00-du-qu-shu-ju"><font color="#FF0000">ã€01x00ã€‘è¯»å–æ•°æ®</font></span></h2><p>Pandas æä¾›äº†ä¸€äº›ç”¨äºå°†è¡¨æ ¼å‹æ•°æ®è¯»å–ä¸º DataFrame å¯¹è±¡çš„å‡½æ•°ã€‚å¸¸è§æ–¹æ³•å¦‚ä¸‹ï¼š</p><p>Pandas å®˜æ–¹å¯¹ IO å·¥å…·çš„ä»‹ç»ï¼š<a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html">https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html</a></p><table><thead><tr><th>å‡½æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>read_csv</td><td>ä»æ–‡ä»¶ã€URLã€æ–‡ä»¶å‹å¯¹è±¡ä¸­åŠ è½½å¸¦åˆ†éš”ç¬¦çš„æ•°æ®ã€‚é»˜è®¤åˆ†éš”ç¬¦ä¸ºé€—å·</td></tr><tr><td>read_table</td><td>ä»æ–‡ä»¶ã€URLã€æ–‡ä»¶å‹å¯¹è±¡ä¸­åŠ è½½å¸¦åˆ†éš”ç¬¦çš„æ•°æ®ã€‚é»˜è®¤åˆ†éš”ç¬¦ä¸ºåˆ¶è¡¨ç¬¦ï¼ˆ<code>'\t'</code>ï¼‰</td></tr><tr><td>read_fwf</td><td>è¯»å–å®šå®½åˆ—æ ¼å¼æ•°æ®ï¼ˆæ²¡æœ‰åˆ†éš”ç¬¦ï¼‰</td></tr><tr><td>read_clipboard</td><td>è¯»å–å‰ªè´´æ¿ä¸­çš„æ•°æ®ï¼Œå¯ä»¥çœ‹åš read_table çš„å‰ªè´´æ¿ç‰ˆæœ¬ã€‚åœ¨å°†ç½‘é¡µè½¬æ¢ä¸ºè¡¨æ ¼æ—¶å¾ˆæœ‰ç”¨</td></tr><tr><td>read_excel</td><td>ä» Excel XLS æˆ– XLSX file è¯»å–è¡¨æ ¼æ•°æ®</td></tr><tr><td>read_hdf</td><td>è¯»å– pandaså†™çš„ HDF5 æ–‡ä»¶</td></tr><tr><td>read_html</td><td>è¯»å– HTML æ–‡æ¡£ä¸­çš„æ‰€æœ‰è¡¨æ ¼</td></tr><tr><td>read_json</td><td>è¯»å– JSONï¼ˆ JavaScript Object Notationï¼‰å­—ç¬¦ä¸²ä¸­çš„æ•°æ®</td></tr><tr><td>read_msgpack</td><td>è¯»å–äºŒè¿›åˆ¶æ ¼å¼ç¼–ç çš„ pandas æ•°æ®ï¼ˆPandas v1.0.0 ä¸­å·²åˆ é™¤å¯¹ msgpack çš„æ”¯æŒï¼Œå»ºè®®ä½¿ç”¨ <a href="https://pandas.pydata.org/docs/user_guide/io.html#io-msgpack">pyarrow</a>ï¼‰</td></tr><tr><td>read_pickle</td><td>è¯»å– Python pickle æ ¼å¼ä¸­å­˜å‚¨çš„ä»»æ„å¯¹è±¡</td></tr><tr><td>read_sas</td><td>è¯»å–å­˜å‚¨äº SAS ç³»ç»Ÿè‡ªå®šä¹‰å­˜å‚¨æ ¼å¼çš„ SAS æ•°æ®é›†</td></tr><tr><td>read_sql</td><td>ï¼ˆä½¿ç”¨ SQLAlchemyï¼‰è¯»å– SQL æŸ¥è¯¢ç»“æœä¸º pandas çš„ DataFrame</td></tr><tr><td>read_stata</td><td>è¯»å– Stata æ–‡ä»¶æ ¼å¼çš„æ•°æ®é›†</td></tr><tr><td>read_feather</td><td>è¯»å– Feather äºŒè¿›åˆ¶æ ¼å¼æ–‡ä»¶</td></tr></tbody></table><p>ä»¥ä¸‹ä»¥ read_csv å’Œ read_table ä¸ºä¾‹ï¼Œå®ƒä»¬çš„å‚æ•°å¤šè¾¾ 50 å¤šä¸ªï¼Œå…·ä½“å¯å‚è§å®˜æ–¹æ–‡æ¡£ï¼š</p><p>read_csvï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html">https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html</a></p><p>read_tableï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.read_table.html">https://pandas.pydata.org/docs/reference/api/pandas.read_table.html</a></p><p>å¸¸ç”¨å‚æ•°ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>path</td><td>è¡¨ç¤ºæ–‡ä»¶ç³»ç»Ÿä½ç½®ã€URLã€æ–‡ä»¶å‹å¯¹è±¡çš„å­—ç¬¦ä¸²</td></tr><tr><td>sep / delimiter</td><td>ç”¨äºå¯¹è¡Œä¸­å„å­—æ®µè¿›è¡Œæ‹†åˆ†çš„å­—ç¬¦åºåˆ—æˆ–æ­£åˆ™è¡¨è¾¾å¼</td></tr><tr><td>header</td><td>ç”¨ä½œåˆ—åçš„è¡Œå·ï¼Œé»˜è®¤ä¸º 0ï¼ˆç¬¬ä¸€è¡Œï¼‰ï¼Œå¦‚æœæ²¡æœ‰ header è¡Œå°±åº”è¯¥è®¾ç½®ä¸º None</td></tr><tr><td>index_col</td><td>ç”¨ä½œè¡Œç´¢å¼•çš„åˆ—ç¼–å·æˆ–åˆ—åã€‚å¯ä»¥æ˜¯å•ä¸ªåç§°ã€æ•°å­—æˆ–ç”±å¤šä¸ªåç§°ã€æ•°å­—ç»„æˆçš„åˆ—è¡¨ï¼ˆå±‚æ¬¡åŒ–ç´¢å¼•ï¼‰</td></tr><tr><td>names</td><td>ç”¨äºç»“æœçš„åˆ—ååˆ—è¡¨ï¼Œç»“åˆ header=None</td></tr><tr><td>skiprows</td><td>éœ€è¦å¿½ç•¥çš„è¡Œæ•°ï¼ˆä»æ–‡ä»¶å¼€å§‹å¤„ç®—èµ·ï¼‰ï¼Œæˆ–éœ€è¦è·³è¿‡çš„è¡Œå·åˆ—è¡¨ï¼ˆä»0å¼€å§‹ï¼‰</td></tr><tr><td>na_values</td><td>æŒ‡å®šä¸€ç»„å€¼ï¼Œå°†è¯¥ç»„å€¼è®¾ç½®ä¸º NaNï¼ˆç¼ºå¤±å€¼ï¼‰</td></tr><tr><td>comment</td><td>ç”¨äºå°†æ³¨é‡Šä¿¡æ¯ä»è¡Œå°¾æ‹†åˆ†å‡ºå»çš„å­—ç¬¦ï¼ˆä¸€ä¸ªæˆ–å¤šä¸ªï¼‰</td></tr><tr><td>parse_dates</td><td>å°è¯•å°†æ•°æ®è§£æä¸ºæ—¥æœŸï¼Œé»˜è®¤ä¸º Falseã€‚å¦‚æœä¸º Trueï¼Œåˆ™å°è¯•è§£ææ‰€æœ‰åˆ—ã€‚æ­¤å¤–ï¼Œè¿˜å¯ä»¥æŒ‡å®šéœ€è¦è§£æçš„ä¸€ç»„åˆ—å·æˆ–åˆ—åã€‚<br>å¦‚æœåˆ—è¡¨çš„å…ƒç´ ä¸ºåˆ—è¡¨æˆ–å…ƒç»„ï¼Œå°±ä¼šå°†å¤šä¸ªåˆ—ç»„åˆåˆ°ä¸€èµ·å†è¿›è¡Œæ—¥æœŸè§£æå·¥ä½œï¼ˆä¾‹å¦‚ï¼Œæ—¥æœŸã€æ—¶é—´åˆ†åˆ«ä½äºä¸¤ä¸ªåˆ—ä¸­ï¼‰</td></tr><tr><td>keep_date_col</td><td>å¦‚æœè¿æ¥å¤šåˆ—è§£ææ—¥æœŸï¼Œåˆ™ä¿æŒå‚ä¸è¿æ¥çš„åˆ—ã€‚é»˜è®¤ä¸º False</td></tr><tr><td>converters</td><td>ç”±åˆ—å· / åˆ—åè·Ÿå‡½æ•°ä¹‹é—´çš„æ˜ å°„å…³ç³»ç»„æˆçš„å­—å…¸ã€‚ä¾‹å¦‚ï¼Œ<code>&#123;'foo': f&#125;</code> ä¼šå¯¹ foo åˆ—çš„æ‰€æœ‰å€¼åº”ç”¨å‡½æ•° f</td></tr><tr><td>dayfirst</td><td>å½“è§£ææœ‰æ­§ä¹‰çš„æ—¥æœŸæ—¶ï¼Œå°†å…¶çœ‹åšå›½é™…æ ¼å¼ï¼ˆä¾‹å¦‚ï¼Œ7/6/2012 â€”&gt; June 7,2012ï¼‰ï¼Œé»˜è®¤ä¸º Fase</td></tr><tr><td>date_parser</td><td>ç”¨äºè§£ææ—¥æœŸçš„å‡½æ•°</td></tr><tr><td>nrows</td><td>éœ€è¦è¯»å–çš„è¡Œæ•°ï¼ˆä»æ–‡ä»¶å¼€å§‹å¤„ç®—èµ·ï¼‰</td></tr><tr><td>iterator</td><td>è¿”å›ä¸€ä¸ª TextParser ä»¥ä¾¿é€å—è¯»å–æ–‡ä»¶</td></tr><tr><td>chunksize</td><td>æ–‡ä»¶å—çš„å¤§å°ï¼ˆç”¨äºè¿­ä»£ï¼‰</td></tr><tr><td>skip_footer</td><td>éœ€è¦å¿½ç•¥çš„è¡Œæ•°ï¼ˆä»æ–‡ä»¶æœ«å°¾å¤„ç®—èµ·ï¼‰</td></tr><tr><td>verbose</td><td>æ‰“å°å„ç§è§£æå™¨è¾“å‡ºä¿¡æ¯ï¼Œæ¯”å¦‚â€œéæ•°å€¼åˆ—ä¸­ç¼ºå¤±å€¼çš„æ•°é‡â€ç­‰</td></tr><tr><td>encoding</td><td>ç”¨äº unicode çš„æ–‡æœ¬ç¼–ç æ ¼å¼ã€‚ä¾‹å¦‚ï¼Œâ€œutf-8â€ è¡¨ç¤ºç”¨ UTF-8 ç¼–ç çš„æ–‡æœ¬</td></tr><tr><td>squeeze</td><td>å¦‚æœæ•°æ®ç»è§£æåä»…å«ä¸€åˆ—ï¼Œåˆ™è¿”å› Series</td></tr><tr><td>thousands</td><td>åƒåˆ†ä½åˆ†éš”ç¬¦ï¼Œå¦‚ <code>,</code> æˆ– <code>.</code></td></tr></tbody></table><h3><span id="01x01-jian-dan-shi-li"><font color="#4876FF">ã€01x01ã€‘ç®€å•ç¤ºä¾‹</font></span></h3><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ª test1.csv æ–‡ä»¶ï¼š</p><p><img src="https://cdn.itbob.cn/img/article/034/01.png" alt="01"></p><p>ä½¿ç”¨ read_csv æ–¹æ³•å°†å…¶è¯»å‡ºä¸ºä¸€ä¸ª DataFrame å¯¹è±¡ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.read_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test1.csv&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>obj   a   b   c   d message<span class="hljs-number">0</span>  <span class="hljs-number">1</span>   <span class="hljs-number">2</span>   <span class="hljs-number">3</span>   <span class="hljs-number">4</span>   hello<span class="hljs-number">1</span>  <span class="hljs-number">5</span>   <span class="hljs-number">6</span>   <span class="hljs-number">7</span>   <span class="hljs-number">8</span>   world<span class="hljs-number">2</span>  <span class="hljs-number">9</span>  <span class="hljs-number">10</span>  <span class="hljs-number">11</span>  <span class="hljs-number">12</span>  python<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">type</span>(obj)&lt;<span class="hljs-class"><span class="hljs-keyword">class</span> &#x27;<span class="hljs-title">pandas</span>.<span class="hljs-title">core</span>.<span class="hljs-title">frame</span>.<span class="hljs-title">DataFrame</span>&#x27;&gt;</span></code></pre><p>å‰é¢çš„ csv æ–‡ä»¶æ˜¯ä»¥é€—å·åˆ†éš”çš„ï¼Œå¯ä»¥ä½¿ç”¨ read_table æ–¹æ³•å¹¶æŒ‡å®šåˆ†éš”ç¬¦æ¥è¯»å–ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.read_table(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test1.csv&#x27;</span>, sep=<span class="hljs-string">&#x27;,&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>obj   a   b   c   d message<span class="hljs-number">0</span>  <span class="hljs-number">1</span>   <span class="hljs-number">2</span>   <span class="hljs-number">3</span>   <span class="hljs-number">4</span>   hello<span class="hljs-number">1</span>  <span class="hljs-number">5</span>   <span class="hljs-number">6</span>   <span class="hljs-number">7</span>   <span class="hljs-number">8</span>   world<span class="hljs-number">2</span>  <span class="hljs-number">9</span>  <span class="hljs-number">10</span>  <span class="hljs-number">11</span>  <span class="hljs-number">12</span>  python</code></pre><h3><span id="01x02-header-names-ding-zhi-lie-biao-qian"><font color="#4876FF">ã€01x02ã€‘header / names å®šåˆ¶åˆ—æ ‡ç­¾</font></span></h3><p>ä»¥ä¸Šç¤ºä¾‹ä¸­ç¬¬ä¸€è¡Œä¸ºåˆ—æ ‡ç­¾ï¼Œå¦‚æœæ²¡æœ‰å•ç‹¬å®šä¹‰åˆ—æ ‡ç­¾ï¼Œä½¿ç”¨ read_csv æ–¹æ³•ä¹Ÿä¼šé»˜è®¤å°†ç¬¬ä¸€è¡Œå½“ä½œåˆ—æ ‡ç­¾ï¼š</p><p><img src="https://cdn.itbob.cn/img/article/034/02.png" alt="02"></p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.read_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test2.csv&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>obj   <span class="hljs-number">1</span>   <span class="hljs-number">2</span>   <span class="hljs-number">3</span>   <span class="hljs-number">4</span>   hello<span class="hljs-number">0</span>  <span class="hljs-number">5</span>   <span class="hljs-number">6</span>   <span class="hljs-number">7</span>   <span class="hljs-number">8</span>   world<span class="hljs-number">1</span>  <span class="hljs-number">9</span>  <span class="hljs-number">10</span>  <span class="hljs-number">11</span>  <span class="hljs-number">12</span>  python</code></pre><p>é¿å…ä»¥ä¸Šæƒ…å†µï¼Œå¯ä»¥è®¾ç½® <code>header=None</code>ï¼ŒPandas ä¼šä¸ºå…¶è‡ªåŠ¨åˆ†é…åˆ—æ ‡ç­¾ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.read_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test2.csv&#x27;</span>, header=<span class="hljs-literal">None</span>)   <span class="hljs-number">0</span>   <span class="hljs-number">1</span>   <span class="hljs-number">2</span>   <span class="hljs-number">3</span>       <span class="hljs-number">4</span><span class="hljs-number">0</span>  <span class="hljs-number">1</span>   <span class="hljs-number">2</span>   <span class="hljs-number">3</span>   <span class="hljs-number">4</span>   hello<span class="hljs-number">1</span>  <span class="hljs-number">5</span>   <span class="hljs-number">6</span>   <span class="hljs-number">7</span>   <span class="hljs-number">8</span>   world<span class="hljs-number">2</span>  <span class="hljs-number">9</span>  <span class="hljs-number">10</span>  <span class="hljs-number">11</span>  <span class="hljs-number">12</span>  python</code></pre><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>names</code> å‚æ•°è‡ªå®šä¹‰åˆ—æ ‡ç­¾ï¼Œä¼ é€’çš„æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.read_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test2.csv&#x27;</span>, names=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;message&#x27;</span>])   a   b   c   d message<span class="hljs-number">0</span>  <span class="hljs-number">1</span>   <span class="hljs-number">2</span>   <span class="hljs-number">3</span>   <span class="hljs-number">4</span>   hello<span class="hljs-number">1</span>  <span class="hljs-number">5</span>   <span class="hljs-number">6</span>   <span class="hljs-number">7</span>   <span class="hljs-number">8</span>   world<span class="hljs-number">2</span>  <span class="hljs-number">9</span>  <span class="hljs-number">10</span>  <span class="hljs-number">11</span>  <span class="hljs-number">12</span>  python</code></pre><h3><span id="01x03-index-col-zhi-ding-lie-wei-xing-suo-yin"><font color="#4876FF">ã€01x03ã€‘index_col æŒ‡å®šåˆ—ä¸ºè¡Œç´¢å¼•</font></span></h3><p><code>index_col</code> å‚æ•°å¯ä»¥æŒ‡å®šæŸä¸€åˆ—ä½œä¸º DataFrame çš„è¡Œç´¢å¼•ï¼Œä¼ é€’çš„å‚æ•°æ˜¯åˆ—åç§°ï¼Œåœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œä¼šå°†åˆ—åä¸º <code>message</code> çš„åˆ—ä½œä¸º DataFrame çš„è¡Œç´¢å¼•ï¼š</p><p><img src="https://cdn.itbob.cn/img/article/034/03.png" alt="03"></p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>pd.read_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test2.csv&#x27;</span>,                 names=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;message&#x27;</span>],                 index_col=<span class="hljs-string">&#x27;message&#x27;</span>)         a   b   c   dmessage               hello    <span class="hljs-number">1</span>   <span class="hljs-number">2</span>   <span class="hljs-number">3</span>   <span class="hljs-number">4</span>world    <span class="hljs-number">5</span>   <span class="hljs-number">6</span>   <span class="hljs-number">7</span>   <span class="hljs-number">8</span>python   <span class="hljs-number">9</span>  <span class="hljs-number">10</span>  <span class="hljs-number">11</span>  <span class="hljs-number">12</span></code></pre><p>å¦‚æœéœ€è¦æ„é€ å¤šå±‚ç´¢å¼•çš„ DataFrame å¯¹è±¡ï¼Œåˆ™åªéœ€ä¼ å…¥ç”±åˆ—ç¼–å·æˆ–åˆ—åç»„æˆçš„åˆ—è¡¨å³å¯ï¼š</p><p><img src="https://cdn.itbob.cn/img/article/034/04.png" alt="04"></p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.read_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test3.csv&#x27;</span>, index_col=[<span class="hljs-string">&#x27;key1&#x27;</span>, <span class="hljs-string">&#x27;key2&#x27;</span>])           value1  value2key1 key2                one  a          <span class="hljs-number">1</span>       <span class="hljs-number">2</span>     b          <span class="hljs-number">3</span>       <span class="hljs-number">4</span>     c          <span class="hljs-number">5</span>       <span class="hljs-number">6</span>     d          <span class="hljs-number">7</span>       <span class="hljs-number">8</span>two  a          <span class="hljs-number">9</span>      <span class="hljs-number">10</span>     b         <span class="hljs-number">11</span>      <span class="hljs-number">12</span>     c         <span class="hljs-number">13</span>      <span class="hljs-number">14</span>     d         <span class="hljs-number">15</span>      <span class="hljs-number">16</span></code></pre><h3><span id="01x04-sep-zhi-ding-fen-ge-fu"><font color="#4876FF">ã€01x04ã€‘sep æŒ‡å®šåˆ†éš”ç¬¦</font></span></h3><p>åœ¨ read_table ä¸­ï¼Œsep å‚æ•°ç”¨äºæ¥æ”¶åˆ†éš”ç¬¦ï¼Œå¦‚æœé‡åˆ°ä¸æ˜¯ç”¨å›ºå®šçš„åˆ†éš”ç¬¦å»åˆ†éš”å­—æ®µçš„ï¼Œä¹Ÿå¯ä»¥ä¼ é€’ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä½œä¸º read_table çš„åˆ†éš”ç¬¦ï¼Œå¦‚ä¸‹é¢çš„ txt æ–‡ä»¶æ•°æ®ä¹‹é—´æ˜¯ç”±ä¸åŒçš„ç©ºç™½å­—ç¬¦é—´éš”å¼€çš„ï¼š</p><p><img src="https://cdn.itbob.cn/img/article/034/05.png" alt="05"></p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.read_table(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test1.txt&#x27;</span>, sep=<span class="hljs-string">&#x27;\s+&#x27;</span>)            A         B         Caaa -<span class="hljs-number">0.264438</span> -<span class="hljs-number">1.026059</span> -<span class="hljs-number">0.619500</span>bbb  <span class="hljs-number">0.927272</span>  <span class="hljs-number">0.302904</span> -<span class="hljs-number">0.032399</span>ccc -<span class="hljs-number">0.264273</span> -<span class="hljs-number">0.386314</span> -<span class="hljs-number">0.217601</span>ddd -<span class="hljs-number">0.871858</span> -<span class="hljs-number">0.348382</span>  <span class="hljs-number">1.100491</span></code></pre><h3><span id="01x05-skiprows-hu-lue-xing"><font color="#4876FF">ã€01x05ã€‘skiprows å¿½ç•¥è¡Œ</font></span></h3><p>skiprowså‚æ•°å¯ç”¨äºè®¾ç½®éœ€è¦å¿½ç•¥çš„è¡Œæ•°ï¼Œæˆ–éœ€è¦è·³è¿‡çš„è¡Œå·åˆ—è¡¨ï¼Œåœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œè¯»å–æ–‡ä»¶æ—¶é€‰æ‹©è·³è¿‡ç¬¬1ã€3ã€4è¡Œï¼ˆç´¢å¼•å€¼åˆ†åˆ«ä¸º0ã€2ã€3ï¼‰ï¼š</p><p><img src="https://cdn.itbob.cn/img/article/034/06.png" alt="06"></p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.read_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test4.csv&#x27;</span>, skiprows=[<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])   a   b   c   d message<span class="hljs-number">0</span>  <span class="hljs-number">1</span>   <span class="hljs-number">2</span>   <span class="hljs-number">3</span>   <span class="hljs-number">4</span>   hello<span class="hljs-number">1</span>  <span class="hljs-number">5</span>   <span class="hljs-number">6</span>   <span class="hljs-number">7</span>   <span class="hljs-number">8</span>   world<span class="hljs-number">2</span>  <span class="hljs-number">9</span>  <span class="hljs-number">10</span>  <span class="hljs-number">11</span>  <span class="hljs-number">12</span>  python</code></pre><h3><span id="01x06-na-values-she-zhi-que-shi-zhi"><font color="#4876FF">ã€01x06ã€‘na_values è®¾ç½®ç¼ºå¤±å€¼</font></span></h3><p>å½“æ–‡ä»¶ä¸­å‡ºç°äº†ç©ºå­—ç¬¦ä¸²æˆ–è€… NA å€¼ï¼ŒPandas ä¼šå°†å…¶æ ‡è®°æˆ NaNï¼ˆç¼ºå¤±å€¼ï¼‰ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>isnull</code> æ–¹æ³•æ¥åˆ¤æ–­ç»“æœå€¼æ˜¯å¦ä¸ºç¼ºå¤±å€¼ï¼š</p><p><img src="https://cdn.itbob.cn/img/article/034/07.png" alt="07"></p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.read_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test5.csv&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>obj  something  a   b     c   d message<span class="hljs-number">0</span>       one  <span class="hljs-number">1</span>   <span class="hljs-number">2</span>   <span class="hljs-number">3.0</span>   <span class="hljs-number">4</span>     NaN<span class="hljs-number">1</span>       two  <span class="hljs-number">5</span>   <span class="hljs-number">6</span>   NaN   <span class="hljs-number">8</span>   world<span class="hljs-number">2</span>     three  <span class="hljs-number">9</span>  <span class="hljs-number">10</span>  <span class="hljs-number">11.0</span>  <span class="hljs-number">12</span>  python<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.isnull(obj)   something      a      b      c      d  message<span class="hljs-number">0</span>      <span class="hljs-literal">False</span>  <span class="hljs-literal">False</span>  <span class="hljs-literal">False</span>  <span class="hljs-literal">False</span>  <span class="hljs-literal">False</span>     <span class="hljs-literal">True</span><span class="hljs-number">1</span>      <span class="hljs-literal">False</span>  <span class="hljs-literal">False</span>  <span class="hljs-literal">False</span>   <span class="hljs-literal">True</span>  <span class="hljs-literal">False</span>    <span class="hljs-literal">False</span><span class="hljs-number">2</span>      <span class="hljs-literal">False</span>  <span class="hljs-literal">False</span>  <span class="hljs-literal">False</span>  <span class="hljs-literal">False</span>  <span class="hljs-literal">False</span>    <span class="hljs-literal">False</span></code></pre><p><code>na_values</code> æ–¹æ³•å¯ä»¥ä¼ é€’ä¸€ç»„å€¼ï¼Œå°†è¿™ç»„å€¼è®¾ç½®ä¸ºç¼ºå¤±å€¼ï¼Œå¦‚æœä¼ é€’çš„ä¸ºå­—å…¸å¯¹è±¡ï¼Œåˆ™å­—å…¸çš„å„å€¼å°†è¢«è®¾ç½®ä¸º NaNï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.read_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test5.csv&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>obj1  something  a   b     c   d message<span class="hljs-number">0</span>       one  <span class="hljs-number">1</span>   <span class="hljs-number">2</span>   <span class="hljs-number">3.0</span>   <span class="hljs-number">4</span>     NaN<span class="hljs-number">1</span>       two  <span class="hljs-number">5</span>   <span class="hljs-number">6</span>   NaN   <span class="hljs-number">8</span>   world<span class="hljs-number">2</span>     three  <span class="hljs-number">9</span>  <span class="hljs-number">10</span>  <span class="hljs-number">11.0</span>  <span class="hljs-number">12</span>  python<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.read_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test5.csv&#x27;</span>, na_values=[<span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;12&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj2  something    a   b     c    d message<span class="hljs-number">0</span>       one  NaN   <span class="hljs-number">2</span>   <span class="hljs-number">3.0</span>  <span class="hljs-number">4.0</span>     NaN<span class="hljs-number">1</span>       two  <span class="hljs-number">5.0</span>   <span class="hljs-number">6</span>   NaN  <span class="hljs-number">8.0</span>   world<span class="hljs-number">2</span>     three  <span class="hljs-number">9.0</span>  <span class="hljs-number">10</span>  <span class="hljs-number">11.0</span>  NaN  python<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>sentinels = &#123;<span class="hljs-string">&#x27;message&#x27;</span>: [<span class="hljs-string">&#x27;python&#x27;</span>, <span class="hljs-string">&#x27;world&#x27;</span>], <span class="hljs-string">&#x27;something&#x27;</span>: [<span class="hljs-string">&#x27;two&#x27;</span>]&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>obj3 = pd.read_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test5.csv&#x27;</span>, na_values=sentinels)<span class="hljs-meta">&gt;&gt;&gt; </span>obj3  something  a   b     c   d  message<span class="hljs-number">0</span>       one  <span class="hljs-number">1</span>   <span class="hljs-number">2</span>   <span class="hljs-number">3.0</span>   <span class="hljs-number">4</span>      NaN<span class="hljs-number">1</span>       NaN  <span class="hljs-number">5</span>   <span class="hljs-number">6</span>   NaN   <span class="hljs-number">8</span>      NaN<span class="hljs-number">2</span>     three  <span class="hljs-number">9</span>  <span class="hljs-number">10</span>  <span class="hljs-number">11.0</span>  <span class="hljs-number">12</span>      NaN</code></pre><h3><span id="01x07-nrows-chunksize-xing-yu-kuai"><font color="#4876FF">ã€01x07ã€‘nrows / chunksize è¡Œä¸å—</font></span></h3><p>ä»¥ä¸‹ test6.csv æ–‡ä»¶ä¸­åŒ…å« 50 è¡Œæ•°æ®ï¼š</p><p><img src="https://cdn.itbob.cn/img/article/034/08.png" alt="08"></p><p>å¯ä»¥è®¾ç½® <code>pd.options.display.max_rows</code> æ¥ç´§å‡‘åœ°æ˜¾ç¤ºæŒ‡å®šè¡Œæ•°çš„æ•°æ®ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.options.display.max_rows = <span class="hljs-number">10</span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.read_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test6.csv&#x27;</span>)         one       two     three      four key<span class="hljs-number">0</span>   <span class="hljs-number">0.467976</span> -<span class="hljs-number">0.038649</span> -<span class="hljs-number">0.295344</span> -<span class="hljs-number">1.824726</span>   L<span class="hljs-number">1</span>  -<span class="hljs-number">0.358893</span>  <span class="hljs-number">1.404453</span>  <span class="hljs-number">0.704965</span> -<span class="hljs-number">0.200638</span>   B<span class="hljs-number">2</span>  -<span class="hljs-number">0.501840</span>  <span class="hljs-number">0.659254</span> -<span class="hljs-number">0.421691</span> -<span class="hljs-number">0.057688</span>   G<span class="hljs-number">3</span>   <span class="hljs-number">0.204886</span>  <span class="hljs-number">1.074134</span>  <span class="hljs-number">1.388361</span> -<span class="hljs-number">0.982404</span>   R<span class="hljs-number">4</span>   <span class="hljs-number">0.354628</span> -<span class="hljs-number">0.133116</span>  <span class="hljs-number">0.283763</span> -<span class="hljs-number">0.837063</span>   Q..       ...       ...       ...       ...  ..<span class="hljs-number">45</span>  <span class="hljs-number">2.311896</span> -<span class="hljs-number">0.417070</span> -<span class="hljs-number">1.409599</span> -<span class="hljs-number">0.515821</span>   L<span class="hljs-number">46</span> -<span class="hljs-number">0.479893</span> -<span class="hljs-number">0.633419</span>  <span class="hljs-number">0.745152</span> -<span class="hljs-number">0.646038</span>   E<span class="hljs-number">47</span>  <span class="hljs-number">0.523331</span>  <span class="hljs-number">0.787112</span>  <span class="hljs-number">0.486066</span>  <span class="hljs-number">1.093156</span>   K<span class="hljs-number">48</span> -<span class="hljs-number">0.362559</span>  <span class="hljs-number">0.598894</span> -<span class="hljs-number">1.843201</span>  <span class="hljs-number">0.887292</span>   G<span class="hljs-number">49</span> -<span class="hljs-number">0.096376</span> -<span class="hljs-number">1.012999</span> -<span class="hljs-number">0.657431</span> -<span class="hljs-number">0.573315</span>   <span class="hljs-number">0</span>[<span class="hljs-number">50</span> rows x <span class="hljs-number">5</span> columns]</code></pre><p>é€šè¿‡ nrows å‚æ•°å¯ä»¥è¯»å–æŒ‡å®šè¡Œæ•°ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.read_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test6.csv&#x27;</span>, nrows=<span class="hljs-number">5</span>)        one       two     three      four key<span class="hljs-number">0</span>  <span class="hljs-number">0.467976</span> -<span class="hljs-number">0.038649</span> -<span class="hljs-number">0.295344</span> -<span class="hljs-number">1.824726</span>   L<span class="hljs-number">1</span> -<span class="hljs-number">0.358893</span>  <span class="hljs-number">1.404453</span>  <span class="hljs-number">0.704965</span> -<span class="hljs-number">0.200638</span>   B<span class="hljs-number">2</span> -<span class="hljs-number">0.501840</span>  <span class="hljs-number">0.659254</span> -<span class="hljs-number">0.421691</span> -<span class="hljs-number">0.057688</span>   G<span class="hljs-number">3</span>  <span class="hljs-number">0.204886</span>  <span class="hljs-number">1.074134</span>  <span class="hljs-number">1.388361</span> -<span class="hljs-number">0.982404</span>   R<span class="hljs-number">4</span>  <span class="hljs-number">0.354628</span> -<span class="hljs-number">0.133116</span>  <span class="hljs-number">0.283763</span> -<span class="hljs-number">0.837063</span>   Q</code></pre><p>è¦é€å—è¯»å–æ–‡ä»¶ï¼Œå¯ä»¥æŒ‡å®š chunksizeï¼ˆè¡Œæ•°ï¼‰ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>chunker = pd.read_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test6.csv&#x27;</span>, chunksize=<span class="hljs-number">50</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>chunker&lt;pandas.io.parsers.TextFileReader <span class="hljs-built_in">object</span> at <span class="hljs-number">0x07A20D60</span>&gt;</code></pre><p>è¿”å›çš„ TextParser å¯¹è±¡ï¼Œå¯ä»¥æ ¹æ® chunksize å¯¹æ–‡ä»¶è¿›è¡Œé€å—è¿­ä»£ã€‚ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œå¯¹ test6.csv æ–‡ä»¶æ•°æ®è¿›è¡Œè¿­ä»£å¤„ç†ï¼Œå°†å€¼è®¡æ•°èšåˆåˆ° â€œkeyâ€ åˆ—ä¸­ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>chunker = pd.read_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test6.csv&#x27;</span>, chunksize=<span class="hljs-number">50</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>tot = pd.Series([], dtype=<span class="hljs-string">&#x27;float64&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">for</span> piece <span class="hljs-keyword">in</span> chunker:    tot = tot.add(piece[<span class="hljs-string">&#x27;key&#x27;</span>].value_counts(), fill_value=<span class="hljs-number">0</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>tot = tot.sort_values(ascending=<span class="hljs-literal">False</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>tot[:<span class="hljs-number">10</span>]G    <span class="hljs-number">6.0</span>E    <span class="hljs-number">5.0</span>B    <span class="hljs-number">5.0</span>L    <span class="hljs-number">5.0</span><span class="hljs-number">0</span>    <span class="hljs-number">5.0</span>K    <span class="hljs-number">4.0</span>A    <span class="hljs-number">4.0</span>R    <span class="hljs-number">4.0</span>C    <span class="hljs-number">2.0</span>Q    <span class="hljs-number">2.0</span>dtype: float64</code></pre><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106963135</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h2><span id="02x00-xie-ru-shu-ju"><font color="#FF0000">ã€02x00ã€‘å†™å…¥æ•°æ®</font></span></h2><p>Pandas æä¾›äº†ä¸€äº›ç”¨äºå°†è¡¨æ ¼å‹æ•°æ®è¯»å–ä¸º DataFrame å¯¹è±¡çš„å‡½æ•°ã€‚å¸¸è§æ–¹æ³•å¦‚ä¸‹ï¼š</p><table><thead><tr><th>å‡½æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>to_csv</td><td>å°†å¯¹è±¡å†™å…¥é€—å·åˆ†éš”å€¼ï¼ˆcsvï¼‰æ–‡ä»¶</td></tr><tr><td>to_clipboard</td><td>å°†å¯¹è±¡å¤åˆ¶åˆ°ç³»ç»Ÿå‰ªè´´æ¿</td></tr><tr><td>to_excel</td><td>å°†å¯¹è±¡å†™å…¥ Excel å·¥ä½œè¡¨</td></tr><tr><td>to_hdf</td><td>ä½¿ç”¨ HDFStore å°†åŒ…å«çš„æ•°æ®å†™å…¥ HDF5 æ–‡ä»¶</td></tr><tr><td>to_html</td><td>å°† DataFrame å‘ˆç°ä¸º HTML è¡¨æ ¼</td></tr><tr><td>to_json</td><td>å°†å¯¹è±¡è½¬æ¢ä¸º JSONï¼ˆ JavaScript Object Notationï¼‰å­—ç¬¦ä¸²</td></tr><tr><td>to_msgpack</td><td>å°†å¯¹è±¡å†™å…¥äºŒè¿›åˆ¶æ ¼å¼ç¼–ç çš„æ–‡ä»¶ï¼ˆPandas v1.0.0 ä¸­å·²åˆ é™¤å¯¹ msgpack çš„æ”¯æŒï¼Œå»ºè®®ä½¿ç”¨ <a href="https://pandas.pydata.org/docs/user_guide/io.html#io-msgpack">pyarrow</a>ï¼‰</td></tr><tr><td>to_pickle</td><td>Pickleï¼ˆåºåˆ—åŒ–ï¼‰å¯¹è±¡åˆ°æ–‡ä»¶</td></tr><tr><td>to_sql</td><td>å°†å­˜å‚¨åœ¨ DataFrame ä¸­çš„æ•°æ®å†™å…¥ SQL æ•°æ®åº“</td></tr><tr><td>to_stata</td><td>å°† DataFrame å¯¹è±¡å¯¼å‡ºä¸º Stata æ ¼å¼</td></tr><tr><td>to_feather</td><td>å°† DataFrames å†™å…¥ Feather äºŒè¿›åˆ¶æ ¼å¼æ–‡ä»¶</td></tr></tbody></table><p>ä»¥ä¸‹ä»¥ to_csv ä¸ºä¾‹ï¼Œå®ƒçš„å‚æ•°åŒæ ·å¤šè¾¾ 50 å¤šä¸ªï¼Œå…·ä½“å¯å‚è§å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_csv.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_csv.html</a></p></li><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.to_csv.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.to_csv.html</a></p></li></ul><h3><span id="02x01-jian-dan-shi-li"><font color="#4876FF">ã€02x01ã€‘ç®€å•ç¤ºä¾‹</font></span></h3><p>ä»¥ä¹‹å‰çš„ test5.csv æ–‡ä»¶ä¸ºä¾‹ï¼Œå…ˆè¯»å‡ºæ•°æ®ï¼Œå†å°†æ•°æ®å†™å…¥å¦å¤–çš„æ–‡ä»¶ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>data = pd.read_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test5.csv&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>data  something  a   b     c   d message<span class="hljs-number">0</span>       one  <span class="hljs-number">1</span>   <span class="hljs-number">2</span>   <span class="hljs-number">3.0</span>   <span class="hljs-number">4</span>     NaN<span class="hljs-number">1</span>       two  <span class="hljs-number">5</span>   <span class="hljs-number">6</span>   NaN   <span class="hljs-number">8</span>   world<span class="hljs-number">2</span>     three  <span class="hljs-number">9</span>  <span class="hljs-number">10</span>  <span class="hljs-number">11.0</span>  <span class="hljs-number">12</span>  python<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>data.to_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\out1.csv&#x27;</span>)</code></pre><p><img src="https://cdn.itbob.cn/img/article/034/09.png" alt="09"></p><h3><span id="02x02-sep-zhi-ding-fen-ge-fu"><font color="#4876FF">ã€02x02ã€‘sep æŒ‡å®šåˆ†éš”ç¬¦</font></span></h3><p>sep å‚æ•°å¯ç”¨äºå…¶ä»–åˆ†éš”ç¬¦ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>data = pd.read_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test5.csv&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>data  something  a   b     c   d message<span class="hljs-number">0</span>       one  <span class="hljs-number">1</span>   <span class="hljs-number">2</span>   <span class="hljs-number">3.0</span>   <span class="hljs-number">4</span>     NaN<span class="hljs-number">1</span>       two  <span class="hljs-number">5</span>   <span class="hljs-number">6</span>   NaN   <span class="hljs-number">8</span>   world<span class="hljs-number">2</span>     three  <span class="hljs-number">9</span>  <span class="hljs-number">10</span>  <span class="hljs-number">11.0</span>  <span class="hljs-number">12</span>  python&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>data.to_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\out2.csv&#x27;</span>, sep=<span class="hljs-string">&#x27;|&#x27;</span>)</code></pre><p><img src="https://cdn.itbob.cn/img/article/034/10.png" alt="10"></p><h3><span id="02x03-na-rep-ti-huan-que-shi-zhi"><font color="#4876FF">ã€02x03ã€‘na_rep æ›¿æ¢ç¼ºå¤±å€¼</font></span></h3><p>na_rep å‚æ•°å¯å°†ç¼ºå¤±å€¼ï¼ˆNaNï¼‰æ›¿æ¢æˆå…¶ä»–å­—ç¬¦ä¸²ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>data = pd.read_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test5.csv&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>data  something  a   b     c   d message<span class="hljs-number">0</span>       one  <span class="hljs-number">1</span>   <span class="hljs-number">2</span>   <span class="hljs-number">3.0</span>   <span class="hljs-number">4</span>     NaN<span class="hljs-number">1</span>       two  <span class="hljs-number">5</span>   <span class="hljs-number">6</span>   NaN   <span class="hljs-number">8</span>   world<span class="hljs-number">2</span>     three  <span class="hljs-number">9</span>  <span class="hljs-number">10</span>  <span class="hljs-number">11.0</span>  <span class="hljs-number">12</span>  python<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>data.to_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\out3.csv&#x27;</span>, na_rep=<span class="hljs-string">&#x27;X&#x27;</span>)</code></pre><p><img src="https://cdn.itbob.cn/img/article/034/11.png" alt="11"></p><h3><span id="02x04-index-header-xing-yu-lie-biao-qian"><font color="#4876FF">ã€02x04ã€‘index / header è¡Œä¸åˆ—æ ‡ç­¾</font></span></h3><p>è®¾ç½® <code>index=False</code>, <code>header=False</code>ï¼Œå¯ä»¥ç¦ç”¨è¡Œæ ‡ç­¾ä¸åˆ—æ ‡ç­¾ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>data = pd.read_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test5.csv&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>data  something  a   b     c   d message<span class="hljs-number">0</span>       one  <span class="hljs-number">1</span>   <span class="hljs-number">2</span>   <span class="hljs-number">3.0</span>   <span class="hljs-number">4</span>     NaN<span class="hljs-number">1</span>       two  <span class="hljs-number">5</span>   <span class="hljs-number">6</span>   NaN   <span class="hljs-number">8</span>   world<span class="hljs-number">2</span>     three  <span class="hljs-number">9</span>  <span class="hljs-number">10</span>  <span class="hljs-number">11.0</span>  <span class="hljs-number">12</span>  python<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>data.to_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\out4.csv&#x27;</span>, index=<span class="hljs-literal">False</span>, header=<span class="hljs-literal">False</span>)</code></pre><p><img src="https://cdn.itbob.cn/img/article/034/12.png" alt="12"></p><p>è¿˜å¯ä»¥ä¼ å…¥åˆ—è¡¨æ¥é‡æ–°è®¾ç½®åˆ—æ ‡ç­¾ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>data = pd.read_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test5.csv&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>data  something  a   b     c   d message<span class="hljs-number">0</span>       one  <span class="hljs-number">1</span>   <span class="hljs-number">2</span>   <span class="hljs-number">3.0</span>   <span class="hljs-number">4</span>     NaN<span class="hljs-number">1</span>       two  <span class="hljs-number">5</span>   <span class="hljs-number">6</span>   NaN   <span class="hljs-number">8</span>   world<span class="hljs-number">2</span>     three  <span class="hljs-number">9</span>  <span class="hljs-number">10</span>  <span class="hljs-number">11.0</span>  <span class="hljs-number">12</span>  python<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>data.to_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\out5.csv&#x27;</span>, header=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>])</code></pre><p><img src="https://cdn.itbob.cn/img/article/034/13.png" alt="13"></p><h3><span id="02x05-columns-zhi-ding-lie"><font color="#4876FF">ã€02x05ã€‘columns æŒ‡å®šåˆ—</font></span></h3><p>å¯ä»¥é€šè¿‡è®¾ç½® columns å‚æ•°ï¼Œåªå†™å…¥éƒ¨åˆ†åˆ—ï¼Œå¹¶æŒ‰ç…§æŒ‡å®šé¡ºåºæ’åºï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>data = pd.read_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\test5.csv&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>data  something  a   b     c   d message<span class="hljs-number">0</span>       one  <span class="hljs-number">1</span>   <span class="hljs-number">2</span>   <span class="hljs-number">3.0</span>   <span class="hljs-number">4</span>     NaN<span class="hljs-number">1</span>       two  <span class="hljs-number">5</span>   <span class="hljs-number">6</span>   NaN   <span class="hljs-number">8</span>   world<span class="hljs-number">2</span>     three  <span class="hljs-number">9</span>  <span class="hljs-number">10</span>  <span class="hljs-number">11.0</span>  <span class="hljs-number">12</span>  python&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>data.to_csv(<span class="hljs-string">r&#x27;C:\Users\TanRe\Desktop\out6.csv&#x27;</span>, columns=[<span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>])</code></pre><p><img src="https://cdn.itbob.cn/img/article/034/14.png" alt="14"></p><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106963135</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h2&gt;&lt;span id=&quot;wen-zhang-mu-lu&quot;&gt;æ–‡ç« ç›®å½•&lt;/span&gt;&lt;/h2&gt;
&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#font-color-ff0000-01x00-du-qu-shu-ju-font&quot;&gt;&lt;font color=&quot;#FF0</summary>
      
    
    
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    <category term="Pandas" scheme="https://www.itbob.cn/tags/Pandas/"/>
    
  </entry>
  
  <entry>
    <title>Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¹ï¼‰ï¼šæ—¶é—´åºåˆ—</title>
    <link href="https://www.itbob.cn/article/033/"/>
    <id>https://www.itbob.cn/article/033/</id>
    <published>2020-06-25T13:55:49.000Z</published>
    <updated>2022-05-22T12:44:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="wen-zhang-mu-lu">æ–‡ç« ç›®å½•</span></h2><!-- toc --><ul><li><a href="#font-color-ff0000-01x00-shi-jian-xu-lie-font"><font color="#FF0000">ã€01x00ã€‘æ—¶é—´åºåˆ—</font></a></li><li><a href="#font-color-ff0000-02x00-timestamp-shi-jian-chuo-font"><font color="#FF0000">ã€02x00ã€‘Timestamp æ—¶é—´æˆ³</font></a><ul><li><a href="#font-color-4876ff-02x01-pandas-timestamp-font"><font color="#4876FF">ã€02x01ã€‘pandas.Timestamp</font></a></li><li><a href="#font-color-4876ff-02x02-freq-pin-lu-bu-fen-qu-zhi-font"><font color="#4876FF">ã€02x02ã€‘freq é¢‘ç‡éƒ¨åˆ†å–å€¼</font></a></li><li><a href="#font-color-4876ff-02x03-to-datetime-font"><font color="#4876FF">ã€02x03ã€‘to_datetime</font></a></li><li><a href="#font-color-4876ff-02x04-date-range-font"><font color="#4876FF">ã€02x04ã€‘date_range</font></a></li><li><a href="#font-color-4876ff-02x05-suo-yin-yu-qie-pian-font"><font color="#4876FF">ã€02x05ã€‘ç´¢å¼•ä¸åˆ‡ç‰‡</font></a></li><li><a href="#font-color-4876ff-02x06-yi-dong-shu-ju-yu-shu-ju-pian-yi-font"><font color="#4876FF">ã€02x06ã€‘ç§»åŠ¨æ•°æ®ä¸æ•°æ®åç§»</font></a></li><li><a href="#font-color-4876ff-02x07-shi-qu-chu-li-font"><font color="#4876FF">ã€02x07ã€‘æ—¶åŒºå¤„ç†</font></a></li></ul></li><li><a href="#font-color-ff0000-03x00-period-gu-ding-shi-qi-font"><font color="#FF0000">ã€03x00ã€‘period å›ºå®šæ—¶æœŸ</font></a><ul><li><a href="#font-color-4876ff-03x01-pandas-period-font"><font color="#4876FF">ã€03x01ã€‘pandas.Period</font></a></li><li><a href="#font-color-4876ff-03x02-period-range-font"><font color="#4876FF">ã€03x02ã€‘period_range</font></a></li><li><a href="#font-color-4876ff-03x03-asfreq-shi-qi-pin-lu-zhuan-huan-font"><font color="#4876FF">ã€03x03ã€‘asfreq æ—¶æœŸé¢‘ç‡è½¬æ¢</font></a></li><li><a href="#font-color-4876ff-03x04-to-period-yu-to-timestamp-font"><font color="#4876FF">ã€03x04ã€‘to_period ä¸ to_timestamp()</font></a></li></ul></li><li><a href="#font-color-ff0000-04x00-timedelta-shi-jian-jian-ge-font"><font color="#FF0000">ã€04x00ã€‘timedelta æ—¶é—´é—´éš”</font></a><ul><li><a href="#font-color-4876ff-04x01-pandas-timedelta-font"><font color="#4876FF">ã€04x01ã€‘pandas.Timedelta</font></a></li><li><a href="#font-color-4876ff-04x02-to-timedelta-font"><font color="#4876FF">ã€04x02ã€‘to_timedelta</font></a></li><li><a href="#font-color-4876ff-04x03-timedelta-range-font"><font color="#4876FF">ã€04x03ã€‘timedelta_range</font></a></li></ul></li><li><a href="#font-color-ff0000-05x00-chong-cai-yang-ji-pin-lu-zhuan-huan-font"><font color="#FF0000">ã€05x00ã€‘é‡é‡‡æ ·åŠé¢‘ç‡è½¬æ¢</font></a></li></ul><!-- tocstop --><hr><p>Pandas ç³»åˆ—æ–‡ç« ï¼š</p><ul><li><a href="https://www.itbob.cn/article/025/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸€ï¼‰ï¼šè®¤è¯† Pandas åŠå…¶ Seriesã€DataFrame å¯¹è±¡</a></li><li><a href="https://www.itbob.cn/article/026/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäºŒï¼‰ï¼šIndex ç´¢å¼•å¯¹è±¡ä»¥åŠå„ç§ç´¢å¼•æ“ä½œ</a></li><li><a href="https://www.itbob.cn/article/027/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸‰ï¼‰ï¼šç®—æœ¯è¿ç®—ä¸ç¼ºå¤±å€¼çš„å¤„ç†</a></li><li><a href="https://www.itbob.cn/article/028/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå››ï¼‰ï¼šå‡½æ•°åº”ç”¨ã€æ˜ å°„ã€æ’åºå’Œå±‚çº§ç´¢å¼•</a></li><li><a href="https://www.itbob.cn/article/029/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäº”ï¼‰ï¼šç»Ÿè®¡è®¡ç®—ä¸ç»Ÿè®¡æè¿°</a></li><li><a href="https://www.itbob.cn/article/030/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…­ï¼‰ï¼šGroupBy æ•°æ®åˆ†è£‚ã€åº”ç”¨ä¸åˆå¹¶</a></li><li><a href="https://www.itbob.cn/article/031/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸ƒï¼‰ï¼šåˆå¹¶æ•°æ®é›†</a></li><li><a href="https://www.itbob.cn/article/032/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…«ï¼‰ï¼šæ•°æ®é‡å¡‘ã€é‡å¤æ•°æ®å¤„ç†ä¸æ•°æ®æ›¿æ¢</a></li><li><a href="https://www.itbob.cn/article/033/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¹ï¼‰ï¼šæ—¶é—´åºåˆ—</a></li><li><a href="https://www.itbob.cn/article/034/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆåï¼‰ï¼šæ•°æ®è¯»å†™</a></li></ul><hr><p>ä¸“æ ï¼š</p><ul><li>NumPy ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780393.html">https://itrhx.blog.csdn.net/category_9780393.html</a></li><li>Pandas ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780397.html">https://itrhx.blog.csdn.net/category_9780397.html</a></li><li>Matplotlib ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780418.html">https://itrhx.blog.csdn.net/category_9780418.html</a></li></ul><br>æ¨èå­¦ä¹ èµ„æ–™ä¸ç½‘ç«™ï¼š<br><br><ul><li>NumPy å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.numpy.org.cn/">https://www.numpy.org.cn/</a></li><li>Pandas å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.pypandas.cn/">https://www.pypandas.cn/</a></li><li>Matplotlib å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.matplotlib.org.cn/">https://www.matplotlib.org.cn/</a></li><li>NumPyã€Matplotlibã€Pandas é€ŸæŸ¥è¡¨ï¼š<a href="https://github.com/TRHX/Python-quick-reference-table">https://github.com/TRHX/Python-quick-reference-table</a></li></ul><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106947061</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h2><span id="01x00-shi-jian-xu-lie"><font color="#FF0000">ã€01x00ã€‘æ—¶é—´åºåˆ—</font></span></h2><p>å®˜ç½‘å¯¹äºæ—¶é—´åºåˆ—çš„ä»‹ç»ï¼š<a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html">https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html</a></p><p>æ—¶é—´åºåˆ—ï¼ˆtime seriesï¼‰æ˜¯ä¸€ç§é‡è¦çš„ç»“æ„åŒ–æ•°æ®å½¢å¼ï¼Œåº”ç”¨äºå¤šä¸ªé¢†åŸŸï¼ŒåŒ…æ‹¬é‡‘èå­¦ã€ç»æµå­¦ã€ç”Ÿæ€å­¦ã€ç¥ç»ç§‘å­¦ã€ç‰©ç†å­¦ç­‰ã€‚åœ¨å¤šä¸ªæ—¶é—´ç‚¹è§‚å¯Ÿæˆ–æµ‹é‡åˆ°çš„ä»»ä½•äº‹ç‰©éƒ½å¯ä»¥å½¢æˆä¸€æ®µæ—¶é—´åºåˆ—ã€‚å¾ˆå¤šæ—¶é—´åºåˆ—æ˜¯å›ºå®šé¢‘ç‡çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ•°æ®ç‚¹æ˜¯æ ¹æ®æŸç§è§„å¾‹å®šæœŸå‡ºç°çš„ï¼ˆæ¯”å¦‚æ¯15ç§’ã€æ¯5åˆ†é’Ÿã€æ¯æœˆå‡ºç°ä¸€æ¬¡ï¼‰ã€‚æ—¶é—´åºåˆ—ä¹Ÿå¯ä»¥æ˜¯ä¸å®šæœŸçš„ï¼Œæ²¡æœ‰å›ºå®šçš„æ—¶é—´å•ä½æˆ–å•ä½ä¹‹é—´çš„åç§»é‡ã€‚æ—¶é—´åºåˆ—æ•°æ®çš„æ„ä¹‰å–å†³äºå…·ä½“çš„åº”ç”¨åœºæ™¯ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ul><li><p><font color="#4169E1"><strong>æ—¶é—´æˆ³ï¼ˆtimestampï¼‰ï¼Œè¡¨ç¤ºæŸä¸ªå…·ä½“çš„æ—¶é—´ç‚¹ï¼Œä¾‹å¦‚ 2020-6-24 15:30ï¼›</strong></font></p></li><li><p><font color="#4169E1"><strong>å›ºå®šå‘¨æœŸï¼ˆperiodï¼‰ï¼Œè¡¨ç¤ºæŸä¸ªæ—¶é—´å‘¨æœŸï¼Œä¾‹å¦‚ 2020-01ï¼›</strong></font></p></li><li><p><font color="#4169E1"><strong>æ—¶é—´é—´éš”ï¼ˆtimedeltaï¼‰ï¼ŒæŒç»­æ—¶é—´ï¼Œå³ä¸¤ä¸ªæ—¥æœŸæˆ–æ—¶é—´ä¹‹é—´çš„å·®å¼‚ã€‚</strong></font></p></li><li><p><font color="#FFA500"><strong>é’ˆå¯¹æ—¶é—´æˆ³æ•°æ®ï¼ŒPandas æä¾›äº† Timestamp ç±»å‹ã€‚å®ƒæœ¬è´¨ä¸Šæ˜¯ Python çš„åŸç”Ÿ datetime ç±»å‹çš„æ›¿ä»£å“ï¼Œä½†æ˜¯åœ¨æ€§èƒ½æ›´å¥½çš„ numpy.datetime64 ç±»å‹çš„åŸºç¡€ä¸Šåˆ›å»ºã€‚å¯¹åº”çš„ç´¢å¼•æ•°æ®ç»“æ„æ˜¯ DatetimeIndexã€‚</strong></font></p></li><li><p><font color="#FFA500"><strong>é’ˆå¯¹æ—¶é—´å‘¨æœŸæ•°æ®ï¼ŒPandas æä¾›äº† Period ç±»å‹ã€‚è¿™æ˜¯åˆ©ç”¨ numpy.datetime64 ç±»å‹å°†å›ºå®šé¢‘ç‡çš„æ—¶é—´é—´éš”è¿›è¡Œç¼–ç ã€‚å¯¹åº”çš„ç´¢å¼•æ•°æ®ç»“æ„æ˜¯ PeriodIndexã€‚</strong></font></p></li><li><p><font color="#FFA500"><strong>é’ˆå¯¹æ—¶é—´å¢é‡æˆ–æŒç»­æ—¶é—´ï¼ŒPandas æä¾›äº† Timedelta ç±»å‹ã€‚Timedelta æ˜¯ä¸€ç§ä»£æ›¿ Python åŸç”Ÿdatetime.timedelta ç±»å‹çš„é«˜æ€§èƒ½æ•°æ®ç»“æ„ï¼ŒåŒæ ·æ˜¯åŸºäº numpy.timedelta64 ç±»å‹ã€‚å¯¹åº”çš„ç´¢å¼•æ•°æ®ç»“æ„æ˜¯ TimedeltaIndexã€‚</strong></font></p></li></ul><h2><span id="02x00-timestamp-shi-jian-chuo"><font color="#FF0000">ã€02x00ã€‘Timestamp æ—¶é—´æˆ³</font></span></h2><h3><span id="02x01-pandas-timestamp"><font color="#4876FF">ã€02x01ã€‘pandas.Timestamp</font></span></h3><p>åœ¨ pandas ä¸­ï¼Œ<code>pandas.Timestamp</code> æ–¹æ³•ç”¨æ¥ä»£æ›¿ Python ä¸­çš„ <code>datetime.datetime</code> æ–¹æ³•ã€‚</p><p>Timestamp ä¸ Python çš„ Datetime ç­‰æ•ˆï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½å¯ä»¥äº’æ¢ã€‚ æ­¤ç±»å‹ç”¨äºç»„æˆ DatetimeIndex ä»¥åŠ Pandas ä¸­å…¶ä»–é¢å‘æ—¶é—´åºåˆ—çš„æ•°æ®ç»“æ„ã€‚</p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.Timestamp.html">https://pandas.pydata.org/docs/reference/api/pandas.Timestamp.html</a></p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">pandas</span>.<span class="hljs-title">Timestamp</span>(<span class="hljs-params">ts_input=&lt;<span class="hljs-built_in">object</span> <span class="hljs-built_in">object</span>&gt;, </span></span><span class="hljs-params"><span class="hljs-class">   freq=<span class="hljs-literal">None</span>, tz=<span class="hljs-literal">None</span>, unit=<span class="hljs-literal">None</span>, </span></span><span class="hljs-params"><span class="hljs-class">   year=<span class="hljs-literal">None</span>, month=<span class="hljs-literal">None</span>, day=<span class="hljs-literal">None</span>, </span></span><span class="hljs-params"><span class="hljs-class">   hour=<span class="hljs-literal">None</span>, minute=<span class="hljs-literal">None</span>, second=<span class="hljs-literal">None</span>, </span></span><span class="hljs-params"><span class="hljs-class">   microsecond=<span class="hljs-literal">None</span>, nanosecond=<span class="hljs-literal">None</span>, tzinfo=<span class="hljs-literal">None</span></span>)</span></code></pre><p>å¸¸ç”¨å‚æ•°ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>ts_input</td><td>è¦è½¬æ¢ä¸ºæ—¶é—´æˆ³çš„å¯¹è±¡ï¼Œå¯ä»¥æ˜¯ datetime-likeï¼Œstrï¼Œintï¼Œfloat ç±»å‹</td></tr><tr><td>freq</td><td>æ—¶é—´æˆ³å°†å…·æœ‰çš„åç§»é‡ï¼Œå¯ä»¥æ˜¯ strï¼Œæ—¥æœŸåç§»é‡ç±»å‹ï¼Œå–å€¼å‚è§<a href="#t4">ã€02x02ã€‘freq é¢‘ç‡éƒ¨åˆ†å–å€¼</a></td></tr><tr><td>tz</td><td>æ—¶é—´æˆ³å°†å…·æœ‰çš„æ—¶åŒº</td></tr><tr><td>unit</td><td>å¦‚æœ ts_input æ˜¯æ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼Œè¯¥å‚æ•°ç”¨äºè®¾ç½®å…¶å•ä½ï¼ˆDã€sã€msã€usã€nsï¼‰</td></tr></tbody></table><p>ç®€å•ç¤ºä¾‹ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Timestamp(<span class="hljs-string">&#x27;2017-01-01T12&#x27;</span>)Timestamp(<span class="hljs-string">&#x27;2017-01-01 12:00:00&#x27;</span>)</code></pre><p>è®¾ç½® <code>unit='s'</code>ï¼Œå³å¾…è½¬æ¢å¯¹è±¡å•ä½ä¸ºç§’ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Timestamp(<span class="hljs-number">1513393355.5</span>, unit=<span class="hljs-string">&#x27;s&#x27;</span>)Timestamp(<span class="hljs-string">&#x27;2017-12-16 03:02:35.500000&#x27;</span>)</code></pre><p>ä½¿ç”¨ <code>tz</code> å‚æ•°è®¾ç½®æ—¶åŒºï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Timestamp(<span class="hljs-number">1513393355</span>, unit=<span class="hljs-string">&#x27;s&#x27;</span>, tz=<span class="hljs-string">&#x27;US/Pacific&#x27;</span>)Timestamp(<span class="hljs-string">&#x27;2017-12-15 19:02:35-0800&#x27;</span>, tz=<span class="hljs-string">&#x27;US/Pacific&#x27;</span>)</code></pre><p>å•ç‹¬è®¾ç½®å¹´æœˆæ—¥ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Timestamp(year=<span class="hljs-number">2020</span>, month=<span class="hljs-number">6</span>, day=<span class="hljs-number">24</span>, hour=<span class="hljs-number">12</span>)Timestamp(<span class="hljs-string">&#x27;2020-06-24 12:00:00&#x27;</span>)</code></pre><h3><span id="02x02-freq-pin-lu-bu-fen-qu-zhi"><font color="#4876FF">ã€02x02ã€‘freq é¢‘ç‡éƒ¨åˆ†å–å€¼</font></span></h3><p>å®Œæ•´å–å€¼å‚è§å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/user_guide/timeseries.html#timeseries-offset-aliases">https://pandas.pydata.org/docs/user_guide/timeseries.html#timeseries-offset-aliases</a></p><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td>D</td><td>Day</td><td>æ¯æ—¥å†æ—¥</td></tr><tr><td>B</td><td>BusinessDay</td><td>æ¯å·¥ä½œæ—¥</td></tr><tr><td>H</td><td>Hour</td><td>æ¯å°æ—¶</td></tr><tr><td>T æˆ– min</td><td>Minute</td><td>æ¯åˆ†</td></tr><tr><td>S</td><td>Second</td><td>æ¯ç§’</td></tr><tr><td>L æˆ– ms</td><td>Milli</td><td>æ¯æ¯«ç§’ï¼ˆå³æ¯åƒåˆ†ä¹‹ä¸€ç§’ï¼‰</td></tr><tr><td>U</td><td>Micro</td><td>æ¯å¾®ç§’ï¼ˆå³æ¯ç™¾ä¸‡åˆ†ä¹‹ä¸€ç§’ï¼‰</td></tr><tr><td>M</td><td>MonthEnd</td><td>æ¯æœˆæœ€åä¸€ä¸ªæ—¥å†æ—¥</td></tr><tr><td>BM</td><td>BusinessMonthEnd</td><td>æ¯æœˆæœ€åä¸€ä¸ªå·¥ä½œæ—¥</td></tr><tr><td>MS</td><td>MonthBegin</td><td>æ¯æœˆç¬¬ä¸€ä¸ªæ—¥å†æ—¥</td></tr><tr><td>BMS</td><td>BusinessMonthBegin</td><td>æ¯æœˆç¬¬ä¸€ä¸ªå·¥ä½œæ—¥</td></tr><tr><td>W-MONã€W-TUEâ€¦</td><td>Week</td><td>ä»æŒ‡å®šçš„æ˜ŸæœŸå‡ ï¼ˆMONã€TUEã€ WEDã€THUã€FRã€SATã€SUNï¼‰å¼€å§‹ç®—èµ·ï¼Œæ¯å‘¨</td></tr><tr><td>WoM-1MONã€WOM-2MONâ€¦</td><td>WeekOfMonth</td><td>äº§ç”Ÿæ¯æœˆç¬¬ä¸€ã€ç¬¬äºŒã€ç¬¬ä¸‰æˆ–ç¬¬å››å‘¨çš„æ˜ŸæœŸå‡ ã€‚ä¾‹å¦‚ï¼ŒWoM-3FRI è¡¨ç¤ºæ¯æœˆç¬¬3ä¸ªæ˜ŸæœŸäº”</td></tr><tr><td>Q-JANã€Q-FEBâ€¦</td><td>QuarterEnd</td><td>å¯¹äºä»¥æŒ‡å®šæœˆä»½ï¼ˆJANã€FEBã€MARã€APRã€MAYã€JUNã€JULã€AUGã€SEPã€OCTã€NOVã€DECï¼‰ç»“æŸçš„å¹´åº¦ï¼Œæ¯å­£åº¦æœ€åä¸€æœˆçš„æœ€åä¸ªæ—¥å†æ—¥</td></tr><tr><td>BQ-JANã€BQ-FEBâ€¦</td><td>BusinessQuarterEnd</td><td>å¯¹äºä»¥æŒ‡å®šæœˆä»½ç»“æŸçš„å¹´åº¦ï¼Œæ¯å­£åº¦æœ€åä¸€æœˆçš„æœ€åä¸€ä¸ªå·¥ä½œæ—¥</td></tr><tr><td>QS-JANã€QS-FEBâ€¦</td><td>QuarterBegin</td><td>å¯¹äºä»¥æŒ‡å®šæœˆä»½ç»“æŸçš„å¹´åº¦ï¼Œæ¯å­£åº¦æœ€åä¸€æœˆçš„ç¬¬ä¸€ä¸ªæ—¥å†æ—¥</td></tr><tr><td>BQS-JANã€ BQS-FEBâ€¦</td><td>BusinessQuarterBegin</td><td>å¯¹äºä»¥æŒ‡å®šæœˆä»½ç»“æŸçš„å¹´åº¦ï¼Œæ¯å­£åº¦æœ€åä¸€æœˆçš„ç¬¬ä¸€ä¸ªå·¥ä½œæ—¥</td></tr><tr><td>A-JANã€A-FEBâ€¦</td><td>YearEnd</td><td>æ¯å¹´æŒ‡å®šæœˆä»½ï¼ˆJANã€FEBã€MARã€APRã€MAYã€JUNã€JULã€AUGã€SEPã€ OCTã€NOVã€DECï¼‰çš„æœ€åä¸€ä¸ªæ—¥å†æ—¥</td></tr><tr><td>BA-JANã€BA-FEBâ€¦</td><td>BusinessYearEnd</td><td>æ¯å¹´æŒ‡å®šæœˆä»½çš„æœ€åä¸€ä¸ªå·¥ä½œæ—¥</td></tr><tr><td>AS-JANã€AS-FEBâ€¦</td><td>YearBegin</td><td>æ¯å¹´æŒ‡å®šæœˆä»½çš„ç¬¬ä¸€ä¸ªå†æ—¥æ—¥</td></tr><tr><td>BAS-JANã€BAS-FEBâ€¦</td><td>BusinessYearBegin</td><td>æ¯å¹´æŒ‡å®šæœˆä»½çš„ç¬¬ä¸€ä¸ªå·¥ä½œæ—¥</td></tr></tbody></table><h3><span id="02x03-to-datetime"><font color="#4876FF">ã€02x03ã€‘to_datetime</font></span></h3><p>åœ¨ Python ä¸­ï¼Œdatetime åº“æä¾›äº†æ—¥æœŸå’Œæ—¶é—´å¤„ç†æ–¹æ³•ï¼Œåˆ©ç”¨ <code>str</code> æˆ– <code>strftime</code> æ–¹æ³•å¯ä»¥å°† datetime å¯¹è±¡è½¬åŒ–æˆå­—ç¬¦ä¸²ï¼Œå…·ä½“ç”¨æ³•å¯å‚è§<a href="https://blog.csdn.net/qq_36759224/article/details/104427220">ã€Python æ ‡å‡†åº“å­¦ä¹ ã€‘æ—¥æœŸå’Œæ—¶é—´å¤„ç†åº“ â€” datetime</a>ã€‚</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<span class="hljs-meta">&gt;&gt;&gt; </span>stamp = datetime(<span class="hljs-number">2020</span>, <span class="hljs-number">6</span>, <span class="hljs-number">24</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>stampdatetime.datetime(<span class="hljs-number">2020</span>, <span class="hljs-number">6</span>, <span class="hljs-number">24</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">str</span>(stamp)<span class="hljs-string">&#x27;2020-06-24 00:00:00&#x27;</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>stamp.strftime(<span class="hljs-string">&#x27;%Y-%m-%d&#x27;</span>)<span class="hljs-string">&#x27;2020-06-24&#x27;</span></code></pre><p><font color="#FF0000"><strong>åœ¨ pandas ä¸­ to_datetime æ–¹æ³•å¯ä»¥å°†å­—ç¬¦ä¸²è§£ææˆå¤šç§ä¸åŒçš„ Timestampï¼ˆæ—¶é—´æˆ³ï¼‰ å¯¹è±¡ï¼š</strong></font></p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>datestrs = <span class="hljs-string">&#x27;2011-07-06 12:00:00&#x27;</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">type</span>(datestrs)&lt;<span class="hljs-class"><span class="hljs-keyword">class</span> &#x27;<span class="hljs-title">str</span>&#x27;&gt;</span><span class="hljs-class">&gt;&gt;&gt; </span><span class="hljs-class">&gt;&gt;&gt; <span class="hljs-title">pd</span>.<span class="hljs-title">to_datetime</span>(<span class="hljs-params">datestrs</span>)</span><span class="hljs-class"><span class="hljs-title">Timestamp</span>(<span class="hljs-params"><span class="hljs-string">&#x27;2011-07-06 12:00:00&#x27;</span></span>)</span></code></pre><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre><code class="hljs python">pandas.to_datetime(arg, errors=<span class="hljs-string">&#x27;raise&#x27;</span>, dayfirst=<span class="hljs-literal">False</span>,                    yearfirst=<span class="hljs-literal">False</span>, utc=<span class="hljs-literal">None</span>, <span class="hljs-built_in">format</span>=<span class="hljs-literal">None</span>,                    exact=<span class="hljs-literal">True</span>, unit=<span class="hljs-literal">None</span>, infer_datetime_format=<span class="hljs-literal">False</span>,                    origin=<span class="hljs-string">&#x27;unix&#x27;</span>, cache=<span class="hljs-literal">True</span>)</code></pre><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.to_datetime.html">https://pandas.pydata.org/docs/reference/api/pandas.to_datetime.html</a></p><p>å¸¸ç”¨å‚æ•°ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>arg</td><td>è¦è½¬æ¢ä¸ºæ—¥æœŸæ—¶é—´çš„å¯¹è±¡ï¼Œå¯ä»¥æ¥å— int, float, str, datetime, list, tuple, 1-d array, Series DataFrame/dict-like ç±»å‹</td></tr><tr><td>errors</td><td>å¦‚æœå­—ç¬¦ä¸²ä¸æ»¡è¶³æ—¶é—´æˆ³çš„å½¢å¼ï¼Œæ˜¯å¦ä¼šå‘ç”Ÿå¼‚å¸¸<br><code>ignore</code>ï¼šä¸å¼•å‘å¼‚å¸¸ï¼Œè¿”å›åŸå§‹è¾“å…¥ï¼›<code>raise</code>ï¼šæ— æ•ˆè§£æå°†å¼•å‘å¼‚å¸¸ï¼ˆé»˜è®¤ï¼‰ï¼›<code>coerce</code>ï¼šæ— æ•ˆè§£æå°†è¢«è®¾ç½®ä¸ºNaT</td></tr><tr><td>dayfirst</td><td>bool ç±»å‹ï¼Œé»˜è®¤ Falseï¼Œå¦‚æœ arg æ˜¯ str æˆ–åˆ—è¡¨ï¼Œæ˜¯å¦é¦–å…ˆè§£æä¸ºæ—¥æœŸ<br>ä¾‹å¦‚ dayfirst ä¸º Trueï¼Œ<code>10/11/12</code> è¢«è§£æä¸º <code>2012-11-10</code>ï¼Œä¸º False åˆ™è§£æä¸º <code>2012-10-11</code></td></tr><tr><td>yearfirst</td><td>bool ç±»å‹ï¼Œé»˜è®¤ Falseï¼Œå¦‚æœ arg æ˜¯ str æˆ–åˆ—è¡¨ï¼Œæ˜¯å¦é¦–å…ˆè§£æä¸ºå¹´ä»½<br>ä¾‹å¦‚ dayfirst ä¸º Trueï¼Œ<code>10/11/12</code> è¢«è§£æä¸º <code>2010-11-12</code>ï¼Œä¸º False åˆ™è§£æä¸º <code>2012-10-11</code><br>å¦‚æœ dayfirst å’Œ yearfirst éƒ½ä¸º Trueï¼Œåˆ™ä¼˜å…ˆ yearfirst</td></tr><tr><td>utc</td><td>bool ç±»å‹ï¼Œæ˜¯å¦è½¬æ¢ä¸ºåè°ƒä¸–ç•Œæ—¶ï¼Œé»˜è®¤ None</td></tr><tr><td>format</td><td>æ ¼å¼åŒ–æ—¶é—´ï¼Œå¦‚ <code>21/2/20 16:10</code> ä½¿ç”¨ <code>%d/%m/%y %H:%M</code> ä¼šè¢«è§£æä¸º <code>2020-02-21 16:10:00</code><br>ç¬¦å·å«ä¹‰å¸¸è§æ–‡ç« ï¼š<a href="https://blog.csdn.net/qq_36759224/article/details/104427220">ã€Python æ ‡å‡†åº“å­¦ä¹ ã€‘æ—¥æœŸå’Œæ—¶é—´å¤„ç†åº“ â€” datetime</a> æˆ–è€…<a href="https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior">å®˜æ–¹æ–‡æ¡£</a></td></tr><tr><td>exact</td><td>å¦‚æœä¸º Trueï¼Œåˆ™éœ€è¦ç²¾ç¡®çš„æ ¼å¼åŒ¹é…ã€‚å¦‚æœä¸º Falseï¼Œåˆ™å…è®¸æ ¼å¼ä¸ç›®æ ‡å­—ç¬¦ä¸²ä¸­çš„ä»»ä½•ä½ç½®åŒ¹é…</td></tr><tr><td>unit</td><td>å¦‚æœ arg æ˜¯æ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼Œè¯¥å‚æ•°ç”¨äºè®¾ç½®å…¶å•ä½ï¼ˆDã€sã€msã€usã€nsï¼‰</td></tr></tbody></table><p>ç®€å•åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(&#123;<span class="hljs-string">&#x27;year&#x27;</span>: [<span class="hljs-number">2015</span>, <span class="hljs-number">2016</span>], <span class="hljs-string">&#x27;month&#x27;</span>: [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-string">&#x27;day&#x27;</span>: [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>]&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj   year  month  day<span class="hljs-number">0</span>  <span class="hljs-number">2015</span>      <span class="hljs-number">2</span>    <span class="hljs-number">4</span><span class="hljs-number">1</span>  <span class="hljs-number">2016</span>      <span class="hljs-number">3</span>    <span class="hljs-number">5</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.to_datetime(obj)<span class="hljs-number">0</span>   <span class="hljs-number">2015</span>-02-04<span class="hljs-number">1</span>   <span class="hljs-number">2016</span>-03-05dtype: datetime64[ns]</code></pre><p>è®¾ç½® <code>format</code> å’Œ <code>errors</code> å‚æ•°ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.to_datetime(<span class="hljs-string">&#x27;13000101&#x27;</span>, <span class="hljs-built_in">format</span>=<span class="hljs-string">&#x27;%Y%m%d&#x27;</span>, errors=<span class="hljs-string">&#x27;ignore&#x27;</span>)datetime.datetime(<span class="hljs-number">1300</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.to_datetime(<span class="hljs-string">&#x27;13000101&#x27;</span>, <span class="hljs-built_in">format</span>=<span class="hljs-string">&#x27;%Y%m%d&#x27;</span>, errors=<span class="hljs-string">&#x27;coerce&#x27;</span>)NaT<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.to_datetime(<span class="hljs-string">&#x27;13000101&#x27;</span>, <span class="hljs-built_in">format</span>=<span class="hljs-string">&#x27;%Y%m%d&#x27;</span>, errors=<span class="hljs-string">&#x27;raise&#x27;</span>)Traceback (most recent call last):...pandas._libs.tslibs.np_datetime.OutOfBoundsDatetime: Out of bounds nanosecond timestamp: <span class="hljs-number">1300</span>-01-01 <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span></code></pre><p>è®¾ç½® <code>unit</code> å‚æ•°ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.to_datetime(<span class="hljs-number">1490195805</span>, unit=<span class="hljs-string">&#x27;s&#x27;</span>)Timestamp(<span class="hljs-string">&#x27;2017-03-22 15:16:45&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.to_datetime(<span class="hljs-number">1490195805433502912</span>, unit=<span class="hljs-string">&#x27;ns&#x27;</span>)Timestamp(<span class="hljs-string">&#x27;2017-03-22 15:16:45.433502912&#x27;</span>)</code></pre><h3><span id="02x04-date-range"><font color="#4876FF">ã€02x04ã€‘date_range</font></span></h3><p><code>pandas.date_range</code> æ–¹æ³•å¯ç”¨äºæ ¹æ®æŒ‡å®šçš„é¢‘ç‡ç”ŸæˆæŒ‡å®šé•¿åº¦çš„ DatetimeIndexã€‚</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre><code class="hljs python">pandas.date_range(start=<span class="hljs-literal">None</span>, end=<span class="hljs-literal">None</span>, periods=<span class="hljs-literal">None</span>, freq=<span class="hljs-literal">None</span>,                   tz=<span class="hljs-literal">None</span>, normalize=<span class="hljs-literal">False</span>, name=<span class="hljs-literal">None</span>, closed=<span class="hljs-literal">None</span>,                   **kwargs) â†’ pandas.core.indexes.datetimes.DatetimeIndex</code></pre><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.date_range.html">https://pandas.pydata.org/docs/reference/api/pandas.date_range.html</a></p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>start</td><td>å¼€å§‹æ—¥æœŸ</td></tr><tr><td>end</td><td>ç»“æŸæ—¥æœŸ</td></tr><tr><td>periods</td><td>int ç±»å‹ï¼Œè¦ç”Ÿæˆçš„æ—¶æ®µæ•°ï¼ˆå¤©ï¼‰</td></tr><tr><td>freq</td><td>é¢‘ç‡å­—ç¬¦ä¸²ï¼Œå³æŒ‰ç…§æŸç§ç‰¹å®šçš„é¢‘ç‡æ¥ç”Ÿæˆæ—¥æœŸï¼Œå–å€¼å‚è§<a href="#t4">ã€02x02ã€‘freq é¢‘ç‡éƒ¨åˆ†å–å€¼</a></td></tr><tr><td>tz</td><td>è®¾ç½®æ—¶åŒºï¼Œä¾‹å¦‚ â€œAsia/Hong_Kongâ€</td></tr><tr><td>normalize</td><td>bool ç±»å‹ï¼Œé»˜è®¤ Falseï¼Œæ˜¯å¦åœ¨ç”Ÿæˆæ—¥æœŸä¹‹å‰å¯¹å…¶è¿›è¡Œè§„èŒƒåŒ–ï¼ˆä»…ä¿ç•™å¹´æœˆæ—¥ï¼‰</td></tr><tr><td>name</td><td>ç»“æœ DatetimeIndex çš„åç§°</td></tr><tr><td>closed</td><td><code>None</code>ï¼šé»˜è®¤å€¼ï¼ŒåŒæ—¶ä¿ç•™å¼€å§‹æ—¥æœŸå’Œç»“æŸæ—¥æœŸ<br><code>'left'</code>ï¼šä¿ç•™å¼€å§‹æ—¥æœŸï¼Œä¸ä¿ç•™ç»“æŸæ—¥æœŸ<br><code>'right'</code>ï¼šä¿ç•™ç»“æŸæ—¥æœŸï¼Œä¸ä¿ç•™å¼€å§‹æ—¥æœŸ</td></tr></tbody></table><p>ç®€å•ç¤ºä¾‹ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.date_range(start=<span class="hljs-string">&#x27;1/1/2018&#x27;</span>, end=<span class="hljs-string">&#x27;1/08/2018&#x27;</span>)DatetimeIndex([<span class="hljs-string">&#x27;2018-01-01&#x27;</span>, <span class="hljs-string">&#x27;2018-01-02&#x27;</span>, <span class="hljs-string">&#x27;2018-01-03&#x27;</span>, <span class="hljs-string">&#x27;2018-01-04&#x27;</span>,               <span class="hljs-string">&#x27;2018-01-05&#x27;</span>, <span class="hljs-string">&#x27;2018-01-06&#x27;</span>, <span class="hljs-string">&#x27;2018-01-07&#x27;</span>, <span class="hljs-string">&#x27;2018-01-08&#x27;</span>],              dtype=<span class="hljs-string">&#x27;datetime64[ns]&#x27;</span>, freq=<span class="hljs-string">&#x27;D&#x27;</span>)</code></pre><p>æŒ‡å®š <code>periods</code> å‚æ•°ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.date_range(start=<span class="hljs-string">&#x27;2012-04-01&#x27;</span>, periods=<span class="hljs-number">20</span>)DatetimeIndex([<span class="hljs-string">&#x27;2012-04-01&#x27;</span>, <span class="hljs-string">&#x27;2012-04-02&#x27;</span>, <span class="hljs-string">&#x27;2012-04-03&#x27;</span>, <span class="hljs-string">&#x27;2012-04-04&#x27;</span>,               <span class="hljs-string">&#x27;2012-04-05&#x27;</span>, <span class="hljs-string">&#x27;2012-04-06&#x27;</span>, <span class="hljs-string">&#x27;2012-04-07&#x27;</span>, <span class="hljs-string">&#x27;2012-04-08&#x27;</span>,               <span class="hljs-string">&#x27;2012-04-09&#x27;</span>, <span class="hljs-string">&#x27;2012-04-10&#x27;</span>, <span class="hljs-string">&#x27;2012-04-11&#x27;</span>, <span class="hljs-string">&#x27;2012-04-12&#x27;</span>,               <span class="hljs-string">&#x27;2012-04-13&#x27;</span>, <span class="hljs-string">&#x27;2012-04-14&#x27;</span>, <span class="hljs-string">&#x27;2012-04-15&#x27;</span>, <span class="hljs-string">&#x27;2012-04-16&#x27;</span>,               <span class="hljs-string">&#x27;2012-04-17&#x27;</span>, <span class="hljs-string">&#x27;2012-04-18&#x27;</span>, <span class="hljs-string">&#x27;2012-04-19&#x27;</span>, <span class="hljs-string">&#x27;2012-04-20&#x27;</span>],              dtype=<span class="hljs-string">&#x27;datetime64[ns]&#x27;</span>, freq=<span class="hljs-string">&#x27;D&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.date_range(end=<span class="hljs-string">&#x27;2012-06-01&#x27;</span>, periods=<span class="hljs-number">20</span>)DatetimeIndex([<span class="hljs-string">&#x27;2012-05-13&#x27;</span>, <span class="hljs-string">&#x27;2012-05-14&#x27;</span>, <span class="hljs-string">&#x27;2012-05-15&#x27;</span>, <span class="hljs-string">&#x27;2012-05-16&#x27;</span>,               <span class="hljs-string">&#x27;2012-05-17&#x27;</span>, <span class="hljs-string">&#x27;2012-05-18&#x27;</span>, <span class="hljs-string">&#x27;2012-05-19&#x27;</span>, <span class="hljs-string">&#x27;2012-05-20&#x27;</span>,               <span class="hljs-string">&#x27;2012-05-21&#x27;</span>, <span class="hljs-string">&#x27;2012-05-22&#x27;</span>, <span class="hljs-string">&#x27;2012-05-23&#x27;</span>, <span class="hljs-string">&#x27;2012-05-24&#x27;</span>,               <span class="hljs-string">&#x27;2012-05-25&#x27;</span>, <span class="hljs-string">&#x27;2012-05-26&#x27;</span>, <span class="hljs-string">&#x27;2012-05-27&#x27;</span>, <span class="hljs-string">&#x27;2012-05-28&#x27;</span>,               <span class="hljs-string">&#x27;2012-05-29&#x27;</span>, <span class="hljs-string">&#x27;2012-05-30&#x27;</span>, <span class="hljs-string">&#x27;2012-05-31&#x27;</span>, <span class="hljs-string">&#x27;2012-06-01&#x27;</span>],              dtype=<span class="hljs-string">&#x27;datetime64[ns]&#x27;</span>, freq=<span class="hljs-string">&#x27;D&#x27;</span>)&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>pd.date_range(start=<span class="hljs-string">&#x27;2018-04-24&#x27;</span>, end=<span class="hljs-string">&#x27;2018-04-27&#x27;</span>, periods=<span class="hljs-number">3</span>)DatetimeIndex([<span class="hljs-string">&#x27;2018-04-24 00:00:00&#x27;</span>, <span class="hljs-string">&#x27;2018-04-25 12:00:00&#x27;</span>, <span class="hljs-string">&#x27;2018-04-27 00:00:00&#x27;</span>],              dtype=<span class="hljs-string">&#x27;datetime64[ns]&#x27;</span>, freq=<span class="hljs-literal">None</span>)&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>pd.date_range(start=<span class="hljs-string">&#x27;2018-04-24&#x27;</span>, end=<span class="hljs-string">&#x27;2018-04-28&#x27;</span>, periods=<span class="hljs-number">3</span>)DatetimeIndex([<span class="hljs-string">&#x27;2018-04-24&#x27;</span>, <span class="hljs-string">&#x27;2018-04-26&#x27;</span>, <span class="hljs-string">&#x27;2018-04-28&#x27;</span>], dtype=<span class="hljs-string">&#x27;datetime64[ns]&#x27;</span>, freq=<span class="hljs-literal">None</span>)</code></pre><p>æŒ‡å®š <code>freq='M'</code> ä¼šæŒ‰ç…§æ¯æœˆæœ€åä¸€ä¸ªæ—¥å†æ—¥çš„é¢‘ç‡ç”Ÿæˆæ—¥æœŸï¼ŒæŒ‡å®š <code>freq='3M'</code> ä¼šæ¯éš”3ä¸ªæœˆæŒ‰ç…§æ¯æœˆæœ€åä¸€ä¸ªæ—¥å†æ—¥çš„é¢‘ç‡ç”Ÿæˆæ—¥æœŸï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.date_range(start=<span class="hljs-string">&#x27;1/1/2018&#x27;</span>, periods=<span class="hljs-number">5</span>, freq=<span class="hljs-string">&#x27;M&#x27;</span>)DatetimeIndex([<span class="hljs-string">&#x27;2018-01-31&#x27;</span>, <span class="hljs-string">&#x27;2018-02-28&#x27;</span>, <span class="hljs-string">&#x27;2018-03-31&#x27;</span>, <span class="hljs-string">&#x27;2018-04-30&#x27;</span>,               <span class="hljs-string">&#x27;2018-05-31&#x27;</span>],              dtype=<span class="hljs-string">&#x27;datetime64[ns]&#x27;</span>, freq=<span class="hljs-string">&#x27;M&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.date_range(start=<span class="hljs-string">&#x27;1/1/2018&#x27;</span>, periods=<span class="hljs-number">5</span>, freq=<span class="hljs-string">&#x27;3M&#x27;</span>)DatetimeIndex([<span class="hljs-string">&#x27;2018-01-31&#x27;</span>, <span class="hljs-string">&#x27;2018-04-30&#x27;</span>, <span class="hljs-string">&#x27;2018-07-31&#x27;</span>, <span class="hljs-string">&#x27;2018-10-31&#x27;</span>,               <span class="hljs-string">&#x27;2019-01-31&#x27;</span>],              dtype=<span class="hljs-string">&#x27;datetime64[ns]&#x27;</span>, freq=<span class="hljs-string">&#x27;3M&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span></code></pre><p>ä½¿ç”¨ <code>tz</code> å‚æ•°è®¾ç½®æ—¶åŒºï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.date_range(start=<span class="hljs-string">&#x27;1/1/2018&#x27;</span>, periods=<span class="hljs-number">5</span>, tz=<span class="hljs-string">&#x27;Asia/Tokyo&#x27;</span>)DatetimeIndex([<span class="hljs-string">&#x27;2018-01-01 00:00:00+09:00&#x27;</span>, <span class="hljs-string">&#x27;2018-01-02 00:00:00+09:00&#x27;</span>,               <span class="hljs-string">&#x27;2018-01-03 00:00:00+09:00&#x27;</span>, <span class="hljs-string">&#x27;2018-01-04 00:00:00+09:00&#x27;</span>,               <span class="hljs-string">&#x27;2018-01-05 00:00:00+09:00&#x27;</span>],              dtype=<span class="hljs-string">&#x27;datetime64[ns, Asia/Tokyo]&#x27;</span>, freq=<span class="hljs-string">&#x27;D&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.date_range(start=<span class="hljs-string">&#x27;6/24/2020&#x27;</span>, periods=<span class="hljs-number">5</span>, tz=<span class="hljs-string">&#x27;Asia/Hong_Kong&#x27;</span>)DatetimeIndex([<span class="hljs-string">&#x27;2020-06-24 00:00:00+08:00&#x27;</span>, <span class="hljs-string">&#x27;2020-06-25 00:00:00+08:00&#x27;</span>,               <span class="hljs-string">&#x27;2020-06-26 00:00:00+08:00&#x27;</span>, <span class="hljs-string">&#x27;2020-06-27 00:00:00+08:00&#x27;</span>,               <span class="hljs-string">&#x27;2020-06-28 00:00:00+08:00&#x27;</span>],              dtype=<span class="hljs-string">&#x27;datetime64[ns, Asia/Hong_Kong]&#x27;</span>, freq=<span class="hljs-string">&#x27;D&#x27;</span>)</code></pre><p>è®¾ç½® <code>normalize</code> å‚æ•°ï¼Œåœ¨ç”Ÿæˆæ—¶é—´æˆ³ä¹‹å‰å¯¹å…¶è¿›è¡Œæ ¼å¼åŒ–æ“ä½œï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.date_range(<span class="hljs-string">&#x27;2020-06-24 12:56:31&#x27;</span>, periods=<span class="hljs-number">5</span>, normalize=<span class="hljs-literal">True</span>)DatetimeIndex([<span class="hljs-string">&#x27;2020-06-24&#x27;</span>, <span class="hljs-string">&#x27;2020-06-25&#x27;</span>, <span class="hljs-string">&#x27;2020-06-26&#x27;</span>, <span class="hljs-string">&#x27;2020-06-27&#x27;</span>,               <span class="hljs-string">&#x27;2020-06-28&#x27;</span>],              dtype=<span class="hljs-string">&#x27;datetime64[ns]&#x27;</span>, freq=<span class="hljs-string">&#x27;D&#x27;</span>)</code></pre><p>è®¾ç½® <code>closed</code> å‚æ•°ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.date_range(start=<span class="hljs-string">&#x27;2020-06-20&#x27;</span>, end=<span class="hljs-string">&#x27;2020-06-24&#x27;</span>, closed=<span class="hljs-literal">None</span>)DatetimeIndex([<span class="hljs-string">&#x27;2020-06-20&#x27;</span>, <span class="hljs-string">&#x27;2020-06-21&#x27;</span>, <span class="hljs-string">&#x27;2020-06-22&#x27;</span>, <span class="hljs-string">&#x27;2020-06-23&#x27;</span>,               <span class="hljs-string">&#x27;2020-06-24&#x27;</span>],              dtype=<span class="hljs-string">&#x27;datetime64[ns]&#x27;</span>, freq=<span class="hljs-string">&#x27;D&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.date_range(start=<span class="hljs-string">&#x27;2020-06-20&#x27;</span>, end=<span class="hljs-string">&#x27;2020-06-24&#x27;</span>, closed=<span class="hljs-string">&#x27;left&#x27;</span>)DatetimeIndex([<span class="hljs-string">&#x27;2020-06-20&#x27;</span>, <span class="hljs-string">&#x27;2020-06-21&#x27;</span>, <span class="hljs-string">&#x27;2020-06-22&#x27;</span>, <span class="hljs-string">&#x27;2020-06-23&#x27;</span>], dtype=<span class="hljs-string">&#x27;datetime64[ns]&#x27;</span>, freq=<span class="hljs-string">&#x27;D&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.date_range(start=<span class="hljs-string">&#x27;2020-06-20&#x27;</span>, end=<span class="hljs-string">&#x27;2020-06-24&#x27;</span>, closed=<span class="hljs-string">&#x27;right&#x27;</span>)DatetimeIndex([<span class="hljs-string">&#x27;2020-06-21&#x27;</span>, <span class="hljs-string">&#x27;2020-06-22&#x27;</span>, <span class="hljs-string">&#x27;2020-06-23&#x27;</span>, <span class="hljs-string">&#x27;2020-06-24&#x27;</span>], dtype=<span class="hljs-string">&#x27;datetime64[ns]&#x27;</span>, freq=<span class="hljs-string">&#x27;D&#x27;</span>)</code></pre><h3><span id="02x05-suo-yin-yu-qie-pian"><font color="#4876FF">ã€02x05ã€‘ç´¢å¼•ä¸åˆ‡ç‰‡</font></span></h3><p>Pandas æœ€åŸºæœ¬çš„æ—¶é—´åºåˆ—ç±»å‹å°±æ˜¯ä»¥æ—¶é—´æˆ³ï¼ˆé€šå¸¸ä»¥ Python å­—ç¬¦ä¸²æˆ– datatime å¯¹è±¡è¡¨ç¤ºï¼‰ä¸ºç´¢å¼•çš„Seriesï¼Œè¿™äº› datetime å¯¹è±¡å®é™…ä¸Šæ˜¯è¢«æ”¾åœ¨ DatetimeIndex ä¸­çš„ï¼Œå¯ä»¥ä½¿ç”¨ç±»ä¼¼ pandas.Series å¯¹è±¡çš„åˆ‡ç‰‡æ–¹æ³•å¯¹å…¶è¿›è¡Œç´¢å¼•ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>dates = [datetime(<span class="hljs-number">2011</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>), datetime(<span class="hljs-number">2011</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>),             datetime(<span class="hljs-number">2011</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>), datetime(<span class="hljs-number">2011</span>, <span class="hljs-number">1</span>, <span class="hljs-number">8</span>),             datetime(<span class="hljs-number">2011</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>), datetime(<span class="hljs-number">2011</span>, <span class="hljs-number">1</span>, <span class="hljs-number">12</span>)]<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series(np.random.randn(<span class="hljs-number">6</span>), index=dates)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">2011</span>-01-02   -<span class="hljs-number">0.407110</span><span class="hljs-number">2011</span>-01-05   -<span class="hljs-number">0.186661</span><span class="hljs-number">2011</span>-01-07   -<span class="hljs-number">0.731080</span><span class="hljs-number">2011</span>-01-08    <span class="hljs-number">0.860970</span><span class="hljs-number">2011</span>-01-<span class="hljs-number">10</span>    <span class="hljs-number">1.929973</span><span class="hljs-number">2011</span>-01-<span class="hljs-number">12</span>   -<span class="hljs-number">0.168599</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.indexDatetimeIndex([<span class="hljs-string">&#x27;2011-01-02&#x27;</span>, <span class="hljs-string">&#x27;2011-01-05&#x27;</span>, <span class="hljs-string">&#x27;2011-01-07&#x27;</span>, <span class="hljs-string">&#x27;2011-01-08&#x27;</span>,               <span class="hljs-string">&#x27;2011-01-10&#x27;</span>, <span class="hljs-string">&#x27;2011-01-12&#x27;</span>],              dtype=<span class="hljs-string">&#x27;datetime64[ns]&#x27;</span>, freq=<span class="hljs-literal">None</span>)&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj.index[<span class="hljs-number">0</span>]Timestamp(<span class="hljs-string">&#x27;2011-01-02 00:00:00&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.index[<span class="hljs-number">0</span>:<span class="hljs-number">3</span>]DatetimeIndex([<span class="hljs-string">&#x27;2011-01-02&#x27;</span>, <span class="hljs-string">&#x27;2011-01-05&#x27;</span>, <span class="hljs-string">&#x27;2011-01-07&#x27;</span>], dtype=<span class="hljs-string">&#x27;datetime64[ns]&#x27;</span>, freq=<span class="hljs-literal">None</span>)</code></pre><p>å¦å¤–è¿˜å¯ä»¥ä¼ å…¥ä¸€ä¸ªå¯ä»¥è¢«è§£é‡Šä¸ºæ—¥æœŸçš„å­—ç¬¦ä¸²ï¼Œæˆ–è€…åªéœ€ä¼ å…¥â€œå¹´â€æˆ–â€œå¹´æœˆâ€å³å¯è½»æ¾é€‰å–æ•°æ®çš„åˆ‡ç‰‡ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series(np.random.randn(<span class="hljs-number">1000</span>), index=pd.date_range(<span class="hljs-string">&#x27;1/1/2000&#x27;</span>, periods=<span class="hljs-number">1000</span>))<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">2000</span>-01-01   -<span class="hljs-number">1.142284</span><span class="hljs-number">2000</span>-01-02    <span class="hljs-number">1.198785</span><span class="hljs-number">2000</span>-01-03    <span class="hljs-number">2.466909</span><span class="hljs-number">2000</span>-01-04   -<span class="hljs-number">0.086728</span><span class="hljs-number">2000</span>-01-05   -<span class="hljs-number">0.978437</span>                ...   <span class="hljs-number">2002</span>-09-<span class="hljs-number">22</span>   -<span class="hljs-number">0.252240</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">23</span>    <span class="hljs-number">0.148561</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">24</span>   -<span class="hljs-number">1.330409</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">25</span>   -<span class="hljs-number">0.673471</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">26</span>   -<span class="hljs-number">0.253271</span>Freq: D, Length: <span class="hljs-number">1000</span>, dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-string">&#x27;26/9/2002&#x27;</span>]-<span class="hljs-number">0.25327100684233356</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-string">&#x27;2002&#x27;</span>]<span class="hljs-number">2002</span>-01-01    <span class="hljs-number">1.058715</span><span class="hljs-number">2002</span>-01-02    <span class="hljs-number">0.900859</span><span class="hljs-number">2002</span>-01-03    <span class="hljs-number">1.993508</span><span class="hljs-number">2002</span>-01-04   -<span class="hljs-number">0.103211</span><span class="hljs-number">2002</span>-01-05   -<span class="hljs-number">0.950090</span>                ...   <span class="hljs-number">2002</span>-09-<span class="hljs-number">22</span>   -<span class="hljs-number">0.252240</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">23</span>    <span class="hljs-number">0.148561</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">24</span>   -<span class="hljs-number">1.330409</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">25</span>   -<span class="hljs-number">0.673471</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">26</span>   -<span class="hljs-number">0.253271</span>Freq: D, Length: <span class="hljs-number">269</span>, dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-string">&#x27;2002-09&#x27;</span>]<span class="hljs-number">2002</span>-09-01   -<span class="hljs-number">0.995528</span><span class="hljs-number">2002</span>-09-02    <span class="hljs-number">0.501528</span><span class="hljs-number">2002</span>-09-03   -<span class="hljs-number">0.486753</span><span class="hljs-number">2002</span>-09-04   -<span class="hljs-number">1.083906</span><span class="hljs-number">2002</span>-09-05    <span class="hljs-number">1.458975</span><span class="hljs-number">2002</span>-09-06   -<span class="hljs-number">1.331685</span><span class="hljs-number">2002</span>-09-07    <span class="hljs-number">0.195338</span><span class="hljs-number">2002</span>-09-08   -<span class="hljs-number">0.429613</span><span class="hljs-number">2002</span>-09-09    <span class="hljs-number">1.125823</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">10</span>    <span class="hljs-number">1.607051</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">11</span>    <span class="hljs-number">0.530387</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">12</span>   -<span class="hljs-number">0.015938</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">13</span>    <span class="hljs-number">1.781043</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">14</span>   -<span class="hljs-number">0.277123</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">15</span>    <span class="hljs-number">0.344569</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">16</span>   -<span class="hljs-number">1.010810</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">17</span>    <span class="hljs-number">0.463001</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">18</span>    <span class="hljs-number">1.883636</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">19</span>    <span class="hljs-number">0.274520</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">20</span>    <span class="hljs-number">0.624184</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">21</span>   -<span class="hljs-number">1.203057</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">22</span>   -<span class="hljs-number">0.252240</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">23</span>    <span class="hljs-number">0.148561</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">24</span>   -<span class="hljs-number">1.330409</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">25</span>   -<span class="hljs-number">0.673471</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">26</span>   -<span class="hljs-number">0.253271</span>Freq: D, dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-string">&#x27;20/9/2002&#x27;</span>:<span class="hljs-string">&#x27;26/9/2002&#x27;</span>]<span class="hljs-number">2002</span>-09-<span class="hljs-number">20</span>    <span class="hljs-number">0.624184</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">21</span>   -<span class="hljs-number">1.203057</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">22</span>   -<span class="hljs-number">0.252240</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">23</span>    <span class="hljs-number">0.148561</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">24</span>   -<span class="hljs-number">1.330409</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">25</span>   -<span class="hljs-number">0.673471</span><span class="hljs-number">2002</span>-09-<span class="hljs-number">26</span>   -<span class="hljs-number">0.253271</span>Freq: D, dtype: float64</code></pre><h3><span id="02x06-yi-dong-shu-ju-yu-shu-ju-pian-yi"><font color="#4876FF">ã€02x06ã€‘ç§»åŠ¨æ•°æ®ä¸æ•°æ®åç§»</font></span></h3><p>ç§»åŠ¨ï¼ˆshiftingï¼‰æŒ‡çš„æ˜¯æ²¿ç€æ—¶é—´è½´å°†æ•°æ®å‰ç§»æˆ–åç§»ã€‚Series å’Œ DataFrame éƒ½æœ‰ä¸€ä¸ª shift æ–¹æ³•ç”¨äºæ‰§è¡Œå•çº¯çš„å‰ç§»æˆ–åç§»æ“ä½œï¼Œä¿æŒç´¢å¼•ä¸å˜ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series(np.random.randn(<span class="hljs-number">4</span>),            index=pd.date_range(<span class="hljs-string">&#x27;1/1/2000&#x27;</span>, periods=<span class="hljs-number">4</span>, freq=<span class="hljs-string">&#x27;M&#x27;</span>))<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">2000</span>-01-<span class="hljs-number">31</span>   -<span class="hljs-number">0.100217</span><span class="hljs-number">2000</span>-02-<span class="hljs-number">29</span>    <span class="hljs-number">1.177834</span><span class="hljs-number">2000</span>-03-<span class="hljs-number">31</span>   -<span class="hljs-number">0.644353</span><span class="hljs-number">2000</span>-04-<span class="hljs-number">30</span>   -<span class="hljs-number">1.954679</span>Freq: M, dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.shift(<span class="hljs-number">2</span>)<span class="hljs-number">2000</span>-01-<span class="hljs-number">31</span>         NaN<span class="hljs-number">2000</span>-02-<span class="hljs-number">29</span>         NaN<span class="hljs-number">2000</span>-03-<span class="hljs-number">31</span>   -<span class="hljs-number">0.100217</span><span class="hljs-number">2000</span>-04-<span class="hljs-number">30</span>    <span class="hljs-number">1.177834</span>Freq: M, dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.shift(-<span class="hljs-number">2</span>)<span class="hljs-number">2000</span>-01-<span class="hljs-number">31</span>   -<span class="hljs-number">0.644353</span><span class="hljs-number">2000</span>-02-<span class="hljs-number">29</span>   -<span class="hljs-number">1.954679</span><span class="hljs-number">2000</span>-03-<span class="hljs-number">31</span>         NaN<span class="hljs-number">2000</span>-04-<span class="hljs-number">30</span>         NaNFreq: M, dtype: float64</code></pre><p>å› ä¸ºç®€å•çš„ç§»ä½æ“ä½œä¸ä¼šä¿®æ”¹ç´¢å¼•ï¼Œæ‰€ä»¥éƒ¨åˆ†æ•°æ®ä¼šè¢«ä¸¢å¼ƒå¹¶å¼•å…¥ NaNï¼ˆç¼ºå¤±å€¼ï¼‰ã€‚å› æ­¤ï¼Œå¦‚æœé¢‘ç‡å·²çŸ¥ï¼Œåˆ™å¯ä»¥å°†å…¶ä¼ ç»™ shift ä»¥ä¾¿å®ç°å¯¹æ—¶é—´æˆ³è¿›è¡Œä½ç§»è€Œä¸æ˜¯å¯¹æ•°æ®è¿›è¡Œç®€å•ä½ç§»ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series(np.random.randn(<span class="hljs-number">4</span>),            index=pd.date_range(<span class="hljs-string">&#x27;1/1/2000&#x27;</span>, periods=<span class="hljs-number">4</span>, freq=<span class="hljs-string">&#x27;M&#x27;</span>))<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">2000</span>-01-<span class="hljs-number">31</span>   -<span class="hljs-number">0.100217</span><span class="hljs-number">2000</span>-02-<span class="hljs-number">29</span>    <span class="hljs-number">1.177834</span><span class="hljs-number">2000</span>-03-<span class="hljs-number">31</span>   -<span class="hljs-number">0.644353</span><span class="hljs-number">2000</span>-04-<span class="hljs-number">30</span>   -<span class="hljs-number">1.954679</span>Freq: M, dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.shift(<span class="hljs-number">2</span>, freq=<span class="hljs-string">&#x27;M&#x27;</span>)<span class="hljs-number">2000</span>-03-<span class="hljs-number">31</span>   -<span class="hljs-number">0.100217</span><span class="hljs-number">2000</span>-04-<span class="hljs-number">30</span>    <span class="hljs-number">1.177834</span><span class="hljs-number">2000</span>-05-<span class="hljs-number">31</span>   -<span class="hljs-number">0.644353</span><span class="hljs-number">2000</span>-06-<span class="hljs-number">30</span>   -<span class="hljs-number">1.954679</span>Freq: M, dtype: float64</code></pre><p>Pandas ä¸­çš„é¢‘ç‡æ˜¯ç”±ä¸€ä¸ªåŸºç¡€é¢‘ç‡ï¼ˆbase frequencyï¼‰å’Œä¸€ä¸ªä¹˜æ•°ç»„æˆçš„ã€‚åŸºç¡€é¢‘ç‡é€šå¸¸ä»¥ä¸€ä¸ªå­—ç¬¦ä¸²åˆ«åè¡¨ç¤ºï¼Œæ¯”å¦‚ <code>&quot;M&quot;</code> è¡¨ç¤ºæ¯æœˆï¼Œ<code>&quot;H&quot;</code> è¡¨ç¤ºæ¯å°æ—¶ã€‚å¯¹äºæ¯ä¸ªåŸºç¡€é¢‘ç‡ï¼Œéƒ½æœ‰ä¸€ä¸ªè¢«ç§°ä¸ºæ—¥æœŸåç§»é‡ï¼ˆdate offsetï¼‰çš„å¯¹è±¡ä¸ä¹‹å¯¹åº”ã€‚ä¾‹å¦‚ï¼ŒæŒ‰å°æ—¶è®¡ç®—çš„é¢‘ç‡å¯ä»¥ç”¨ <code>Hour</code> ç±»è¡¨ç¤ºï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> pandas.tseries.offsets <span class="hljs-keyword">import</span> Hour, Minute<span class="hljs-meta">&gt;&gt;&gt; </span>hour = Hour()<span class="hljs-meta">&gt;&gt;&gt; </span>hour&lt;Hour&gt;<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>four_hours = Hour(<span class="hljs-number">4</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>four_hours&lt;<span class="hljs-number">4</span> * Hours&gt;</code></pre><p>ä¸€èˆ¬æ¥è¯´ï¼Œæ— éœ€æ˜ç¡®åˆ›å»ºè¿™æ ·çš„å¯¹è±¡ï¼Œåªéœ€ä½¿ç”¨è¯¸å¦‚ <code>&quot;H&quot;</code> æˆ– <code>&quot;4H&quot;</code> è¿™æ ·çš„å­—ç¬¦ä¸²åˆ«åå³å¯ã€‚åœ¨åŸºç¡€é¢‘ç‡å‰é¢æ”¾ä¸Šä¸€ä¸ªæ•´æ•°å³å¯åˆ›å»ºå€æ•°ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.date_range(<span class="hljs-string">&#x27;2000-01-01&#x27;</span>, <span class="hljs-string">&#x27;2000-01-03 23:59&#x27;</span>, freq=<span class="hljs-string">&#x27;4h&#x27;</span>)DatetimeIndex([<span class="hljs-string">&#x27;2000-01-01 00:00:00&#x27;</span>, <span class="hljs-string">&#x27;2000-01-01 04:00:00&#x27;</span>,               <span class="hljs-string">&#x27;2000-01-01 08:00:00&#x27;</span>, <span class="hljs-string">&#x27;2000-01-01 12:00:00&#x27;</span>,               <span class="hljs-string">&#x27;2000-01-01 16:00:00&#x27;</span>, <span class="hljs-string">&#x27;2000-01-01 20:00:00&#x27;</span>,               <span class="hljs-string">&#x27;2000-01-02 00:00:00&#x27;</span>, <span class="hljs-string">&#x27;2000-01-02 04:00:00&#x27;</span>,               <span class="hljs-string">&#x27;2000-01-02 08:00:00&#x27;</span>, <span class="hljs-string">&#x27;2000-01-02 12:00:00&#x27;</span>,               <span class="hljs-string">&#x27;2000-01-02 16:00:00&#x27;</span>, <span class="hljs-string">&#x27;2000-01-02 20:00:00&#x27;</span>,               <span class="hljs-string">&#x27;2000-01-03 00:00:00&#x27;</span>, <span class="hljs-string">&#x27;2000-01-03 04:00:00&#x27;</span>,               <span class="hljs-string">&#x27;2000-01-03 08:00:00&#x27;</span>, <span class="hljs-string">&#x27;2000-01-03 12:00:00&#x27;</span>,               <span class="hljs-string">&#x27;2000-01-03 16:00:00&#x27;</span>, <span class="hljs-string">&#x27;2000-01-03 20:00:00&#x27;</span>],              dtype=<span class="hljs-string">&#x27;datetime64[ns]&#x27;</span>, freq=<span class="hljs-string">&#x27;4H&#x27;</span>)</code></pre><p>å¤§éƒ¨åˆ†åç§»é‡å¯¹è±¡éƒ½å¯é€šè¿‡åŠ æ³•è¿›è¡Œè¿æ¥ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> pandas.tseries.offsets <span class="hljs-keyword">import</span> Hour, Minute<span class="hljs-meta">&gt;&gt;&gt; </span>Hour(<span class="hljs-number">2</span>) + Minute(<span class="hljs-number">30</span>)&lt;<span class="hljs-number">150</span> * Minutes&gt;</code></pre><p>å¯¹äº <code>freq</code> å‚æ•°ä¹Ÿå¯ä»¥ä¼ å…¥é¢‘ç‡å­—ç¬¦ä¸²ï¼ˆå¦‚ <code>&quot;2h30min&quot;</code>ï¼‰ï¼Œè¿™ç§å­—ç¬¦ä¸²å¯ä»¥è¢«é«˜æ•ˆåœ°è§£æä¸ºç­‰æ•ˆçš„è¡¨è¾¾å¼ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.date_range(<span class="hljs-string">&#x27;2000-01-01&#x27;</span>, periods=<span class="hljs-number">10</span>, freq=<span class="hljs-string">&#x27;1h30min&#x27;</span>)DatetimeIndex([<span class="hljs-string">&#x27;2000-01-01 00:00:00&#x27;</span>, <span class="hljs-string">&#x27;2000-01-01 01:30:00&#x27;</span>,               <span class="hljs-string">&#x27;2000-01-01 03:00:00&#x27;</span>, <span class="hljs-string">&#x27;2000-01-01 04:30:00&#x27;</span>,               <span class="hljs-string">&#x27;2000-01-01 06:00:00&#x27;</span>, <span class="hljs-string">&#x27;2000-01-01 07:30:00&#x27;</span>,               <span class="hljs-string">&#x27;2000-01-01 09:00:00&#x27;</span>, <span class="hljs-string">&#x27;2000-01-01 10:30:00&#x27;</span>,               <span class="hljs-string">&#x27;2000-01-01 12:00:00&#x27;</span>, <span class="hljs-string">&#x27;2000-01-01 13:30:00&#x27;</span>],              dtype=<span class="hljs-string">&#x27;datetime64[ns]&#x27;</span>, freq=<span class="hljs-string">&#x27;90T&#x27;</span>)</code></pre><p>è¿™ç§åç§»é‡è¿˜å¯ä»¥ç”¨åœ¨ datetime æˆ– Timestamp å¯¹è±¡ä¸Šï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> pandas.tseries.offsets <span class="hljs-keyword">import</span> Day, MonthEnd<span class="hljs-meta">&gt;&gt;&gt; </span>now = datetime(<span class="hljs-number">2011</span>, <span class="hljs-number">11</span>, <span class="hljs-number">17</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>now + <span class="hljs-number">3</span> * Day()Timestamp(<span class="hljs-string">&#x27;2011-11-20 00:00:00&#x27;</span>)</code></pre><p>å¦‚æœåŠ çš„æ˜¯é”šç‚¹åç§»é‡ï¼Œæ¯”å¦‚ MonthEndï¼Œç¬¬ä¸€æ¬¡å¢é‡ä¼šå°†åŸæ—¥æœŸå‘å‰æ»šåŠ¨åˆ°ç¬¦åˆé¢‘ç‡è§„åˆ™çš„ä¸‹ä¸€ä¸ªæ—¥æœŸï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> pandas.tseries.offsets <span class="hljs-keyword">import</span> Day, MonthEnd<span class="hljs-meta">&gt;&gt;&gt; </span>now = datetime(<span class="hljs-number">2011</span>, <span class="hljs-number">11</span>, <span class="hljs-number">17</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>now + MonthEnd()Timestamp(<span class="hljs-string">&#x27;2011-11-30 00:00:00&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>now + MonthEnd(<span class="hljs-number">2</span>)Timestamp(<span class="hljs-string">&#x27;2011-12-31 00:00:00&#x27;</span>)</code></pre><p>é€šè¿‡é”šç‚¹åç§»é‡çš„ rollforward å’Œ rollback æ–¹æ³•ï¼Œå¯æ˜ç¡®åœ°å°†æ—¥æœŸå‘å‰æˆ–å‘åæ»šåŠ¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> pandas.tseries.offsets <span class="hljs-keyword">import</span> Day, MonthEnd<span class="hljs-meta">&gt;&gt;&gt; </span>now = datetime(<span class="hljs-number">2011</span>, <span class="hljs-number">11</span>, <span class="hljs-number">17</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>offset = MonthEnd()<span class="hljs-meta">&gt;&gt;&gt; </span>offset.rollforward(now)Timestamp(<span class="hljs-string">&#x27;2011-11-30 00:00:00&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>offset.rollback(now)Timestamp(<span class="hljs-string">&#x27;2011-10-31 00:00:00&#x27;</span>)</code></pre><p>ä¸ <code>groupby</code> æ–¹æ³•ç»“åˆä½¿ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> pandas.tseries.offsets <span class="hljs-keyword">import</span> Day, MonthEnd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series(np.random.randn(<span class="hljs-number">20</span>),            index=pd.date_range(<span class="hljs-string">&#x27;1/15/2000&#x27;</span>, periods=<span class="hljs-number">20</span>, freq=<span class="hljs-string">&#x27;4d&#x27;</span>))<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">2000</span>-01-<span class="hljs-number">15</span>   -<span class="hljs-number">0.591729</span><span class="hljs-number">2000</span>-01-<span class="hljs-number">19</span>   -<span class="hljs-number">0.775844</span><span class="hljs-number">2000</span>-01-<span class="hljs-number">23</span>   -<span class="hljs-number">0.745603</span><span class="hljs-number">2000</span>-01-<span class="hljs-number">27</span>   -<span class="hljs-number">0.076439</span><span class="hljs-number">2000</span>-01-<span class="hljs-number">31</span>    <span class="hljs-number">1.796417</span><span class="hljs-number">2000</span>-02-04   -<span class="hljs-number">0.500349</span><span class="hljs-number">2000</span>-02-08    <span class="hljs-number">0.515851</span><span class="hljs-number">2000</span>-02-<span class="hljs-number">12</span>   -<span class="hljs-number">0.344171</span><span class="hljs-number">2000</span>-02-<span class="hljs-number">16</span>    <span class="hljs-number">0.419657</span><span class="hljs-number">2000</span>-02-<span class="hljs-number">20</span>    <span class="hljs-number">0.307288</span><span class="hljs-number">2000</span>-02-<span class="hljs-number">24</span>    <span class="hljs-number">0.115113</span><span class="hljs-number">2000</span>-02-<span class="hljs-number">28</span>   -<span class="hljs-number">0.362585</span><span class="hljs-number">2000</span>-03-03    <span class="hljs-number">1.074892</span><span class="hljs-number">2000</span>-03-07    <span class="hljs-number">1.111366</span><span class="hljs-number">2000</span>-03-<span class="hljs-number">11</span>    <span class="hljs-number">0.949910</span><span class="hljs-number">2000</span>-03-<span class="hljs-number">15</span>   -<span class="hljs-number">1.535727</span><span class="hljs-number">2000</span>-03-<span class="hljs-number">19</span>    <span class="hljs-number">0.545944</span><span class="hljs-number">2000</span>-03-<span class="hljs-number">23</span>   -<span class="hljs-number">0.810139</span><span class="hljs-number">2000</span>-03-<span class="hljs-number">27</span>   -<span class="hljs-number">1.260627</span><span class="hljs-number">2000</span>-03-<span class="hljs-number">31</span>   -<span class="hljs-number">0.128403</span>Freq: 4D, dtype: float64&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>offset = MonthEnd()<span class="hljs-meta">&gt;&gt;&gt; </span>obj.groupby(offset.rollforward).mean()<span class="hljs-number">2000</span>-01-<span class="hljs-number">31</span>   -<span class="hljs-number">0.078640</span><span class="hljs-number">2000</span>-02-<span class="hljs-number">29</span>    <span class="hljs-number">0.021543</span><span class="hljs-number">2000</span>-03-<span class="hljs-number">31</span>   -<span class="hljs-number">0.006598</span>dtype: float64</code></pre><h3><span id="02x07-shi-qu-chu-li"><font color="#4876FF">ã€02x07ã€‘æ—¶åŒºå¤„ç†</font></span></h3><p>åœ¨ Python ä¸­ï¼Œæ—¶åŒºä¿¡æ¯æ¥è‡ªç¬¬ä¸‰æ–¹åº“ pytzï¼Œä½¿ç”¨ <code>pytz.common_timezones</code> æ–¹æ³•å¯ä»¥æŸ¥çœ‹æ‰€æœ‰çš„æ—¶åŒºåç§°ï¼Œä½¿ç”¨ <code>pytz.timezone</code> æ–¹æ³•ä» pytz ä¸­è·å–æ—¶åŒºå¯¹è±¡ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pytz<span class="hljs-meta">&gt;&gt;&gt; </span>pytz.common_timezones[<span class="hljs-string">&#x27;Africa/Abidjan&#x27;</span>, <span class="hljs-string">&#x27;Africa/Accra&#x27;</span>, <span class="hljs-string">&#x27;Africa/Addis_Ababa&#x27;</span>, ..., <span class="hljs-string">&#x27;UTC&#x27;</span>]&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>tz = pytz.timezone(<span class="hljs-string">&#x27;Asia/Shanghai&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>tz&lt;DstTzInfo <span class="hljs-string">&#x27;Asia/Shanghai&#x27;</span> LMT+<span class="hljs-number">8</span>:06:<span class="hljs-number">00</span> STD&gt;  <span class="hljs-comment"># è¡¨ç¤ºä¸ UTC æ—¶é—´ç›¸å·®8å°æ—¶6åˆ†</span></code></pre><p>åœ¨ <code>date_range</code> æ–¹æ³•ä¸­ï¼Œ<code>tz</code> å‚æ•°ç”¨äºæŒ‡å®šæ—¶åŒºï¼Œé»˜è®¤ä¸º Noneï¼Œå¯ä»¥ä½¿ç”¨ <code>tz_localize</code> æ–¹æ³•å°†å…¶è¿›è¡Œæœ¬åœ°åŒ–æ—¶åŒºè½¬æ¢ï¼Œå¦‚ä¸‹ç¤ºä¾‹ä¸­ï¼Œå°†æ— æ—¶åŒºè½¬æœ¬åœ°åŒ– UTC æ—¶åŒºï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>rng = pd.date_range(<span class="hljs-string">&#x27;3/9/2012 9:30&#x27;</span>, periods=<span class="hljs-number">6</span>, freq=<span class="hljs-string">&#x27;D&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>ts = pd.Series(np.random.randn(<span class="hljs-built_in">len</span>(rng)), index=rng)<span class="hljs-meta">&gt;&gt;&gt; </span>ts<span class="hljs-number">2012</span>-03-09 09:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>   -<span class="hljs-number">1.527913</span><span class="hljs-number">2012</span>-03-<span class="hljs-number">10</span> 09:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>   -<span class="hljs-number">1.116101</span><span class="hljs-number">2012</span>-03-<span class="hljs-number">11</span> 09:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>    <span class="hljs-number">0.359358</span><span class="hljs-number">2012</span>-03-<span class="hljs-number">12</span> 09:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>   -<span class="hljs-number">0.475920</span><span class="hljs-number">2012</span>-03-<span class="hljs-number">13</span> 09:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>   -<span class="hljs-number">0.336570</span><span class="hljs-number">2012</span>-03-<span class="hljs-number">14</span> 09:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>   -<span class="hljs-number">1.075952</span>Freq: D, dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(ts.index.tz)<span class="hljs-literal">None</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>ts_utc = ts.tz_localize(<span class="hljs-string">&#x27;UTC&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>ts_utc<span class="hljs-number">2012</span>-03-09 09:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>+<span class="hljs-number">00</span>:<span class="hljs-number">00</span>   -<span class="hljs-number">1.527913</span><span class="hljs-number">2012</span>-03-<span class="hljs-number">10</span> 09:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>+<span class="hljs-number">00</span>:<span class="hljs-number">00</span>   -<span class="hljs-number">1.116101</span><span class="hljs-number">2012</span>-03-<span class="hljs-number">11</span> 09:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>+<span class="hljs-number">00</span>:<span class="hljs-number">00</span>    <span class="hljs-number">0.359358</span><span class="hljs-number">2012</span>-03-<span class="hljs-number">12</span> 09:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>+<span class="hljs-number">00</span>:<span class="hljs-number">00</span>   -<span class="hljs-number">0.475920</span><span class="hljs-number">2012</span>-03-<span class="hljs-number">13</span> 09:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>+<span class="hljs-number">00</span>:<span class="hljs-number">00</span>   -<span class="hljs-number">0.336570</span><span class="hljs-number">2012</span>-03-<span class="hljs-number">14</span> 09:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>+<span class="hljs-number">00</span>:<span class="hljs-number">00</span>   -<span class="hljs-number">1.075952</span>Freq: D, dtype: float64&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>ts_utc.indexDatetimeIndex([<span class="hljs-string">&#x27;2012-03-09 09:30:00+00:00&#x27;</span>, <span class="hljs-string">&#x27;2012-03-10 09:30:00+00:00&#x27;</span>,               <span class="hljs-string">&#x27;2012-03-11 09:30:00+00:00&#x27;</span>, <span class="hljs-string">&#x27;2012-03-12 09:30:00+00:00&#x27;</span>,               <span class="hljs-string">&#x27;2012-03-13 09:30:00+00:00&#x27;</span>, <span class="hljs-string">&#x27;2012-03-14 09:30:00+00:00&#x27;</span>],              dtype=<span class="hljs-string">&#x27;datetime64[ns, UTC]&#x27;</span>, freq=<span class="hljs-string">&#x27;D&#x27;</span>)</code></pre><p>æ—¶é—´åºåˆ—è¢«æœ¬åœ°åŒ–åˆ°æŸä¸ªç‰¹å®šæ—¶åŒºåï¼Œå°±å¯ä»¥ç”¨ <code>tz_convert</code> æ–¹æ³•å°†å…¶è½¬æ¢åˆ°åˆ«çš„æ—¶åŒºäº†ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>rng = pd.date_range(<span class="hljs-string">&#x27;3/9/2012 9:30&#x27;</span>, periods=<span class="hljs-number">6</span>, freq=<span class="hljs-string">&#x27;D&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>ts = pd.Series(np.random.randn(<span class="hljs-built_in">len</span>(rng)), index=rng)<span class="hljs-meta">&gt;&gt;&gt; </span>ts<span class="hljs-number">2012</span>-03-09 09:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>    <span class="hljs-number">0.480303</span><span class="hljs-number">2012</span>-03-<span class="hljs-number">10</span> 09:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>   -<span class="hljs-number">1.461039</span><span class="hljs-number">2012</span>-03-<span class="hljs-number">11</span> 09:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>   -<span class="hljs-number">1.512749</span><span class="hljs-number">2012</span>-03-<span class="hljs-number">12</span> 09:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>   -<span class="hljs-number">2.185421</span><span class="hljs-number">2012</span>-03-<span class="hljs-number">13</span> 09:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>    <span class="hljs-number">1.657845</span><span class="hljs-number">2012</span>-03-<span class="hljs-number">14</span> 09:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>    <span class="hljs-number">0.175633</span>Freq: D, dtype: float64&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>ts.tz_localize(<span class="hljs-string">&#x27;UTC&#x27;</span>).tz_convert(<span class="hljs-string">&#x27;Asia/Shanghai&#x27;</span>)<span class="hljs-number">2012</span>-03-09 <span class="hljs-number">17</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>+08:<span class="hljs-number">00</span>    <span class="hljs-number">0.480303</span><span class="hljs-number">2012</span>-03-<span class="hljs-number">10</span> <span class="hljs-number">17</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>+08:<span class="hljs-number">00</span>   -<span class="hljs-number">1.461039</span><span class="hljs-number">2012</span>-03-<span class="hljs-number">11</span> <span class="hljs-number">17</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>+08:<span class="hljs-number">00</span>   -<span class="hljs-number">1.512749</span><span class="hljs-number">2012</span>-03-<span class="hljs-number">12</span> <span class="hljs-number">17</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>+08:<span class="hljs-number">00</span>   -<span class="hljs-number">2.185421</span><span class="hljs-number">2012</span>-03-<span class="hljs-number">13</span> <span class="hljs-number">17</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>+08:<span class="hljs-number">00</span>    <span class="hljs-number">1.657845</span><span class="hljs-number">2012</span>-03-<span class="hljs-number">14</span> <span class="hljs-number">17</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>+08:<span class="hljs-number">00</span>    <span class="hljs-number">0.175633</span>Freq: D, dtype: float64</code></pre><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106947061</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h2><span id="03x00-period-gu-ding-shi-qi"><font color="#FF0000">ã€03x00ã€‘period å›ºå®šæ—¶æœŸ</font></span></h2><h3><span id="03x01-pandas-period"><font color="#4876FF">ã€03x01ã€‘pandas.Period</font></span></h3><p>å›ºå®šæ—¶æœŸï¼ˆperiodï¼‰è¡¨ç¤ºçš„æ˜¯æ—¶é—´åŒºé—´ï¼Œæ¯”å¦‚æ•°æ—¥ã€æ•°æœˆã€æ•°å­£ã€æ•°å¹´ç­‰ã€‚Period ç±»æ‰€è¡¨ç¤ºçš„å°±æ˜¯è¿™ç§æ•°æ®ç±»å‹ï¼Œå…¶æ„é€ å‡½æ•°éœ€è¦ç”¨åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–æ•´æ•°ã€‚</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">pandas</span>.<span class="hljs-title">Period</span>(<span class="hljs-params">value=<span class="hljs-literal">None</span>, freq=<span class="hljs-literal">None</span>, ordinal=<span class="hljs-literal">None</span>, </span></span><span class="hljs-params"><span class="hljs-class">year=<span class="hljs-literal">None</span>, month=<span class="hljs-literal">None</span>, quarter=<span class="hljs-literal">None</span>, </span></span><span class="hljs-params"><span class="hljs-class">day=<span class="hljs-literal">None</span>, hour=<span class="hljs-literal">None</span>, minute=<span class="hljs-literal">None</span>, second=<span class="hljs-literal">None</span></span>)</span></code></pre><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.Period.html">https://pandas.pydata.org/docs/reference/api/pandas.Period.html</a></p><p>å¸¸ç”¨å‚æ•°ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>value</td><td>æ—¶é—´æ®µ</td></tr><tr><td>freq</td><td>æ—¶é—´æˆ³å°†å…·æœ‰çš„åç§»é‡ï¼Œå¯ä»¥æ˜¯ strï¼Œæ—¥æœŸåç§»é‡ç±»å‹ï¼Œå–å€¼å‚è§<a href="#t4">ã€02x02ã€‘freq é¢‘ç‡éƒ¨åˆ†å–å€¼</a></td></tr></tbody></table><p>ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼ŒPeriod å¯¹è±¡è¡¨ç¤ºçš„æ˜¯ä»2020å¹´1æœˆ1æ—¥åˆ°2020å¹´12æœˆ31æ—¥ä¹‹é—´çš„æ•´æ®µæ—¶é—´</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Period(<span class="hljs-number">2020</span>, freq=<span class="hljs-string">&#x27;A-DEC&#x27;</span>)Period(<span class="hljs-string">&#x27;2020&#x27;</span>, <span class="hljs-string">&#x27;A-DEC&#x27;</span>)</code></pre><p>åˆ©ç”¨åŠ å‡æ³•å¯¹å…¶æŒ‰ç…§é¢‘ç‡è¿›è¡Œä½ç§»ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Period(<span class="hljs-number">2020</span>, freq=<span class="hljs-string">&#x27;A-DEC&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>objPeriod(<span class="hljs-string">&#x27;2020&#x27;</span>, <span class="hljs-string">&#x27;A-DEC&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj + <span class="hljs-number">5</span>Period(<span class="hljs-string">&#x27;2025&#x27;</span>, <span class="hljs-string">&#x27;A-DEC&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj - <span class="hljs-number">5</span>Period(<span class="hljs-string">&#x27;2015&#x27;</span>, <span class="hljs-string">&#x27;A-DEC&#x27;</span>)</code></pre><p>PeriodIndex ç±»ä¿å­˜äº†ä¸€ç»„ Periodï¼Œå®ƒå¯ä»¥åœ¨ä»»ä½• pandas æ•°æ®ç»“æ„ä¸­è¢«ç”¨ä½œè½´ç´¢å¼•ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>rng = [pd.Period(<span class="hljs-string">&#x27;2000-01&#x27;</span>), pd.Period(<span class="hljs-string">&#x27;2000-02&#x27;</span>), pd.Period(<span class="hljs-string">&#x27;2000-03&#x27;</span>),            pd.Period(<span class="hljs-string">&#x27;2000-04&#x27;</span>), pd.Period(<span class="hljs-string">&#x27;2000-05&#x27;</span>), pd.Period(<span class="hljs-string">&#x27;2000-06&#x27;</span>)]<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series(np.random.randn(<span class="hljs-number">6</span>), index=rng)<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">2000</span>-01    <span class="hljs-number">0.229092</span><span class="hljs-number">2000</span>-02    <span class="hljs-number">1.515498</span><span class="hljs-number">2000</span>-03   -<span class="hljs-number">0.334401</span><span class="hljs-number">2000</span>-04   -<span class="hljs-number">0.492681</span><span class="hljs-number">2000</span>-05   -<span class="hljs-number">2.012818</span><span class="hljs-number">2000</span>-06    <span class="hljs-number">0.338804</span>Freq: M, dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.indexPeriodIndex([<span class="hljs-string">&#x27;2000-01&#x27;</span>, <span class="hljs-string">&#x27;2000-02&#x27;</span>, <span class="hljs-string">&#x27;2000-03&#x27;</span>, <span class="hljs-string">&#x27;2000-04&#x27;</span>, <span class="hljs-string">&#x27;2000-05&#x27;</span>, <span class="hljs-string">&#x27;2000-06&#x27;</span>], dtype=<span class="hljs-string">&#x27;period[M]&#x27;</span>, freq=<span class="hljs-string">&#x27;M&#x27;</span>)</code></pre><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>values = [<span class="hljs-string">&#x27;2001Q3&#x27;</span>, <span class="hljs-string">&#x27;2002Q2&#x27;</span>, <span class="hljs-string">&#x27;2003Q1&#x27;</span>]<span class="hljs-meta">&gt;&gt;&gt; </span>index = pd.PeriodIndex(values, freq=<span class="hljs-string">&#x27;Q-DEC&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>indexPeriodIndex([<span class="hljs-string">&#x27;2001Q3&#x27;</span>, <span class="hljs-string">&#x27;2002Q2&#x27;</span>, <span class="hljs-string">&#x27;2003Q1&#x27;</span>], dtype=<span class="hljs-string">&#x27;period[Q-DEC]&#x27;</span>, freq=<span class="hljs-string">&#x27;Q-DEC&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span></code></pre><h3><span id="03x02-period-range"><font color="#4876FF">ã€03x02ã€‘period_range</font></span></h3><p><code>pandas.period_range</code> æ–¹æ³•å¯æ ¹æ®æŒ‡å®šçš„é¢‘ç‡ç”ŸæˆæŒ‡å®šé•¿åº¦çš„ PeriodIndexã€‚</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><p><code>pandas.period_range(start=None, end=None, periods=None, freq=None, name=None) â†’ pandas.core.indexes.period.PeriodIndex</code></p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.period_range.html">https://pandas.pydata.org/docs/reference/api/pandas.period_range.html</a></p><p>å¸¸ç”¨å‚æ•°ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>start</td><td>èµ·å§‹æ—¥æœŸ</td></tr><tr><td>end</td><td>ç»“æŸæ—¥æœŸ</td></tr><tr><td>periods</td><td>è¦ç”Ÿæˆçš„æ—¶æ®µæ•°</td></tr><tr><td>freq</td><td>æ—¶é—´æˆ³å°†å…·æœ‰çš„åç§»é‡ï¼Œå¯ä»¥æ˜¯ strï¼Œæ—¥æœŸåç§»é‡ç±»å‹ï¼Œå–å€¼å‚è§<a href="#t4">ã€02x02ã€‘freq é¢‘ç‡éƒ¨åˆ†å–å€¼</a></td></tr><tr><td>name</td><td>ç»“æœ PeriodIndex å¯¹è±¡åç§°</td></tr></tbody></table><p>ç®€å•åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.period_range(start=<span class="hljs-string">&#x27;2019-01-01&#x27;</span>, end=<span class="hljs-string">&#x27;2020-01-01&#x27;</span>, freq=<span class="hljs-string">&#x27;M&#x27;</span>)PeriodIndex([<span class="hljs-string">&#x27;2019-01&#x27;</span>, <span class="hljs-string">&#x27;2019-02&#x27;</span>, <span class="hljs-string">&#x27;2019-03&#x27;</span>, <span class="hljs-string">&#x27;2019-04&#x27;</span>, <span class="hljs-string">&#x27;2019-05&#x27;</span>, <span class="hljs-string">&#x27;2019-06&#x27;</span>,             <span class="hljs-string">&#x27;2019-07&#x27;</span>, <span class="hljs-string">&#x27;2019-08&#x27;</span>, <span class="hljs-string">&#x27;2019-09&#x27;</span>, <span class="hljs-string">&#x27;2019-10&#x27;</span>, <span class="hljs-string">&#x27;2019-11&#x27;</span>, <span class="hljs-string">&#x27;2019-12&#x27;</span>,             <span class="hljs-string">&#x27;2020-01&#x27;</span>],            dtype=<span class="hljs-string">&#x27;period[M]&#x27;</span>, freq=<span class="hljs-string">&#x27;M&#x27;</span>)&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>pd.period_range(start=pd.Period(<span class="hljs-string">&#x27;2017Q1&#x27;</span>, freq=<span class="hljs-string">&#x27;Q&#x27;</span>),                end=pd.Period(<span class="hljs-string">&#x27;2017Q2&#x27;</span>, freq=<span class="hljs-string">&#x27;Q&#x27;</span>), freq=<span class="hljs-string">&#x27;M&#x27;</span>)PeriodIndex([<span class="hljs-string">&#x27;2017-03&#x27;</span>, <span class="hljs-string">&#x27;2017-04&#x27;</span>, <span class="hljs-string">&#x27;2017-05&#x27;</span>, <span class="hljs-string">&#x27;2017-06&#x27;</span>], dtype=<span class="hljs-string">&#x27;period[M]&#x27;</span>, freq=<span class="hljs-string">&#x27;M&#x27;</span>)</code></pre><h3><span id="03x03-asfreq-shi-qi-pin-lu-zhuan-huan"><font color="#4876FF">ã€03x03ã€‘asfreq æ—¶æœŸé¢‘ç‡è½¬æ¢</font></span></h3><p>Period å’Œ PeriodIndex å¯¹è±¡éƒ½å¯ä»¥é€šè¿‡ asfreq æ–¹æ³•è¢«è½¬æ¢æˆåˆ«çš„é¢‘ç‡ã€‚</p><p>åŸºæœ¬è¯­æ³•ï¼š<code>PeriodIndex.asfreq(self, *args, **kwargs)</code></p><p>å¸¸ç”¨å‚æ•°ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>freq</td><td>æ–°çš„é¢‘ç‡ï¼ˆåç§»é‡ï¼‰ï¼Œå–å€¼å‚è§<a href="#t4">ã€02x02ã€‘freq é¢‘ç‡éƒ¨åˆ†å–å€¼</a></td></tr><tr><td>how</td><td>æŒ‰ç…§å¼€å§‹æˆ–è€…ç»“æŸå¯¹é½ï¼Œ<code>'E'</code> or <code>'END'</code> or <code>'FINISH'</code>ï¼›<code>'S'</code> or <code>'START'</code> or <code>'BEGIN'</code></td></tr></tbody></table><p>åº”ç”¨ç¤ºä¾‹ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pidx = pd.period_range(<span class="hljs-string">&#x27;2010-01-01&#x27;</span>, <span class="hljs-string">&#x27;2015-01-01&#x27;</span>, freq=<span class="hljs-string">&#x27;A&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>pidxPeriodIndex([<span class="hljs-string">&#x27;2010&#x27;</span>, <span class="hljs-string">&#x27;2011&#x27;</span>, <span class="hljs-string">&#x27;2012&#x27;</span>, <span class="hljs-string">&#x27;2013&#x27;</span>, <span class="hljs-string">&#x27;2014&#x27;</span>, <span class="hljs-string">&#x27;2015&#x27;</span>], dtype=<span class="hljs-string">&#x27;period[A-DEC]&#x27;</span>, freq=<span class="hljs-string">&#x27;A-DEC&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pidx.asfreq(<span class="hljs-string">&#x27;M&#x27;</span>)PeriodIndex([<span class="hljs-string">&#x27;2010-12&#x27;</span>, <span class="hljs-string">&#x27;2011-12&#x27;</span>, <span class="hljs-string">&#x27;2012-12&#x27;</span>, <span class="hljs-string">&#x27;2013-12&#x27;</span>, <span class="hljs-string">&#x27;2014-12&#x27;</span>, <span class="hljs-string">&#x27;2015-12&#x27;</span>], dtype=<span class="hljs-string">&#x27;period[M]&#x27;</span>, freq=<span class="hljs-string">&#x27;M&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pidx.asfreq(<span class="hljs-string">&#x27;M&#x27;</span>, how=<span class="hljs-string">&#x27;S&#x27;</span>)PeriodIndex([<span class="hljs-string">&#x27;2010-01&#x27;</span>, <span class="hljs-string">&#x27;2011-01&#x27;</span>, <span class="hljs-string">&#x27;2012-01&#x27;</span>, <span class="hljs-string">&#x27;2013-01&#x27;</span>, <span class="hljs-string">&#x27;2014-01&#x27;</span>, <span class="hljs-string">&#x27;2015-01&#x27;</span>], dtype=<span class="hljs-string">&#x27;period[M]&#x27;</span>, freq=<span class="hljs-string">&#x27;M&#x27;</span>)</code></pre><h3><span id="03x04-to-period-yu-to-timestamp"><font color="#4876FF">ã€03x04ã€‘to_period ä¸ to_timestamp()</font></span></h3><p><code>to_period</code> æ–¹æ³•å¯ä»¥å°† Timestampï¼ˆæ—¶é—´æˆ³ï¼‰ è½¬æ¢ä¸º Periodï¼ˆå›ºå®šæ—¶æœŸï¼‰ï¼›</p><p><code>to_timestamp</code> æ–¹æ³•å¯ä»¥å°† Periodï¼ˆå›ºå®šæ—¶æœŸï¼‰è½¬æ¢ä¸º Timestampï¼ˆæ—¶é—´æˆ³ï¼‰ ã€‚</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>rng = pd.date_range(<span class="hljs-string">&#x27;2000-01-01&#x27;</span>, periods=<span class="hljs-number">3</span>, freq=<span class="hljs-string">&#x27;M&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>ts = pd.Series(np.random.randn(<span class="hljs-number">3</span>), index=rng)<span class="hljs-meta">&gt;&gt;&gt; </span>ts<span class="hljs-number">2000</span>-01-<span class="hljs-number">31</span>    <span class="hljs-number">0.220759</span><span class="hljs-number">2000</span>-02-<span class="hljs-number">29</span>   -<span class="hljs-number">0.108221</span><span class="hljs-number">2000</span>-03-<span class="hljs-number">31</span>    <span class="hljs-number">0.819433</span>Freq: M, dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pts = ts.to_period()<span class="hljs-meta">&gt;&gt;&gt; </span>pts<span class="hljs-number">2000</span>-01    <span class="hljs-number">0.220759</span><span class="hljs-number">2000</span>-02   -<span class="hljs-number">0.108221</span><span class="hljs-number">2000</span>-03    <span class="hljs-number">0.819433</span>Freq: M, dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pts2 = pts.to_timestamp()<span class="hljs-meta">&gt;&gt;&gt; </span>pts2<span class="hljs-number">2000</span>-01-01    <span class="hljs-number">0.220759</span><span class="hljs-number">2000</span>-02-01   -<span class="hljs-number">0.108221</span><span class="hljs-number">2000</span>-03-01    <span class="hljs-number">0.819433</span>Freq: MS, dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>ts.indexDatetimeIndex([<span class="hljs-string">&#x27;2000-01-31&#x27;</span>, <span class="hljs-string">&#x27;2000-02-29&#x27;</span>, <span class="hljs-string">&#x27;2000-03-31&#x27;</span>], dtype=<span class="hljs-string">&#x27;datetime64[ns]&#x27;</span>, freq=<span class="hljs-string">&#x27;M&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pts.indexPeriodIndex([<span class="hljs-string">&#x27;2000-01&#x27;</span>, <span class="hljs-string">&#x27;2000-02&#x27;</span>, <span class="hljs-string">&#x27;2000-03&#x27;</span>], dtype=<span class="hljs-string">&#x27;period[M]&#x27;</span>, freq=<span class="hljs-string">&#x27;M&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pts2.indexDatetimeIndex([<span class="hljs-string">&#x27;2000-01-01&#x27;</span>, <span class="hljs-string">&#x27;2000-02-01&#x27;</span>, <span class="hljs-string">&#x27;2000-03-01&#x27;</span>], dtype=<span class="hljs-string">&#x27;datetime64[ns]&#x27;</span>, freq=<span class="hljs-string">&#x27;MS&#x27;</span>)</code></pre><h2><span id="04x00-timedelta-shi-jian-jian-ge"><font color="#FF0000">ã€04x00ã€‘timedelta æ—¶é—´é—´éš”</font></span></h2><h3><span id="04x01-pandas-timedelta"><font color="#4876FF">ã€04x01ã€‘pandas.Timedelta</font></span></h3><p>Timedelta è¡¨ç¤ºæŒç»­æ—¶é—´ï¼Œå³ä¸¤ä¸ªæ—¥æœŸæˆ–æ—¶é—´ä¹‹é—´çš„å·®ã€‚</p><p>Timedelta ç›¸å½“äº Python çš„ datetime.timedeltaï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä¸¤è€…å¯ä»¥äº’æ¢ã€‚</p><p>åŸºæœ¬è¯­æ³•ï¼š<code>class pandas.Timedelta(value=&lt;object object&gt;, unit=None, **kwargs)</code></p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.Timedelta.html">https://pandas.pydata.org/docs/reference/api/pandas.Timedelta.html</a></p><p>å¸¸ç”¨å‚æ•°ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>value</td><td>ä¼ å…¥çš„å€¼ï¼Œå¯ä»¥æ˜¯ Timedeltaï¼Œtimedeltaï¼Œnp.timedelta64ï¼Œstring æˆ– integer å¯¹è±¡</td></tr><tr><td>unit</td><td>ç”¨äºè®¾ç½® value çš„å•ä½ï¼Œå…·ä½“å–å€¼å‚è§å®˜æ–¹æ–‡æ¡£</td></tr></tbody></table><p>è¡¨ç¤ºä¸¤ä¸ª datetime å¯¹è±¡ä¹‹é—´çš„æ—¶é—´å·®ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.to_datetime(<span class="hljs-string">&#x27;2020-6-24&#x27;</span>) - pd.to_datetime(<span class="hljs-string">&#x27;2016-1-1&#x27;</span>)Timedelta(<span class="hljs-string">&#x27;1636 days 00:00:00&#x27;</span>)</code></pre><p>é€šè¿‡å­—ç¬¦ä¸²ä¼ é€’å‚æ•°ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Timedelta(<span class="hljs-string">&#x27;3 days 3 hours 3 minutes 30 seconds&#x27;</span>)Timedelta(<span class="hljs-string">&#x27;3 days 03:03:30&#x27;</span>)</code></pre><p>é€šè¿‡æ•´æ•°ä¼ é€’å‚æ•°ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Timedelta(<span class="hljs-number">5</span>,unit=<span class="hljs-string">&#x27;h&#x27;</span>)Timedelta(<span class="hljs-string">&#x27;0 days 05:00:00&#x27;</span>)</code></pre><p>è·å–å±æ€§ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Timedelta(<span class="hljs-string">&#x27;3 days 3 hours 3 minutes 30 seconds&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>objTimedelta(<span class="hljs-string">&#x27;3 days 03:03:30&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.days<span class="hljs-number">3</span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.seconds<span class="hljs-number">11010</span></code></pre><h3><span id="04x02-to-timedelta"><font color="#4876FF">ã€04x02ã€‘to_timedelta</font></span></h3><p>to_timedelta æ–¹æ³•å¯ä»¥å°†ä¼ å…¥çš„å¯¹è±¡è½¬æ¢æˆ timedelta å¯¹è±¡ã€‚</p><p>åŸºæœ¬è¯­æ³•ï¼š<code>pandas.to_timedelta(arg, unit='ns', errors='raise')</code></p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.to_timedelta.html">https://pandas.pydata.org/docs/reference/api/pandas.to_timedelta.html</a></p><p>å¸¸ç”¨å‚æ•°ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>arg</td><td>è¦è½¬æ¢ä¸º timedelta çš„å¯¹è±¡ï¼Œå¯ä»¥æ˜¯ strï¼Œtimedeltaï¼Œlist-like æˆ– Series å¯¹è±¡</td></tr><tr><td>unit</td><td>ç”¨äºè®¾ç½® arg çš„å•ä½ï¼Œå…·ä½“å–å€¼å‚è§å®˜æ–¹æ–‡æ¡£</td></tr><tr><td>errors</td><td>å¦‚æœ arg ä¸æ»¡è¶³æ—¶é—´æˆ³çš„å½¢å¼ï¼Œæ˜¯å¦ä¼šå‘ç”Ÿå¼‚å¸¸<br><code>ignore</code>ï¼šä¸å¼•å‘å¼‚å¸¸ï¼Œè¿”å›åŸå§‹è¾“å…¥ï¼›<code>raise</code>ï¼šæ— æ•ˆè§£æå°†å¼•å‘å¼‚å¸¸ï¼ˆé»˜è®¤ï¼‰ï¼›<code>coerce</code>ï¼šæ— æ•ˆè§£æå°†è¢«è®¾ç½®ä¸ºNaT</td></tr></tbody></table><p>å°†å•ä¸ªå­—ç¬¦ä¸²è§£æä¸º timedelta å¯¹è±¡ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.to_timedelta(<span class="hljs-string">&#x27;1 days 06:05:01.00003&#x27;</span>)Timedelta(<span class="hljs-string">&#x27;1 days 06:05:01.000030&#x27;</span>)&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>pd.to_timedelta(<span class="hljs-string">&#x27;15.5us&#x27;</span>)Timedelta(<span class="hljs-string">&#x27;0 days 00:00:00.000015&#x27;</span>)</code></pre><p>å°†å­—ç¬¦ä¸²åˆ—è¡¨æˆ–æ•°ç»„è§£æä¸º  timedelta å¯¹è±¡ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.to_timedelta([<span class="hljs-string">&#x27;1 days 06:05:01.00003&#x27;</span>, <span class="hljs-string">&#x27;15.5us&#x27;</span>, <span class="hljs-string">&#x27;nan&#x27;</span>])TimedeltaIndex([<span class="hljs-string">&#x27;1 days 06:05:01.000030&#x27;</span>, <span class="hljs-string">&#x27;0 days 00:00:00.000015&#x27;</span>, NaT], dtype=<span class="hljs-string">&#x27;timedelta64[ns]&#x27;</span>, freq=<span class="hljs-literal">None</span>)</code></pre><p>æŒ‡å®š <code>unit</code> å‚æ•°ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.to_timedelta(np.arange(<span class="hljs-number">5</span>), unit=<span class="hljs-string">&#x27;s&#x27;</span>)TimedeltaIndex([<span class="hljs-string">&#x27;00:00:00&#x27;</span>, <span class="hljs-string">&#x27;00:00:01&#x27;</span>, <span class="hljs-string">&#x27;00:00:02&#x27;</span>, <span class="hljs-string">&#x27;00:00:03&#x27;</span>, <span class="hljs-string">&#x27;00:00:04&#x27;</span>], dtype=<span class="hljs-string">&#x27;timedelta64[ns]&#x27;</span>, freq=<span class="hljs-literal">None</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.to_timedelta(np.arange(<span class="hljs-number">5</span>), unit=<span class="hljs-string">&#x27;d&#x27;</span>)TimedeltaIndex([<span class="hljs-string">&#x27;0 days&#x27;</span>, <span class="hljs-string">&#x27;1 days&#x27;</span>, <span class="hljs-string">&#x27;2 days&#x27;</span>, <span class="hljs-string">&#x27;3 days&#x27;</span>, <span class="hljs-string">&#x27;4 days&#x27;</span>], dtype=<span class="hljs-string">&#x27;timedelta64[ns]&#x27;</span>, freq=<span class="hljs-literal">None</span>)</code></pre><h3><span id="04x03-timedelta-range"><font color="#4876FF">ã€04x03ã€‘timedelta_range</font></span></h3><p><code>timedelta_range</code> æ–¹æ³•å¯æ ¹æ®æŒ‡å®šçš„é¢‘ç‡ç”ŸæˆæŒ‡å®šé•¿åº¦çš„ TimedeltaIndexã€‚</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre><code class="hljs python">pandas.timedelta_range(start=<span class="hljs-literal">None</span>, end=<span class="hljs-literal">None</span>, periods=<span class="hljs-literal">None</span>,                       freq=<span class="hljs-literal">None</span>, name=<span class="hljs-literal">None</span>, closed=<span class="hljs-literal">None</span>) â†’ pandas.core.indexes.timedeltas.TimedeltaIndex</code></pre><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.timedelta_range.html">https://pandas.pydata.org/docs/reference/api/pandas.timedelta_range.html</a></p><p>å¸¸ç”¨å‚æ•°ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>start</td><td>å¼€å§‹æ—¥æœŸ</td></tr><tr><td>end</td><td>ç»“æŸæ—¥æœŸ</td></tr><tr><td>periods</td><td>int ç±»å‹ï¼Œè¦ç”Ÿæˆçš„æ—¶æ®µæ•°</td></tr><tr><td>freq</td><td>é¢‘ç‡å­—ç¬¦ä¸²ï¼Œå³æŒ‰ç…§æŸç§ç‰¹å®šçš„é¢‘ç‡æ¥ç”Ÿæˆæ—¥æœŸï¼Œå–å€¼å‚è§<a href="#t4">ã€02x02ã€‘freq é¢‘ç‡éƒ¨åˆ†å–å€¼</a></td></tr><tr><td>name</td><td>ç»“æœ TimedeltaIndex çš„åç§°</td></tr><tr><td>closed</td><td><code>None</code>ï¼šé»˜è®¤å€¼ï¼ŒåŒæ—¶ä¿ç•™å¼€å§‹æ—¥æœŸå’Œç»“æŸæ—¥æœŸ<br><code>'left'</code>ï¼šä¿ç•™å¼€å§‹æ—¥æœŸï¼Œä¸ä¿ç•™ç»“æŸæ—¥æœŸ<br><code>'right'</code>ï¼šä¿ç•™ç»“æŸæ—¥æœŸï¼Œä¸ä¿ç•™å¼€å§‹æ—¥æœŸ</td></tr></tbody></table><p>åº”ç”¨ç¤ºä¾‹ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.timedelta_range(start=<span class="hljs-string">&#x27;1 day&#x27;</span>, periods=<span class="hljs-number">4</span>)TimedeltaIndex([<span class="hljs-string">&#x27;1 days&#x27;</span>, <span class="hljs-string">&#x27;2 days&#x27;</span>, <span class="hljs-string">&#x27;3 days&#x27;</span>, <span class="hljs-string">&#x27;4 days&#x27;</span>], dtype=<span class="hljs-string">&#x27;timedelta64[ns]&#x27;</span>, freq=<span class="hljs-string">&#x27;D&#x27;</span>)</code></pre><p>closed å‚æ•°æŒ‡å®šä¿ç•™å“ªä¸ªç«¯ç‚¹ã€‚é»˜è®¤ä¿ç•™ä¸¤ä¸ªç«¯ç‚¹ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.timedelta_range(start=<span class="hljs-string">&#x27;1 day&#x27;</span>, periods=<span class="hljs-number">4</span>, closed=<span class="hljs-string">&#x27;right&#x27;</span>)TimedeltaIndex([<span class="hljs-string">&#x27;2 days&#x27;</span>, <span class="hljs-string">&#x27;3 days&#x27;</span>, <span class="hljs-string">&#x27;4 days&#x27;</span>], dtype=<span class="hljs-string">&#x27;timedelta64[ns]&#x27;</span>, freq=<span class="hljs-string">&#x27;D&#x27;</span>)</code></pre><p>freq å‚æ•°æŒ‡å®š TimedeltaIndex çš„é¢‘ç‡ã€‚åªæ¥å—å›ºå®šé¢‘ç‡ï¼Œéå›ºå®šé¢‘ç‡å¦‚ <code>'M'</code> å°†ä¼šæŠ¥é”™ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.timedelta_range(start=<span class="hljs-string">&#x27;1 day&#x27;</span>, end=<span class="hljs-string">&#x27;2 days&#x27;</span>, freq=<span class="hljs-string">&#x27;6H&#x27;</span>)TimedeltaIndex([<span class="hljs-string">&#x27;1 days 00:00:00&#x27;</span>, <span class="hljs-string">&#x27;1 days 06:00:00&#x27;</span>, <span class="hljs-string">&#x27;1 days 12:00:00&#x27;</span>,                <span class="hljs-string">&#x27;1 days 18:00:00&#x27;</span>, <span class="hljs-string">&#x27;2 days 00:00:00&#x27;</span>],               dtype=<span class="hljs-string">&#x27;timedelta64[ns]&#x27;</span>, freq=<span class="hljs-string">&#x27;6H&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.timedelta_range(start=<span class="hljs-string">&#x27;1 day&#x27;</span>, end=<span class="hljs-string">&#x27;2 days&#x27;</span>, freq=<span class="hljs-string">&#x27;M&#x27;</span>)Traceback (most recent call last):...ValueError: &lt;MonthEnd&gt; <span class="hljs-keyword">is</span> a non-fixed frequency</code></pre><h2><span id="05x00-chong-cai-yang-ji-pin-lu-zhuan-huan"><font color="#FF0000">ã€05x00ã€‘é‡é‡‡æ ·åŠé¢‘ç‡è½¬æ¢</font></span></h2><p>é‡é‡‡æ ·ï¼ˆresamplingï¼‰æŒ‡çš„æ˜¯å°†æ—¶é—´åºåˆ—ä»ä¸€ä¸ªé¢‘ç‡è½¬æ¢åˆ°å¦ä¸€ä¸ªé¢‘ç‡çš„å¤„ç†è¿‡ç¨‹ã€‚å°†é«˜é¢‘ç‡æ•°æ®èšåˆåˆ°ä½é¢‘ç‡ç§°ä¸ºé™é‡‡æ ·ï¼ˆdownsamplingï¼‰ï¼Œè€Œå°†ä½é¢‘ç‡æ•°æ®è½¬æ¢åˆ°é«˜é¢‘ç‡åˆ™ç§°ä¸ºå‡é‡‡æ ·ï¼ˆupsamplingï¼‰ã€‚å¹¶ä¸æ˜¯æ‰€æœ‰çš„é‡é‡‡æ ·éƒ½èƒ½è¢«åˆ’åˆ†åˆ°è¿™ä¸¤ä¸ªå¤§ç±»ä¸­ã€‚ä¾‹å¦‚ï¼Œå°† W-WEDï¼ˆæ¯å‘¨ä¸‰ï¼‰è½¬æ¢ä¸º W-FRI æ—¢ä¸æ˜¯é™é‡‡æ ·ä¹Ÿä¸æ˜¯å‡é‡‡æ ·ã€‚</p><p>Pandas ä¸­æä¾›äº† resample æ–¹æ³•æ¥å¸®åŠ©æˆ‘ä»¬å®ç°é‡é‡‡æ ·ã€‚Pandas å¯¹è±¡éƒ½å¸¦æœ‰ä¸€ä¸ª resample æ–¹æ³•ï¼Œå®ƒæ˜¯å„ç§é¢‘ç‡è½¬æ¢å·¥ä½œçš„ä¸»åŠ›å‡½æ•°ã€‚</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre><code class="hljs python">Series.resample(self, rule, axis=<span class="hljs-number">0</span>,                 closed: <span class="hljs-type">Union</span>[<span class="hljs-built_in">str</span>, NoneType] = <span class="hljs-literal">None</span>,                 label: <span class="hljs-type">Union</span>[<span class="hljs-built_in">str</span>, NoneType] = <span class="hljs-literal">None</span>,                 convention: <span class="hljs-built_in">str</span> = <span class="hljs-string">&#x27;start&#x27;</span>,                 kind: <span class="hljs-type">Union</span>[<span class="hljs-built_in">str</span>, NoneType] = <span class="hljs-literal">None</span>,                 loffset=<span class="hljs-literal">None</span>, base: <span class="hljs-built_in">int</span> = <span class="hljs-number">0</span>,                 on=<span class="hljs-literal">None</span>, level=<span class="hljs-literal">None</span>)</code></pre><pre><code class="hljs python">DataFrame.resample(self, rule, axis=<span class="hljs-number">0</span>,                    closed: <span class="hljs-type">Union</span>[<span class="hljs-built_in">str</span>, NoneType] = <span class="hljs-literal">None</span>,                    label: <span class="hljs-type">Union</span>[<span class="hljs-built_in">str</span>, NoneType] = <span class="hljs-literal">None</span>,                    convention: <span class="hljs-built_in">str</span> = <span class="hljs-string">&#x27;start&#x27;</span>,                    kind: <span class="hljs-type">Union</span>[<span class="hljs-built_in">str</span>, NoneType] = <span class="hljs-literal">None</span>,                    loffset=<span class="hljs-literal">None</span>, base: <span class="hljs-built_in">int</span> = <span class="hljs-number">0</span>,                    on=<span class="hljs-literal">None</span>, level=<span class="hljs-literal">None</span>)</code></pre><p>å¸¸ç”¨å‚æ•°ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>rule</td><td></td></tr><tr><td>axis</td><td>é‡é‡‡æ ·çš„è½´ï¼Œé»˜è®¤ 0</td></tr><tr><td>closed</td><td>åœ¨é‡é‡‡æ ·ä¸­ï¼Œå„æ—¶é—´æ®µçš„å“ªä¸€ç«¯æ˜¯é—­åˆï¼ˆå³åŒ…å«ï¼‰çš„ï¼Œ<br>é™¤ <code>'M'</code>ã€<code>'A'</code>ã€<code>'Q'</code>ã€<code>'BM'</code>ã€<code>'BA'</code>ã€<code>'BQ'</code> å’Œ <code>'W'</code> é»˜è®¤å€¼ä¸º â€˜rightâ€™ å¤–ï¼Œå…¶ä»–é»˜è®¤å€¼ä¸º 'leftâ€˜</td></tr><tr><td>label</td><td>åœ¨é‡é‡‡æ ·ä¸­ï¼Œå¦‚ä½•è®¾ç½®èšåˆå€¼çš„æ ‡ç­¾ï¼Œ right æˆ– leftï¼Œé»˜è®¤ä¸º Noneï¼Œ<br>ä¾‹å¦‚ï¼Œ9:30 åˆ° 9:35 ä¹‹é—´çš„è¿™ 5 åˆ†é’Ÿä¼šè¢«æ ‡è®°ä¸º 9:30 æˆ– 9:35</td></tr><tr><td>convention</td><td>ä»…ç”¨äº PeriodIndexï¼ˆå›ºå®šæ—¶æœŸï¼‰ï¼Œå¯¹å‘¨æœŸè¿›è¡Œé‡é‡‡æ ·ï¼Œ<code>'start'</code> or <code>'s'</code>ï¼Œ<code>'end'</code> or <code>'e'</code></td></tr><tr><td>on</td><td>å¯¹äº DataFrame å¯¹è±¡ï¼Œå¯ç”¨è¯¥å‚æ•°æŒ‡å®šé‡é‡‡æ ·åçš„æ•°æ®çš„ indexï¼ˆè¡Œç´¢å¼•ï¼‰ ä¸ºåŸæ•°æ®ä¸­çš„æŸåˆ—</td></tr><tr><td>level</td><td>å¯¹äºå…·æœ‰å±‚çº§ç´¢å¼•ï¼ˆMultiIndexï¼‰çš„ DataFrame å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨è¯¥å‚æ•°æ¥æŒ‡å®šéœ€è¦åœ¨å“ªä¸ªçº§åˆ«ä¸Šè¿›è¡Œé‡æ–°é‡‡æ ·</td></tr></tbody></table><p>å°†åºåˆ—é‡é‡‡æ ·åˆ°ä¸‰åˆ†é’Ÿçš„é¢‘ç‡ï¼Œå¹¶å°†æ¯ä¸ªé¢‘ç‡çš„å€¼ç›¸åŠ ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>index = pd.date_range(<span class="hljs-string">&#x27;1/1/2000&#x27;</span>, periods=<span class="hljs-number">9</span>, freq=<span class="hljs-string">&#x27;T&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>series = pd.Series(<span class="hljs-built_in">range</span>(<span class="hljs-number">9</span>), index=index)<span class="hljs-meta">&gt;&gt;&gt; </span>series<span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>    <span class="hljs-number">0</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:01:<span class="hljs-number">00</span>    <span class="hljs-number">1</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:02:<span class="hljs-number">00</span>    <span class="hljs-number">2</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:03:<span class="hljs-number">00</span>    <span class="hljs-number">3</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:04:<span class="hljs-number">00</span>    <span class="hljs-number">4</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:05:<span class="hljs-number">00</span>    <span class="hljs-number">5</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:06:<span class="hljs-number">00</span>    <span class="hljs-number">6</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:07:<span class="hljs-number">00</span>    <span class="hljs-number">7</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:08:<span class="hljs-number">00</span>    <span class="hljs-number">8</span>Freq: T, dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>series.resample(<span class="hljs-string">&#x27;3T&#x27;</span>).<span class="hljs-built_in">sum</span>()<span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>     <span class="hljs-number">3</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:03:<span class="hljs-number">00</span>    <span class="hljs-number">12</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:06:<span class="hljs-number">00</span>    <span class="hljs-number">21</span>Freq: 3T, dtype: int64</code></pre><p>è®¾ç½® <code>label='right'</code>ï¼Œå³æ¯ä¸ªç´¢å¼• index ä¼šä½¿ç”¨é å³ä¾§ï¼ˆè¾ƒå¤§å€¼ï¼‰çš„æ ‡ç­¾ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>index = pd.date_range(<span class="hljs-string">&#x27;1/1/2000&#x27;</span>, periods=<span class="hljs-number">9</span>, freq=<span class="hljs-string">&#x27;T&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>series = pd.Series(<span class="hljs-built_in">range</span>(<span class="hljs-number">9</span>), index=index)<span class="hljs-meta">&gt;&gt;&gt; </span>series<span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>    <span class="hljs-number">0</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:01:<span class="hljs-number">00</span>    <span class="hljs-number">1</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:02:<span class="hljs-number">00</span>    <span class="hljs-number">2</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:03:<span class="hljs-number">00</span>    <span class="hljs-number">3</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:04:<span class="hljs-number">00</span>    <span class="hljs-number">4</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:05:<span class="hljs-number">00</span>    <span class="hljs-number">5</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:06:<span class="hljs-number">00</span>    <span class="hljs-number">6</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:07:<span class="hljs-number">00</span>    <span class="hljs-number">7</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:08:<span class="hljs-number">00</span>    <span class="hljs-number">8</span>Freq: T, dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>series.resample(<span class="hljs-string">&#x27;3T&#x27;</span>, label=<span class="hljs-string">&#x27;right&#x27;</span>).<span class="hljs-built_in">sum</span>()<span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:03:<span class="hljs-number">00</span>     <span class="hljs-number">3</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:06:<span class="hljs-number">00</span>    <span class="hljs-number">12</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:09:<span class="hljs-number">00</span>    <span class="hljs-number">21</span>Freq: 3T, dtype: int64</code></pre><p>è®¾ç½® <code>closed='right'</code>ï¼Œå³ç»“æœä¸­ä¼šåŒ…å«åŸæ•°æ®ä¸­æœ€å³ä¾§ï¼ˆè¾ƒå¤§ï¼‰çš„å€¼ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>index = pd.date_range(<span class="hljs-string">&#x27;1/1/2000&#x27;</span>, periods=<span class="hljs-number">9</span>, freq=<span class="hljs-string">&#x27;T&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>series = pd.Series(<span class="hljs-built_in">range</span>(<span class="hljs-number">9</span>), index=index)<span class="hljs-meta">&gt;&gt;&gt; </span>series<span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>    <span class="hljs-number">0</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:01:<span class="hljs-number">00</span>    <span class="hljs-number">1</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:02:<span class="hljs-number">00</span>    <span class="hljs-number">2</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:03:<span class="hljs-number">00</span>    <span class="hljs-number">3</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:04:<span class="hljs-number">00</span>    <span class="hljs-number">4</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:05:<span class="hljs-number">00</span>    <span class="hljs-number">5</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:06:<span class="hljs-number">00</span>    <span class="hljs-number">6</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:07:<span class="hljs-number">00</span>    <span class="hljs-number">7</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:08:<span class="hljs-number">00</span>    <span class="hljs-number">8</span>Freq: T, dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>series.resample(<span class="hljs-string">&#x27;3T&#x27;</span>, label=<span class="hljs-string">&#x27;right&#x27;</span>, closed=<span class="hljs-string">&#x27;right&#x27;</span>).<span class="hljs-built_in">sum</span>()<span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>     <span class="hljs-number">0</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:03:<span class="hljs-number">00</span>     <span class="hljs-number">6</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:06:<span class="hljs-number">00</span>    <span class="hljs-number">15</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:09:<span class="hljs-number">00</span>    <span class="hljs-number">15</span>Freq: 3T, dtype: int64</code></pre><p>ä»¥ä¸‹ç¤ºä¾‹å°†åºåˆ—é‡é‡‡æ ·åˆ°30ç§’çš„é¢‘ç‡ï¼Œ<code>asfreq()[0:5]</code> ç”¨äºé€‰æ‹©å‰5è¡Œæ•°æ®ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>index = pd.date_range(<span class="hljs-string">&#x27;1/1/2000&#x27;</span>, periods=<span class="hljs-number">9</span>, freq=<span class="hljs-string">&#x27;T&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>series = pd.Series(<span class="hljs-built_in">range</span>(<span class="hljs-number">9</span>), index=index)<span class="hljs-meta">&gt;&gt;&gt; </span>series<span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>    <span class="hljs-number">0</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:01:<span class="hljs-number">00</span>    <span class="hljs-number">1</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:02:<span class="hljs-number">00</span>    <span class="hljs-number">2</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:03:<span class="hljs-number">00</span>    <span class="hljs-number">3</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:04:<span class="hljs-number">00</span>    <span class="hljs-number">4</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:05:<span class="hljs-number">00</span>    <span class="hljs-number">5</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:06:<span class="hljs-number">00</span>    <span class="hljs-number">6</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:07:<span class="hljs-number">00</span>    <span class="hljs-number">7</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:08:<span class="hljs-number">00</span>    <span class="hljs-number">8</span>Freq: T, dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>series.resample(<span class="hljs-string">&#x27;30S&#x27;</span>).asfreq()[<span class="hljs-number">0</span>:<span class="hljs-number">5</span>]<span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>    <span class="hljs-number">0.0</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">30</span>    NaN<span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:01:<span class="hljs-number">00</span>    <span class="hljs-number">1.0</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:01:<span class="hljs-number">30</span>    NaN<span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:02:<span class="hljs-number">00</span>    <span class="hljs-number">2.0</span>Freq: 30S, dtype: float64</code></pre><p>ä½¿ç”¨ <code>pad</code> æ–¹æ³•å‘åå¡«å……ç¼ºå¤±å€¼ï¼ˆNaNï¼‰ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>index = pd.date_range(<span class="hljs-string">&#x27;1/1/2000&#x27;</span>, periods=<span class="hljs-number">9</span>, freq=<span class="hljs-string">&#x27;T&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>series = pd.Series(<span class="hljs-built_in">range</span>(<span class="hljs-number">9</span>), index=index)<span class="hljs-meta">&gt;&gt;&gt; </span>series<span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>    <span class="hljs-number">0</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:01:<span class="hljs-number">00</span>    <span class="hljs-number">1</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:02:<span class="hljs-number">00</span>    <span class="hljs-number">2</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:03:<span class="hljs-number">00</span>    <span class="hljs-number">3</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:04:<span class="hljs-number">00</span>    <span class="hljs-number">4</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:05:<span class="hljs-number">00</span>    <span class="hljs-number">5</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:06:<span class="hljs-number">00</span>    <span class="hljs-number">6</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:07:<span class="hljs-number">00</span>    <span class="hljs-number">7</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:08:<span class="hljs-number">00</span>    <span class="hljs-number">8</span>Freq: T, dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>series.resample(<span class="hljs-string">&#x27;30S&#x27;</span>).pad()[<span class="hljs-number">0</span>:<span class="hljs-number">5</span>]<span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>    <span class="hljs-number">0</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">30</span>    <span class="hljs-number">0</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:01:<span class="hljs-number">00</span>    <span class="hljs-number">1</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:01:<span class="hljs-number">30</span>    <span class="hljs-number">1</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:02:<span class="hljs-number">00</span>    <span class="hljs-number">2</span>Freq: 30S, dtype: int64</code></pre><p>ä½¿ç”¨ <code>bfill</code> æ–¹æ³•å‘å‰å¡«å……ç¼ºå¤±å€¼ï¼ˆNaNï¼‰ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>index = pd.date_range(<span class="hljs-string">&#x27;1/1/2000&#x27;</span>, periods=<span class="hljs-number">9</span>, freq=<span class="hljs-string">&#x27;T&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>series = pd.Series(<span class="hljs-built_in">range</span>(<span class="hljs-number">9</span>), index=index)<span class="hljs-meta">&gt;&gt;&gt; </span>series<span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>    <span class="hljs-number">0</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:01:<span class="hljs-number">00</span>    <span class="hljs-number">1</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:02:<span class="hljs-number">00</span>    <span class="hljs-number">2</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:03:<span class="hljs-number">00</span>    <span class="hljs-number">3</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:04:<span class="hljs-number">00</span>    <span class="hljs-number">4</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:05:<span class="hljs-number">00</span>    <span class="hljs-number">5</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:06:<span class="hljs-number">00</span>    <span class="hljs-number">6</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:07:<span class="hljs-number">00</span>    <span class="hljs-number">7</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:08:<span class="hljs-number">00</span>    <span class="hljs-number">8</span>Freq: T, dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>series.resample(<span class="hljs-string">&#x27;30S&#x27;</span>).bfill()[<span class="hljs-number">0</span>:<span class="hljs-number">5</span>]<span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>    <span class="hljs-number">0</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">30</span>    <span class="hljs-number">1</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:01:<span class="hljs-number">00</span>    <span class="hljs-number">1</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:01:<span class="hljs-number">30</span>    <span class="hljs-number">2</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:02:<span class="hljs-number">00</span>    <span class="hljs-number">2</span>Freq: 30S, dtype: int64</code></pre><p>é€šè¿‡ <code>apply</code> æ–¹æ³•ä¼ é€’è‡ªå®šä¹‰å‡½æ•°ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>index = pd.date_range(<span class="hljs-string">&#x27;1/1/2000&#x27;</span>, periods=<span class="hljs-number">9</span>, freq=<span class="hljs-string">&#x27;T&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>series = pd.Series(<span class="hljs-built_in">range</span>(<span class="hljs-number">9</span>), index=index)<span class="hljs-meta">&gt;&gt;&gt; </span>series<span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>    <span class="hljs-number">0</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:01:<span class="hljs-number">00</span>    <span class="hljs-number">1</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:02:<span class="hljs-number">00</span>    <span class="hljs-number">2</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:03:<span class="hljs-number">00</span>    <span class="hljs-number">3</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:04:<span class="hljs-number">00</span>    <span class="hljs-number">4</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:05:<span class="hljs-number">00</span>    <span class="hljs-number">5</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:06:<span class="hljs-number">00</span>    <span class="hljs-number">6</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:07:<span class="hljs-number">00</span>    <span class="hljs-number">7</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:08:<span class="hljs-number">00</span>    <span class="hljs-number">8</span>Freq: T, dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">custom_resampler</span>(<span class="hljs-params">array_like</span>):</span>    <span class="hljs-keyword">return</span> np.<span class="hljs-built_in">sum</span>(array_like) + <span class="hljs-number">5</span><span class="hljs-meta">&gt;&gt;&gt; </span>series.resample(<span class="hljs-string">&#x27;3T&#x27;</span>).apply(custom_resampler)<span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>     <span class="hljs-number">8</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:03:<span class="hljs-number">00</span>    <span class="hljs-number">17</span><span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:06:<span class="hljs-number">00</span>    <span class="hljs-number">26</span>Freq: 3T, dtype: int64</code></pre><p>convention å‚æ•°çš„åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>s = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], index=pd.period_range(<span class="hljs-string">&#x27;2012-01-01&#x27;</span>, freq=<span class="hljs-string">&#x27;A&#x27;</span>, periods=<span class="hljs-number">2</span>))<span class="hljs-meta">&gt;&gt;&gt; </span>s<span class="hljs-number">2012</span>    <span class="hljs-number">1</span><span class="hljs-number">2013</span>    <span class="hljs-number">2</span>Freq: A-DEC, dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>s.resample(<span class="hljs-string">&#x27;Q&#x27;</span>, convention=<span class="hljs-string">&#x27;start&#x27;</span>).asfreq()2012Q1    <span class="hljs-number">1.0</span>2012Q2    NaN2012Q3    NaN2012Q4    NaN2013Q1    <span class="hljs-number">2.0</span>2013Q2    NaN2013Q3    NaN2013Q4    NaNFreq: Q-DEC, dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>s.resample(<span class="hljs-string">&#x27;Q&#x27;</span>, convention=<span class="hljs-string">&#x27;end&#x27;</span>).asfreq()2012Q4    <span class="hljs-number">1.0</span>2013Q1    NaN2013Q2    NaN2013Q3    NaN2013Q4    <span class="hljs-number">2.0</span>Freq: Q-DEC, dtype: float64</code></pre><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>q = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>], index=pd.period_range(<span class="hljs-string">&#x27;2018-01-01&#x27;</span>, freq=<span class="hljs-string">&#x27;Q&#x27;</span>, periods=<span class="hljs-number">4</span>))<span class="hljs-meta">&gt;&gt;&gt; </span>q2018Q1    <span class="hljs-number">1</span>2018Q2    <span class="hljs-number">2</span>2018Q3    <span class="hljs-number">3</span>2018Q4    <span class="hljs-number">4</span>Freq: Q-DEC, dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>q.resample(<span class="hljs-string">&#x27;M&#x27;</span>, convention=<span class="hljs-string">&#x27;end&#x27;</span>).asfreq()<span class="hljs-number">2018</span>-03    <span class="hljs-number">1.0</span><span class="hljs-number">2018</span>-04    NaN<span class="hljs-number">2018</span>-05    NaN<span class="hljs-number">2018</span>-06    <span class="hljs-number">2.0</span><span class="hljs-number">2018</span>-07    NaN<span class="hljs-number">2018</span>-08    NaN<span class="hljs-number">2018</span>-09    <span class="hljs-number">3.0</span><span class="hljs-number">2018</span>-<span class="hljs-number">10</span>    NaN<span class="hljs-number">2018</span>-<span class="hljs-number">11</span>    NaN<span class="hljs-number">2018</span>-<span class="hljs-number">12</span>    <span class="hljs-number">4.0</span>Freq: M, dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>q.resample(<span class="hljs-string">&#x27;M&#x27;</span>, convention=<span class="hljs-string">&#x27;start&#x27;</span>).asfreq()<span class="hljs-number">2018</span>-01    <span class="hljs-number">1.0</span><span class="hljs-number">2018</span>-02    NaN<span class="hljs-number">2018</span>-03    NaN<span class="hljs-number">2018</span>-04    <span class="hljs-number">2.0</span><span class="hljs-number">2018</span>-05    NaN<span class="hljs-number">2018</span>-06    NaN<span class="hljs-number">2018</span>-07    <span class="hljs-number">3.0</span><span class="hljs-number">2018</span>-08    NaN<span class="hljs-number">2018</span>-09    NaN<span class="hljs-number">2018</span>-<span class="hljs-number">10</span>    <span class="hljs-number">4.0</span><span class="hljs-number">2018</span>-<span class="hljs-number">11</span>    NaN<span class="hljs-number">2018</span>-<span class="hljs-number">12</span>    NaNFreq: M, dtype: float64</code></pre><p>å¯¹äº DataFrame å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨å…³é”®å­— on æ¥æŒ‡å®šåŸæ•°æ®ä¸­çš„æŸåˆ—ä¸ºé‡é‡‡æ ·åæ•°æ®çš„è¡Œç´¢å¼•ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>d = <span class="hljs-built_in">dict</span>(&#123;<span class="hljs-string">&#x27;price&#x27;</span>: [<span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">9</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">18</span>, <span class="hljs-number">17</span>, <span class="hljs-number">19</span>],            <span class="hljs-string">&#x27;volume&#x27;</span>: [<span class="hljs-number">50</span>, <span class="hljs-number">60</span>, <span class="hljs-number">40</span>, <span class="hljs-number">100</span>, <span class="hljs-number">50</span>, <span class="hljs-number">100</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>]&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>df = pd.DataFrame(d)<span class="hljs-meta">&gt;&gt;&gt; </span>df[<span class="hljs-string">&#x27;week_starting&#x27;</span>] = pd.date_range(<span class="hljs-string">&#x27;01/01/2018&#x27;</span>, periods=<span class="hljs-number">8</span>, freq=<span class="hljs-string">&#x27;W&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>df   price  volume week_starting<span class="hljs-number">0</span>     <span class="hljs-number">10</span>      <span class="hljs-number">50</span>    <span class="hljs-number">2018</span>-01-07<span class="hljs-number">1</span>     <span class="hljs-number">11</span>      <span class="hljs-number">60</span>    <span class="hljs-number">2018</span>-01-<span class="hljs-number">14</span><span class="hljs-number">2</span>      <span class="hljs-number">9</span>      <span class="hljs-number">40</span>    <span class="hljs-number">2018</span>-01-<span class="hljs-number">21</span><span class="hljs-number">3</span>     <span class="hljs-number">13</span>     <span class="hljs-number">100</span>    <span class="hljs-number">2018</span>-01-<span class="hljs-number">28</span><span class="hljs-number">4</span>     <span class="hljs-number">14</span>      <span class="hljs-number">50</span>    <span class="hljs-number">2018</span>-02-04<span class="hljs-number">5</span>     <span class="hljs-number">18</span>     <span class="hljs-number">100</span>    <span class="hljs-number">2018</span>-02-<span class="hljs-number">11</span><span class="hljs-number">6</span>     <span class="hljs-number">17</span>      <span class="hljs-number">40</span>    <span class="hljs-number">2018</span>-02-<span class="hljs-number">18</span><span class="hljs-number">7</span>     <span class="hljs-number">19</span>      <span class="hljs-number">50</span>    <span class="hljs-number">2018</span>-02-<span class="hljs-number">25</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>df.resample(<span class="hljs-string">&#x27;M&#x27;</span>, on=<span class="hljs-string">&#x27;week_starting&#x27;</span>).mean()               price  volumeweek_starting               <span class="hljs-number">2018</span>-01-<span class="hljs-number">31</span>     <span class="hljs-number">10.75</span>    <span class="hljs-number">62.5</span><span class="hljs-number">2018</span>-02-<span class="hljs-number">28</span>     <span class="hljs-number">17.00</span>    <span class="hljs-number">60.0</span></code></pre><p>å¯¹äºå…·æœ‰å±‚çº§ç´¢å¼•ï¼ˆMultiIndexï¼‰çš„ DataFrame å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨å…³é”®å­— <code>level</code> æ¥æŒ‡å®šéœ€è¦åœ¨å“ªä¸ªçº§åˆ«ä¸Šè¿›è¡Œé‡æ–°é‡‡æ ·ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>days = pd.date_range(<span class="hljs-string">&#x27;1/1/2000&#x27;</span>, periods=<span class="hljs-number">4</span>, freq=<span class="hljs-string">&#x27;D&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>d2 = <span class="hljs-built_in">dict</span>(&#123;<span class="hljs-string">&#x27;price&#x27;</span>: [<span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">9</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">18</span>, <span class="hljs-number">17</span>, <span class="hljs-number">19</span>],              <span class="hljs-string">&#x27;volume&#x27;</span>: [<span class="hljs-number">50</span>, <span class="hljs-number">60</span>, <span class="hljs-number">40</span>, <span class="hljs-number">100</span>, <span class="hljs-number">50</span>, <span class="hljs-number">100</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>]&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>df2 = pd.DataFrame(d2, index=pd.MultiIndex.from_product([days, [<span class="hljs-string">&#x27;morning&#x27;</span>, <span class="hljs-string">&#x27;afternoon&#x27;</span>]]))<span class="hljs-meta">&gt;&gt;&gt; </span>df2                      price  volume<span class="hljs-number">2000</span>-01-01 morning       <span class="hljs-number">10</span>      <span class="hljs-number">50</span>           afternoon     <span class="hljs-number">11</span>      <span class="hljs-number">60</span><span class="hljs-number">2000</span>-01-02 morning        <span class="hljs-number">9</span>      <span class="hljs-number">40</span>           afternoon     <span class="hljs-number">13</span>     <span class="hljs-number">100</span><span class="hljs-number">2000</span>-01-03 morning       <span class="hljs-number">14</span>      <span class="hljs-number">50</span>           afternoon     <span class="hljs-number">18</span>     <span class="hljs-number">100</span><span class="hljs-number">2000</span>-01-04 morning       <span class="hljs-number">17</span>      <span class="hljs-number">40</span>           afternoon     <span class="hljs-number">19</span>      <span class="hljs-number">50</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>df2.resample(<span class="hljs-string">&#x27;D&#x27;</span>, level=<span class="hljs-number">0</span>).<span class="hljs-built_in">sum</span>()            price  volume<span class="hljs-number">2000</span>-01-01     <span class="hljs-number">21</span>     <span class="hljs-number">110</span><span class="hljs-number">2000</span>-01-02     <span class="hljs-number">22</span>     <span class="hljs-number">140</span><span class="hljs-number">2000</span>-01-03     <span class="hljs-number">32</span>     <span class="hljs-number">150</span><span class="hljs-number">2000</span>-01-04     <span class="hljs-number">36</span>      <span class="hljs-number">90</span></code></pre><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106947061</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h2&gt;&lt;span id=&quot;wen-zhang-mu-lu&quot;&gt;æ–‡ç« ç›®å½•&lt;/span&gt;&lt;/h2&gt;
&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#font-color-ff0000-01x00-shi-jian-xu-lie-font&quot;&gt;&lt;font color=&quot;#</summary>
      
    
    
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    <category term="Pandas" scheme="https://www.itbob.cn/tags/Pandas/"/>
    
  </entry>
  
  <entry>
    <title>Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…«ï¼‰ï¼šæ•°æ®é‡å¡‘/é‡å¤æ•°æ®å¤„ç†/æ•°æ®æ›¿æ¢</title>
    <link href="https://www.itbob.cn/article/032/"/>
    <id>https://www.itbob.cn/article/032/</id>
    <published>2020-06-22T12:59:15.000Z</published>
    <updated>2022-05-22T12:43:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="wen-zhang-mu-lu">æ–‡ç« ç›®å½•</span></h2><!-- toc --><ul><li><a href="#font-color-ff0000-01x00-shu-ju-chong-su-font"><font color="#FF0000">ã€01x00ã€‘æ•°æ®é‡å¡‘</font></a><ul><li><a href="#font-color-4876ff-01x01-stack-font"><font color="#4876FF">ã€01x01ã€‘stack</font></a></li><li><a href="#font-color-4876ff-01x02-unstack-font"><font color="#4876FF">ã€01x02ã€‘unstack</font></a></li></ul></li><li><a href="#font-color-ff0000-02x00-chong-fu-shu-ju-chu-li-font"><font color="#FF0000">ã€02x00ã€‘é‡å¤æ•°æ®å¤„ç†</font></a><ul><li><a href="#font-color-4876ff-02x01-duplicated-font"><font color="#4876FF">ã€02x01ã€‘duplicated</font></a></li><li><a href="#font-color-4876ff-02x02-drop-duplicates-font"><font color="#4876FF">ã€02x02ã€‘drop_duplicates</font></a></li></ul></li><li><a href="#font-color-ff0000-03x00-shu-ju-ti-huan-font"><font color="#FF0000">ã€03x00ã€‘æ•°æ®æ›¿æ¢</font></a><ul><li><a href="#font-color-4876ff-03x01-replace-font"><font color="#4876FF">ã€03x01ã€‘replace</font></a></li><li><a href="#font-color-4876ff-03x02-where-font"><font color="#4876FF">ã€03x02ã€‘where</font></a></li><li><a href="#font-color-4876ff-03x03-mask-font"><font color="#4876FF">ã€03x03ã€‘mask</font></a></li></ul></li></ul><!-- tocstop --><hr><p>Pandas ç³»åˆ—æ–‡ç« ï¼š</p><ul><li><a href="https://www.itbob.cn/article/025/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸€ï¼‰ï¼šè®¤è¯† Pandas åŠå…¶ Seriesã€DataFrame å¯¹è±¡</a></li><li><a href="https://www.itbob.cn/article/026/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäºŒï¼‰ï¼šIndex ç´¢å¼•å¯¹è±¡ä»¥åŠå„ç§ç´¢å¼•æ“ä½œ</a></li><li><a href="https://www.itbob.cn/article/027/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸‰ï¼‰ï¼šç®—æœ¯è¿ç®—ä¸ç¼ºå¤±å€¼çš„å¤„ç†</a></li><li><a href="https://www.itbob.cn/article/028/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå››ï¼‰ï¼šå‡½æ•°åº”ç”¨ã€æ˜ å°„ã€æ’åºå’Œå±‚çº§ç´¢å¼•</a></li><li><a href="https://www.itbob.cn/article/029/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäº”ï¼‰ï¼šç»Ÿè®¡è®¡ç®—ä¸ç»Ÿè®¡æè¿°</a></li><li><a href="https://www.itbob.cn/article/030/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…­ï¼‰ï¼šGroupBy æ•°æ®åˆ†è£‚ã€åº”ç”¨ä¸åˆå¹¶</a></li><li><a href="https://www.itbob.cn/article/031/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸ƒï¼‰ï¼šåˆå¹¶æ•°æ®é›†</a></li><li><a href="https://www.itbob.cn/article/032/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…«ï¼‰ï¼šæ•°æ®é‡å¡‘ã€é‡å¤æ•°æ®å¤„ç†ä¸æ•°æ®æ›¿æ¢</a></li><li><a href="https://www.itbob.cn/article/033/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¹ï¼‰ï¼šæ—¶é—´åºåˆ—</a></li><li><a href="https://www.itbob.cn/article/034/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆåï¼‰ï¼šæ•°æ®è¯»å†™</a></li></ul><hr><p>ä¸“æ ï¼š</p><ul><li>NumPy ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780393.html">https://itrhx.blog.csdn.net/category_9780393.html</a></li><li>Pandas ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780397.html">https://itrhx.blog.csdn.net/category_9780397.html</a></li><li>Matplotlib ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780418.html">https://itrhx.blog.csdn.net/category_9780418.html</a></li></ul><br>æ¨èå­¦ä¹ èµ„æ–™ä¸ç½‘ç«™ï¼š<br><br><ul><li>NumPy å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.numpy.org.cn/">https://www.numpy.org.cn/</a></li><li>Pandas å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.pypandas.cn/">https://www.pypandas.cn/</a></li><li>Matplotlib å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.matplotlib.org.cn/">https://www.matplotlib.org.cn/</a></li><li>NumPyã€Matplotlibã€Pandas é€ŸæŸ¥è¡¨ï¼š<a href="https://github.com/TRHX/Python-quick-reference-table">https://github.com/TRHX/Python-quick-reference-table</a></li></ul><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106900748</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h2><span id="01x00-shu-ju-chong-su"><font color="#FF0000">ã€01x00ã€‘æ•°æ®é‡å¡‘</font></span></h2><p>æœ‰è®¸å¤šç”¨äºé‡æ–°æ’åˆ—è¡¨æ ¼å‹æ•°æ®çš„åŸºç¡€è¿ç®—ã€‚è¿™äº›å‡½æ•°ä¹Ÿç§°ä½œé‡å¡‘ï¼ˆreshapeï¼‰æˆ–è½´å‘æ—‹è½¬ï¼ˆpivotï¼‰è¿ç®—ã€‚é‡å¡‘å±‚æ¬¡åŒ–ç´¢å¼•ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•ï¼š</p><ul><li><p><code>stack</code>ï¼šå°†æ•°æ®çš„åˆ—è½¬æ¢æˆè¡Œï¼›</p></li><li><p><code>unstack</code>ï¼šå°†æ•°æ®çš„è¡Œè½¬æ¢æˆåˆ—ã€‚</p></li></ul><h3><span id="01x01-stack"><font color="#4876FF">ã€01x01ã€‘stack</font></span></h3><p><code>stack</code> æ–¹æ³•ç”¨äºå°†æ•°æ®çš„åˆ—è½¬æ¢æˆä¸ºè¡Œï¼›</p><p>åŸºæœ¬è¯­æ³•ï¼š<code>DataFrame.stack(self, level=-1, dropna=True)</code></p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.stack.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.stack.html</a></p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>level</td><td>ä»åˆ—è½¬æ¢åˆ°è¡Œï¼ŒæŒ‡å®šä¸åŒå±‚çº§çš„åˆ—ç´¢å¼•æˆ–åˆ—æ ‡ç­¾ã€ç”±åˆ—ç´¢å¼•æˆ–åˆ—æ ‡ç­¾ç»„æˆçš„æ•°ç»„ï¼Œé»˜è®¤-1</td></tr><tr><td>dropna</td><td>bool ç±»å‹ï¼Œæ˜¯å¦åˆ é™¤é‡å¡‘åæ•°æ®ä¸­æ‰€æœ‰å€¼ä¸º NaN çš„è¡Œï¼Œé»˜è®¤ True</td></tr></tbody></table><p>å•å±‚åˆ—ï¼ˆSingle level columnsï¼‰ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame([[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>]], index=[<span class="hljs-string">&#x27;cat&#x27;</span>, <span class="hljs-string">&#x27;dog&#x27;</span>], columns=[<span class="hljs-string">&#x27;weight&#x27;</span>, <span class="hljs-string">&#x27;height&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj     weight  heightcat       <span class="hljs-number">0</span>       <span class="hljs-number">1</span>dog       <span class="hljs-number">2</span>       <span class="hljs-number">3</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.stack()cat  weight    <span class="hljs-number">0</span>     height    <span class="hljs-number">1</span>dog  weight    <span class="hljs-number">2</span>     height    <span class="hljs-number">3</span>dtype: int64</code></pre><p>å¤šå±‚åˆ—ï¼ˆMulti level columnsï¼‰ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>multicol = pd.MultiIndex.from_tuples([(<span class="hljs-string">&#x27;weight&#x27;</span>, <span class="hljs-string">&#x27;kg&#x27;</span>), (<span class="hljs-string">&#x27;weight&#x27;</span>, <span class="hljs-string">&#x27;pounds&#x27;</span>)])<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>]], index=[<span class="hljs-string">&#x27;cat&#x27;</span>, <span class="hljs-string">&#x27;dog&#x27;</span>], columns=multicol)<span class="hljs-meta">&gt;&gt;&gt; </span>obj    weight               kg poundscat      <span class="hljs-number">1</span>      <span class="hljs-number">2</span>dog      <span class="hljs-number">2</span>      <span class="hljs-number">4</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.stack()            weightcat kg           <span class="hljs-number">1</span>    pounds       <span class="hljs-number">2</span>dog kg           <span class="hljs-number">2</span>    pounds       <span class="hljs-number">4</span></code></pre><p>ç¼ºå¤±å€¼å¡«å……ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>multicol = pd.MultiIndex.from_tuples([(<span class="hljs-string">&#x27;weight&#x27;</span>, <span class="hljs-string">&#x27;kg&#x27;</span>), (<span class="hljs-string">&#x27;height&#x27;</span>, <span class="hljs-string">&#x27;m&#x27;</span>)])<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame([[<span class="hljs-number">1.0</span>, <span class="hljs-number">2.0</span>], [<span class="hljs-number">3.0</span>, <span class="hljs-number">4.0</span>]], index=[<span class="hljs-string">&#x27;cat&#x27;</span>, <span class="hljs-string">&#x27;dog&#x27;</span>], columns=multicol)<span class="hljs-meta">&gt;&gt;&gt; </span>obj    weight height        kg      mcat    <span class="hljs-number">1.0</span>    <span class="hljs-number">2.0</span>dog    <span class="hljs-number">3.0</span>    <span class="hljs-number">4.0</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.stack()        height  weightcat kg     NaN     <span class="hljs-number">1.0</span>    m      <span class="hljs-number">2.0</span>     NaNdog kg     NaN     <span class="hljs-number">3.0</span>    m      <span class="hljs-number">4.0</span>     NaN</code></pre><p>é€šè¿‡ <code>level</code> å‚æ•°æŒ‡å®šä¸åŒå±‚çº§çš„è½´è¿›è¡Œé‡å¡‘ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>multicol = pd.MultiIndex.from_tuples([(<span class="hljs-string">&#x27;weight&#x27;</span>, <span class="hljs-string">&#x27;kg&#x27;</span>), (<span class="hljs-string">&#x27;height&#x27;</span>, <span class="hljs-string">&#x27;m&#x27;</span>)])<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame([[<span class="hljs-number">1.0</span>, <span class="hljs-number">2.0</span>], [<span class="hljs-number">3.0</span>, <span class="hljs-number">4.0</span>]], index=[<span class="hljs-string">&#x27;cat&#x27;</span>, <span class="hljs-string">&#x27;dog&#x27;</span>], columns=multicol)<span class="hljs-meta">&gt;&gt;&gt; </span>obj    weight height        kg      mcat    <span class="hljs-number">1.0</span>    <span class="hljs-number">2.0</span>dog    <span class="hljs-number">3.0</span>    <span class="hljs-number">4.0</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.stack(level=<span class="hljs-number">0</span>)             kg    mcat height  NaN  <span class="hljs-number">2.0</span>    weight  <span class="hljs-number">1.0</span>  NaNdog height  NaN  <span class="hljs-number">4.0</span>    weight  <span class="hljs-number">3.0</span>  NaN<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.stack(level=<span class="hljs-number">1</span>)        height  weightcat kg     NaN     <span class="hljs-number">1.0</span>    m      <span class="hljs-number">2.0</span>     NaNdog kg     NaN     <span class="hljs-number">3.0</span>    m      <span class="hljs-number">4.0</span>     NaN&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj.stack(level=[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>])cat  height  m     <span class="hljs-number">2.0</span>     weight  kg    <span class="hljs-number">1.0</span>dog  height  m     <span class="hljs-number">4.0</span>     weight  kg    <span class="hljs-number">3.0</span>dtype: float64</code></pre><p>å¯¹äºé‡å¡‘åçš„æ•°æ®ï¼Œè‹¥æœ‰ä¸€è¡Œçš„å€¼å‡ä¸º NaNï¼Œåˆ™é»˜è®¤ä¼šè¢«åˆ é™¤ï¼Œå¯ä»¥è®¾ç½® <code>dropna=False</code> æ¥ä¿ç•™ç¼ºå¤±å€¼ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>multicol = pd.MultiIndex.from_tuples([(<span class="hljs-string">&#x27;weight&#x27;</span>, <span class="hljs-string">&#x27;kg&#x27;</span>), (<span class="hljs-string">&#x27;height&#x27;</span>, <span class="hljs-string">&#x27;m&#x27;</span>)])<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame([[<span class="hljs-literal">None</span>, <span class="hljs-number">1.0</span>], [<span class="hljs-number">2.0</span>, <span class="hljs-number">3.0</span>]], index=[<span class="hljs-string">&#x27;cat&#x27;</span>, <span class="hljs-string">&#x27;dog&#x27;</span>], columns=multicol)<span class="hljs-meta">&gt;&gt;&gt; </span>obj    weight height        kg      mcat    NaN    <span class="hljs-number">1.0</span>dog    <span class="hljs-number">2.0</span>    <span class="hljs-number">3.0</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.stack(dropna=<span class="hljs-literal">False</span>)        height  weightcat kg     NaN     NaN    m      <span class="hljs-number">1.0</span>     NaNdog kg     NaN     <span class="hljs-number">2.0</span>    m      <span class="hljs-number">3.0</span>     NaN<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.stack(dropna=<span class="hljs-literal">True</span>)        height  weightcat m      <span class="hljs-number">1.0</span>     NaNdog kg     NaN     <span class="hljs-number">2.0</span>    m      <span class="hljs-number">3.0</span>     NaN</code></pre><h3><span id="01x02-unstack"><font color="#4876FF">ã€01x02ã€‘unstack</font></span></h3><p><code>unstack</code>ï¼šå°†æ•°æ®çš„è¡Œè½¬æ¢æˆåˆ—ã€‚</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><ul><li><p><code>Series.unstack(self, level=-1, fill_value=None)</code></p></li><li><p><code>DataFrame.unstack(self, level=-1, fill_value=None)</code></p></li></ul><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.unstack.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.unstack.html</a></p></li><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.unstack.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.unstack.html</a></p></li></ul><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>level</td><td>ä»è¡Œè½¬æ¢åˆ°åˆ—ï¼ŒæŒ‡å®šä¸åŒå±‚çº§çš„è¡Œç´¢å¼•ï¼Œé»˜è®¤-1</td></tr><tr><td>fill_value</td><td>ç”¨äºæ›¿æ¢ NaN çš„å€¼</td></tr></tbody></table><p>åœ¨ Series å¯¹è±¡ä¸­çš„åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>], index=pd.MultiIndex.from_product([[<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>], [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>]]))<span class="hljs-meta">&gt;&gt;&gt; </span>objone  a    <span class="hljs-number">1</span>     b    <span class="hljs-number">2</span>two  a    <span class="hljs-number">3</span>     b    <span class="hljs-number">4</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.unstack()     a  bone  <span class="hljs-number">1</span>  <span class="hljs-number">2</span>two  <span class="hljs-number">3</span>  <span class="hljs-number">4</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.unstack(level=<span class="hljs-number">0</span>)   one  twoa    <span class="hljs-number">1</span>    <span class="hljs-number">3</span>b    <span class="hljs-number">2</span>    <span class="hljs-number">4</span></code></pre><p>å’Œ <code>stack</code> æ–¹æ³•ç±»ä¼¼ï¼Œå¦‚æœå€¼ä¸å­˜åœ¨å°†ä¼šå¼•å…¥ç¼ºå¤±å€¼ï¼ˆNaNï¼‰ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.Series([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.Series([<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>], index=[<span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj3 = pd.concat([obj1, obj2], keys=[<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj3one  a    <span class="hljs-number">0</span>     b    <span class="hljs-number">1</span>     c    <span class="hljs-number">2</span>     d    <span class="hljs-number">3</span>two  c    <span class="hljs-number">4</span>     d    <span class="hljs-number">5</span>     e    <span class="hljs-number">6</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj3.unstack()       a    b    c    d    eone  <span class="hljs-number">0.0</span>  <span class="hljs-number">1.0</span>  <span class="hljs-number">2.0</span>  <span class="hljs-number">3.0</span>  NaNtwo  NaN  NaN  <span class="hljs-number">4.0</span>  <span class="hljs-number">5.0</span>  <span class="hljs-number">6.0</span></code></pre><p>åœ¨ DataFrame å¯¹è±¡ä¸­çš„åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(np.arange(<span class="hljs-number">6</span>).reshape((<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)),               index=pd.Index([<span class="hljs-string">&#x27;Ohio&#x27;</span>,<span class="hljs-string">&#x27;Colorado&#x27;</span>], name=<span class="hljs-string">&#x27;state&#x27;</span>),               columns=pd.Index([<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>],               name=<span class="hljs-string">&#x27;number&#x27;</span>))<span class="hljs-meta">&gt;&gt;&gt; </span>objnumber    one  two  threestate                    Ohio        <span class="hljs-number">0</span>    <span class="hljs-number">1</span>      <span class="hljs-number">2</span>Colorado    <span class="hljs-number">3</span>    <span class="hljs-number">4</span>      <span class="hljs-number">5</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = obj.stack()<span class="hljs-meta">&gt;&gt;&gt; </span>obj2state     numberOhio      one       <span class="hljs-number">0</span>          two       <span class="hljs-number">1</span>          three     <span class="hljs-number">2</span>Colorado  one       <span class="hljs-number">3</span>          two       <span class="hljs-number">4</span>          three     <span class="hljs-number">5</span>dtype: int32<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj3 = pd.DataFrame(&#123;<span class="hljs-string">&#x27;left&#x27;</span>: obj2, <span class="hljs-string">&#x27;right&#x27;</span>: obj2 + <span class="hljs-number">5</span>&#125;,            columns=pd.Index([<span class="hljs-string">&#x27;left&#x27;</span>, <span class="hljs-string">&#x27;right&#x27;</span>], name=<span class="hljs-string">&#x27;side&#x27;</span>))<span class="hljs-meta">&gt;&gt;&gt; </span>obj3side             left  rightstate    number             Ohio     one        <span class="hljs-number">0</span>      <span class="hljs-number">5</span>         two        <span class="hljs-number">1</span>      <span class="hljs-number">6</span>         three      <span class="hljs-number">2</span>      <span class="hljs-number">7</span>Colorado one        <span class="hljs-number">3</span>      <span class="hljs-number">8</span>         two        <span class="hljs-number">4</span>      <span class="hljs-number">9</span>         three      <span class="hljs-number">5</span>     <span class="hljs-number">10</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj3.unstack(<span class="hljs-string">&#x27;state&#x27;</span>)side   left          right         state  Ohio Colorado  Ohio Coloradonumber                             one       <span class="hljs-number">0</span>        <span class="hljs-number">3</span>     <span class="hljs-number">5</span>        <span class="hljs-number">8</span>two       <span class="hljs-number">1</span>        <span class="hljs-number">4</span>     <span class="hljs-number">6</span>        <span class="hljs-number">9</span>three     <span class="hljs-number">2</span>        <span class="hljs-number">5</span>     <span class="hljs-number">7</span>       <span class="hljs-number">10</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj3.unstack(<span class="hljs-string">&#x27;state&#x27;</span>).stack(<span class="hljs-string">&#x27;side&#x27;</span>)state         Colorado  Ohionumber side                 one    left          <span class="hljs-number">3</span>     <span class="hljs-number">0</span>       right         <span class="hljs-number">8</span>     <span class="hljs-number">5</span>two    left          <span class="hljs-number">4</span>     <span class="hljs-number">1</span>       right         <span class="hljs-number">9</span>     <span class="hljs-number">6</span>three  left          <span class="hljs-number">5</span>     <span class="hljs-number">2</span>       right        <span class="hljs-number">10</span>     <span class="hljs-number">7</span></code></pre><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106900748</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h2><span id="02x00-chong-fu-shu-ju-chu-li"><font color="#FF0000">ã€02x00ã€‘é‡å¤æ•°æ®å¤„ç†</font></span></h2><ul><li><p><code>duplicated</code>ï¼šåˆ¤æ–­æ˜¯å¦ä¸ºé‡å¤å€¼ï¼›</p></li><li><p><code>drop_duplicates</code>ï¼šåˆ é™¤é‡å¤å€¼ã€‚</p></li></ul><h3><span id="02x01-duplicated"><font color="#4876FF">ã€02x01ã€‘duplicated</font></span></h3><p><code>duplicated</code> æ–¹æ³•å¯ä»¥åˆ¤æ–­å€¼æ˜¯å¦ä¸ºé‡å¤æ•°æ®ã€‚</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><ul><li><p><code>Series.duplicated(self, keep='first')</code></p></li><li><p><code>DataFrame.duplicated(self, subset: Union[Hashable, Sequence[Hashable], NoneType] = None, keep: Union[str, bool] = 'first') â†’ â€™Seriesâ€™</code></p></li></ul><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.duplicated.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.duplicated.html</a></p></li><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.duplicated.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.duplicated.html</a></p></li></ul><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>keep</td><td>æ ‡è®°é‡å¤é¡¹çš„æ–¹æ³•ï¼Œé»˜è®¤ <code>'first'</code><br><code>'first'</code>ï¼šå°†éé‡å¤é¡¹å’Œç¬¬ä¸€ä¸ªé‡å¤é¡¹æ ‡è®°ä¸º Falseï¼Œå…¶ä»–é‡å¤é¡¹æ ‡è®°ä¸º True<br><code>'last'</code>ï¼šå°†éé‡å¤é¡¹å’Œæœ€åä¸€ä¸ªé‡å¤é¡¹æ ‡è®°ä¸º Falseï¼Œå…¶ä»–é‡å¤é¡¹æ ‡è®°ä¸º True<br><code>False</code>ï¼šå°†æ‰€æœ‰é‡å¤é¡¹æ ‡è®°ä¸º Trueï¼Œéé‡å¤é¡¹æ ‡è®°ä¸º False</td></tr><tr><td>subset</td><td>åˆ—æ ‡ç­¾æˆ–æ ‡ç­¾åºåˆ—ï¼Œåœ¨ DataFrame å¯¹è±¡ä¸­æ‰æœ‰æ­¤å‚æ•°ï¼Œ<br>ç”¨äºæŒ‡å®šæŸåˆ—ï¼Œä»…æ ‡è®°è¯¥åˆ—çš„é‡å¤é¡¹ï¼Œé»˜è®¤æƒ…å†µä¸‹å°†è€ƒè™‘æ‰€æœ‰åˆ—</td></tr></tbody></table><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¹äºæ¯ç»„é‡å¤çš„å€¼ï¼Œç¬¬ä¸€ä¸ªå‡ºç°çš„é‡å¤å€¼æ ‡è®°ä¸º Falseï¼Œå…¶ä»–é‡å¤é¡¹æ ‡è®°ä¸º Trueï¼Œéé‡å¤é¡¹æ ‡è®°ä¸º Falseï¼Œç›¸å½“äº <code>keep='first'</code>ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-string">&#x27;lama&#x27;</span>, <span class="hljs-string">&#x27;cow&#x27;</span>, <span class="hljs-string">&#x27;lama&#x27;</span>, <span class="hljs-string">&#x27;beetle&#x27;</span>, <span class="hljs-string">&#x27;lama&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">0</span>      lama<span class="hljs-number">1</span>       cow<span class="hljs-number">2</span>      lama<span class="hljs-number">3</span>    beetle<span class="hljs-number">4</span>      lamadtype: <span class="hljs-built_in">object</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.duplicated()<span class="hljs-number">0</span>    <span class="hljs-literal">False</span><span class="hljs-number">1</span>    <span class="hljs-literal">False</span><span class="hljs-number">2</span>     <span class="hljs-literal">True</span><span class="hljs-number">3</span>    <span class="hljs-literal">False</span><span class="hljs-number">4</span>     <span class="hljs-literal">True</span>dtype: <span class="hljs-built_in">bool</span>&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj.duplicated(keep=<span class="hljs-string">&#x27;first&#x27;</span>)<span class="hljs-number">0</span>    <span class="hljs-literal">False</span><span class="hljs-number">1</span>    <span class="hljs-literal">False</span><span class="hljs-number">2</span>     <span class="hljs-literal">True</span><span class="hljs-number">3</span>    <span class="hljs-literal">False</span><span class="hljs-number">4</span>     <span class="hljs-literal">True</span>dtype: <span class="hljs-built_in">bool</span></code></pre><p>è®¾ç½® <code>keep='last'</code>ï¼Œå°†æ¯ç»„éé‡å¤é¡¹å’Œæœ€åä¸€æ¬¡å‡ºç°çš„é‡å¤é¡¹æ ‡è®°ä¸º Falseï¼Œå…¶ä»–é‡å¤é¡¹æ ‡è®°ä¸º Trueï¼Œè®¾ç½® <code>keep=False</code>ï¼Œåˆ™æ‰€æœ‰é‡å¤é¡¹å‡ä¸º Trueï¼Œå…¶ä»–å€¼ä¸º Falseï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-string">&#x27;lama&#x27;</span>, <span class="hljs-string">&#x27;cow&#x27;</span>, <span class="hljs-string">&#x27;lama&#x27;</span>, <span class="hljs-string">&#x27;beetle&#x27;</span>, <span class="hljs-string">&#x27;lama&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">0</span>      lama<span class="hljs-number">1</span>       cow<span class="hljs-number">2</span>      lama<span class="hljs-number">3</span>    beetle<span class="hljs-number">4</span>      lamadtype: <span class="hljs-built_in">object</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.duplicated(keep=<span class="hljs-string">&#x27;last&#x27;</span>)<span class="hljs-number">0</span>     <span class="hljs-literal">True</span><span class="hljs-number">1</span>    <span class="hljs-literal">False</span><span class="hljs-number">2</span>     <span class="hljs-literal">True</span><span class="hljs-number">3</span>    <span class="hljs-literal">False</span><span class="hljs-number">4</span>    <span class="hljs-literal">False</span>dtype: <span class="hljs-built_in">bool</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.duplicated(keep=<span class="hljs-literal">False</span>)<span class="hljs-number">0</span>     <span class="hljs-literal">True</span><span class="hljs-number">1</span>    <span class="hljs-literal">False</span><span class="hljs-number">2</span>     <span class="hljs-literal">True</span><span class="hljs-number">3</span>    <span class="hljs-literal">False</span><span class="hljs-number">4</span>     <span class="hljs-literal">True</span>dtype: <span class="hljs-built_in">bool</span></code></pre><p>åœ¨ DataFrame å¯¹è±¡ä¸­ï¼Œsubset å‚æ•°ç”¨äºæŒ‡å®šæŸåˆ—ï¼Œä»…æ ‡è®°è¯¥åˆ—çš„é‡å¤é¡¹ï¼Œé»˜è®¤æƒ…å†µä¸‹å°†è€ƒè™‘æ‰€æœ‰åˆ—ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(&#123;<span class="hljs-string">&#x27;data1&#x27;</span> : [<span class="hljs-string">&#x27;a&#x27;</span>] * <span class="hljs-number">4</span> + [<span class="hljs-string">&#x27;b&#x27;</span>] * <span class="hljs-number">4</span>,                       <span class="hljs-string">&#x27;data2&#x27;</span> : np.random.randint(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>)&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj  data1  data2<span class="hljs-number">0</span>     a      <span class="hljs-number">0</span><span class="hljs-number">1</span>     a      <span class="hljs-number">0</span><span class="hljs-number">2</span>     a      <span class="hljs-number">0</span><span class="hljs-number">3</span>     a      <span class="hljs-number">3</span><span class="hljs-number">4</span>     b      <span class="hljs-number">3</span><span class="hljs-number">5</span>     b      <span class="hljs-number">3</span><span class="hljs-number">6</span>     b      <span class="hljs-number">0</span><span class="hljs-number">7</span>     b      <span class="hljs-number">2</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.duplicated()<span class="hljs-number">0</span>    <span class="hljs-literal">False</span><span class="hljs-number">1</span>     <span class="hljs-literal">True</span><span class="hljs-number">2</span>     <span class="hljs-literal">True</span><span class="hljs-number">3</span>    <span class="hljs-literal">False</span><span class="hljs-number">4</span>    <span class="hljs-literal">False</span><span class="hljs-number">5</span>     <span class="hljs-literal">True</span><span class="hljs-number">6</span>    <span class="hljs-literal">False</span><span class="hljs-number">7</span>    <span class="hljs-literal">False</span>dtype: <span class="hljs-built_in">bool</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.duplicated(subset=<span class="hljs-string">&#x27;data1&#x27;</span>)<span class="hljs-number">0</span>    <span class="hljs-literal">False</span><span class="hljs-number">1</span>     <span class="hljs-literal">True</span><span class="hljs-number">2</span>     <span class="hljs-literal">True</span><span class="hljs-number">3</span>     <span class="hljs-literal">True</span><span class="hljs-number">4</span>    <span class="hljs-literal">False</span><span class="hljs-number">5</span>     <span class="hljs-literal">True</span><span class="hljs-number">6</span>     <span class="hljs-literal">True</span><span class="hljs-number">7</span>     <span class="hljs-literal">True</span>dtype: <span class="hljs-built_in">bool</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.duplicated(subset=<span class="hljs-string">&#x27;data2&#x27;</span>, keep=<span class="hljs-string">&#x27;last&#x27;</span>)<span class="hljs-number">0</span>     <span class="hljs-literal">True</span><span class="hljs-number">1</span>     <span class="hljs-literal">True</span><span class="hljs-number">2</span>     <span class="hljs-literal">True</span><span class="hljs-number">3</span>     <span class="hljs-literal">True</span><span class="hljs-number">4</span>     <span class="hljs-literal">True</span><span class="hljs-number">5</span>    <span class="hljs-literal">False</span><span class="hljs-number">6</span>    <span class="hljs-literal">False</span><span class="hljs-number">7</span>    <span class="hljs-literal">False</span>dtype: <span class="hljs-built_in">bool</span></code></pre><h3><span id="02x02-drop-duplicates"><font color="#4876FF">ã€02x02ã€‘drop_duplicates</font></span></h3><p><code>drop_duplicates</code> æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªåˆ é™¤äº†é‡å¤å€¼çš„åºåˆ—ã€‚</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre><code class="hljs python">Series.drop_duplicates(self, keep=<span class="hljs-string">&#x27;first&#x27;</span>, inplace=<span class="hljs-literal">False</span>)</code></pre><pre><code class="hljs python">DataFrame.drop_duplicates(self,                          subset: <span class="hljs-type">Union</span>[Hashable, <span class="hljs-type">Sequence</span>[Hashable], NoneType] = <span class="hljs-literal">None</span>,                          keep: <span class="hljs-type">Union</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">bool</span>] = <span class="hljs-string">&#x27;first&#x27;</span>,                          inplace: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span>,                          ignore_index: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span>) â†’ <span class="hljs-type">Union</span>[ForwardRef(â€˜DataFrameâ€™), NoneType]</code></pre><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.drop_duplicates.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.drop_duplicates.html</a></p></li><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.drop_duplicates.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.drop_duplicates.html</a></p></li></ul><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>keep</td><td>åˆ é™¤é‡å¤é¡¹çš„æ–¹æ³•ï¼Œé»˜è®¤ <code>'first'</code><br><code>'first'</code>ï¼šä¿ç•™éé‡å¤é¡¹å’Œç¬¬ä¸€ä¸ªé‡å¤é¡¹ï¼Œå…¶ä»–é‡å¤é¡¹æ ‡è®°å‡åˆ é™¤<br><code>'last'</code>ï¼šä¿ç•™éé‡å¤é¡¹å’Œæœ€åä¸€ä¸ªé‡å¤é¡¹ï¼Œå…¶ä»–é‡å¤é¡¹åˆ é™¤<br><code>False</code>ï¼šå°†æ‰€æœ‰é‡å¤é¡¹åˆ é™¤ï¼Œéé‡å¤é¡¹ä¿ç•™</td></tr><tr><td>inplace</td><td>æ˜¯å¦è¿”å›åˆ é™¤é‡å¤é¡¹åçš„å€¼ï¼Œé»˜è®¤ Falseï¼Œè‹¥è®¾ç½®ä¸º Trueï¼Œåˆ™ä¸è¿”å›å€¼ï¼Œç›´æ¥æ”¹å˜åŸæ•°æ®</td></tr><tr><td>subset</td><td>åˆ—æ ‡ç­¾æˆ–æ ‡ç­¾åºåˆ—ï¼Œåœ¨ DataFrame å¯¹è±¡ä¸­æ‰æœ‰æ­¤å‚æ•°ï¼Œ<br>ç”¨äºæŒ‡å®šæŸåˆ—ï¼Œä»…æ ‡è®°è¯¥åˆ—çš„é‡å¤é¡¹ï¼Œé»˜è®¤æƒ…å†µä¸‹å°†è€ƒè™‘æ‰€æœ‰åˆ—</td></tr><tr><td>ignore_index</td><td>bool ç±»å‹ï¼Œåœ¨ DataFrame å¯¹è±¡ä¸­æ‰æœ‰æ­¤å‚æ•°ï¼Œæ˜¯å¦å¿½ç•¥åŸå¯¹è±¡çš„è½´æ ‡è®°ï¼Œ<br>é»˜è®¤ Falseï¼Œå¦‚æœä¸º Trueï¼Œåˆ™æ–°å¯¹è±¡çš„ç´¢å¼•å°†æ˜¯ 0, 1, 2, â€¦, n-1</td></tr></tbody></table><p>keep å‚æ•°çš„ä½¿ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-string">&#x27;lama&#x27;</span>, <span class="hljs-string">&#x27;cow&#x27;</span>, <span class="hljs-string">&#x27;lama&#x27;</span>, <span class="hljs-string">&#x27;beetle&#x27;</span>, <span class="hljs-string">&#x27;lama&#x27;</span>, <span class="hljs-string">&#x27;hippo&#x27;</span>], name=<span class="hljs-string">&#x27;animal&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">0</span>      lama<span class="hljs-number">1</span>       cow<span class="hljs-number">2</span>      lama<span class="hljs-number">3</span>    beetle<span class="hljs-number">4</span>      lama<span class="hljs-number">5</span>     hippoName: animal, dtype: <span class="hljs-built_in">object</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.drop_duplicates()<span class="hljs-number">0</span>      lama<span class="hljs-number">1</span>       cow<span class="hljs-number">3</span>    beetle<span class="hljs-number">5</span>     hippoName: animal, dtype: <span class="hljs-built_in">object</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.drop_duplicates(keep=<span class="hljs-string">&#x27;last&#x27;</span>)<span class="hljs-number">1</span>       cow<span class="hljs-number">3</span>    beetle<span class="hljs-number">4</span>      lama<span class="hljs-number">5</span>     hippoName: animal, dtype: <span class="hljs-built_in">object</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.drop_duplicates(keep=<span class="hljs-literal">False</span>)<span class="hljs-number">1</span>       cow<span class="hljs-number">3</span>    beetle<span class="hljs-number">5</span>     hippoName: animal, dtype: <span class="hljs-built_in">object</span></code></pre><p>å¦‚æœè®¾ç½® <code>inplace=True</code>ï¼Œåˆ™ä¸ä¼šè¿”å›ä»»ä½•å€¼ï¼Œä½†åŸå¯¹è±¡çš„å€¼å·²è¢«æ”¹å˜ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.Series([<span class="hljs-string">&#x27;lama&#x27;</span>, <span class="hljs-string">&#x27;cow&#x27;</span>, <span class="hljs-string">&#x27;lama&#x27;</span>, <span class="hljs-string">&#x27;beetle&#x27;</span>, <span class="hljs-string">&#x27;lama&#x27;</span>, <span class="hljs-string">&#x27;hippo&#x27;</span>], name=<span class="hljs-string">&#x27;animal&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>obj1<span class="hljs-number">0</span>      lama<span class="hljs-number">1</span>       cow<span class="hljs-number">2</span>      lama<span class="hljs-number">3</span>    beetle<span class="hljs-number">4</span>      lama<span class="hljs-number">5</span>     hippoName: animal, dtype: <span class="hljs-built_in">object</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = obj1.drop_duplicates()<span class="hljs-meta">&gt;&gt;&gt; </span>obj2          <span class="hljs-comment"># æœ‰è¿”å›å€¼</span><span class="hljs-number">0</span>      lama<span class="hljs-number">1</span>       cow<span class="hljs-number">3</span>    beetle<span class="hljs-number">5</span>     hippoName: animal, dtype: <span class="hljs-built_in">object</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj3 = obj1.drop_duplicates(inplace=<span class="hljs-literal">True</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>obj3         <span class="hljs-comment"># æ— è¿”å›å€¼</span>&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj1         <span class="hljs-comment"># åŸå¯¹è±¡çš„å€¼å·²æ”¹å˜</span><span class="hljs-number">0</span>      lama<span class="hljs-number">1</span>       cow<span class="hljs-number">3</span>    beetle<span class="hljs-number">5</span>     hippoName: animal, dtype: <span class="hljs-built_in">object</span></code></pre><p>åœ¨ DataFrame å¯¹è±¡ä¸­çš„ä½¿ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(&#123;<span class="hljs-string">&#x27;data1&#x27;</span> : [<span class="hljs-string">&#x27;a&#x27;</span>] * <span class="hljs-number">4</span> + [<span class="hljs-string">&#x27;b&#x27;</span>] * <span class="hljs-number">4</span>,                       <span class="hljs-string">&#x27;data2&#x27;</span> : np.random.randint(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>)&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj  data1  data2<span class="hljs-number">0</span>     a      <span class="hljs-number">2</span><span class="hljs-number">1</span>     a      <span class="hljs-number">1</span><span class="hljs-number">2</span>     a      <span class="hljs-number">1</span><span class="hljs-number">3</span>     a      <span class="hljs-number">2</span><span class="hljs-number">4</span>     b      <span class="hljs-number">1</span><span class="hljs-number">5</span>     b      <span class="hljs-number">2</span><span class="hljs-number">6</span>     b      <span class="hljs-number">0</span><span class="hljs-number">7</span>     b      <span class="hljs-number">0</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.drop_duplicates()  data1  data2<span class="hljs-number">0</span>     a      <span class="hljs-number">2</span><span class="hljs-number">1</span>     a      <span class="hljs-number">1</span><span class="hljs-number">4</span>     b      <span class="hljs-number">1</span><span class="hljs-number">5</span>     b      <span class="hljs-number">2</span><span class="hljs-number">6</span>     b      <span class="hljs-number">0</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.drop_duplicates(subset=<span class="hljs-string">&#x27;data2&#x27;</span>)  data1  data2<span class="hljs-number">0</span>     a      <span class="hljs-number">2</span><span class="hljs-number">1</span>     a      <span class="hljs-number">1</span><span class="hljs-number">6</span>     b      <span class="hljs-number">0</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.drop_duplicates(subset=<span class="hljs-string">&#x27;data2&#x27;</span>, ignore_index=<span class="hljs-literal">True</span>)  data1  data2<span class="hljs-number">0</span>     a      <span class="hljs-number">2</span><span class="hljs-number">1</span>     a      <span class="hljs-number">1</span><span class="hljs-number">2</span>     b      <span class="hljs-number">0</span></code></pre><h2><span id="03x00-shu-ju-ti-huan"><font color="#FF0000">ã€03x00ã€‘æ•°æ®æ›¿æ¢</font></span></h2><h3><span id="03x01-replace"><font color="#4876FF">ã€03x01ã€‘replace</font></span></h3><p><code>replace</code> æ–¹æ³•å¯ä»¥æ ¹æ®å€¼çš„å†…å®¹è¿›è¡Œæ›¿æ¢ã€‚</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><ul><li><p><code>Series.replace(self, to_replace=None, value=None, inplace=False, limit=None, regex=False, method='pad')</code></p></li><li><p><code>DataFrame.replace(self, to_replace=None, value=None, inplace=False, limit=None, regex=False, method='pad')</code></p></li></ul><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.replace.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.replace.html</a></p></li><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.replace.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.replace.html</a></p></li></ul><p>å¸¸ç”¨å‚æ•°ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>to_replace</td><td>æ‰¾åˆ°è¦æ›¿æ¢å€¼çš„æ–¹æ³•ï¼Œå¯ä»¥æ˜¯ï¼šå­—ç¬¦ä¸²ã€æ­£åˆ™è¡¨è¾¾å¼ã€åˆ—è¡¨ã€å­—å…¸ã€æ•´æ•°ã€æµ®ç‚¹æ•°ã€Series å¯¹è±¡æˆ–è€… None<br>ä½¿ç”¨ä¸åŒå‚æ•°çš„åŒºåˆ«å‚è§å®˜æ–¹æ–‡æ¡£</td></tr><tr><td>value</td><td>ç”¨äºæ›¿æ¢åŒ¹é…é¡¹çš„å€¼ï¼Œ å¯¹äº DataFrameï¼Œå¯ä»¥ä½¿ç”¨å­—å…¸çš„å€¼æ¥æŒ‡å®šæ¯åˆ—è¦ä½¿ç”¨çš„å€¼ï¼Œ<br>è¿˜å…è®¸ä½¿ç”¨æ­¤ç±»å¯¹è±¡çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå­—ç¬¦ä¸²å’Œåˆ—è¡¨æˆ–å­—å…¸</td></tr><tr><td>inplace</td><td>bool ç±»å‹ï¼Œæ˜¯å¦ç›´æ¥æ”¹å˜åŸæ•°æ®ä¸”ä¸è¿”å›å€¼ï¼Œé»˜è®¤ False</td></tr><tr><td>regex</td><td>bool ç±»å‹æˆ–è€…ä¸ to_replace ç›¸åŒçš„ç±»å‹ï¼Œ<br>å½“ to_replace å‚æ•°ä¸ºæ­£åˆ™è¡¨è¾¾å¼æ—¶ï¼Œregex åº”ä¸º Trueï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨è¯¥å‚æ•°ä»£æ›¿ to_replace</td></tr></tbody></table><p><code>to_replace</code> å’Œ <code>value</code> å‚æ•°åªä¼ å…¥ä¸€ä¸ªå€¼ï¼Œå•ä¸ªå€¼æ›¿æ¢å•ä¸ªå€¼ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">0</span>    <span class="hljs-number">0</span><span class="hljs-number">1</span>    <span class="hljs-number">1</span><span class="hljs-number">2</span>    <span class="hljs-number">2</span><span class="hljs-number">3</span>    <span class="hljs-number">3</span><span class="hljs-number">4</span>    <span class="hljs-number">4</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.replace(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>)<span class="hljs-number">0</span>    <span class="hljs-number">5</span><span class="hljs-number">1</span>    <span class="hljs-number">1</span><span class="hljs-number">2</span>    <span class="hljs-number">2</span><span class="hljs-number">3</span>    <span class="hljs-number">3</span><span class="hljs-number">4</span>    <span class="hljs-number">4</span>dtype: int64</code></pre><p><code>to_replace</code> ä¼ å…¥å¤šä¸ªå€¼ï¼Œ<code>value</code> ä¼ å…¥ä¸€ä¸ªå€¼ï¼Œå¤šä¸ªå€¼æ›¿æ¢ä¸€ä¸ªå€¼ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">0</span>    <span class="hljs-number">0</span><span class="hljs-number">1</span>    <span class="hljs-number">1</span><span class="hljs-number">2</span>    <span class="hljs-number">2</span><span class="hljs-number">3</span>    <span class="hljs-number">3</span><span class="hljs-number">4</span>    <span class="hljs-number">4</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.replace([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-number">4</span>)<span class="hljs-number">0</span>    <span class="hljs-number">4</span><span class="hljs-number">1</span>    <span class="hljs-number">4</span><span class="hljs-number">2</span>    <span class="hljs-number">4</span><span class="hljs-number">3</span>    <span class="hljs-number">4</span><span class="hljs-number">4</span>    <span class="hljs-number">4</span>dtype: int64</code></pre><p><code>to_replace</code> å’Œ <code>value</code> å‚æ•°éƒ½ä¼ å…¥å¤šä¸ªå€¼ï¼Œå¤šä¸ªå€¼æ›¿æ¢å¤šä¸ªå€¼ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">0</span>    <span class="hljs-number">0</span><span class="hljs-number">1</span>    <span class="hljs-number">1</span><span class="hljs-number">2</span>    <span class="hljs-number">2</span><span class="hljs-number">3</span>    <span class="hljs-number">3</span><span class="hljs-number">4</span>    <span class="hljs-number">4</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.replace([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>])<span class="hljs-number">0</span>    <span class="hljs-number">4</span><span class="hljs-number">1</span>    <span class="hljs-number">3</span><span class="hljs-number">2</span>    <span class="hljs-number">2</span><span class="hljs-number">3</span>    <span class="hljs-number">1</span><span class="hljs-number">4</span>    <span class="hljs-number">4</span>dtype: int64</code></pre><p><code>to_replace</code> ä¼ å…¥å­—å…¸ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(&#123;<span class="hljs-string">&#x27;A&#x27;</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>],            <span class="hljs-string">&#x27;B&#x27;</span>: [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>],            <span class="hljs-string">&#x27;C&#x27;</span>: [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>]&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj   A  B  C<span class="hljs-number">0</span>  <span class="hljs-number">0</span>  <span class="hljs-number">5</span>  a<span class="hljs-number">1</span>  <span class="hljs-number">1</span>  <span class="hljs-number">6</span>  b<span class="hljs-number">2</span>  <span class="hljs-number">2</span>  <span class="hljs-number">7</span>  c<span class="hljs-number">3</span>  <span class="hljs-number">3</span>  <span class="hljs-number">8</span>  d<span class="hljs-number">4</span>  <span class="hljs-number">4</span>  <span class="hljs-number">9</span>  e<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.replace(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>)   A  B  C<span class="hljs-number">0</span>  <span class="hljs-number">5</span>  <span class="hljs-number">5</span>  a<span class="hljs-number">1</span>  <span class="hljs-number">1</span>  <span class="hljs-number">6</span>  b<span class="hljs-number">2</span>  <span class="hljs-number">2</span>  <span class="hljs-number">7</span>  c<span class="hljs-number">3</span>  <span class="hljs-number">3</span>  <span class="hljs-number">8</span>  d<span class="hljs-number">4</span>  <span class="hljs-number">4</span>  <span class="hljs-number">9</span>  e<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.replace(&#123;<span class="hljs-number">0</span>: <span class="hljs-number">10</span>, <span class="hljs-number">1</span>: <span class="hljs-number">100</span>&#125;)     A  B  C<span class="hljs-number">0</span>   <span class="hljs-number">10</span>  <span class="hljs-number">5</span>  a<span class="hljs-number">1</span>  <span class="hljs-number">100</span>  <span class="hljs-number">6</span>  b<span class="hljs-number">2</span>    <span class="hljs-number">2</span>  <span class="hljs-number">7</span>  c<span class="hljs-number">3</span>    <span class="hljs-number">3</span>  <span class="hljs-number">8</span>  d<span class="hljs-number">4</span>    <span class="hljs-number">4</span>  <span class="hljs-number">9</span>  e<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.replace(&#123;<span class="hljs-string">&#x27;A&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;B&#x27;</span>: <span class="hljs-number">5</span>&#125;, <span class="hljs-number">100</span>)     A    B  C<span class="hljs-number">0</span>  <span class="hljs-number">100</span>  <span class="hljs-number">100</span>  a<span class="hljs-number">1</span>    <span class="hljs-number">1</span>    <span class="hljs-number">6</span>  b<span class="hljs-number">2</span>    <span class="hljs-number">2</span>    <span class="hljs-number">7</span>  c<span class="hljs-number">3</span>    <span class="hljs-number">3</span>    <span class="hljs-number">8</span>  d<span class="hljs-number">4</span>    <span class="hljs-number">4</span>    <span class="hljs-number">9</span>  e<span class="hljs-meta">&gt;&gt;&gt; </span>obj.replace(&#123;<span class="hljs-string">&#x27;A&#x27;</span>: &#123;<span class="hljs-number">0</span>: <span class="hljs-number">100</span>, <span class="hljs-number">4</span>: <span class="hljs-number">400</span>&#125;&#125;)     A  B  C<span class="hljs-number">0</span>  <span class="hljs-number">100</span>  <span class="hljs-number">5</span>  a<span class="hljs-number">1</span>    <span class="hljs-number">1</span>  <span class="hljs-number">6</span>  b<span class="hljs-number">2</span>    <span class="hljs-number">2</span>  <span class="hljs-number">7</span>  c<span class="hljs-number">3</span>    <span class="hljs-number">3</span>  <span class="hljs-number">8</span>  d<span class="hljs-number">4</span>  <span class="hljs-number">400</span>  <span class="hljs-number">9</span>  e</code></pre><p><code>to_replace</code> ä¼ å…¥æ­£åˆ™è¡¨è¾¾å¼ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(&#123;<span class="hljs-string">&#x27;A&#x27;</span>: [<span class="hljs-string">&#x27;bat&#x27;</span>, <span class="hljs-string">&#x27;foo&#x27;</span>, <span class="hljs-string">&#x27;bait&#x27;</span>],            <span class="hljs-string">&#x27;B&#x27;</span>: [<span class="hljs-string">&#x27;abc&#x27;</span>, <span class="hljs-string">&#x27;bar&#x27;</span>, <span class="hljs-string">&#x27;xyz&#x27;</span>]&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj      A    B<span class="hljs-number">0</span>   bat  abc<span class="hljs-number">1</span>   foo  bar<span class="hljs-number">2</span>  bait  xyz<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.replace(to_replace=<span class="hljs-string">r&#x27;^ba.$&#x27;</span>, value=<span class="hljs-string">&#x27;new&#x27;</span>, regex=<span class="hljs-literal">True</span>)      A    B<span class="hljs-number">0</span>   new  abc<span class="hljs-number">1</span>   foo  new<span class="hljs-number">2</span>  bait  xyz<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.replace(&#123;<span class="hljs-string">&#x27;A&#x27;</span>: <span class="hljs-string">r&#x27;^ba.$&#x27;</span>&#125;, &#123;<span class="hljs-string">&#x27;A&#x27;</span>: <span class="hljs-string">&#x27;new&#x27;</span>&#125;, regex=<span class="hljs-literal">True</span>)      A    B<span class="hljs-number">0</span>   new  abc<span class="hljs-number">1</span>   foo  bar<span class="hljs-number">2</span>  bait  xyz<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.replace(regex=<span class="hljs-string">r&#x27;^ba.$&#x27;</span>, value=<span class="hljs-string">&#x27;new&#x27;</span>)      A    B<span class="hljs-number">0</span>   new  abc<span class="hljs-number">1</span>   foo  new<span class="hljs-number">2</span>  bait  xyz<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.replace(regex=&#123;<span class="hljs-string">r&#x27;^ba.$&#x27;</span>: <span class="hljs-string">&#x27;new&#x27;</span>, <span class="hljs-string">&#x27;foo&#x27;</span>: <span class="hljs-string">&#x27;xyz&#x27;</span>&#125;)      A    B<span class="hljs-number">0</span>   new  abc<span class="hljs-number">1</span>   xyz  new<span class="hljs-number">2</span>  bait  xyz<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.replace(regex=[<span class="hljs-string">r&#x27;^ba.$&#x27;</span>, <span class="hljs-string">&#x27;foo&#x27;</span>], value=<span class="hljs-string">&#x27;new&#x27;</span>)      A    B<span class="hljs-number">0</span>   new  abc<span class="hljs-number">1</span>   new  new<span class="hljs-number">2</span>  bait  xyz</code></pre><h3><span id="03x02-where"><font color="#4876FF">ã€03x02ã€‘where</font></span></h3><p><code>where</code> æ–¹æ³•ç”¨äºæ›¿æ¢æ¡ä»¶ä¸º False çš„å€¼ã€‚</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><ul><li><p><code>Series.where(self, cond, other=nan, inplace=False, axis=None, level=None, errors='raise', try_cast=False)</code></p></li><li><p><code>DataFrame.where(self, cond, other=nan, inplace=False, axis=None, level=None, errors='raise', try_cast=False)</code></p></li></ul><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.where.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.where.html</a></p></li><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.where.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.where.html</a></p></li></ul><p>å¸¸ç”¨å‚æ•°ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>cond</td><td>æ›¿æ¢æ¡ä»¶ï¼Œå¦‚æœ cond ä¸º Trueï¼Œåˆ™ä¿ç•™åŸå§‹å€¼ã€‚å¦‚æœä¸º Falseï¼Œåˆ™æ›¿æ¢ä¸ºæ¥è‡ª other çš„ç›¸åº”å€¼</td></tr><tr><td>other</td><td>æ›¿æ¢å€¼ï¼Œå¦‚æœ cond ä¸º Falseï¼Œåˆ™æ›¿æ¢ä¸ºæ¥è‡ªè¯¥å‚æ•°çš„ç›¸åº”å€¼</td></tr><tr><td>inplace</td><td>bool ç±»å‹ï¼Œæ˜¯å¦ç›´æ¥æ”¹å˜åŸæ•°æ®ä¸”ä¸è¿”å›å€¼ï¼Œé»˜è®¤ False</td></tr></tbody></table><p>åœ¨ Series ä¸­çš„åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series(<span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>))<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">0</span>    <span class="hljs-number">0</span><span class="hljs-number">1</span>    <span class="hljs-number">1</span><span class="hljs-number">2</span>    <span class="hljs-number">2</span><span class="hljs-number">3</span>    <span class="hljs-number">3</span><span class="hljs-number">4</span>    <span class="hljs-number">4</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.where(obj &gt; <span class="hljs-number">0</span>)<span class="hljs-number">0</span>    NaN<span class="hljs-number">1</span>    <span class="hljs-number">1.0</span><span class="hljs-number">2</span>    <span class="hljs-number">2.0</span><span class="hljs-number">3</span>    <span class="hljs-number">3.0</span><span class="hljs-number">4</span>    <span class="hljs-number">4.0</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.where(obj &gt; <span class="hljs-number">1</span>, <span class="hljs-number">10</span>)<span class="hljs-number">0</span>    <span class="hljs-number">10</span><span class="hljs-number">1</span>    <span class="hljs-number">10</span><span class="hljs-number">2</span>     <span class="hljs-number">2</span><span class="hljs-number">3</span>     <span class="hljs-number">3</span><span class="hljs-number">4</span>     <span class="hljs-number">4</span>dtype: int64</code></pre><p>åœ¨ DataFrame ä¸­çš„åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(np.arange(<span class="hljs-number">10</span>).reshape(-<span class="hljs-number">1</span>, <span class="hljs-number">2</span>), columns=[<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj   A  B<span class="hljs-number">0</span>  <span class="hljs-number">0</span>  <span class="hljs-number">1</span><span class="hljs-number">1</span>  <span class="hljs-number">2</span>  <span class="hljs-number">3</span><span class="hljs-number">2</span>  <span class="hljs-number">4</span>  <span class="hljs-number">5</span><span class="hljs-number">3</span>  <span class="hljs-number">6</span>  <span class="hljs-number">7</span><span class="hljs-number">4</span>  <span class="hljs-number">8</span>  <span class="hljs-number">9</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>m = obj % <span class="hljs-number">3</span> == <span class="hljs-number">0</span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.where(m, -obj)   A  B<span class="hljs-number">0</span>  <span class="hljs-number">0</span> -<span class="hljs-number">1</span><span class="hljs-number">1</span> -<span class="hljs-number">2</span>  <span class="hljs-number">3</span><span class="hljs-number">2</span> -<span class="hljs-number">4</span> -<span class="hljs-number">5</span><span class="hljs-number">3</span>  <span class="hljs-number">6</span> -<span class="hljs-number">7</span><span class="hljs-number">4</span> -<span class="hljs-number">8</span>  <span class="hljs-number">9</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.where(m, -obj) == np.where(m, obj, -obj)      A     B<span class="hljs-number">0</span>  <span class="hljs-literal">True</span>  <span class="hljs-literal">True</span><span class="hljs-number">1</span>  <span class="hljs-literal">True</span>  <span class="hljs-literal">True</span><span class="hljs-number">2</span>  <span class="hljs-literal">True</span>  <span class="hljs-literal">True</span><span class="hljs-number">3</span>  <span class="hljs-literal">True</span>  <span class="hljs-literal">True</span><span class="hljs-number">4</span>  <span class="hljs-literal">True</span>  <span class="hljs-literal">True</span></code></pre><h3><span id="03x03-mask"><font color="#4876FF">ã€03x03ã€‘mask</font></span></h3><p><code>mask</code> æ–¹æ³•ä¸ <code>where</code> æ–¹æ³•ç›¸åï¼Œ<code>mask</code> ç”¨äºæ›¿æ¢æ¡ä»¶ä¸º False çš„å€¼ã€‚</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><ul><li><p><code>Series.mask(self, cond, other=nan, inplace=False, axis=None, level=None, errors='raise', try_cast=False)</code></p></li><li><p><code>DataFrame.mask(self, cond, other=nan, inplace=False, axis=None, level=None, errors='raise', try_cast=False)</code></p></li></ul><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.mask.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.mask.html</a></p></li><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.mask.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.mask.html</a></p></li></ul><p>å¸¸ç”¨å‚æ•°ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>cond</td><td>æ›¿æ¢æ¡ä»¶ï¼Œå¦‚æœ cond ä¸º Falseï¼Œåˆ™ä¿ç•™åŸå§‹å€¼ã€‚å¦‚æœä¸º Trueï¼Œåˆ™æ›¿æ¢ä¸ºæ¥è‡ª other çš„ç›¸åº”å€¼</td></tr><tr><td>other</td><td>æ›¿æ¢å€¼ï¼Œå¦‚æœ cond ä¸º Falseï¼Œåˆ™æ›¿æ¢ä¸ºæ¥è‡ªè¯¥å‚æ•°çš„ç›¸åº”å€¼</td></tr><tr><td>inplace</td><td>bool ç±»å‹ï¼Œæ˜¯å¦ç›´æ¥æ”¹å˜åŸæ•°æ®ä¸”ä¸è¿”å›å€¼ï¼Œé»˜è®¤ False</td></tr></tbody></table><p>åœ¨ Series ä¸­çš„åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series(<span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>))<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">0</span>    <span class="hljs-number">0</span><span class="hljs-number">1</span>    <span class="hljs-number">1</span><span class="hljs-number">2</span>    <span class="hljs-number">2</span><span class="hljs-number">3</span>    <span class="hljs-number">3</span><span class="hljs-number">4</span>    <span class="hljs-number">4</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.mask(obj &gt; <span class="hljs-number">0</span>)<span class="hljs-number">0</span>    <span class="hljs-number">0.0</span><span class="hljs-number">1</span>    NaN<span class="hljs-number">2</span>    NaN<span class="hljs-number">3</span>    NaN<span class="hljs-number">4</span>    NaNdtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.mask(obj &gt; <span class="hljs-number">1</span>, <span class="hljs-number">10</span>)<span class="hljs-number">0</span>     <span class="hljs-number">0</span><span class="hljs-number">1</span>     <span class="hljs-number">1</span><span class="hljs-number">2</span>    <span class="hljs-number">10</span><span class="hljs-number">3</span>    <span class="hljs-number">10</span><span class="hljs-number">4</span>    <span class="hljs-number">10</span>dtype: int64</code></pre><p>åœ¨ DataFrame ä¸­çš„åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(np.arange(<span class="hljs-number">10</span>).reshape(-<span class="hljs-number">1</span>, <span class="hljs-number">2</span>), columns=[<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj   A  B<span class="hljs-number">0</span>  <span class="hljs-number">0</span>  <span class="hljs-number">1</span><span class="hljs-number">1</span>  <span class="hljs-number">2</span>  <span class="hljs-number">3</span><span class="hljs-number">2</span>  <span class="hljs-number">4</span>  <span class="hljs-number">5</span><span class="hljs-number">3</span>  <span class="hljs-number">6</span>  <span class="hljs-number">7</span><span class="hljs-number">4</span>  <span class="hljs-number">8</span>  <span class="hljs-number">9</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>m = obj % <span class="hljs-number">3</span> == <span class="hljs-number">0</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.mask(m, -obj)   A  B<span class="hljs-number">0</span>  <span class="hljs-number">0</span>  <span class="hljs-number">1</span><span class="hljs-number">1</span>  <span class="hljs-number">2</span> -<span class="hljs-number">3</span><span class="hljs-number">2</span>  <span class="hljs-number">4</span>  <span class="hljs-number">5</span><span class="hljs-number">3</span> -<span class="hljs-number">6</span>  <span class="hljs-number">7</span><span class="hljs-number">4</span>  <span class="hljs-number">8</span> -<span class="hljs-number">9</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.where(m, -obj) == obj.mask(~m, -obj)      A     B<span class="hljs-number">0</span>  <span class="hljs-literal">True</span>  <span class="hljs-literal">True</span><span class="hljs-number">1</span>  <span class="hljs-literal">True</span>  <span class="hljs-literal">True</span><span class="hljs-number">2</span>  <span class="hljs-literal">True</span>  <span class="hljs-literal">True</span><span class="hljs-number">3</span>  <span class="hljs-literal">True</span>  <span class="hljs-literal">True</span><span class="hljs-number">4</span>  <span class="hljs-literal">True</span>  <span class="hljs-literal">True</span></code></pre><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106900748</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h2&gt;&lt;span id=&quot;wen-zhang-mu-lu&quot;&gt;æ–‡ç« ç›®å½•&lt;/span&gt;&lt;/h2&gt;
&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#font-color-ff0000-01x00-shu-ju-chong-su-font&quot;&gt;&lt;font color=&quot;#</summary>
      
    
    
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    <category term="Pandas" scheme="https://www.itbob.cn/tags/Pandas/"/>
    
  </entry>
  
  <entry>
    <title>Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸ƒï¼‰ï¼šåˆå¹¶æ•°æ®é›†</title>
    <link href="https://www.itbob.cn/article/031/"/>
    <id>https://www.itbob.cn/article/031/</id>
    <published>2020-06-21T12:58:52.000Z</published>
    <updated>2022-05-22T12:42:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="wen-zhang-mu-lu">æ–‡ç« ç›®å½•</span></h2><!-- toc --><ul><li><a href="#font-color-ff0000-01x00-concat-font"><font color="#FF0000">ã€01x00ã€‘concat</font></a></li><li><a href="#font-color-ff0000-02x00-append-font"><font color="#FF0000">ã€02x00ã€‘append</font></a></li><li><a href="#font-color-ff0000-03x00-merge-font"><font color="#FF0000">ã€03x00ã€‘merge</font></a><ul><li><a href="#font-color-4876ff-03x01-yi-dui-yi-lian-jie-font"><font color="#4876FF">ã€03x01ã€‘ä¸€å¯¹ä¸€è¿æ¥</font></a></li><li><a href="#font-color-4876ff-03x02-duo-dui-yi-lian-jie-font"><font color="#4876FF">ã€03x02ã€‘å¤šå¯¹ä¸€è¿æ¥</font></a></li><li><a href="#font-color-4876ff-03x03-duo-dui-duo-lian-jie-font"><font color="#4876FF">ã€03x03ã€‘å¤šå¯¹å¤šè¿æ¥</font></a></li><li><a href="#font-color-4876ff-03x04-can-shu-on-left-on-right-on-font"><font color="#4876FF">ã€03x04ã€‘å‚æ•° on / left_on / right_on</font></a></li><li><a href="#font-color-4876ff-03x05-can-shu-how-font"><font color="#4876FF">ã€03x05ã€‘å‚æ•° how</font></a></li><li><a href="#font-color-4876ff-03x06-can-shu-suffixes-font"><font color="#4876FF">ã€03x06ã€‘å‚æ•° suffixes</font></a></li><li><a href="#font-color-4876ff-03x07-can-shu-left-index-right-index-font"><font color="#4876FF">ã€03x07ã€‘å‚æ•° left_index / right_index</font></a></li></ul></li><li><a href="#font-color-ff0000-04x00-join-font"><font color="#FF0000">ã€04x00ã€‘join</font></a></li><li><a href="#font-color-ff0000-05x00-si-chong-fang-fa-de-qu-bie-font"><font color="#FF0000">ã€05x00ã€‘å››ç§æ–¹æ³•çš„åŒºåˆ«</font></a></li></ul><!-- tocstop --><hr><p>Pandas ç³»åˆ—æ–‡ç« ï¼š</p><ul><li><a href="https://www.itbob.cn/article/025/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸€ï¼‰ï¼šè®¤è¯† Pandas åŠå…¶ Seriesã€DataFrame å¯¹è±¡</a></li><li><a href="https://www.itbob.cn/article/026/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäºŒï¼‰ï¼šIndex ç´¢å¼•å¯¹è±¡ä»¥åŠå„ç§ç´¢å¼•æ“ä½œ</a></li><li><a href="https://www.itbob.cn/article/027/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸‰ï¼‰ï¼šç®—æœ¯è¿ç®—ä¸ç¼ºå¤±å€¼çš„å¤„ç†</a></li><li><a href="https://www.itbob.cn/article/028/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå››ï¼‰ï¼šå‡½æ•°åº”ç”¨ã€æ˜ å°„ã€æ’åºå’Œå±‚çº§ç´¢å¼•</a></li><li><a href="https://www.itbob.cn/article/029/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäº”ï¼‰ï¼šç»Ÿè®¡è®¡ç®—ä¸ç»Ÿè®¡æè¿°</a></li><li><a href="https://www.itbob.cn/article/030/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…­ï¼‰ï¼šGroupBy æ•°æ®åˆ†è£‚ã€åº”ç”¨ä¸åˆå¹¶</a></li><li><a href="https://www.itbob.cn/article/031/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸ƒï¼‰ï¼šåˆå¹¶æ•°æ®é›†</a></li><li><a href="https://www.itbob.cn/article/032/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…«ï¼‰ï¼šæ•°æ®é‡å¡‘ã€é‡å¤æ•°æ®å¤„ç†ä¸æ•°æ®æ›¿æ¢</a></li><li><a href="https://www.itbob.cn/article/033/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¹ï¼‰ï¼šæ—¶é—´åºåˆ—</a></li><li><a href="https://www.itbob.cn/article/034/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆåï¼‰ï¼šæ•°æ®è¯»å†™</a></li></ul><hr><p>ä¸“æ ï¼š</p><ul><li>NumPy ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780393.html">https://itrhx.blog.csdn.net/category_9780393.html</a></li><li>Pandas ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780397.html">https://itrhx.blog.csdn.net/category_9780397.html</a></li><li>Matplotlib ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780418.html">https://itrhx.blog.csdn.net/category_9780418.html</a></li></ul><br>æ¨èå­¦ä¹ èµ„æ–™ä¸ç½‘ç«™ï¼š<br><br><ul><li>NumPy å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.numpy.org.cn/">https://www.numpy.org.cn/</a></li><li>Pandas å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.pypandas.cn/">https://www.pypandas.cn/</a></li><li>Matplotlib å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.matplotlib.org.cn/">https://www.matplotlib.org.cn/</a></li><li>NumPyã€Matplotlibã€Pandas é€ŸæŸ¥è¡¨ï¼š<a href="https://github.com/TRHX/Python-quick-reference-table">https://github.com/TRHX/Python-quick-reference-table</a></li></ul><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106830112</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h2><span id="01x00-concat"><font color="#FF0000">ã€01x00ã€‘concat</font></span></h2><p><code>pandas.concat</code> å¯ä»¥æ²¿ç€æŒ‡å®šè½´å°†å¤šä¸ªå¯¹è±¡å †å åˆ°ä¸€èµ·ã€‚</p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.concat.html">https://pandas.pydata.org/docs/reference/api/pandas.concat.html</a></p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre><code class="hljs python">pandas.concat(objs: <span class="hljs-type">Union</span>[Iterable[â€˜DataFrameâ€™], Mapping[<span class="hljs-type">Optional</span>[Hashable], â€˜DataFrameâ€™]],              axis=<span class="hljs-string">&#x27;0&#x27;</span>,              join: <span class="hljs-built_in">str</span> = <span class="hljs-string">&quot;&#x27;outer&#x27;&quot;</span>,              ignore_index: <span class="hljs-built_in">bool</span> = <span class="hljs-string">&#x27;False&#x27;</span>,              keys=<span class="hljs-string">&#x27;None&#x27;</span>,              levels=<span class="hljs-string">&#x27;None&#x27;</span>,              names=<span class="hljs-string">&#x27;None&#x27;</span>,              verify_integrity: <span class="hljs-built_in">bool</span> = <span class="hljs-string">&#x27;False&#x27;</span>,              sort: <span class="hljs-built_in">bool</span> = <span class="hljs-string">&#x27;False&#x27;</span>,              copy: <span class="hljs-built_in">bool</span> = <span class="hljs-string">&#x27;True&#x27;</span>) â†’ â€™DataFrameâ€™</code></pre><pre><code class="hljs python">pandas.concat(objs: <span class="hljs-type">Union</span>[Iterable[FrameOrSeriesUnion], Mapping[<span class="hljs-type">Optional</span>[Hashable], FrameOrSeriesUnion]],              axis=<span class="hljs-string">&#x27;0&#x27;</span>,              join: <span class="hljs-built_in">str</span> = <span class="hljs-string">&quot;&#x27;outer&#x27;&quot;</span>,              ignore_index: <span class="hljs-built_in">bool</span> = <span class="hljs-string">&#x27;False&#x27;</span>,              keys=<span class="hljs-string">&#x27;None&#x27;</span>,              levels=<span class="hljs-string">&#x27;None&#x27;</span>,              names=<span class="hljs-string">&#x27;None&#x27;</span>,              verify_integrity: <span class="hljs-built_in">bool</span> = <span class="hljs-string">&#x27;False&#x27;</span>,              sort: <span class="hljs-built_in">bool</span> = <span class="hljs-string">&#x27;False&#x27;</span>,              copy: <span class="hljs-built_in">bool</span> = <span class="hljs-string">&#x27;True&#x27;</span>) â†’ FrameOrSeriesUnion</code></pre><p>å¸¸ç”¨å‚æ•°æè¿°ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>objs</td><td>Series æˆ– DataFrame å¯¹è±¡çš„åºåˆ—æˆ–æ˜ å°„ï¼Œè¦åˆå¹¶çš„å¯¹è±¡</td></tr><tr><td>axis</td><td>æ²¿æŒ‡å®šè½´åˆå¹¶ï¼Œ<code>0</code> or <code>â€˜indexâ€™</code>ï¼Œ<code>1</code> or <code>â€˜columnsâ€™</code>ï¼Œåªæœ‰åœ¨ DataFrame ä¸­æ‰æœ‰ <code>1</code> or <code>'columnsâ€™</code></td></tr><tr><td>join</td><td>å¦‚ä½•å¤„ç†å…¶ä»–è½´ï¼ˆæˆ–å¤šä¸ªè½´ï¼‰ä¸Šçš„ç´¢å¼•ï¼Œå¯å–å€¼ï¼š<code>â€˜innerâ€™</code>ï¼Œ<code>â€˜outerâ€™</code>ï¼ˆé»˜è®¤å€¼ï¼‰<br><code>â€˜outerâ€™</code>ï¼šå½“ axis = 0 æ—¶ï¼Œåˆ—åç›¸åŒçš„åˆ—ä¼šåˆå¹¶ï¼Œå…¶ä½™åˆ—éƒ½ä¿ç•™ï¼ˆå¹¶é›†ï¼‰ï¼Œç©ºå€¼å¡«å……ï¼›<br><code>â€˜innerâ€™</code>ï¼šå½“ axis = 0 æ—¶ï¼Œåˆ—åç›¸åŒçš„åˆ—ä¼šåˆå¹¶ï¼Œå…¶ä½™åˆ—éƒ½èˆå¼ƒï¼ˆäº¤é›†ï¼‰</td></tr><tr><td>ignore_index</td><td>bool ç±»å‹ï¼Œè¿æ¥åçš„å€¼æ˜¯å¦ä½¿ç”¨åŸç´¢å¼•å€¼ï¼Œå¦‚æœä¸º Trueï¼Œåˆ™ç´¢å¼•å°†ä¼šæ˜¯ 0, 1, â€¦, n-1</td></tr><tr><td>keys</td><td>åºåˆ—å½¢å¼ï¼Œé»˜è®¤ Noneï¼Œä¼ é€’ keys åï¼Œä¼šæ„é€ ä¸€ä¸ªå±‚æ¬¡ç´¢å¼•ï¼Œå³ MultiIndex å¯¹è±¡ï¼Œkeys ä¸ºæœ€å¤–å±‚ç´¢å¼•</td></tr><tr><td>levels</td><td>ç”¨äºæ„é€  MultiIndex çš„ç‰¹å®šçº§åˆ«ï¼ˆå”¯ä¸€å€¼ï¼‰ã€‚æœªæŒ‡å®šåˆ™å°†ä»é”®ä¸­æ¨æ–­å‡ºæ¥</td></tr><tr><td>names</td><td>åˆ—è¡¨ç±»å‹ï¼Œä¸ºç´¢å¼•æ·»åŠ æ ‡ç­¾</td></tr><tr><td>verify_integrity</td><td>bool ç±»å‹ï¼Œæ˜¯å¦æ£€æŸ¥åˆå¹¶åçš„ç´¢å¼•æœ‰æ— é‡å¤é¡¹ï¼Œè®¾ç½®ä¸º <code>True</code> è‹¥æœ‰é‡å¤é¡¹åˆ™ä¼šæŠ¥é”™</td></tr><tr><td>sort</td><td>å½“ <code>join='outer'</code> æ—¶å¯¹åˆ—ç´¢å¼•è¿›è¡Œæ’åºã€‚å½“ <code>join='inner'</code> æ—¶æ­¤æ“ä½œæ— æ•ˆ</td></tr></tbody></table><p>åˆå¹¶ä¸¤ä¸ª Series å¯¹è±¡ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.Series([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.Series([<span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>pd.concat([obj1, obj2])<span class="hljs-number">0</span>    a<span class="hljs-number">1</span>    b<span class="hljs-number">0</span>    c<span class="hljs-number">1</span>    ddtype: <span class="hljs-built_in">object</span></code></pre><p>è®¾ç½® <code>ignore_index=True</code>ï¼Œæ”¾å¼ƒåŸæœ‰çš„ç´¢å¼•å€¼ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.Series([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.Series([<span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>pd.concat([obj1, obj2], ignore_index=<span class="hljs-literal">True</span>)<span class="hljs-number">0</span>    a<span class="hljs-number">1</span>    b<span class="hljs-number">2</span>    c<span class="hljs-number">3</span>    ddtype: <span class="hljs-built_in">object</span></code></pre><p>è®¾ç½® <code>keys</code> å‚æ•°ï¼Œæ·»åŠ æœ€å¤–å±‚çš„ç´¢å¼•ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.Series([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.Series([<span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>pd.concat([obj1, obj2], keys=[<span class="hljs-string">&#x27;s1&#x27;</span>, <span class="hljs-string">&#x27;s2&#x27;</span>])s1  <span class="hljs-number">0</span>    a    <span class="hljs-number">1</span>    bs2  <span class="hljs-number">0</span>    c    <span class="hljs-number">1</span>    ddtype: <span class="hljs-built_in">object</span></code></pre><p>è®¾ç½® <code>names</code> å‚æ•°ï¼Œä¸ºç´¢å¼•æ·»åŠ æ ‡ç­¾ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.Series([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.Series([<span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>pd.concat([obj1, obj2], keys=[<span class="hljs-string">&#x27;s1&#x27;</span>, <span class="hljs-string">&#x27;s2&#x27;</span>], names=[<span class="hljs-string">&#x27;Series name&#x27;</span>, <span class="hljs-string">&#x27;Row ID&#x27;</span>])Series name  Row IDs1           <span class="hljs-number">0</span>         a             <span class="hljs-number">1</span>         bs2           <span class="hljs-number">0</span>         c             <span class="hljs-number">1</span>         ddtype: <span class="hljs-built_in">object</span></code></pre><p>åˆå¹¶ <code>DataFrame</code> å¯¹è±¡ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.DataFrame([[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-number">1</span>], [<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-number">2</span>]], columns=[<span class="hljs-string">&#x27;letter&#x27;</span>, <span class="hljs-string">&#x27;number&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.DataFrame([[<span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-number">3</span>], [<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-number">4</span>]], columns=[<span class="hljs-string">&#x27;letter&#x27;</span>, <span class="hljs-string">&#x27;number&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj1  letter  number<span class="hljs-number">0</span>      a       <span class="hljs-number">1</span><span class="hljs-number">1</span>      b       <span class="hljs-number">2</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2  letter  number<span class="hljs-number">0</span>      c       <span class="hljs-number">3</span><span class="hljs-number">1</span>      d       <span class="hljs-number">4</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.concat([obj1, obj2])  letter  number<span class="hljs-number">0</span>      a       <span class="hljs-number">1</span><span class="hljs-number">1</span>      b       <span class="hljs-number">2</span><span class="hljs-number">0</span>      c       <span class="hljs-number">3</span><span class="hljs-number">1</span>      d       <span class="hljs-number">4</span></code></pre><p>åˆå¹¶ <code>DataFrame</code> å¯¹è±¡ï¼Œä¸å­˜åœ¨çš„å€¼å°†ä¼šè¢« NaN å¡«å……ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.DataFrame([[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-number">1</span>], [<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-number">2</span>]], columns=[<span class="hljs-string">&#x27;letter&#x27;</span>, <span class="hljs-string">&#x27;number&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.DataFrame([[<span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;cat&#x27;</span>], [<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-number">4</span>, <span class="hljs-string">&#x27;dog&#x27;</span>]], columns=[<span class="hljs-string">&#x27;letter&#x27;</span>, <span class="hljs-string">&#x27;number&#x27;</span>, <span class="hljs-string">&#x27;animal&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj1  letter  number<span class="hljs-number">0</span>      a       <span class="hljs-number">1</span><span class="hljs-number">1</span>      b       <span class="hljs-number">2</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2  letter  number animal<span class="hljs-number">0</span>      c       <span class="hljs-number">3</span>    cat<span class="hljs-number">1</span>      d       <span class="hljs-number">4</span>    dog<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.concat([obj1, obj2])  letter  number animal<span class="hljs-number">0</span>      a       <span class="hljs-number">1</span>    NaN<span class="hljs-number">1</span>      b       <span class="hljs-number">2</span>    NaN<span class="hljs-number">0</span>      c       <span class="hljs-number">3</span>    cat<span class="hljs-number">1</span>      d       <span class="hljs-number">4</span>    dog</code></pre><p>åˆå¹¶ <code>DataFrame</code> å¯¹è±¡ï¼Œè®¾ç½® <code>join=&quot;inner&quot;</code> ä¸å­˜åœ¨çš„åˆ—å°†ä¼šèˆå¼ƒï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.DataFrame([[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-number">1</span>], [<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-number">2</span>]], columns=[<span class="hljs-string">&#x27;letter&#x27;</span>, <span class="hljs-string">&#x27;number&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.DataFrame([[<span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;cat&#x27;</span>], [<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-number">4</span>, <span class="hljs-string">&#x27;dog&#x27;</span>]], columns=[<span class="hljs-string">&#x27;letter&#x27;</span>, <span class="hljs-string">&#x27;number&#x27;</span>, <span class="hljs-string">&#x27;animal&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj1  letter  number<span class="hljs-number">0</span>      a       <span class="hljs-number">1</span><span class="hljs-number">1</span>      b       <span class="hljs-number">2</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2  letter  number animal<span class="hljs-number">0</span>      c       <span class="hljs-number">3</span>    cat<span class="hljs-number">1</span>      d       <span class="hljs-number">4</span>    dog<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.concat([obj1, obj2], join=<span class="hljs-string">&quot;inner&quot;</span>)  letter  number<span class="hljs-number">0</span>      a       <span class="hljs-number">1</span><span class="hljs-number">1</span>      b       <span class="hljs-number">2</span><span class="hljs-number">0</span>      c       <span class="hljs-number">3</span><span class="hljs-number">1</span>      d       <span class="hljs-number">4</span></code></pre><p>åˆå¹¶ <code>DataFrame</code> å¯¹è±¡ï¼Œè®¾ç½® <code>axis=1</code> æ²¿ y è½´åˆå¹¶ï¼ˆå¢åŠ åˆ—ï¼‰ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.DataFrame([[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-number">1</span>], [<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-number">2</span>]], columns=[<span class="hljs-string">&#x27;letter&#x27;</span>, <span class="hljs-string">&#x27;number&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.DataFrame([[<span class="hljs-string">&#x27;bird&#x27;</span>, <span class="hljs-string">&#x27;polly&#x27;</span>], [<span class="hljs-string">&#x27;monkey&#x27;</span>, <span class="hljs-string">&#x27;george&#x27;</span>]], columns=[<span class="hljs-string">&#x27;animal&#x27;</span>, <span class="hljs-string">&#x27;name&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj1  letter  number<span class="hljs-number">0</span>      a       <span class="hljs-number">1</span><span class="hljs-number">1</span>      b       <span class="hljs-number">2</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2   animal    name<span class="hljs-number">0</span>    bird   polly<span class="hljs-number">1</span>  monkey  george<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.concat([obj1, obj2], axis=<span class="hljs-number">1</span>)  letter  number  animal    name<span class="hljs-number">0</span>      a       <span class="hljs-number">1</span>    bird   polly<span class="hljs-number">1</span>      b       <span class="hljs-number">2</span>  monkey  george</code></pre><p>è®¾ç½® <code>verify_integrity=True</code> ï¼Œæ£€æŸ¥æ–°çš„ç´¢å¼•æ˜¯å¦æœ‰é‡å¤é¡¹ï¼Œæœ‰é‡å¤é¡¹ä¼šæŠ¥é”™ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.DataFrame([<span class="hljs-number">1</span>], index=[<span class="hljs-string">&#x27;a&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.DataFrame([<span class="hljs-number">2</span>], index=[<span class="hljs-string">&#x27;a&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj1   <span class="hljs-number">0</span>a  <span class="hljs-number">1</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2   <span class="hljs-number">0</span>a  <span class="hljs-number">2</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.concat([obj1, obj2], verify_integrity=<span class="hljs-literal">True</span>)Traceback (most recent call last):    ...ValueError: Indexes have overlapping values: [<span class="hljs-string">&#x27;a&#x27;</span>]</code></pre><p>è®¾ç½® <code>sort=True</code>ï¼Œä¼šå¯¹åˆ—ç´¢å¼•è¿›è¡Œæ’åºè¾“å‡ºï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.DataFrame([[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-number">3</span>], [<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-number">2</span>]], columns=[<span class="hljs-string">&#x27;letter&#x27;</span>, <span class="hljs-string">&#x27;number&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.DataFrame([[<span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;cat&#x27;</span>], [<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-number">4</span>, <span class="hljs-string">&#x27;dog&#x27;</span>]], columns=[<span class="hljs-string">&#x27;letter&#x27;</span>, <span class="hljs-string">&#x27;number&#x27;</span>, <span class="hljs-string">&#x27;animal&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj1  letter  number<span class="hljs-number">0</span>      a       <span class="hljs-number">3</span><span class="hljs-number">1</span>      d       <span class="hljs-number">2</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2  letter  number animal<span class="hljs-number">0</span>      c       <span class="hljs-number">1</span>    cat<span class="hljs-number">1</span>      b       <span class="hljs-number">4</span>    dog<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.concat([obj1, obj2], sort=<span class="hljs-literal">True</span>)  animal letter  number<span class="hljs-number">0</span>    NaN      a       <span class="hljs-number">3</span><span class="hljs-number">1</span>    NaN      d       <span class="hljs-number">2</span><span class="hljs-number">0</span>    cat      c       <span class="hljs-number">1</span><span class="hljs-number">1</span>    dog      b       <span class="hljs-number">4</span></code></pre><h2><span id="02x00-append"><font color="#FF0000">ã€02x00ã€‘append</font></span></h2><p>Append æ–¹æ³•äº‹å®ä¸Šæ˜¯åœ¨ä¸€ä¸ª Series / DataFrame å¯¹è±¡åæœ€è¿½åŠ å¦ä¸€ä¸ª Series / DataFrame å¯¹è±¡å¹¶è¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¸æ”¹å˜åŸå¯¹è±¡çš„å€¼ã€‚</p><p>åŸºæœ¬è¯­æ³•ï¼š</p><ul><li><p><code>Series.append(self, to_append, ignore_index=False, verify_integrity=False)</code></p></li><li><p><code>DataFrame.append(self, other, ignore_index=False, verify_integrity=False, sort=False)</code></p></li></ul><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.append.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.append.html</a></p></li><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.append.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.append.html</a></p></li></ul><p>å‚æ•°æè¿°ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>to_append / other</td><td>è¦è¿½åŠ çš„æ•°æ®</td></tr><tr><td>ignore_index</td><td>bool ç±»å‹ï¼Œè¿æ¥åçš„å€¼æ˜¯å¦ä½¿ç”¨åŸç´¢å¼•å€¼ï¼Œå¦‚æœä¸º Trueï¼Œåˆ™ç´¢å¼•å°†ä¼šæ˜¯ 0, 1, â€¦, n-1</td></tr><tr><td>verify_integrity</td><td>bool ç±»å‹ï¼Œæ˜¯å¦æ£€æŸ¥åˆå¹¶åçš„ç´¢å¼•æœ‰æ— é‡å¤é¡¹ï¼Œè®¾ç½®ä¸º <code>True</code> è‹¥æœ‰é‡å¤é¡¹åˆ™ä¼šæŠ¥é”™</td></tr><tr><td>sort</td><td>bool ç±»å‹ï¼Œæ˜¯å¦å¯¹åˆ—ç´¢å¼•ï¼ˆcolumnsï¼‰è¿›è¡Œæ’åºï¼Œé»˜è®¤ False</td></tr></tbody></table><p>åˆå¹¶ Series å¯¹è±¡ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.Series([<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj3 = pd.Series([<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>], index=[<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj1<span class="hljs-number">0</span>    <span class="hljs-number">1</span><span class="hljs-number">1</span>    <span class="hljs-number">2</span><span class="hljs-number">2</span>    <span class="hljs-number">3</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2<span class="hljs-number">0</span>    <span class="hljs-number">4</span><span class="hljs-number">1</span>    <span class="hljs-number">5</span><span class="hljs-number">2</span>    <span class="hljs-number">6</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj3<span class="hljs-number">3</span>    <span class="hljs-number">4</span><span class="hljs-number">4</span>    <span class="hljs-number">5</span><span class="hljs-number">5</span>    <span class="hljs-number">6</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj1.append(obj2)<span class="hljs-number">0</span>    <span class="hljs-number">1</span><span class="hljs-number">1</span>    <span class="hljs-number">2</span><span class="hljs-number">2</span>    <span class="hljs-number">3</span><span class="hljs-number">0</span>    <span class="hljs-number">4</span><span class="hljs-number">1</span>    <span class="hljs-number">5</span><span class="hljs-number">2</span>    <span class="hljs-number">6</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj1.append(obj3)<span class="hljs-number">0</span>    <span class="hljs-number">1</span><span class="hljs-number">1</span>    <span class="hljs-number">2</span><span class="hljs-number">2</span>    <span class="hljs-number">3</span><span class="hljs-number">3</span>    <span class="hljs-number">4</span><span class="hljs-number">4</span>    <span class="hljs-number">5</span><span class="hljs-number">5</span>    <span class="hljs-number">6</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj1.append(obj2, ignore_index=<span class="hljs-literal">True</span>)<span class="hljs-number">0</span>    <span class="hljs-number">1</span><span class="hljs-number">1</span>    <span class="hljs-number">2</span><span class="hljs-number">2</span>    <span class="hljs-number">3</span><span class="hljs-number">3</span>    <span class="hljs-number">4</span><span class="hljs-number">4</span>    <span class="hljs-number">5</span><span class="hljs-number">5</span>    <span class="hljs-number">6</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj1.append(obj2, verify_integrity=<span class="hljs-literal">True</span>)Traceback (most recent call last):...ValueError: Indexes have overlapping values: Int64Index([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>], dtype=<span class="hljs-string">&#x27;int64&#x27;</span>)</code></pre><p>åˆå¹¶ DataFrame å¯¹è±¡ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.DataFrame([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]], columns=<span class="hljs-built_in">list</span>(<span class="hljs-string">&#x27;AB&#x27;</span>))<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.DataFrame([[<span class="hljs-number">5</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>]], columns=<span class="hljs-built_in">list</span>(<span class="hljs-string">&#x27;AB&#x27;</span>))<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj1   A  B<span class="hljs-number">0</span>  <span class="hljs-number">1</span>  <span class="hljs-number">2</span><span class="hljs-number">1</span>  <span class="hljs-number">3</span>  <span class="hljs-number">4</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2   A  B<span class="hljs-number">0</span>  <span class="hljs-number">5</span>  <span class="hljs-number">6</span><span class="hljs-number">1</span>  <span class="hljs-number">7</span>  <span class="hljs-number">8</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj1.append(obj2)   A  B<span class="hljs-number">0</span>  <span class="hljs-number">1</span>  <span class="hljs-number">2</span><span class="hljs-number">1</span>  <span class="hljs-number">3</span>  <span class="hljs-number">4</span><span class="hljs-number">0</span>  <span class="hljs-number">5</span>  <span class="hljs-number">6</span><span class="hljs-number">1</span>  <span class="hljs-number">7</span>  <span class="hljs-number">8</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj1.append(obj2, ignore_index=<span class="hljs-literal">True</span>)   A  B<span class="hljs-number">0</span>  <span class="hljs-number">1</span>  <span class="hljs-number">2</span><span class="hljs-number">1</span>  <span class="hljs-number">3</span>  <span class="hljs-number">4</span><span class="hljs-number">2</span>  <span class="hljs-number">5</span>  <span class="hljs-number">6</span><span class="hljs-number">3</span>  <span class="hljs-number">7</span>  <span class="hljs-number">8</span></code></pre><p>ä»¥ä¸‹è™½ç„¶ä¸æ˜¯ç”Ÿæˆ DataFrames çš„æ¨èæ–¹æ³•ï¼Œä½†æ¼”ç¤ºäº†ä»å¤šä¸ªæ•°æ®æºç”Ÿæˆ DataFrames çš„ä¸¤ç§æ–¹æ³•ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(columns=[<span class="hljs-string">&#x27;A&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):    obj = obj.append(&#123;<span class="hljs-string">&#x27;A&#x27;</span>: i&#125;, ignore_index=<span class="hljs-literal">True</span>)    <span class="hljs-meta">&gt;&gt;&gt; </span>obj   A<span class="hljs-number">0</span>  <span class="hljs-number">0</span><span class="hljs-number">1</span>  <span class="hljs-number">1</span><span class="hljs-number">2</span>  <span class="hljs-number">2</span><span class="hljs-number">3</span>  <span class="hljs-number">3</span><span class="hljs-number">4</span>  <span class="hljs-number">4</span></code></pre><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.concat([pd.DataFrame([i], columns=[<span class="hljs-string">&#x27;A&#x27;</span>]) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>)], ignore_index=<span class="hljs-literal">True</span>)   A<span class="hljs-number">0</span>  <span class="hljs-number">0</span><span class="hljs-number">1</span>  <span class="hljs-number">1</span><span class="hljs-number">2</span>  <span class="hljs-number">2</span><span class="hljs-number">3</span>  <span class="hljs-number">3</span><span class="hljs-number">4</span>  <span class="hljs-number">4</span></code></pre><h2><span id="03x00-merge"><font color="#FF0000">ã€03x00ã€‘merge</font></span></h2><p>å°†ä¸åŒçš„æ•°æ®æºè¿›è¡Œåˆå¹¶æ˜¯æ•°æ®ç§‘å­¦ä¸­å¸¸è§çš„æ“ä½œï¼Œè¿™æ—¢åŒ…æ‹¬å°†ä¸¤ä¸ªä¸åŒçš„æ•°æ®é›†éå¸¸ç®€å•åœ°æ‹¼æ¥åœ¨ä¸€èµ·ï¼Œä¹ŸåŒ…æ‹¬ç”¨æ•°æ®åº“é‚£æ ·çš„è¿æ¥ï¼ˆjoinï¼‰ä¸åˆå¹¶ï¼ˆmergeï¼‰æ“ä½œå¤„ç†æœ‰é‡å å­—æ®µçš„æ•°æ®é›†ã€‚Series ä¸DataFrame éƒ½å…·å¤‡è¿™ç±»æ“ä½œï¼ŒPandas çš„å‡½æ•°ä¸æ–¹æ³•è®©æ•°æ®åˆå¹¶å˜å¾—å¿«é€Ÿç®€å•ã€‚</p><p>æ•°æ®é›†çš„åˆå¹¶ï¼ˆmergeï¼‰æˆ–è¿æ¥ï¼ˆjoinï¼‰è¿ç®—æ˜¯é€šè¿‡ä¸€ä¸ªæˆ–å¤šä¸ªé”®å°†è¡Œè¿æ¥èµ·æ¥çš„ã€‚è¿™äº›è¿ç®—æ˜¯å…³ç³»å‹æ•°æ®åº“ï¼ˆåŸºäºSQLï¼‰çš„æ ¸å¿ƒã€‚Pandas çš„ merge å‡½æ•°æ˜¯å¯¹æ•°æ®åº”ç”¨è¿™äº›ç®—æ³•çš„ä¸»è¦åˆ‡å…¥ç‚¹ã€‚</p><p><font color="#FF0000"> <strong><code>pandas.merge</code> å¯æ ¹æ®ä¸€ä¸ªæˆ–å¤šä¸ªè¿æ¥é”®å°†ä¸åŒ DataFrame ä¸­çš„è¡Œè¿æ¥èµ·æ¥ã€‚</strong></font></p><p>åŸºæœ¬è¯­æ³•ï¼š</p><pre><code class="hljs python">pandas.merge(left,             right,             how: <span class="hljs-built_in">str</span> = <span class="hljs-string">&#x27;inner&#x27;</span>,             on=<span class="hljs-literal">None</span>,             left_on=<span class="hljs-literal">None</span>,             right_on=<span class="hljs-literal">None</span>,             left_index: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span>,             right_index: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span>,             sort: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span>,             suffixes=<span class="hljs-string">&#x27;_x&#x27;</span>, <span class="hljs-string">&#x27;_y&#x27;</span>,             copy: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">True</span>,             indicator: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span>,             validate=<span class="hljs-literal">None</span>) â†’ â€™DataFrameâ€™</code></pre><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.merge.html">https://pandas.pydata.org/docs/reference/api/pandas.merge.html</a></p><p>å¸¸è§å‚æ•°æè¿°ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>left</td><td>å‚ä¸åˆå¹¶çš„å·¦ä¾§ DataFrame å¯¹è±¡</td></tr><tr><td>right</td><td>å‚ä¸åˆå¹¶çš„å³ä¾§ DataFrame å¯¹è±¡</td></tr><tr><td>how</td><td>åˆå¹¶æ–¹å¼ï¼Œé»˜è®¤ <code>'inner'</code><br><code>'inner'</code>ï¼šå†…è¿æ¥ï¼Œå³ä½¿ç”¨ä¸¤ä¸ªå¯¹è±¡ä¸­<font color="#FF0000"><strong>éƒ½æœ‰</strong></font>çš„é”®ï¼ˆäº¤é›†ï¼‰ï¼›<br><code>'outer'</code>ï¼šå¤–è¿æ¥ï¼Œå³ä½¿ç”¨ä¸¤ä¸ªå¯¹è±¡ä¸­<font color="#FF0000"><strong>æ‰€æœ‰</strong></font>çš„é”®ï¼ˆå¹¶é›†ï¼‰ï¼›<br><code>'left'</code>ï¼šå·¦è¿æ¥ï¼Œå³ä½¿ç”¨<font color="#FF0000"><strong>å·¦</strong></font>å¯¹è±¡ä¸­æ‰€æœ‰çš„é”®ï¼›<br><code>'right'</code>ï¼šå³è¿æ¥ï¼Œå³ä½¿ç”¨<font color="#FF0000"><strong>å³</strong></font>å¯¹è±¡ä¸­æ‰€æœ‰çš„é”®ï¼›</td></tr><tr><td>on</td><td>ç”¨äºè¿æ¥çš„åˆ—åã€‚å¿…é¡»å­˜åœ¨äºå·¦å³ä¸¤ä¸ª Dataframeå¯¹è±¡ä¸­<br>å¦‚æœæœªæŒ‡å®šï¼Œä¸”å…¶ä»–è¿æ¥é”®ä¹ŸæœªæŒ‡å®šï¼Œåˆ™ä»¥ left å’Œ right åˆ—åçš„äº¤é›†ä½œä¸ºè¿æ¥é”®</td></tr><tr><td>left_on</td><td>å·¦ä¾§ DataFrame å¯¹è±¡ä¸­ç”¨ä½œè¿æ¥é”®çš„åˆ—</td></tr><tr><td>right_on</td><td>å³ä¾§ DataFrame å¯¹è±¡ä¸­ç”¨ä½œè¿æ¥é”®çš„åˆ—</td></tr><tr><td>left_index</td><td>bool ç±»å‹ï¼Œæ˜¯å¦ä½¿ç”¨å·¦ä¾§ DataFrame å¯¹è±¡ä¸­çš„ç´¢å¼•ï¼ˆindexï¼‰ä½œä¸ºè¿æ¥é”®ï¼Œé»˜è®¤ False</td></tr><tr><td>right_index</td><td>bool ç±»å‹ï¼Œæ˜¯å¦ä½¿ç”¨å³ä¾§ DataFrame å¯¹è±¡ä¸­çš„ç´¢å¼•ï¼ˆindexï¼‰ä½œä¸ºè¿æ¥é”®ï¼Œé»˜è®¤ False</td></tr><tr><td>sort</td><td>bool ç±»å‹ï¼Œæ˜¯å¦åœ¨ç»“æœä¸­æŒ‰é¡ºåºå¯¹è¿æ¥é”®æ’åºï¼Œé»˜è®¤ Falseã€‚<br>å¦‚æœä¸º Falseï¼Œåˆ™è¿æ¥é”®çš„é¡ºåºå–å†³äºè”æ¥ç±»å‹ï¼ˆhow å…³é”®å­—ï¼‰</td></tr><tr><td>suffixes</td><td>å­—ç¬¦ä¸²å€¼å…ƒç»„ï¼Œç”¨äºè¿½åŠ åˆ°é‡å åˆ—åçš„æœ«å°¾ï¼Œé»˜è®¤ä¸º <code>('_x', '_y')</code>ã€‚<br>ä¾‹å¦‚ï¼Œå¦‚æœå·¦å³ä¸¤ä¸ª DataFrame å¯¹è±¡éƒ½æœ‰ <code>data</code> åˆ—æ—¶ï¼Œåˆ™ç»“æœä¸­å°±ä¼šå‡ºç° <code>data_x</code> å’Œ <code>data_y</code></td></tr></tbody></table><h3><span id="03x01-yi-dui-yi-lian-jie"><font color="#4876FF">ã€03x01ã€‘ä¸€å¯¹ä¸€è¿æ¥</font></span></h3><p><font color="#FF0000"><strong>ä¸€å¯¹ä¸€è¿æ¥æ˜¯æŒ‡ä¸¤ä¸ª DataFrame å¯¹è±¡çš„åˆ—çš„å€¼æ²¡æœ‰é‡å¤å€¼ã€‚</strong></font></p><p>å¦‚æœä¸æŒ‡å®šä»»ä½•å‚æ•°ï¼Œè°ƒç”¨ <code>merge</code> æ–¹æ³•ï¼Œ<code>merge</code> å°±ä¼šå°†é‡å çš„åˆ—çš„åˆ—åå½“åšé”®æ¥åˆå¹¶ã€‚</p><p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œä¸¤ä¸ª DataFrame å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªåˆ—åä¸º <code>key</code> çš„åˆ—ï¼ŒæœªæŒ‡å®šæŒ‰ç…§å“ªä¸€åˆ—æ¥åˆå¹¶ï¼Œ<code>merge</code> å°±ä¼šé»˜è®¤æŒ‰ç…§ <code>key</code> æ¥åˆå¹¶ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.DataFrame(&#123;<span class="hljs-string">&#x27;key&#x27;</span>: [<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>], <span class="hljs-string">&#x27;data1&#x27;</span>: <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>)&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.DataFrame(&#123;<span class="hljs-string">&#x27;key&#x27;</span>: [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>], <span class="hljs-string">&#x27;data2&#x27;</span>: <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>)&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj1  key  data1<span class="hljs-number">0</span>   b      <span class="hljs-number">0</span><span class="hljs-number">1</span>   a      <span class="hljs-number">1</span><span class="hljs-number">2</span>   c      <span class="hljs-number">2</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2  key  data2<span class="hljs-number">0</span>   a      <span class="hljs-number">0</span><span class="hljs-number">1</span>   c      <span class="hljs-number">1</span><span class="hljs-number">2</span>   b      <span class="hljs-number">2</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.merge(obj1, obj2)  key  data1  data2<span class="hljs-number">0</span>   b      <span class="hljs-number">0</span>      <span class="hljs-number">2</span><span class="hljs-number">1</span>   a      <span class="hljs-number">1</span>      <span class="hljs-number">0</span><span class="hljs-number">2</span>   c      <span class="hljs-number">2</span>      <span class="hljs-number">1</span></code></pre><h3><span id="03x02-duo-dui-yi-lian-jie"><font color="#4876FF">ã€03x02ã€‘å¤šå¯¹ä¸€è¿æ¥</font></span></h3><p><font color="#FF0000"><strong>å¤šå¯¹ä¸€è¿æ¥æ˜¯æŒ‡ä¸¤ä¸ª DataFrame å¯¹è±¡ä¸­ï¼Œæœ‰ä¸€ä¸ªçš„åˆ—çš„å€¼æœ‰é‡å¤å€¼ã€‚</strong></font>é€šè¿‡å¤šå¯¹ä¸€è¿æ¥è·å¾—çš„ç»“æœï¼ŒDataFrame  å°†ä¼šä¿ç•™é‡å¤å€¼ã€‚</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.DataFrame(&#123;<span class="hljs-string">&#x27;key&#x27;</span>: [<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>], <span class="hljs-string">&#x27;data1&#x27;</span>: <span class="hljs-built_in">range</span>(<span class="hljs-number">7</span>)&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.DataFrame(&#123;<span class="hljs-string">&#x27;key&#x27;</span>: [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>], <span class="hljs-string">&#x27;data2&#x27;</span>: <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>)&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj1  key  data1<span class="hljs-number">0</span>   b      <span class="hljs-number">0</span><span class="hljs-number">1</span>   b      <span class="hljs-number">1</span><span class="hljs-number">2</span>   a      <span class="hljs-number">2</span><span class="hljs-number">3</span>   c      <span class="hljs-number">3</span><span class="hljs-number">4</span>   a      <span class="hljs-number">4</span><span class="hljs-number">5</span>   a      <span class="hljs-number">5</span><span class="hljs-number">6</span>   b      <span class="hljs-number">6</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2  key  data2<span class="hljs-number">0</span>   a      <span class="hljs-number">0</span><span class="hljs-number">1</span>   b      <span class="hljs-number">1</span><span class="hljs-number">2</span>   d      <span class="hljs-number">2</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.merge(obj1, obj2)  key  data1  data2<span class="hljs-number">0</span>   b      <span class="hljs-number">0</span>      <span class="hljs-number">1</span><span class="hljs-number">1</span>   b      <span class="hljs-number">1</span>      <span class="hljs-number">1</span><span class="hljs-number">2</span>   b      <span class="hljs-number">6</span>      <span class="hljs-number">1</span><span class="hljs-number">3</span>   a      <span class="hljs-number">2</span>      <span class="hljs-number">0</span><span class="hljs-number">4</span>   a      <span class="hljs-number">4</span>      <span class="hljs-number">0</span><span class="hljs-number">5</span>   a      <span class="hljs-number">5</span>      <span class="hljs-number">0</span></code></pre><h3><span id="03x03-duo-dui-duo-lian-jie"><font color="#4876FF">ã€03x03ã€‘å¤šå¯¹å¤šè¿æ¥</font></span></h3><p><font color="#FF0000"><strong>å¤šå¯¹å¤šè¿æ¥æ˜¯æŒ‡ä¸¤ä¸ª DataFrame å¯¹è±¡ä¸­çš„åˆ—çš„å€¼éƒ½æœ‰é‡å¤å€¼ã€‚</strong></font></p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.DataFrame(&#123;<span class="hljs-string">&#x27;key&#x27;</span>: [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>], <span class="hljs-string">&#x27;data1&#x27;</span>: <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>)&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.DataFrame(&#123;<span class="hljs-string">&#x27;key&#x27;</span>: [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>], <span class="hljs-string">&#x27;data2&#x27;</span>: <span class="hljs-built_in">range</span>(<span class="hljs-number">6</span>)&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj1  key  data1<span class="hljs-number">0</span>   a      <span class="hljs-number">0</span><span class="hljs-number">1</span>   b      <span class="hljs-number">1</span><span class="hljs-number">2</span>   b      <span class="hljs-number">2</span><span class="hljs-number">3</span>   c      <span class="hljs-number">3</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2  key  data2<span class="hljs-number">0</span>   a      <span class="hljs-number">0</span><span class="hljs-number">1</span>   a      <span class="hljs-number">1</span><span class="hljs-number">2</span>   b      <span class="hljs-number">2</span><span class="hljs-number">3</span>   b      <span class="hljs-number">3</span><span class="hljs-number">4</span>   c      <span class="hljs-number">4</span><span class="hljs-number">5</span>   c      <span class="hljs-number">5</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.merge(obj1, obj2)  key  data1  data2<span class="hljs-number">0</span>   a      <span class="hljs-number">0</span>      <span class="hljs-number">0</span><span class="hljs-number">1</span>   a      <span class="hljs-number">0</span>      <span class="hljs-number">1</span><span class="hljs-number">2</span>   b      <span class="hljs-number">1</span>      <span class="hljs-number">2</span><span class="hljs-number">3</span>   b      <span class="hljs-number">1</span>      <span class="hljs-number">3</span><span class="hljs-number">4</span>   b      <span class="hljs-number">2</span>      <span class="hljs-number">2</span><span class="hljs-number">5</span>   b      <span class="hljs-number">2</span>      <span class="hljs-number">3</span><span class="hljs-number">6</span>   c      <span class="hljs-number">3</span>      <span class="hljs-number">4</span><span class="hljs-number">7</span>   c      <span class="hljs-number">3</span>      <span class="hljs-number">5</span></code></pre><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106830112</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h3><span id="03x04-can-shu-on-left-on-right-on"><font color="#4876FF">ã€03x04ã€‘å‚æ•° on / left_on / right_on</font></span></h3><p>å‚æ•° <code>on</code> ç”¨äºæŒ‡å®šæŒ‰ç…§æŸä¸€åˆ—æ¥è¿›è¡Œåˆå¹¶ï¼Œè‹¥ä¸æŒ‡å®šè¯¥å‚æ•°ï¼Œåˆ™ä¼šé»˜è®¤æŒ‰ç…§é‡å çš„åˆ—çš„åˆ—åå½“åšé”®æ¥åˆå¹¶ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.DataFrame(&#123;<span class="hljs-string">&#x27;key&#x27;</span>: [<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>], <span class="hljs-string">&#x27;data1&#x27;</span>: <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>)&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.DataFrame(&#123;<span class="hljs-string">&#x27;key&#x27;</span>: [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>], <span class="hljs-string">&#x27;data2&#x27;</span>: <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>)&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj1  key  data1<span class="hljs-number">0</span>   b      <span class="hljs-number">0</span><span class="hljs-number">1</span>   a      <span class="hljs-number">1</span><span class="hljs-number">2</span>   c      <span class="hljs-number">2</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2  key  data2<span class="hljs-number">0</span>   a      <span class="hljs-number">0</span><span class="hljs-number">1</span>   c      <span class="hljs-number">1</span><span class="hljs-number">2</span>   b      <span class="hljs-number">2</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.merge(obj1, obj2, on=<span class="hljs-string">&#x27;key&#x27;</span>)  key  data1  data2<span class="hljs-number">0</span>   b      <span class="hljs-number">0</span>      <span class="hljs-number">2</span><span class="hljs-number">1</span>   a      <span class="hljs-number">1</span>      <span class="hljs-number">0</span><span class="hljs-number">2</span>   c      <span class="hljs-number">2</span>      <span class="hljs-number">1</span></code></pre><p>å¦‚æœè¦æ ¹æ®å¤šä¸ªé”®è¿›è¡Œåˆå¹¶ï¼Œä¼ å…¥ä¸€ä¸ªç”±åˆ—åç»„æˆçš„åˆ—è¡¨å³å¯ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>left = pd.DataFrame(&#123;<span class="hljs-string">&#x27;key1&#x27;</span>: [<span class="hljs-string">&#x27;foo&#x27;</span>, <span class="hljs-string">&#x27;foo&#x27;</span>, <span class="hljs-string">&#x27;bar&#x27;</span>],             <span class="hljs-string">&#x27;key2&#x27;</span>: [<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>],             <span class="hljs-string">&#x27;lval&#x27;</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>right = pd.DataFrame(&#123;<span class="hljs-string">&#x27;key1&#x27;</span>: [<span class="hljs-string">&#x27;foo&#x27;</span>, <span class="hljs-string">&#x27;foo&#x27;</span>, <span class="hljs-string">&#x27;bar&#x27;</span>, <span class="hljs-string">&#x27;bar&#x27;</span>],              <span class="hljs-string">&#x27;key2&#x27;</span>: [<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>],              <span class="hljs-string">&#x27;rval&#x27;</span>: [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>]&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>left  key1 key2  lval<span class="hljs-number">0</span>  foo  one     <span class="hljs-number">1</span><span class="hljs-number">1</span>  foo  two     <span class="hljs-number">2</span><span class="hljs-number">2</span>  bar  one     <span class="hljs-number">3</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>right  key1 key2  rval<span class="hljs-number">0</span>  foo  one     <span class="hljs-number">4</span><span class="hljs-number">1</span>  foo  one     <span class="hljs-number">5</span><span class="hljs-number">2</span>  bar  one     <span class="hljs-number">6</span><span class="hljs-number">3</span>  bar  two     <span class="hljs-number">7</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.merge(left, right, on=[<span class="hljs-string">&#x27;key1&#x27;</span>, <span class="hljs-string">&#x27;key2&#x27;</span>])  key1 key2  lval  rval<span class="hljs-number">0</span>  foo  one     <span class="hljs-number">1</span>     <span class="hljs-number">4</span><span class="hljs-number">1</span>  foo  one     <span class="hljs-number">1</span>     <span class="hljs-number">5</span><span class="hljs-number">2</span>  bar  one     <span class="hljs-number">3</span>     <span class="hljs-number">6</span></code></pre><p>å¦‚æœä¸¤ä¸ªå¯¹è±¡çš„åˆ—åä¸åŒï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>left_on</code>ã€<code>right_on</code> å‚æ•°åˆ†åˆ«è¿›è¡ŒæŒ‡å®šï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.DataFrame(&#123;<span class="hljs-string">&#x27;lkey&#x27;</span>: [<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>], <span class="hljs-string">&#x27;data1&#x27;</span>: <span class="hljs-built_in">range</span>(<span class="hljs-number">7</span>)&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.DataFrame(&#123;<span class="hljs-string">&#x27;rkey&#x27;</span>: [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>], <span class="hljs-string">&#x27;data2&#x27;</span>: <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>)&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj1  lkey  data1<span class="hljs-number">0</span>    b      <span class="hljs-number">0</span><span class="hljs-number">1</span>    b      <span class="hljs-number">1</span><span class="hljs-number">2</span>    a      <span class="hljs-number">2</span><span class="hljs-number">3</span>    c      <span class="hljs-number">3</span><span class="hljs-number">4</span>    a      <span class="hljs-number">4</span><span class="hljs-number">5</span>    a      <span class="hljs-number">5</span><span class="hljs-number">6</span>    b      <span class="hljs-number">6</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2  rkey  data2<span class="hljs-number">0</span>    a      <span class="hljs-number">0</span><span class="hljs-number">1</span>    b      <span class="hljs-number">1</span><span class="hljs-number">2</span>    d      <span class="hljs-number">2</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.merge(obj1, obj2, left_on=<span class="hljs-string">&#x27;lkey&#x27;</span>, right_on=<span class="hljs-string">&#x27;rkey&#x27;</span>)  lkey  data1 rkey  data2<span class="hljs-number">0</span>    b      <span class="hljs-number">0</span>    b      <span class="hljs-number">1</span><span class="hljs-number">1</span>    b      <span class="hljs-number">1</span>    b      <span class="hljs-number">1</span><span class="hljs-number">2</span>    b      <span class="hljs-number">6</span>    b      <span class="hljs-number">1</span><span class="hljs-number">3</span>    a      <span class="hljs-number">2</span>    a      <span class="hljs-number">0</span><span class="hljs-number">4</span>    a      <span class="hljs-number">4</span>    a      <span class="hljs-number">0</span><span class="hljs-number">5</span>    a      <span class="hljs-number">5</span>    a      <span class="hljs-number">0</span></code></pre><h3><span id="03x05-can-shu-how"><font color="#4876FF">ã€03x05ã€‘å‚æ•° how</font></span></h3><p>åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œç»“æœé‡Œé¢ c å’Œ d ä»¥åŠä¸ä¹‹ç›¸å…³çš„æ•°æ®æ¶ˆå¤±äº†ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>merge</code> åšçš„æ˜¯å†…è¿æ¥ï¼ˆ<code>'inner'</code>ï¼‰ï¼Œç»“æœä¸­çš„é”®æ˜¯äº¤é›†ã€‚å…¶ä»–æ–¹å¼è¿˜æœ‰ï¼š<code>'left'</code>ã€<code>'right'</code>ã€<code>'outer'</code>ï¼Œå«ä¹‰å¦‚ä¸‹ï¼š</p><ul><li><code>'inner'</code>ï¼šå†…è¿æ¥ï¼Œå³ä½¿ç”¨ä¸¤ä¸ªå¯¹è±¡ä¸­<font color="#FF0000"><strong>éƒ½æœ‰</strong></font>çš„é”®ï¼ˆäº¤é›†ï¼‰ï¼›</li><li><code>'outer'</code>ï¼šå¤–è¿æ¥ï¼Œå³ä½¿ç”¨ä¸¤ä¸ªå¯¹è±¡ä¸­<font color="#FF0000"><strong>æ‰€æœ‰</strong></font>çš„é”®ï¼ˆå¹¶é›†ï¼‰ï¼›</li><li><code>'left'</code>ï¼šå·¦è¿æ¥ï¼Œå³ä½¿ç”¨<font color="#FF0000"><strong>å·¦</strong></font>å¯¹è±¡ä¸­æ‰€æœ‰çš„é”®ï¼›</li><li><code>'right'</code>ï¼šå³è¿æ¥ï¼Œå³ä½¿ç”¨<font color="#FF0000"><strong>å³</strong></font>å¯¹è±¡ä¸­æ‰€æœ‰çš„é”®ï¼›</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.DataFrame(&#123;<span class="hljs-string">&#x27;key&#x27;</span>: [<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>], <span class="hljs-string">&#x27;data1&#x27;</span>: <span class="hljs-built_in">range</span>(<span class="hljs-number">7</span>)&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.DataFrame(&#123;<span class="hljs-string">&#x27;key&#x27;</span>: [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>], <span class="hljs-string">&#x27;data2&#x27;</span>: <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>)&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj1  key  data1<span class="hljs-number">0</span>   b      <span class="hljs-number">0</span><span class="hljs-number">1</span>   b      <span class="hljs-number">1</span><span class="hljs-number">2</span>   a      <span class="hljs-number">2</span><span class="hljs-number">3</span>   c      <span class="hljs-number">3</span><span class="hljs-number">4</span>   a      <span class="hljs-number">4</span><span class="hljs-number">5</span>   a      <span class="hljs-number">5</span><span class="hljs-number">6</span>   b      <span class="hljs-number">6</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2  key  data2<span class="hljs-number">0</span>   a      <span class="hljs-number">0</span><span class="hljs-number">1</span>   b      <span class="hljs-number">1</span><span class="hljs-number">2</span>   d      <span class="hljs-number">2</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.merge(obj1, obj2, on=<span class="hljs-string">&#x27;key&#x27;</span>, how=<span class="hljs-string">&#x27;inner&#x27;</span>)  key  data1  data2<span class="hljs-number">0</span>   b      <span class="hljs-number">0</span>      <span class="hljs-number">1</span><span class="hljs-number">1</span>   b      <span class="hljs-number">1</span>      <span class="hljs-number">1</span><span class="hljs-number">2</span>   b      <span class="hljs-number">6</span>      <span class="hljs-number">1</span><span class="hljs-number">3</span>   a      <span class="hljs-number">2</span>      <span class="hljs-number">0</span><span class="hljs-number">4</span>   a      <span class="hljs-number">4</span>      <span class="hljs-number">0</span><span class="hljs-number">5</span>   a      <span class="hljs-number">5</span>      <span class="hljs-number">0</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.merge(obj1, obj2, on=<span class="hljs-string">&#x27;key&#x27;</span>, how=<span class="hljs-string">&#x27;outer&#x27;</span>)  key  data1  data2<span class="hljs-number">0</span>   b    <span class="hljs-number">0.0</span>    <span class="hljs-number">1.0</span><span class="hljs-number">1</span>   b    <span class="hljs-number">1.0</span>    <span class="hljs-number">1.0</span><span class="hljs-number">2</span>   b    <span class="hljs-number">6.0</span>    <span class="hljs-number">1.0</span><span class="hljs-number">3</span>   a    <span class="hljs-number">2.0</span>    <span class="hljs-number">0.0</span><span class="hljs-number">4</span>   a    <span class="hljs-number">4.0</span>    <span class="hljs-number">0.0</span><span class="hljs-number">5</span>   a    <span class="hljs-number">5.0</span>    <span class="hljs-number">0.0</span><span class="hljs-number">6</span>   c    <span class="hljs-number">3.0</span>    NaN<span class="hljs-number">7</span>   d    NaN    <span class="hljs-number">2.0</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.merge(obj1, obj2, on=<span class="hljs-string">&#x27;key&#x27;</span>, how=<span class="hljs-string">&#x27;left&#x27;</span>)  key  data1  data2<span class="hljs-number">0</span>   b      <span class="hljs-number">0</span>    <span class="hljs-number">1.0</span><span class="hljs-number">1</span>   b      <span class="hljs-number">1</span>    <span class="hljs-number">1.0</span><span class="hljs-number">2</span>   a      <span class="hljs-number">2</span>    <span class="hljs-number">0.0</span><span class="hljs-number">3</span>   c      <span class="hljs-number">3</span>    NaN<span class="hljs-number">4</span>   a      <span class="hljs-number">4</span>    <span class="hljs-number">0.0</span><span class="hljs-number">5</span>   a      <span class="hljs-number">5</span>    <span class="hljs-number">0.0</span><span class="hljs-number">6</span>   b      <span class="hljs-number">6</span>    <span class="hljs-number">1.0</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.merge(obj1, obj2, on=<span class="hljs-string">&#x27;key&#x27;</span>, how=<span class="hljs-string">&#x27;right&#x27;</span>)  key  data1  data2<span class="hljs-number">0</span>   b    <span class="hljs-number">0.0</span>      <span class="hljs-number">1</span><span class="hljs-number">1</span>   b    <span class="hljs-number">1.0</span>      <span class="hljs-number">1</span><span class="hljs-number">2</span>   b    <span class="hljs-number">6.0</span>      <span class="hljs-number">1</span><span class="hljs-number">3</span>   a    <span class="hljs-number">2.0</span>      <span class="hljs-number">0</span><span class="hljs-number">4</span>   a    <span class="hljs-number">4.0</span>      <span class="hljs-number">0</span><span class="hljs-number">5</span>   a    <span class="hljs-number">5.0</span>      <span class="hljs-number">0</span><span class="hljs-number">6</span>   d    NaN      <span class="hljs-number">2</span></code></pre><h3><span id="03x06-can-shu-suffixes"><font color="#4876FF">ã€03x06ã€‘å‚æ•° suffixes</font></span></h3><p><code>suffixes</code> å‚æ•°ç”¨äºæŒ‡å®šé™„åŠ åˆ°å·¦å³ä¸¤ä¸ª DataFrame å¯¹è±¡çš„é‡å åˆ—åä¸Šçš„å­—ç¬¦ä¸²ï¼š</p><p>åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œé€‰æ‹©æŒ‰ç…§ <code>key1</code> è¿›è¡Œåˆå¹¶ï¼Œè€Œä¸¤ä¸ª DataFrame å¯¹è±¡éƒ½åŒ…å« <code>key2</code> åˆ—ï¼Œå¦‚æœæœªæŒ‡å®š <code>suffixes</code> å‚æ•°ï¼Œåˆ™é»˜è®¤ä¼šä¸ºä¸¤ä¸ªå¯¹è±¡çš„ <code>key2</code> åŠ ä¸Š <code>_x</code> å’Œ <code>_y</code>ï¼Œä»¥ä¾¿åŒºåˆ†å®ƒä»¬ï¼Œå¦‚æœæŒ‡å®šäº† <code>suffixes</code> å‚æ•°ï¼Œå°±ä¼šæŒ‰ç…§æ·»åŠ æŒ‡å®šçš„åç¼€ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>left = pd.DataFrame(&#123;<span class="hljs-string">&#x27;key1&#x27;</span>: [<span class="hljs-string">&#x27;foo&#x27;</span>, <span class="hljs-string">&#x27;foo&#x27;</span>, <span class="hljs-string">&#x27;bar&#x27;</span>],             <span class="hljs-string">&#x27;key2&#x27;</span>: [<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>],             <span class="hljs-string">&#x27;lval&#x27;</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>right = pd.DataFrame(&#123;<span class="hljs-string">&#x27;key1&#x27;</span>: [<span class="hljs-string">&#x27;foo&#x27;</span>, <span class="hljs-string">&#x27;foo&#x27;</span>, <span class="hljs-string">&#x27;bar&#x27;</span>, <span class="hljs-string">&#x27;bar&#x27;</span>],              <span class="hljs-string">&#x27;key2&#x27;</span>: [<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>],              <span class="hljs-string">&#x27;rval&#x27;</span>: [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>]&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>left  key1 key2  lval<span class="hljs-number">0</span>  foo  one     <span class="hljs-number">1</span><span class="hljs-number">1</span>  foo  two     <span class="hljs-number">2</span><span class="hljs-number">2</span>  bar  one     <span class="hljs-number">3</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>right  key1 key2  rval<span class="hljs-number">0</span>  foo  one     <span class="hljs-number">4</span><span class="hljs-number">1</span>  foo  one     <span class="hljs-number">5</span><span class="hljs-number">2</span>  bar  one     <span class="hljs-number">6</span><span class="hljs-number">3</span>  bar  two     <span class="hljs-number">7</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.merge(left, right, on=<span class="hljs-string">&#x27;key1&#x27;</span>)  key1 key2_x  lval key2_y  rval<span class="hljs-number">0</span>  foo    one     <span class="hljs-number">1</span>    one     <span class="hljs-number">4</span><span class="hljs-number">1</span>  foo    one     <span class="hljs-number">1</span>    one     <span class="hljs-number">5</span><span class="hljs-number">2</span>  foo    two     <span class="hljs-number">2</span>    one     <span class="hljs-number">4</span><span class="hljs-number">3</span>  foo    two     <span class="hljs-number">2</span>    one     <span class="hljs-number">5</span><span class="hljs-number">4</span>  bar    one     <span class="hljs-number">3</span>    one     <span class="hljs-number">6</span><span class="hljs-number">5</span>  bar    one     <span class="hljs-number">3</span>    two     <span class="hljs-number">7</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.merge(left, right, on=<span class="hljs-string">&#x27;key1&#x27;</span>, suffixes=(<span class="hljs-string">&#x27;_left&#x27;</span>, <span class="hljs-string">&#x27;_right&#x27;</span>))  key1 key2_left  lval key2_right  rval<span class="hljs-number">0</span>  foo       one     <span class="hljs-number">1</span>        one     <span class="hljs-number">4</span><span class="hljs-number">1</span>  foo       one     <span class="hljs-number">1</span>        one     <span class="hljs-number">5</span><span class="hljs-number">2</span>  foo       two     <span class="hljs-number">2</span>        one     <span class="hljs-number">4</span><span class="hljs-number">3</span>  foo       two     <span class="hljs-number">2</span>        one     <span class="hljs-number">5</span><span class="hljs-number">4</span>  bar       one     <span class="hljs-number">3</span>        one     <span class="hljs-number">6</span><span class="hljs-number">5</span>  bar       one     <span class="hljs-number">3</span>        two     <span class="hljs-number">7</span></code></pre><h3><span id="03x07-can-shu-left-index-right-index"><font color="#4876FF">ã€03x07ã€‘å‚æ•° left_index / right_index</font></span></h3><p>æœ‰æ—¶å€™ï¼ŒDataFrame ä¸­çš„è¿æ¥é”®ä½äºå…¶ç´¢å¼•ä¸­ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ <code>left_index=True</code> æˆ–<code>right_index=True</code>ï¼ˆæˆ–ä¸¤ä¸ªéƒ½ä¼ ï¼‰ä»¥è¯´æ˜ç´¢å¼•åº”è¯¥è¢«ç”¨ä½œè¿æ¥é”®ã€‚è¿™ç§æ–¹æ³•ç§°ä¸ºæŒ‰ç´¢å¼•è¿æ¥ï¼Œåœ¨ Pandas ä¸­è¿˜æœ‰ä¸ª <code>join</code> æ–¹æ³•å¯ä»¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚</p><p>åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼ŒæŒ‰ç…§ left çš„ key åˆ—è¿›è¡Œè¿æ¥ï¼Œè€Œ right å¯¹è±¡çš„è¿æ¥é”®ä½äºå…¶ç´¢å¼•ä¸­ï¼Œå› æ­¤è¦æŒ‡å®š <code>right_index=True</code>ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>left = pd.DataFrame(&#123;<span class="hljs-string">&#x27;key&#x27;</span>: [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>], <span class="hljs-string">&#x27;value&#x27;</span>: <span class="hljs-built_in">range</span>(<span class="hljs-number">6</span>)&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>right = pd.DataFrame(&#123;<span class="hljs-string">&#x27;group_val&#x27;</span>: [<span class="hljs-number">3.5</span>, <span class="hljs-number">7</span>]&#125;, index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>left  key  value<span class="hljs-number">0</span>   a      <span class="hljs-number">0</span><span class="hljs-number">1</span>   b      <span class="hljs-number">1</span><span class="hljs-number">2</span>   a      <span class="hljs-number">2</span><span class="hljs-number">3</span>   a      <span class="hljs-number">3</span><span class="hljs-number">4</span>   b      <span class="hljs-number">4</span><span class="hljs-number">5</span>   c      <span class="hljs-number">5</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>right   group_vala        <span class="hljs-number">3.5</span>b        <span class="hljs-number">7.0</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.merge(left, right, left_on=<span class="hljs-string">&#x27;key&#x27;</span>, right_index=<span class="hljs-literal">True</span>)  key  value  group_val<span class="hljs-number">0</span>   a      <span class="hljs-number">0</span>        <span class="hljs-number">3.5</span><span class="hljs-number">2</span>   a      <span class="hljs-number">2</span>        <span class="hljs-number">3.5</span><span class="hljs-number">3</span>   a      <span class="hljs-number">3</span>        <span class="hljs-number">3.5</span><span class="hljs-number">1</span>   b      <span class="hljs-number">1</span>        <span class="hljs-number">7.0</span><span class="hljs-number">4</span>   b      <span class="hljs-number">4</span>        <span class="hljs-number">7.0</span></code></pre><h2><span id="04x00-join"><font color="#FF0000">ã€04x00ã€‘join</font></span></h2><p>join æ–¹æ³•åªé€‚ç”¨äº DataFrame å¯¹è±¡ï¼ŒSeries å¯¹è±¡æ²¡æœ‰è¯¥æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç”¨äºè¿æ¥å¦ä¸€ä¸ª DataFrame å¯¹è±¡çš„åˆ—ï¼ˆcolumnsï¼‰ã€‚</p><p>åŸºæœ¬è¯­æ³•ï¼š<code>DataFrame.join(self, other, on=None, how='left', lsuffix='', rsuffix='', sort=False) â†’ â€™DataFrameâ€™</code></p><p>å‚æ•°æè¿°ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>other</td><td>å¦ä¸€ä¸ª DataFrameã€Series æˆ– DataFrame åˆ—è¡¨å¯¹è±¡</td></tr><tr><td>on</td><td>åˆ—åç§°ï¼Œæˆ–è€…åˆ—åç§°ç»„æˆçš„åˆ—è¡¨ã€å…ƒç»„ï¼Œè¿æ¥çš„åˆ—</td></tr><tr><td>how</td><td>åˆå¹¶æ–¹å¼ï¼Œé»˜è®¤ <code>'left'</code><br><code>'inner'</code>ï¼šå†…è¿æ¥ï¼Œå³ä½¿ç”¨ä¸¤ä¸ªå¯¹è±¡ä¸­<font color="#FF0000"><strong>éƒ½æœ‰</strong></font>çš„é”®ï¼ˆäº¤é›†ï¼‰ï¼›<br><code>'outer'</code>ï¼šå¤–è¿æ¥ï¼Œå³ä½¿ç”¨ä¸¤ä¸ªå¯¹è±¡ä¸­<font color="#FF0000"><strong>æ‰€æœ‰</strong></font>çš„é”®ï¼ˆå¹¶é›†ï¼‰ï¼›<br><code>'left'</code>ï¼šå·¦è¿æ¥ï¼Œå³ä½¿ç”¨<font color="#FF0000"><strong>å·¦</strong></font>å¯¹è±¡ä¸­æ‰€æœ‰çš„é”®ï¼›<br><code>'right'</code>ï¼šå³è¿æ¥ï¼Œå³ä½¿ç”¨<font color="#FF0000"><strong>å³</strong></font>å¯¹è±¡ä¸­æ‰€æœ‰çš„é”®ï¼›</td></tr><tr><td>lsuffix</td><td>å½“ä¸¤ä¸ªå¯¹è±¡æœ‰ç›¸åŒçš„åˆ—åæ—¶ï¼Œåˆå¹¶åå·¦è¾¹æ•°æ®åˆ—åçš„åç¼€</td></tr><tr><td>rsuffix</td><td>å½“ä¸¤ä¸ªå¯¹è±¡æœ‰ç›¸åŒçš„åˆ—åæ—¶ï¼Œåˆå¹¶åå³è¾¹æ•°æ®åˆ—åçš„åç¼€</td></tr><tr><td>sort</td><td>bool ç±»å‹ï¼Œæ˜¯å¦åœ¨ç»“æœä¸­æŒ‰é¡ºåºå¯¹è¿æ¥é”®æ’åºï¼Œé»˜è®¤ Falseã€‚<br>å¦‚æœä¸º Falseï¼Œåˆ™è¿æ¥é”®çš„é¡ºåºå–å†³äºè”æ¥ç±»å‹ï¼ˆhow å…³é”®å­—ï¼‰</td></tr></tbody></table><p>ä½¿ç”¨ <code>lsuffix</code> å’Œ <code>rsuffix</code> å‚æ•°ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(&#123;<span class="hljs-string">&#x27;key&#x27;</span>: [<span class="hljs-string">&#x27;K0&#x27;</span>, <span class="hljs-string">&#x27;K1&#x27;</span>, <span class="hljs-string">&#x27;K2&#x27;</span>, <span class="hljs-string">&#x27;K3&#x27;</span>, <span class="hljs-string">&#x27;K4&#x27;</span>, <span class="hljs-string">&#x27;K5&#x27;</span>],            <span class="hljs-string">&#x27;A&#x27;</span>: [<span class="hljs-string">&#x27;A0&#x27;</span>, <span class="hljs-string">&#x27;A1&#x27;</span>, <span class="hljs-string">&#x27;A2&#x27;</span>, <span class="hljs-string">&#x27;A3&#x27;</span>, <span class="hljs-string">&#x27;A4&#x27;</span>, <span class="hljs-string">&#x27;A5&#x27;</span>]&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>other = pd.DataFrame(&#123;<span class="hljs-string">&#x27;key&#x27;</span>: [<span class="hljs-string">&#x27;K0&#x27;</span>, <span class="hljs-string">&#x27;K1&#x27;</span>, <span class="hljs-string">&#x27;K2&#x27;</span>],              <span class="hljs-string">&#x27;B&#x27;</span>: [<span class="hljs-string">&#x27;B0&#x27;</span>, <span class="hljs-string">&#x27;B1&#x27;</span>, <span class="hljs-string">&#x27;B2&#x27;</span>]&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj  key   A<span class="hljs-number">0</span>  K0  A0<span class="hljs-number">1</span>  K1  A1<span class="hljs-number">2</span>  K2  A2<span class="hljs-number">3</span>  K3  A3<span class="hljs-number">4</span>  K4  A4<span class="hljs-number">5</span>  K5  A5<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>other  key   B<span class="hljs-number">0</span>  K0  B0<span class="hljs-number">1</span>  K1  B1<span class="hljs-number">2</span>  K2  B2<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.join(other, lsuffix=<span class="hljs-string">&#x27;_1&#x27;</span>, rsuffix=<span class="hljs-string">&#x27;_2&#x27;</span>)  key_1   A key_2    B<span class="hljs-number">0</span>    K0  A0    K0   B0<span class="hljs-number">1</span>    K1  A1    K1   B1<span class="hljs-number">2</span>    K2  A2    K2   B2<span class="hljs-number">3</span>    K3  A3   NaN  NaN<span class="hljs-number">4</span>    K4  A4   NaN  NaN<span class="hljs-number">5</span>    K5  A5   NaN  NaN</code></pre><p>å¦‚æœå³è¡¨çš„ç´¢å¼•æ˜¯å·¦è¡¨çš„æŸä¸€åˆ—çš„å€¼ï¼Œè¿™æ—¶å¯ä»¥å°†å³è¡¨çš„ç´¢å¼•å’Œå·¦è¡¨çš„åˆ—å¯¹é½åˆå¹¶è¿™æ ·çš„çµæ´»æ–¹å¼è¿›è¡Œåˆå¹¶ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(&#123;<span class="hljs-string">&#x27;A&#x27;</span>: [<span class="hljs-string">&#x27;A0&#x27;</span>, <span class="hljs-string">&#x27;A1&#x27;</span>, <span class="hljs-string">&#x27;A2&#x27;</span>, <span class="hljs-string">&#x27;A3&#x27;</span>], <span class="hljs-string">&#x27;B&#x27;</span>: [<span class="hljs-string">&#x27;B0&#x27;</span>, <span class="hljs-string">&#x27;B1&#x27;</span>, <span class="hljs-string">&#x27;B2&#x27;</span>, <span class="hljs-string">&#x27;B3&#x27;</span>],<span class="hljs-string">&#x27;key&#x27;</span>: [<span class="hljs-string">&#x27;K0&#x27;</span>, <span class="hljs-string">&#x27;K1&#x27;</span>, <span class="hljs-string">&#x27;K0&#x27;</span>, <span class="hljs-string">&#x27;K1&#x27;</span>]&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>other = pd.DataFrame(&#123;<span class="hljs-string">&#x27;C&#x27;</span>: [<span class="hljs-string">&#x27;C0&#x27;</span>, <span class="hljs-string">&#x27;C1&#x27;</span>],<span class="hljs-string">&#x27;D&#x27;</span>: [<span class="hljs-string">&#x27;D0&#x27;</span>, <span class="hljs-string">&#x27;D1&#x27;</span>]&#125;,index=[<span class="hljs-string">&#x27;K0&#x27;</span>, <span class="hljs-string">&#x27;K1&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj    A   B key<span class="hljs-number">0</span>  A0  B0  K0<span class="hljs-number">1</span>  A1  B1  K1<span class="hljs-number">2</span>  A2  B2  K0<span class="hljs-number">3</span>  A3  B3  K1<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>other     C   DK0  C0  D0K1  C1  D1<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.join(other, on=<span class="hljs-string">&#x27;key&#x27;</span>)    A   B key   C   D<span class="hljs-number">0</span>  A0  B0  K0  C0  D0<span class="hljs-number">1</span>  A1  B1  K1  C1  D1<span class="hljs-number">2</span>  A2  B2  K0  C0  D0<span class="hljs-number">3</span>  A3  B3  K1  C1  D1</code></pre><h2><span id="05x00-si-chong-fang-fa-de-qu-bie"><font color="#FF0000">ã€05x00ã€‘å››ç§æ–¹æ³•çš„åŒºåˆ«</font></span></h2><ul><li><p><code>concat</code>ï¼šå¯ç”¨äºä¸¤ä¸ªæˆ–å¤šä¸ª Series æˆ– DataFrame å¯¹è±¡é—´ï¼Œé€šè¿‡ <code>axis</code> å‚æ•°æŒ‡å®šæŒ‰ç…§è¡Œæ–¹å‘ï¼ˆå¢åŠ è¡Œï¼‰æˆ–åˆ—æ–¹å‘ï¼ˆå¢åŠ åˆ—ï¼‰è¿›åˆå¹¶æ“ä½œï¼Œé»˜è®¤è¡Œåˆå¹¶ï¼ˆå¢åŠ è¡Œï¼‰ï¼Œå–å¹¶é›†ï¼›</p></li><li><p><code>append</code>ï¼šåœ¨ä¸€ä¸ª Series æˆ– DataFrame å¯¹è±¡åæœ€è¿½åŠ å¦ä¸€ä¸ª Series æˆ– DataFrame å¯¹è±¡å¹¶è¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¸æ”¹å˜åŸå¯¹è±¡çš„å€¼ã€‚åªèƒ½æŒ‰è¡Œåˆå¹¶ï¼ˆå¢åŠ è¡Œï¼‰ã€‚</p></li><li><p><code>merge</code>ï¼šåªèƒ½å¯¹ä¸¤ä¸ª DataFrame å¯¹è±¡è¿›è¡Œåˆå¹¶ï¼Œä¸€èˆ¬æŒ‰ç…§åˆ—æ–¹å‘ï¼ˆå¢åŠ åˆ—ï¼‰è¿›è¡Œåˆå¹¶æ“ä½œï¼ŒæŒ‰ç…§è¡Œæ–¹å‘åˆå¹¶ä¸€èˆ¬ç”¨ join æ–¹æ³•ä»£æ›¿ï¼Œé»˜è®¤åˆ—åˆå¹¶ï¼ˆå¢åŠ åˆ—ï¼‰ï¼Œå–äº¤é›†ï¼›</p></li><li><p><code>join</code>ï¼šåªèƒ½å¯¹ä¸¤ä¸ª DataFrame å¯¹è±¡è¿›è¡Œåˆå¹¶ï¼ŒæŒ‰ç…§åˆ—æ–¹å‘ï¼ˆå¢åŠ åˆ—ï¼‰è¿›è¡Œåˆå¹¶æ“ä½œï¼Œé»˜è®¤å·¦è¿æ¥ã€‚</p></li></ul><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106830112</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h2&gt;&lt;span id=&quot;wen-zhang-mu-lu&quot;&gt;æ–‡ç« ç›®å½•&lt;/span&gt;&lt;/h2&gt;
&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#font-color-ff0000-01x00-concat-font&quot;&gt;&lt;font color=&quot;#FF0000&quot;&gt;ã€</summary>
      
    
    
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    <category term="Pandas" scheme="https://www.itbob.cn/tags/Pandas/"/>
    
  </entry>
  
  <entry>
    <title>Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…­ï¼‰ï¼šGroupBy æ•°æ®åˆ†è£‚/åº”ç”¨/åˆå¹¶</title>
    <link href="https://www.itbob.cn/article/030/"/>
    <id>https://www.itbob.cn/article/030/</id>
    <published>2020-06-17T15:02:33.000Z</published>
    <updated>2022-05-22T12:41:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="wen-zhang-mu-lu">æ–‡ç« ç›®å½•</span></h2><!-- toc --><ul><li><a href="#font-color-ff0000-01x00-groupby-ji-zhi-font"><font color="#FF0000">ã€01x00ã€‘GroupBy æœºåˆ¶</font></a></li><li><a href="#font-color-ff0000-02x00-groupby-dui-xiang-font"><font color="#FF0000">ã€02x00ã€‘GroupBy å¯¹è±¡</font></a></li><li><a href="#font-color-ff0000-03x00-groupby-split-shu-ju-fen-lie-font"><font color="#FF0000">ã€03x00ã€‘GroupBy Split æ•°æ®åˆ†è£‚</font></a><ul><li><a href="#font-color-4876ff-03x01-fen-zu-yun-suan-font"><font color="#4876FF">ã€03x01ã€‘åˆ†ç»„è¿ç®—</font></a></li><li><a href="#font-color-4876ff-03x02-an-lei-xing-an-lie-fen-zu-font"><font color="#4876FF">ã€03x02ã€‘æŒ‰ç±»å‹æŒ‰åˆ—åˆ†ç»„</font></a></li><li><a href="#font-color-4876ff-03x03-zi-ding-yi-fen-zu-font"><font color="#4876FF">ã€03x03ã€‘è‡ªå®šä¹‰åˆ†ç»„</font></a><ul><li><a href="#font-color-ffa500-03x03x01-zi-dian-fen-zu-font"><font color="#FFA500">ã€03x03x01ã€‘å­—å…¸åˆ†ç»„</font></a></li><li><a href="#font-color-ffa500-03x03x02-han-shu-fen-zu-font"><font color="#FFA500">ã€03x03x02ã€‘å‡½æ•°åˆ†ç»„</font></a></li><li><a href="#font-color-ffa500-03x03x03-suo-yin-ceng-ji-fen-zu-font"><font color="#FFA500">ã€03x03x03ã€‘ç´¢å¼•å±‚çº§åˆ†ç»„</font></a></li></ul></li><li><a href="#font-color-4876ff-03x04-fen-zu-die-dai-font"><font color="#4876FF">ã€03x04ã€‘åˆ†ç»„è¿­ä»£</font></a></li><li><a href="#font-color-4876ff-03x05-dui-xiang-zhuan-huan-font"><font color="#4876FF">ã€03x05ã€‘å¯¹è±¡è½¬æ¢</font></a></li></ul></li><li><a href="#font-color-ff0000-04x00-groupby-apply-shu-ju-ying-yong-font"><font color="#FF0000">ã€04x00ã€‘GroupBy Apply æ•°æ®åº”ç”¨</font></a><ul><li><a href="#font-color-4876ff-04x01-ju-he-han-shu-font"><font color="#4876FF">ã€04x01ã€‘èšåˆå‡½æ•°</font></a></li><li><a href="#font-color-4876ff-04x02-zi-ding-yi-han-shu-font"><font color="#4876FF">ã€04x02ã€‘è‡ªå®šä¹‰å‡½æ•°</font></a></li><li><a href="#font-color-4876ff-04x03-dui-bu-tong-lie-zuo-yong-bu-tong-han-shu-font"><font color="#4876FF">ã€04x03ã€‘å¯¹ä¸åŒåˆ—ä½œç”¨ä¸åŒå‡½æ•°</font></a></li><li><a href="#font-color-4876ff-04x04-groupby-apply-font"><font color="#4876FF">ã€04x04ã€‘GroupBy.apply()</font></a></li></ul></li></ul><!-- tocstop --><hr><p>Pandas ç³»åˆ—æ–‡ç« ï¼š</p><ul><li><a href="https://www.itbob.cn/article/025/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸€ï¼‰ï¼šè®¤è¯† Pandas åŠå…¶ Seriesã€DataFrame å¯¹è±¡</a></li><li><a href="https://www.itbob.cn/article/026/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäºŒï¼‰ï¼šIndex ç´¢å¼•å¯¹è±¡ä»¥åŠå„ç§ç´¢å¼•æ“ä½œ</a></li><li><a href="https://www.itbob.cn/article/027/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸‰ï¼‰ï¼šç®—æœ¯è¿ç®—ä¸ç¼ºå¤±å€¼çš„å¤„ç†</a></li><li><a href="https://www.itbob.cn/article/028/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå››ï¼‰ï¼šå‡½æ•°åº”ç”¨ã€æ˜ å°„ã€æ’åºå’Œå±‚çº§ç´¢å¼•</a></li><li><a href="https://www.itbob.cn/article/029/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäº”ï¼‰ï¼šç»Ÿè®¡è®¡ç®—ä¸ç»Ÿè®¡æè¿°</a></li><li><a href="https://www.itbob.cn/article/030/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…­ï¼‰ï¼šGroupBy æ•°æ®åˆ†è£‚ã€åº”ç”¨ä¸åˆå¹¶</a></li><li><a href="https://www.itbob.cn/article/031/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸ƒï¼‰ï¼šåˆå¹¶æ•°æ®é›†</a></li><li><a href="https://www.itbob.cn/article/032/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…«ï¼‰ï¼šæ•°æ®é‡å¡‘ã€é‡å¤æ•°æ®å¤„ç†ä¸æ•°æ®æ›¿æ¢</a></li><li><a href="https://www.itbob.cn/article/033/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¹ï¼‰ï¼šæ—¶é—´åºåˆ—</a></li><li><a href="https://www.itbob.cn/article/034/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆåï¼‰ï¼šæ•°æ®è¯»å†™</a></li></ul><hr><p>ä¸“æ ï¼š</p><ul><li>NumPy ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780393.html">https://itrhx.blog.csdn.net/category_9780393.html</a></li><li>Pandas ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780397.html">https://itrhx.blog.csdn.net/category_9780397.html</a></li><li>Matplotlib ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780418.html">https://itrhx.blog.csdn.net/category_9780418.html</a></li></ul><br>æ¨èå­¦ä¹ èµ„æ–™ä¸ç½‘ç«™ï¼š<br><br><ul><li>NumPy å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.numpy.org.cn/">https://www.numpy.org.cn/</a></li><li>Pandas å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.pypandas.cn/">https://www.pypandas.cn/</a></li><li>Matplotlib å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.matplotlib.org.cn/">https://www.matplotlib.org.cn/</a></li><li>NumPyã€Matplotlibã€Pandas é€ŸæŸ¥è¡¨ï¼š<a href="https://github.com/TRHX/Python-quick-reference-table">https://github.com/TRHX/Python-quick-reference-table</a></li></ul><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106804881</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h2><span id="01x00-groupby-ji-zhi"><font color="#FF0000">ã€01x00ã€‘GroupBy æœºåˆ¶</font></span></h2><p>å¯¹æ•°æ®é›†è¿›è¡Œåˆ†ç»„å¹¶å¯¹å„ç»„åº”ç”¨ä¸€ä¸ªå‡½æ•°ï¼ˆæ— è®ºæ˜¯èšåˆè¿˜æ˜¯è½¬æ¢ï¼‰ï¼Œé€šå¸¸æ˜¯æ•°æ®åˆ†æå·¥ä½œä¸­çš„é‡è¦ç¯èŠ‚ã€‚åœ¨å°†æ•°æ®é›†åŠ è½½ã€èåˆã€å‡†å¤‡å¥½ä¹‹åï¼Œé€šå¸¸å°±æ˜¯è®¡ç®—åˆ†ç»„ç»Ÿè®¡æˆ–ç”Ÿæˆé€è§†è¡¨ã€‚Pandas æä¾›äº†ä¸€ä¸ªçµæ´»é«˜æ•ˆçš„ GroupBy åŠŸèƒ½ï¼Œè™½ç„¶â€œåˆ†ç»„â€ï¼ˆgroup byï¼‰è¿™ä¸ªåå­—æ˜¯å€Ÿç”¨ SQL æ•°æ®åº“è¯­è¨€çš„å‘½ä»¤ï¼Œä½†å…¶ç†å¿µå¼•ç”¨å‘æ˜ R è¯­è¨€ frame çš„ Hadley Wickham çš„è§‚ç‚¹å¯èƒ½æ›´åˆé€‚ï¼šåˆ†è£‚ï¼ˆSplitï¼‰ã€åº”ç”¨ï¼ˆApplyï¼‰å’Œç»„åˆï¼ˆCombineï¼‰ã€‚</p><p>åˆ†ç»„è¿ç®—è¿‡ç¨‹ï¼šSplit â€”&gt; Apply â€”&gt; Combine</p><ul><li>åˆ†è£‚ï¼ˆSplitï¼‰ï¼šæ ¹æ®æŸäº›æ ‡å‡†å°†æ•°æ®åˆ†ç»„ï¼›</li><li>åº”ç”¨ï¼ˆApplyï¼‰ï¼šå¯¹æ¯ä¸ªç»„ç‹¬ç«‹åº”ç”¨ä¸€ä¸ªå‡½æ•°ï¼›</li><li>åˆå¹¶ï¼ˆCombineï¼‰ï¼šæŠŠæ¯ä¸ªåˆ†ç»„çš„è®¡ç®—ç»“æœåˆå¹¶èµ·æ¥ã€‚</li></ul><p>å®˜æ–¹ä»‹ç»ï¼š<a href="https://pandas.pydata.org/docs/user_guide/groupby.html">https://pandas.pydata.org/docs/user_guide/groupby.html</a></p><p><img src="https://cdn.itbob.cn/img/article/030/01.png" alt="01"></p><h2><span id="02x00-groupby-dui-xiang"><font color="#FF0000">ã€02x00ã€‘GroupBy å¯¹è±¡</font></span></h2><p>å¸¸è§çš„ GroupBy å¯¹è±¡ï¼šSeries.groupbyã€DataFrame.groupbyï¼ŒåŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><pre><code class="hljs python">Series.groupby(self,               by=<span class="hljs-literal">None</span>,               axis=<span class="hljs-number">0</span>,               level=<span class="hljs-literal">None</span>,               as_index: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">True</span>,               sort: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">True</span>,               group_keys: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">True</span>,               squeeze: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span>,               observed: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span>) â†’ â€™groupby_generic.SeriesGroupByâ€™</code></pre><pre><code class="hljs python">DataFrame.groupby(self,                  by=<span class="hljs-literal">None</span>,                  axis=<span class="hljs-number">0</span>,                  level=<span class="hljs-literal">None</span>,                  as_index: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">True</span>,                  sort: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">True</span>,                  group_keys: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">True</span>,                  squeeze: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span>,                  observed: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span>) â†’ â€™groupby_generic.DataFrameGroupByâ€™</code></pre><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.groupby.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.groupby.html</a></p></li><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.groupby.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.groupby.html</a></p></li></ul><p>å¸¸ç”¨å‚æ•°è§£é‡Šå¦‚ä¸‹ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>by</td><td>æ˜ å°„ã€å‡½æ•°ã€æ ‡ç­¾æˆ–æ ‡ç­¾åˆ—è¡¨ï¼Œç”¨äºç¡®å®šåˆ†ç»„ä¾æ®çš„åˆ†ç»„ã€‚å¦‚æœ by æ˜¯å‡½æ•°ï¼Œåˆ™ä¼šåœ¨å¯¹è±¡ç´¢å¼•çš„æ¯ä¸ªå€¼ä¸Šè°ƒç”¨å®ƒã€‚ <br>å¦‚æœä¼ é€’äº† dict æˆ– Seriesï¼Œåˆ™å°†ä½¿ç”¨ Series æˆ– dict çš„å€¼æ¥ç¡®å®šç»„ï¼ˆå°† Series çš„å€¼é¦–å…ˆå¯¹é½ï¼›è¯·å‚è§.align() æ–¹æ³•ï¼‰ã€‚<br> å¦‚æœä¼ é€’äº† ndarrayï¼Œåˆ™æŒ‰åŸæ ·ä½¿ç”¨è¿™äº›å€¼æ¥ç¡®å®šç»„ã€‚æ ‡ç­¾æˆ–æ ‡ç­¾åˆ—è¡¨å¯ä»¥æŒ‰è‡ªèº«ä¸­çš„åˆ—ä¼ é€’ç»™åˆ†ç»„ã€‚ æ³¨æ„ï¼Œå…ƒç»„è¢«è§£é‡Šä¸ºï¼ˆå•ä¸ªï¼‰é”®</td></tr><tr><td>axis</td><td>æ²¿æŒ‡å®šè½´æ‹†åˆ†ï¼Œé»˜è®¤ <code>0</code>ï¼Œ<code>0</code> or <code>â€˜indexâ€™</code>ï¼Œ<code>1</code> or <code>â€˜columnsâ€™</code>ï¼Œåªæœ‰åœ¨ DataFrame ä¸­æ‰æœ‰ <code>1</code> or <code>'columnsâ€™</code></td></tr><tr><td>level</td><td>å¦‚æœè½´æ˜¯  MultiIndexï¼ˆå±‚æ¬¡ç»“æ„ï¼‰ï¼Œåˆ™æŒ‰ç‰¹å®šå±‚çº§è¿›è¡Œåˆ†ç»„ï¼Œé»˜è®¤ None</td></tr><tr><td>as_index</td><td>bool ç±»å‹ï¼Œé»˜è®¤ Trueï¼Œå¯¹äºèšåˆè¾“å‡ºï¼Œè¿”å›ä»¥ç»„æ ‡ç­¾ä¸ºç´¢å¼•çš„å¯¹è±¡ã€‚ä»…ä¸ DataFrame è¾“å…¥ç›¸å…³ã€‚<br><code>as_index=False</code> å®é™…ä¸Šæ˜¯â€œSQLæ ·å¼â€åˆ†ç»„è¾“å‡º</td></tr><tr><td>sort</td><td>bool ç±»å‹ï¼Œé»˜è®¤ Trueï¼Œå¯¹ç»„é”®æ’åºã€‚å…³é—­æ­¤é€‰é¡¹å¯è·å¾—æ›´å¥½çš„æ€§èƒ½ã€‚æ³¨ï¼šè¿™ä¸å½±å“æ¯ç»„çš„è§‚å¯Ÿé¡ºåºã€‚Groupby ä¿ç•™æ¯ä¸ªç»„ä¸­è¡Œçš„é¡ºåº</td></tr><tr><td>group_keys</td><td>bool ç±»å‹ï¼Œé»˜è®¤ Trueï¼Œè°ƒç”¨ apply æ–¹æ³•æ—¶ï¼Œæ˜¯å¦å°†ç»„é”®ï¼ˆkeysï¼‰æ·»åŠ åˆ°ç´¢å¼•ï¼ˆ indexï¼‰ä»¥æ ‡è¯†å—</td></tr><tr><td>squeeze</td><td>bool ç±»å‹ï¼Œé»˜è®¤ Falseï¼Œå¦‚æœå¯èƒ½ï¼Œå‡å°‘è¿”å›ç±»å‹çš„ç»´åº¦ï¼Œå¦åˆ™è¿”å›ä¸€è‡´çš„ç±»å‹</td></tr></tbody></table><p>groupby() è¿›è¡Œåˆ†ç»„ï¼ŒGroupBy å¯¹è±¡æ²¡æœ‰è¿›è¡Œå®é™…è¿ç®—ï¼Œåªæ˜¯åŒ…å«åˆ†ç»„çš„ä¸­é—´æ•°æ®ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>data = &#123;<span class="hljs-string">&#x27;key1&#x27;</span> : [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>],    <span class="hljs-string">&#x27;key2&#x27;</span> : [<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>],    <span class="hljs-string">&#x27;data1&#x27;</span>: np.random.randn(<span class="hljs-number">8</span>),    <span class="hljs-string">&#x27;data2&#x27;</span>: np.random.randn(<span class="hljs-number">8</span>)&#125;<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(data)<span class="hljs-meta">&gt;&gt;&gt; </span>obj  key1   key2     data1     data2<span class="hljs-number">0</span>    a    one -<span class="hljs-number">0.804160</span> -<span class="hljs-number">0.868905</span><span class="hljs-number">1</span>    b    one -<span class="hljs-number">0.086990</span>  <span class="hljs-number">0.325741</span><span class="hljs-number">2</span>    a    two  <span class="hljs-number">0.757992</span>  <span class="hljs-number">0.541101</span><span class="hljs-number">3</span>    b  three -<span class="hljs-number">0.281435</span>  <span class="hljs-number">0.097841</span><span class="hljs-number">4</span>    a    two  <span class="hljs-number">0.817757</span> -<span class="hljs-number">0.643699</span><span class="hljs-number">5</span>    b    two -<span class="hljs-number">0.462760</span> -<span class="hljs-number">0.321196</span><span class="hljs-number">6</span>    a    one -<span class="hljs-number">0.403699</span>  <span class="hljs-number">0.602138</span><span class="hljs-number">7</span>    a  three  <span class="hljs-number">0.883940</span> -<span class="hljs-number">0.850526</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.groupby(<span class="hljs-string">&#x27;key1&#x27;</span>)&lt;pandas.core.groupby.generic.DataFrameGroupBy <span class="hljs-built_in">object</span> at <span class="hljs-number">0x03CDB7C0</span>&gt;<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-string">&#x27;data1&#x27;</span>].groupby(obj[<span class="hljs-string">&#x27;key1&#x27;</span>])&lt;pandas.core.groupby.generic.SeriesGroupBy <span class="hljs-built_in">object</span> at <span class="hljs-number">0x03CDB748</span>&gt;</code></pre><h2><span id="03x00-groupby-split-shu-ju-fen-lie"><font color="#FF0000">ã€03x00ã€‘GroupBy Split æ•°æ®åˆ†è£‚</font></span></h2><h3><span id="03x01-fen-zu-yun-suan"><font color="#4876FF">ã€03x01ã€‘åˆ†ç»„è¿ç®—</font></span></h3><p>å‰é¢é€šè¿‡ <code>groupby()</code> æ–¹æ³•è·å¾—äº†ä¸€ä¸ª GroupBy å¯¹è±¡ï¼Œå®ƒå®é™…ä¸Šè¿˜æ²¡æœ‰è¿›è¡Œä»»ä½•è®¡ç®—ï¼Œåªæ˜¯å«æœ‰ä¸€äº›æœ‰å…³åˆ†ç»„é”® <code>obj['key1']</code> çš„ä¸­é—´æ•°æ®è€Œå·²ã€‚æ¢å¥è¯è¯´ï¼Œè¯¥å¯¹è±¡å·²ç»æœ‰äº†æ¥ä¸‹æ¥å¯¹å„åˆ†ç»„æ‰§è¡Œè¿ç®—æ‰€éœ€çš„ä¸€åˆ‡ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨ GroupBy çš„ <code>mean()</code> æ–¹æ³•æ¥è®¡ç®—åˆ†ç»„å¹³å‡å€¼ï¼Œ<code>size()</code> æ–¹æ³•è¿”å›æ¯ä¸ªåˆ†ç»„çš„å…ƒç´ ä¸ªæ•°ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>data = &#123;<span class="hljs-string">&#x27;key1&#x27;</span> : [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>],    <span class="hljs-string">&#x27;key2&#x27;</span> : [<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>],    <span class="hljs-string">&#x27;data1&#x27;</span>: np.random.randn(<span class="hljs-number">8</span>),    <span class="hljs-string">&#x27;data2&#x27;</span>: np.random.randn(<span class="hljs-number">8</span>)&#125;<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(data)<span class="hljs-meta">&gt;&gt;&gt; </span>obj  key1   key2     data1     data2<span class="hljs-number">0</span>    a    one -<span class="hljs-number">0.544099</span> -<span class="hljs-number">0.614079</span><span class="hljs-number">1</span>    b    one  <span class="hljs-number">2.193712</span>  <span class="hljs-number">0.101005</span><span class="hljs-number">2</span>    a    two -<span class="hljs-number">0.004683</span>  <span class="hljs-number">0.882770</span><span class="hljs-number">3</span>    b  three  <span class="hljs-number">0.312858</span>  <span class="hljs-number">1.732105</span><span class="hljs-number">4</span>    a    two  <span class="hljs-number">0.011089</span>  <span class="hljs-number">0.089587</span><span class="hljs-number">5</span>    b    two  <span class="hljs-number">0.292165</span>  <span class="hljs-number">1.327638</span><span class="hljs-number">6</span>    a    one -<span class="hljs-number">1.433291</span> -<span class="hljs-number">0.238971</span><span class="hljs-number">7</span>    a  three -<span class="hljs-number">0.004724</span> -<span class="hljs-number">2.117326</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>grouped1 = obj.groupby(<span class="hljs-string">&#x27;key1&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>grouped2 = obj[<span class="hljs-string">&#x27;data1&#x27;</span>].groupby(obj[<span class="hljs-string">&#x27;key1&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>grouped1.mean()         data1     data2key1                    a    -<span class="hljs-number">0.395142</span> -<span class="hljs-number">0.399604</span>b     <span class="hljs-number">0.932912</span>  <span class="hljs-number">1.053583</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>grouped2.mean()key1a   -<span class="hljs-number">0.395142</span>b    <span class="hljs-number">0.932912</span>Name: data1, dtype: float64&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>grouped1.size()key1a    <span class="hljs-number">5</span>b    <span class="hljs-number">3</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>grouped2.size()key1a    <span class="hljs-number">5</span>b    <span class="hljs-number">3</span>Name: data1, dtype: int64</code></pre><h3><span id="03x02-an-lei-xing-an-lie-fen-zu"><font color="#4876FF">ã€03x02ã€‘æŒ‰ç±»å‹æŒ‰åˆ—åˆ†ç»„</font></span></h3><p><code>groupby()</code> æ–¹æ³• <code>axis</code> å‚æ•°é»˜è®¤æ˜¯ 0ï¼Œé€šè¿‡è®¾ç½®ä¹Ÿå¯ä»¥åœ¨å…¶ä»–ä»»ä½•è½´ä¸Šè¿›è¡Œåˆ†ç»„ï¼Œä¹Ÿæ”¯æŒæŒ‰ç…§ç±»å‹ï¼ˆdtypeï¼‰è¿›è¡Œåˆ†ç»„ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>data = &#123;<span class="hljs-string">&#x27;key1&#x27;</span> : [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>],    <span class="hljs-string">&#x27;key2&#x27;</span> : [<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>],    <span class="hljs-string">&#x27;data1&#x27;</span>: np.random.randn(<span class="hljs-number">8</span>),    <span class="hljs-string">&#x27;data2&#x27;</span>: np.random.randn(<span class="hljs-number">8</span>)&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(data)<span class="hljs-meta">&gt;&gt;&gt; </span>obj  key1   key2     data1     data2<span class="hljs-number">0</span>    a    one -<span class="hljs-number">0.607009</span>  <span class="hljs-number">1.948301</span><span class="hljs-number">1</span>    b    one  <span class="hljs-number">0.150818</span> -<span class="hljs-number">0.025095</span><span class="hljs-number">2</span>    a    two -<span class="hljs-number">2.086024</span>  <span class="hljs-number">0.358164</span><span class="hljs-number">3</span>    b  three  <span class="hljs-number">0.446061</span>  <span class="hljs-number">1.708797</span><span class="hljs-number">4</span>    a    two  <span class="hljs-number">0.745457</span> -<span class="hljs-number">0.980948</span><span class="hljs-number">5</span>    b    two  <span class="hljs-number">0.981877</span>  <span class="hljs-number">2.159327</span><span class="hljs-number">6</span>    a    one  <span class="hljs-number">0.804480</span> -<span class="hljs-number">0.499661</span><span class="hljs-number">7</span>    a  three  <span class="hljs-number">0.112884</span>  <span class="hljs-number">0.004367</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.dtypeskey1      <span class="hljs-built_in">object</span>key2      <span class="hljs-built_in">object</span>data1    float64data2    float64dtype: <span class="hljs-built_in">object</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.groupby(obj.dtypes, axis=<span class="hljs-number">1</span>).size()float64    <span class="hljs-number">2</span><span class="hljs-built_in">object</span>     <span class="hljs-number">2</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.groupby(obj.dtypes, axis=<span class="hljs-number">1</span>).<span class="hljs-built_in">sum</span>()    float64  <span class="hljs-built_in">object</span><span class="hljs-number">0</span>  <span class="hljs-number">1.341291</span>    aone<span class="hljs-number">1</span>  <span class="hljs-number">0.125723</span>    bone<span class="hljs-number">2</span> -<span class="hljs-number">1.727860</span>    atwo<span class="hljs-number">3</span>  <span class="hljs-number">2.154858</span>  bthree<span class="hljs-number">4</span> -<span class="hljs-number">0.235491</span>    atwo<span class="hljs-number">5</span>  <span class="hljs-number">3.141203</span>    btwo<span class="hljs-number">6</span>  <span class="hljs-number">0.304819</span>    aone<span class="hljs-number">7</span>  <span class="hljs-number">0.117251</span>  athree</code></pre><h3><span id="03x03-zi-ding-yi-fen-zu"><font color="#4876FF">ã€03x03ã€‘è‡ªå®šä¹‰åˆ†ç»„</font></span></h3><p><code>groupby()</code> æ–¹æ³•ä¸­å¯ä»¥ä¸€æ¬¡ä¼ å…¥å¤šä¸ªæ•°ç»„çš„åˆ—è¡¨ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰ä¸€ç»„åˆ†ç»„é”®ã€‚ä¹Ÿå¯ä»¥é€šè¿‡ä¸€ä¸ªå­—å…¸ã€ä¸€ä¸ªå‡½æ•°ï¼Œæˆ–è€…æŒ‰ç…§ç´¢å¼•å±‚çº§è¿›è¡Œåˆ†ç»„ã€‚</p><p>ä¼ å…¥å¤šä¸ªæ•°ç»„çš„åˆ—è¡¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>data = &#123;<span class="hljs-string">&#x27;key1&#x27;</span> : [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>],    <span class="hljs-string">&#x27;key2&#x27;</span> : [<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>],    <span class="hljs-string">&#x27;data1&#x27;</span>: np.random.randn(<span class="hljs-number">8</span>),    <span class="hljs-string">&#x27;data2&#x27;</span>: np.random.randn(<span class="hljs-number">8</span>)&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(data)<span class="hljs-meta">&gt;&gt;&gt; </span>obj  key1   key2     data1     data2<span class="hljs-number">0</span>    a    one -<span class="hljs-number">0.841652</span>  <span class="hljs-number">0.688055</span><span class="hljs-number">1</span>    b    one  <span class="hljs-number">0.510042</span> -<span class="hljs-number">0.561171</span><span class="hljs-number">2</span>    a    two -<span class="hljs-number">0.418862</span> -<span class="hljs-number">0.145983</span><span class="hljs-number">3</span>    b  three -<span class="hljs-number">1.104698</span>  <span class="hljs-number">0.563158</span><span class="hljs-number">4</span>    a    two  <span class="hljs-number">0.329527</span> -<span class="hljs-number">0.893108</span><span class="hljs-number">5</span>    b    two  <span class="hljs-number">0.753653</span> -<span class="hljs-number">0.342520</span><span class="hljs-number">6</span>    a    one -<span class="hljs-number">0.882527</span> -<span class="hljs-number">1.121329</span><span class="hljs-number">7</span>    a  three  <span class="hljs-number">1.726794</span>  <span class="hljs-number">0.160244</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>means = obj[<span class="hljs-string">&#x27;data1&#x27;</span>].groupby([obj[<span class="hljs-string">&#x27;key1&#x27;</span>], obj[<span class="hljs-string">&#x27;key2&#x27;</span>]]).mean()<span class="hljs-meta">&gt;&gt;&gt; </span>meanskey1  key2 a     one     -<span class="hljs-number">0.862090</span>      three    <span class="hljs-number">1.726794</span>      two     -<span class="hljs-number">0.044667</span>b     one      <span class="hljs-number">0.510042</span>      three   -<span class="hljs-number">1.104698</span>      two      <span class="hljs-number">0.753653</span>Name: data1, dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>means.unstack()key2       one     three       twokey1                              a    -<span class="hljs-number">0.862090</span>  <span class="hljs-number">1.726794</span> -<span class="hljs-number">0.044667</span>b     <span class="hljs-number">0.510042</span> -<span class="hljs-number">1.104698</span>  <span class="hljs-number">0.753653</span></code></pre><p>è‡ªå®šä¹‰åˆ†ç»„é”®ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(&#123;<span class="hljs-string">&#x27;key1&#x27;</span> : [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>],    <span class="hljs-string">&#x27;key2&#x27;</span> : [<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>],    <span class="hljs-string">&#x27;data1&#x27;</span> : np.random.randn(<span class="hljs-number">5</span>),    <span class="hljs-string">&#x27;data2&#x27;</span> : np.random.randn(<span class="hljs-number">5</span>)&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj  key1 key2     data1     data2<span class="hljs-number">0</span>    a  one -<span class="hljs-number">0.024003</span>  <span class="hljs-number">0.350480</span><span class="hljs-number">1</span>    a  two -<span class="hljs-number">0.767534</span> -<span class="hljs-number">0.100426</span><span class="hljs-number">2</span>    b  one -<span class="hljs-number">0.594983</span> -<span class="hljs-number">1.945580</span><span class="hljs-number">3</span>    b  two -<span class="hljs-number">0.374482</span>  <span class="hljs-number">0.817592</span><span class="hljs-number">4</span>    a  one  <span class="hljs-number">0.755452</span> -<span class="hljs-number">0.137759</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>states = np.array([<span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>years = np.array([<span class="hljs-number">2005</span>, <span class="hljs-number">2005</span>, <span class="hljs-number">2006</span>, <span class="hljs-number">2005</span>, <span class="hljs-number">2006</span>])<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-string">&#x27;data1&#x27;</span>].groupby([states, years]).mean()Beijing  <span class="hljs-number">2005</span>   -<span class="hljs-number">0.767534</span>         <span class="hljs-number">2006</span>   -<span class="hljs-number">0.594983</span>Wuhan    <span class="hljs-number">2005</span>   -<span class="hljs-number">0.199242</span>         <span class="hljs-number">2006</span>    <span class="hljs-number">0.755452</span>Name: data1, dtype: float64</code></pre><h4><span id="03x03x01-zi-dian-fen-zu"><font color="#FFA500">ã€03x03x01ã€‘å­—å…¸åˆ†ç»„</font></span></h4><p>é€šè¿‡å­—å…¸è¿›è¡Œåˆ†ç»„ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(np.random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>, (<span class="hljs-number">5</span>,<span class="hljs-number">5</span>)),    columns=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>],    index=[<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj   a  b  c  d  eA  <span class="hljs-number">1</span>  <span class="hljs-number">4</span>  <span class="hljs-number">7</span>  <span class="hljs-number">1</span>  <span class="hljs-number">9</span>B  <span class="hljs-number">8</span>  <span class="hljs-number">2</span>  <span class="hljs-number">4</span>  <span class="hljs-number">7</span>  <span class="hljs-number">8</span>C  <span class="hljs-number">9</span>  <span class="hljs-number">8</span>  <span class="hljs-number">2</span>  <span class="hljs-number">5</span>  <span class="hljs-number">1</span>D  <span class="hljs-number">2</span>  <span class="hljs-number">4</span>  <span class="hljs-number">2</span>  <span class="hljs-number">8</span>  <span class="hljs-number">3</span>E  <span class="hljs-number">7</span>  <span class="hljs-number">5</span>  <span class="hljs-number">7</span>  <span class="hljs-number">2</span>  <span class="hljs-number">3</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj_dict = &#123;<span class="hljs-string">&#x27;a&#x27;</span>:<span class="hljs-string">&#x27;Python&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>:<span class="hljs-string">&#x27;Python&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>:<span class="hljs-string">&#x27;Java&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>:<span class="hljs-string">&#x27;C++&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>:<span class="hljs-string">&#x27;Java&#x27;</span>&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>obj.groupby(obj_dict, axis=<span class="hljs-number">1</span>).size()C++       <span class="hljs-number">1</span>Java      <span class="hljs-number">2</span>Python    <span class="hljs-number">2</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.groupby(obj_dict, axis=<span class="hljs-number">1</span>).count()   C++  Java  PythonA    <span class="hljs-number">1</span>     <span class="hljs-number">2</span>       <span class="hljs-number">2</span>B    <span class="hljs-number">1</span>     <span class="hljs-number">2</span>       <span class="hljs-number">2</span>C    <span class="hljs-number">1</span>     <span class="hljs-number">2</span>       <span class="hljs-number">2</span>D    <span class="hljs-number">1</span>     <span class="hljs-number">2</span>       <span class="hljs-number">2</span>E    <span class="hljs-number">1</span>     <span class="hljs-number">2</span>       <span class="hljs-number">2</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.groupby(obj_dict, axis=<span class="hljs-number">1</span>).<span class="hljs-built_in">sum</span>()   C++  Java  PythonA    <span class="hljs-number">1</span>    <span class="hljs-number">16</span>       <span class="hljs-number">5</span>B    <span class="hljs-number">7</span>    <span class="hljs-number">12</span>      <span class="hljs-number">10</span>C    <span class="hljs-number">5</span>     <span class="hljs-number">3</span>      <span class="hljs-number">17</span>D    <span class="hljs-number">8</span>     <span class="hljs-number">5</span>       <span class="hljs-number">6</span>E    <span class="hljs-number">2</span>    <span class="hljs-number">10</span>      <span class="hljs-number">12</span></code></pre><h4><span id="03x03x02-han-shu-fen-zu"><font color="#FFA500">ã€03x03x02ã€‘å‡½æ•°åˆ†ç»„</font></span></h4><p>é€šè¿‡å‡½æ•°è¿›è¡Œåˆ†ç»„ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(np.random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>, (<span class="hljs-number">5</span>,<span class="hljs-number">5</span>)),        columns=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>],        index=[<span class="hljs-string">&#x27;AA&#x27;</span>, <span class="hljs-string">&#x27;BBB&#x27;</span>, <span class="hljs-string">&#x27;CC&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;EE&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj     a  b  c  d  eAA   <span class="hljs-number">3</span>  <span class="hljs-number">9</span>  <span class="hljs-number">5</span>  <span class="hljs-number">8</span>  <span class="hljs-number">2</span>BBB  <span class="hljs-number">1</span>  <span class="hljs-number">4</span>  <span class="hljs-number">2</span>  <span class="hljs-number">2</span>  <span class="hljs-number">6</span>CC   <span class="hljs-number">9</span>  <span class="hljs-number">2</span>  <span class="hljs-number">4</span>  <span class="hljs-number">7</span>  <span class="hljs-number">6</span>D    <span class="hljs-number">2</span>  <span class="hljs-number">5</span>  <span class="hljs-number">5</span>  <span class="hljs-number">7</span>  <span class="hljs-number">1</span>EE   <span class="hljs-number">8</span>  <span class="hljs-number">8</span>  <span class="hljs-number">8</span>  <span class="hljs-number">2</span>  <span class="hljs-number">2</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">group_key</span>(<span class="hljs-params">idx</span>):</span>        <span class="hljs-string">&quot;&quot;&quot;</span><span class="hljs-string">        idx ä¸ºåˆ—ç´¢å¼•æˆ–è¡Œç´¢å¼•</span><span class="hljs-string">    &quot;&quot;&quot;</span>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(idx)<span class="hljs-meta">&gt;&gt;&gt; </span>obj.groupby(group_key).size()    <span class="hljs-comment"># ç­‰ä»·äº obj.groupby(len).size()</span><span class="hljs-number">1</span>    <span class="hljs-number">1</span><span class="hljs-number">2</span>    <span class="hljs-number">3</span><span class="hljs-number">3</span>    <span class="hljs-number">1</span>dtype: int64</code></pre><h4><span id="03x03x03-suo-yin-ceng-ji-fen-zu"><font color="#FFA500">ã€03x03x03ã€‘ç´¢å¼•å±‚çº§åˆ†ç»„</font></span></h4><p>é€šè¿‡ä¸åŒç´¢å¼•å±‚çº§è¿›è¡Œåˆ†ç»„ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>columns = pd.MultiIndex.from_arrays([[<span class="hljs-string">&#x27;Python&#x27;</span>, <span class="hljs-string">&#x27;Java&#x27;</span>, <span class="hljs-string">&#x27;Python&#x27;</span>, <span class="hljs-string">&#x27;Java&#x27;</span>, <span class="hljs-string">&#x27;Python&#x27;</span>],    [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>]], names=[<span class="hljs-string">&#x27;language&#x27;</span>, <span class="hljs-string">&#x27;index&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(np.random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>, (<span class="hljs-number">5</span>, <span class="hljs-number">5</span>)), columns=columns)<span class="hljs-meta">&gt;&gt;&gt; </span>objlanguage Python Java Python Java Pythonindex         A    A      B    C      B<span class="hljs-number">0</span>             <span class="hljs-number">7</span>    <span class="hljs-number">1</span>      <span class="hljs-number">9</span>    <span class="hljs-number">8</span>      <span class="hljs-number">5</span><span class="hljs-number">1</span>             <span class="hljs-number">4</span>    <span class="hljs-number">5</span>      <span class="hljs-number">4</span>    <span class="hljs-number">5</span>      <span class="hljs-number">6</span><span class="hljs-number">2</span>             <span class="hljs-number">4</span>    <span class="hljs-number">3</span>      <span class="hljs-number">1</span>    <span class="hljs-number">9</span>      <span class="hljs-number">5</span><span class="hljs-number">3</span>             <span class="hljs-number">6</span>    <span class="hljs-number">6</span>      <span class="hljs-number">3</span>    <span class="hljs-number">8</span>      <span class="hljs-number">1</span><span class="hljs-number">4</span>             <span class="hljs-number">7</span>    <span class="hljs-number">9</span>      <span class="hljs-number">2</span>    <span class="hljs-number">8</span>      <span class="hljs-number">2</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.groupby(level=<span class="hljs-string">&#x27;language&#x27;</span>, axis=<span class="hljs-number">1</span>).<span class="hljs-built_in">sum</span>()language  Java  Python<span class="hljs-number">0</span>            <span class="hljs-number">9</span>      <span class="hljs-number">21</span><span class="hljs-number">1</span>           <span class="hljs-number">10</span>      <span class="hljs-number">14</span><span class="hljs-number">2</span>           <span class="hljs-number">12</span>      <span class="hljs-number">10</span><span class="hljs-number">3</span>           <span class="hljs-number">14</span>      <span class="hljs-number">10</span><span class="hljs-number">4</span>           <span class="hljs-number">17</span>      <span class="hljs-number">11</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.groupby(level=<span class="hljs-string">&#x27;index&#x27;</span>, axis=<span class="hljs-number">1</span>).<span class="hljs-built_in">sum</span>()index   A   B  C<span class="hljs-number">0</span>       <span class="hljs-number">8</span>  <span class="hljs-number">14</span>  <span class="hljs-number">8</span><span class="hljs-number">1</span>       <span class="hljs-number">9</span>  <span class="hljs-number">10</span>  <span class="hljs-number">5</span><span class="hljs-number">2</span>       <span class="hljs-number">7</span>   <span class="hljs-number">6</span>  <span class="hljs-number">9</span><span class="hljs-number">3</span>      <span class="hljs-number">12</span>   <span class="hljs-number">4</span>  <span class="hljs-number">8</span><span class="hljs-number">4</span>      <span class="hljs-number">16</span>   <span class="hljs-number">4</span>  <span class="hljs-number">8</span></code></pre><h3><span id="03x04-fen-zu-die-dai"><font color="#4876FF">ã€03x04ã€‘åˆ†ç»„è¿­ä»£</font></span></h3><p>GroupBy å¯¹è±¡æ”¯æŒè¿­ä»£ï¼Œå¯¹äºå•å±‚åˆ†ç»„ï¼Œå¯ä»¥äº§ç”Ÿä¸€ç»„äºŒå…ƒå…ƒç»„ï¼Œç”±åˆ†ç»„åå’Œæ•°æ®å—ç»„æˆï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>data = &#123;<span class="hljs-string">&#x27;key1&#x27;</span> : [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>],    <span class="hljs-string">&#x27;key2&#x27;</span> : [<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>],    <span class="hljs-string">&#x27;data1&#x27;</span>: np.random.randn(<span class="hljs-number">8</span>),    <span class="hljs-string">&#x27;data2&#x27;</span>: np.random.randn(<span class="hljs-number">8</span>)&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(data)<span class="hljs-meta">&gt;&gt;&gt; </span>obj  key1   key2     data1     data2<span class="hljs-number">0</span>    a    one -<span class="hljs-number">1.088762</span>  <span class="hljs-number">0.668504</span><span class="hljs-number">1</span>    b    one  <span class="hljs-number">0.275500</span>  <span class="hljs-number">0.787844</span><span class="hljs-number">2</span>    a    two -<span class="hljs-number">0.108417</span> -<span class="hljs-number">0.491296</span><span class="hljs-number">3</span>    b  three  <span class="hljs-number">0.019524</span> -<span class="hljs-number">0.363390</span><span class="hljs-number">4</span>    a    two  <span class="hljs-number">0.453612</span>  <span class="hljs-number">0.796999</span><span class="hljs-number">5</span>    b    two  <span class="hljs-number">1.982858</span>  <span class="hljs-number">1.501877</span><span class="hljs-number">6</span>    a    one  <span class="hljs-number">1.101132</span> -<span class="hljs-number">1.928362</span><span class="hljs-number">7</span>    a  three  <span class="hljs-number">0.524775</span> -<span class="hljs-number">1.205842</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">for</span> group_name, group_data <span class="hljs-keyword">in</span> obj.groupby(<span class="hljs-string">&#x27;key1&#x27;</span>):    <span class="hljs-built_in">print</span>(group_name)    <span class="hljs-built_in">print</span>(group_data)    a  key1   key2     data1     data2<span class="hljs-number">0</span>    a    one -<span class="hljs-number">1.088762</span>  <span class="hljs-number">0.668504</span><span class="hljs-number">2</span>    a    two -<span class="hljs-number">0.108417</span> -<span class="hljs-number">0.491296</span><span class="hljs-number">4</span>    a    two  <span class="hljs-number">0.453612</span>  <span class="hljs-number">0.796999</span><span class="hljs-number">6</span>    a    one  <span class="hljs-number">1.101132</span> -<span class="hljs-number">1.928362</span><span class="hljs-number">7</span>    a  three  <span class="hljs-number">0.524775</span> -<span class="hljs-number">1.205842</span>b  key1   key2     data1     data2<span class="hljs-number">1</span>    b    one  <span class="hljs-number">0.275500</span>  <span class="hljs-number">0.787844</span><span class="hljs-number">3</span>    b  three  <span class="hljs-number">0.019524</span> -<span class="hljs-number">0.363390</span><span class="hljs-number">5</span>    b    two  <span class="hljs-number">1.982858</span>  <span class="hljs-number">1.501877</span></code></pre><p>å¯¹äºå¤šå±‚åˆ†ç»„ï¼Œå…ƒç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ å°†ä¼šæ˜¯ç”±é”®å€¼ç»„æˆçš„å…ƒç»„ï¼Œç¬¬äºŒä¸ªå…ƒç´ ä¸ºæ•°æ®å—ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>data = &#123;<span class="hljs-string">&#x27;key1&#x27;</span> : [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>],    <span class="hljs-string">&#x27;key2&#x27;</span> : [<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>],    <span class="hljs-string">&#x27;data1&#x27;</span>: np.random.randn(<span class="hljs-number">8</span>),    <span class="hljs-string">&#x27;data2&#x27;</span>: np.random.randn(<span class="hljs-number">8</span>)&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(data)<span class="hljs-meta">&gt;&gt;&gt; </span>obj  key1   key2     data1     data2<span class="hljs-number">0</span>    a    one -<span class="hljs-number">1.088762</span>  <span class="hljs-number">0.668504</span><span class="hljs-number">1</span>    b    one  <span class="hljs-number">0.275500</span>  <span class="hljs-number">0.787844</span><span class="hljs-number">2</span>    a    two -<span class="hljs-number">0.108417</span> -<span class="hljs-number">0.491296</span><span class="hljs-number">3</span>    b  three  <span class="hljs-number">0.019524</span> -<span class="hljs-number">0.363390</span><span class="hljs-number">4</span>    a    two  <span class="hljs-number">0.453612</span>  <span class="hljs-number">0.796999</span><span class="hljs-number">5</span>    b    two  <span class="hljs-number">1.982858</span>  <span class="hljs-number">1.501877</span><span class="hljs-number">6</span>    a    one  <span class="hljs-number">1.101132</span> -<span class="hljs-number">1.928362</span><span class="hljs-number">7</span>    a  three  <span class="hljs-number">0.524775</span> -<span class="hljs-number">1.205842</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">for</span> group_name, group_data <span class="hljs-keyword">in</span> obj.groupby([<span class="hljs-string">&#x27;key1&#x27;</span>, <span class="hljs-string">&#x27;key2&#x27;</span>]):    <span class="hljs-built_in">print</span>(group_name)    <span class="hljs-built_in">print</span>(group_data)    (<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>)  key1 key2     data1     data2<span class="hljs-number">0</span>    a  one -<span class="hljs-number">1.088762</span>  <span class="hljs-number">0.668504</span><span class="hljs-number">6</span>    a  one  <span class="hljs-number">1.101132</span> -<span class="hljs-number">1.928362</span>(<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>)  key1   key2     data1     data2<span class="hljs-number">7</span>    a  three  <span class="hljs-number">0.524775</span> -<span class="hljs-number">1.205842</span>(<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>)  key1 key2     data1     data2<span class="hljs-number">2</span>    a  two -<span class="hljs-number">0.108417</span> -<span class="hljs-number">0.491296</span><span class="hljs-number">4</span>    a  two  <span class="hljs-number">0.453612</span>  <span class="hljs-number">0.796999</span>(<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>)  key1 key2   data1     data2<span class="hljs-number">1</span>    b  one  <span class="hljs-number">0.2755</span>  <span class="hljs-number">0.787844</span>(<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>)  key1   key2     data1    data2<span class="hljs-number">3</span>    b  three  <span class="hljs-number">0.019524</span> -<span class="hljs-number">0.36339</span>(<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>)  key1 key2     data1     data2<span class="hljs-number">5</span>    b  two  <span class="hljs-number">1.982858</span>  <span class="hljs-number">1.501877</span></code></pre><h3><span id="03x05-dui-xiang-zhuan-huan"><font color="#4876FF">ã€03x05ã€‘å¯¹è±¡è½¬æ¢</font></span></h3><p>GroupBy å¯¹è±¡æ”¯æŒè½¬æ¢æˆåˆ—è¡¨æˆ–å­—å…¸ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>data = &#123;<span class="hljs-string">&#x27;key1&#x27;</span> : [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>],    <span class="hljs-string">&#x27;key2&#x27;</span> : [<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>],    <span class="hljs-string">&#x27;data1&#x27;</span>: np.random.randn(<span class="hljs-number">8</span>),    <span class="hljs-string">&#x27;data2&#x27;</span>: np.random.randn(<span class="hljs-number">8</span>)&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(data)<span class="hljs-meta">&gt;&gt;&gt; </span>obj  key1   key2     data1     data2<span class="hljs-number">0</span>    a    one -<span class="hljs-number">0.607009</span>  <span class="hljs-number">1.948301</span><span class="hljs-number">1</span>    b    one  <span class="hljs-number">0.150818</span> -<span class="hljs-number">0.025095</span><span class="hljs-number">2</span>    a    two -<span class="hljs-number">2.086024</span>  <span class="hljs-number">0.358164</span><span class="hljs-number">3</span>    b  three  <span class="hljs-number">0.446061</span>  <span class="hljs-number">1.708797</span><span class="hljs-number">4</span>    a    two  <span class="hljs-number">0.745457</span> -<span class="hljs-number">0.980948</span><span class="hljs-number">5</span>    b    two  <span class="hljs-number">0.981877</span>  <span class="hljs-number">2.159327</span><span class="hljs-number">6</span>    a    one  <span class="hljs-number">0.804480</span> -<span class="hljs-number">0.499661</span><span class="hljs-number">7</span>    a  three  <span class="hljs-number">0.112884</span>  <span class="hljs-number">0.004367</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>grouped = obj.groupby(<span class="hljs-string">&#x27;key1&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>(grouped)[(<span class="hljs-string">&#x27;a&#x27;</span>,   key1   key2     data1     data2<span class="hljs-number">0</span>    a    one -<span class="hljs-number">0.607009</span>  <span class="hljs-number">1.948301</span><span class="hljs-number">2</span>    a    two -<span class="hljs-number">2.086024</span>  <span class="hljs-number">0.358164</span><span class="hljs-number">4</span>    a    two  <span class="hljs-number">0.745457</span> -<span class="hljs-number">0.980948</span><span class="hljs-number">6</span>    a    one  <span class="hljs-number">0.804480</span> -<span class="hljs-number">0.499661</span><span class="hljs-number">7</span>    a  three  <span class="hljs-number">0.112884</span>  <span class="hljs-number">0.004367</span>),(<span class="hljs-string">&#x27;b&#x27;</span>,   key1   key2     data1     data2<span class="hljs-number">1</span>    b    one  <span class="hljs-number">0.150818</span> -<span class="hljs-number">0.025095</span><span class="hljs-number">3</span>    b  three  <span class="hljs-number">0.446061</span>  <span class="hljs-number">1.708797</span><span class="hljs-number">5</span>    b    two  <span class="hljs-number">0.981877</span>  <span class="hljs-number">2.159327</span>)]&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">dict</span>(<span class="hljs-built_in">list</span>(grouped))&#123;<span class="hljs-string">&#x27;a&#x27;</span>:   key1   key2     data1     data2<span class="hljs-number">0</span>    a    one -<span class="hljs-number">0.607009</span>  <span class="hljs-number">1.948301</span><span class="hljs-number">2</span>    a    two -<span class="hljs-number">2.086024</span>  <span class="hljs-number">0.358164</span><span class="hljs-number">4</span>    a    two  <span class="hljs-number">0.745457</span> -<span class="hljs-number">0.980948</span><span class="hljs-number">6</span>    a    one  <span class="hljs-number">0.804480</span> -<span class="hljs-number">0.499661</span><span class="hljs-number">7</span>    a  three  <span class="hljs-number">0.112884</span>  <span class="hljs-number">0.004367</span>,<span class="hljs-string">&#x27;b&#x27;</span>:   key1   key2     data1     data2<span class="hljs-number">1</span>    b    one  <span class="hljs-number">0.150818</span> -<span class="hljs-number">0.025095</span><span class="hljs-number">3</span>    b  three  <span class="hljs-number">0.446061</span>  <span class="hljs-number">1.708797</span><span class="hljs-number">5</span>    b    two  <span class="hljs-number">0.981877</span>  <span class="hljs-number">2.159327</span>&#125;</code></pre><h2><span id="04x00-groupby-apply-shu-ju-ying-yong"><font color="#FF0000">ã€04x00ã€‘GroupBy Apply æ•°æ®åº”ç”¨</font></span></h2><p>èšåˆæŒ‡çš„æ˜¯ä»»ä½•èƒ½å¤Ÿä»æ•°ç»„äº§ç”Ÿæ ‡é‡å€¼çš„æ•°æ®è½¬æ¢è¿‡ç¨‹ï¼Œå¸¸ç”¨äºå¯¹åˆ†ç»„åçš„æ•°æ®è¿›è¡Œè®¡ç®—</p><h3><span id="04x01-ju-he-han-shu"><font color="#4876FF">ã€04x01ã€‘èšåˆå‡½æ•°</font></span></h3><p>ä¹‹å‰çš„ä¾‹å­å·²ç»ç”¨è¿‡ä¸€äº›å†…ç½®çš„èšåˆå‡½æ•°ï¼Œæ¯”å¦‚ meanã€countã€min ä»¥åŠ sum ç­‰ã€‚å¸¸è§çš„èšåˆè¿ç®—å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/groupby.html">https://pandas.pydata.org/docs/reference/groupby.html</a></p><table><thead><tr><th>æ–¹æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>count</td><td>éNAå€¼çš„æ•°é‡</td></tr><tr><td>describe</td><td>é’ˆå¯¹Seriesæˆ–å„DataFrameåˆ—è®¡ç®—æ±‡æ€»ç»Ÿè®¡</td></tr><tr><td>min</td><td>è®¡ç®—æœ€å°å€¼</td></tr><tr><td>max</td><td>è®¡ç®—æœ€å¤§å€¼</td></tr><tr><td>argmin</td><td>è®¡ç®—èƒ½å¤Ÿè·å–åˆ°æœ€å°å€¼çš„ç´¢å¼•ä½ç½®ï¼ˆæ•´æ•°ï¼‰</td></tr><tr><td>argmax</td><td>è®¡ç®—èƒ½å¤Ÿè·å–åˆ°æœ€å¤§å€¼çš„ç´¢å¼•ä½ç½®ï¼ˆæ•´æ•°ï¼‰</td></tr><tr><td>idxmin</td><td>è®¡ç®—èƒ½å¤Ÿè·å–åˆ°æœ€å°å€¼çš„ç´¢å¼•å€¼</td></tr><tr><td>idxmax</td><td>è®¡ç®—èƒ½å¤Ÿè·å–åˆ°æœ€å¤§å€¼çš„ç´¢å¼•å€¼</td></tr><tr><td>quantile</td><td>è®¡ç®—æ ·æœ¬çš„åˆ†ä½æ•°ï¼ˆ0åˆ°1ï¼‰</td></tr><tr><td>sum</td><td>å€¼çš„æ€»å’Œ</td></tr><tr><td>mean</td><td>å€¼çš„å¹³å‡æ•°</td></tr><tr><td>median</td><td>å€¼çš„ç®—æœ¯ä¸­ä½æ•°ï¼ˆ50%åˆ†ä½æ•°ï¼‰</td></tr><tr><td>mad</td><td>æ ¹æ®å¹³å‡å€¼è®¡ç®—å¹³å‡ç»å¯¹ç¦»å·®</td></tr><tr><td>var</td><td>æ ·æœ¬å€¼çš„æ–¹å·®</td></tr><tr><td>std</td><td>æ ·æœ¬å€¼çš„æ ‡å‡†å·®</td></tr></tbody></table><p>åº”ç”¨ç¤ºä¾‹ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = &#123;<span class="hljs-string">&#x27;key1&#x27;</span> : [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>],    <span class="hljs-string">&#x27;key2&#x27;</span> : [<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>],    <span class="hljs-string">&#x27;data1&#x27;</span>: np.random.randint(<span class="hljs-number">1</span>,<span class="hljs-number">10</span>, <span class="hljs-number">8</span>),    <span class="hljs-string">&#x27;data2&#x27;</span>: np.random.randint(<span class="hljs-number">1</span>,<span class="hljs-number">10</span>, <span class="hljs-number">8</span>)&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(obj)<span class="hljs-meta">&gt;&gt;&gt; </span>obj  key1   key2  data1  data2<span class="hljs-number">0</span>    a    one      <span class="hljs-number">9</span>      <span class="hljs-number">7</span><span class="hljs-number">1</span>    b    one      <span class="hljs-number">5</span>      <span class="hljs-number">9</span><span class="hljs-number">2</span>    a    two      <span class="hljs-number">2</span>      <span class="hljs-number">4</span><span class="hljs-number">3</span>    b  three      <span class="hljs-number">3</span>      <span class="hljs-number">4</span><span class="hljs-number">4</span>    a    two      <span class="hljs-number">5</span>      <span class="hljs-number">1</span><span class="hljs-number">5</span>    b    two      <span class="hljs-number">5</span>      <span class="hljs-number">9</span><span class="hljs-number">6</span>    a    one      <span class="hljs-number">1</span>      <span class="hljs-number">8</span><span class="hljs-number">7</span>    a  three      <span class="hljs-number">2</span>      <span class="hljs-number">4</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.groupby(<span class="hljs-string">&#x27;key1&#x27;</span>).<span class="hljs-built_in">sum</span>()      data1  data2key1              a        <span class="hljs-number">19</span>     <span class="hljs-number">24</span>b        <span class="hljs-number">13</span>     <span class="hljs-number">22</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.groupby(<span class="hljs-string">&#x27;key1&#x27;</span>).<span class="hljs-built_in">max</span>()     key2  data1  data2key1                   a     two      <span class="hljs-number">9</span>      <span class="hljs-number">8</span>b     two      <span class="hljs-number">5</span>      <span class="hljs-number">9</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.groupby(<span class="hljs-string">&#x27;key1&#x27;</span>).<span class="hljs-built_in">min</span>()     key2  data1  data2key1                   a     one      <span class="hljs-number">1</span>      <span class="hljs-number">1</span>b     one      <span class="hljs-number">3</span>      <span class="hljs-number">4</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.groupby(<span class="hljs-string">&#x27;key1&#x27;</span>).mean()         data1     data2key1                    a     <span class="hljs-number">3.800000</span>  <span class="hljs-number">4.800000</span>b     <span class="hljs-number">4.333333</span>  <span class="hljs-number">7.333333</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.groupby(<span class="hljs-string">&#x27;key1&#x27;</span>).size()key1a    <span class="hljs-number">5</span>b    <span class="hljs-number">3</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.groupby(<span class="hljs-string">&#x27;key1&#x27;</span>).count()      key2  data1  data2key1                    a        <span class="hljs-number">5</span>      <span class="hljs-number">5</span>      <span class="hljs-number">5</span>b        <span class="hljs-number">3</span>      <span class="hljs-number">3</span>      <span class="hljs-number">3</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.groupby(<span class="hljs-string">&#x27;key1&#x27;</span>).describe()     data1                                ... data2                         count      mean       std  <span class="hljs-built_in">min</span>  <span class="hljs-number">25</span>%  ...   <span class="hljs-built_in">min</span>  <span class="hljs-number">25</span>%  <span class="hljs-number">50</span>%  <span class="hljs-number">75</span>%  <span class="hljs-built_in">max</span>key1                                      ...                          a      <span class="hljs-number">5.0</span>  <span class="hljs-number">3.800000</span>  <span class="hljs-number">3.271085</span>  <span class="hljs-number">1.0</span>  <span class="hljs-number">2.0</span>  ...   <span class="hljs-number">1.0</span>  <span class="hljs-number">4.0</span>  <span class="hljs-number">4.0</span>  <span class="hljs-number">7.0</span>  <span class="hljs-number">8.0</span>b      <span class="hljs-number">3.0</span>  <span class="hljs-number">4.333333</span>  <span class="hljs-number">1.154701</span>  <span class="hljs-number">3.0</span>  <span class="hljs-number">4.0</span>  ...   <span class="hljs-number">4.0</span>  <span class="hljs-number">6.5</span>  <span class="hljs-number">9.0</span>  <span class="hljs-number">9.0</span>  <span class="hljs-number">9.0</span>[<span class="hljs-number">2</span> rows x <span class="hljs-number">16</span> columns]</code></pre><h3><span id="04x02-zi-ding-yi-han-shu"><font color="#4876FF">ã€04x02ã€‘è‡ªå®šä¹‰å‡½æ•°</font></span></h3><p>å¦‚æœè‡ªå¸¦çš„å†…ç½®å‡½æ•°æ»¡è¶³ä¸äº†æˆ‘ä»¬çš„è¦æ±‚ï¼Œåˆ™å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªèšåˆå‡½æ•°ï¼Œç„¶åä¼ å…¥ <code>GroupBy.agg(func)</code> æˆ– <code>GroupBy.aggregate(func) </code> æ–¹æ³•ä¸­å³å¯ã€‚func çš„å‚æ•°ä¸º groupby ç´¢å¼•å¯¹åº”çš„è®°å½•ã€‚</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = &#123;<span class="hljs-string">&#x27;key1&#x27;</span> : [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>],    <span class="hljs-string">&#x27;key2&#x27;</span> : [<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>],    <span class="hljs-string">&#x27;data1&#x27;</span>: np.random.randint(<span class="hljs-number">1</span>,<span class="hljs-number">10</span>, <span class="hljs-number">8</span>),    <span class="hljs-string">&#x27;data2&#x27;</span>: np.random.randint(<span class="hljs-number">1</span>,<span class="hljs-number">10</span>, <span class="hljs-number">8</span>)&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(obj)<span class="hljs-meta">&gt;&gt;&gt; </span>obj  key1   key2  data1  data2<span class="hljs-number">0</span>    a    one      <span class="hljs-number">9</span>      <span class="hljs-number">7</span><span class="hljs-number">1</span>    b    one      <span class="hljs-number">5</span>      <span class="hljs-number">9</span><span class="hljs-number">2</span>    a    two      <span class="hljs-number">2</span>      <span class="hljs-number">4</span><span class="hljs-number">3</span>    b  three      <span class="hljs-number">3</span>      <span class="hljs-number">4</span><span class="hljs-number">4</span>    a    two      <span class="hljs-number">5</span>      <span class="hljs-number">1</span><span class="hljs-number">5</span>    b    two      <span class="hljs-number">5</span>      <span class="hljs-number">9</span><span class="hljs-number">6</span>    a    one      <span class="hljs-number">1</span>      <span class="hljs-number">8</span><span class="hljs-number">7</span>    a  three      <span class="hljs-number">2</span>      <span class="hljs-number">4</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">peak_range</span>(<span class="hljs-params">df</span>):</span>    <span class="hljs-keyword">return</span> df.<span class="hljs-built_in">max</span>() - df.<span class="hljs-built_in">min</span>()<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.groupby(<span class="hljs-string">&#x27;key1&#x27;</span>).agg(peak_range)      data1  data2key1              a         <span class="hljs-number">8</span>      <span class="hljs-number">7</span>b         <span class="hljs-number">2</span>      <span class="hljs-number">5</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.groupby(<span class="hljs-string">&#x27;key1&#x27;</span>).agg(<span class="hljs-keyword">lambda</span> df : df.<span class="hljs-built_in">max</span>() - df.<span class="hljs-built_in">min</span>())      data1  data2key1              a         <span class="hljs-number">8</span>      <span class="hljs-number">7</span>b         <span class="hljs-number">2</span>      <span class="hljs-number">5</span></code></pre><h3><span id="04x03-dui-bu-tong-lie-zuo-yong-bu-tong-han-shu"><font color="#4876FF">ã€04x03ã€‘å¯¹ä¸åŒåˆ—ä½œç”¨ä¸åŒå‡½æ•°</font></span></h3><p>ä½¿ç”¨å­—å…¸å¯ä»¥å¯¹ä¸åŒåˆ—ä½œç”¨ä¸åŒçš„èšåˆå‡½æ•°ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = &#123;<span class="hljs-string">&#x27;key1&#x27;</span> : [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>],    <span class="hljs-string">&#x27;key2&#x27;</span> : [<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>],    <span class="hljs-string">&#x27;data1&#x27;</span>: np.random.randint(<span class="hljs-number">1</span>,<span class="hljs-number">10</span>, <span class="hljs-number">8</span>),    <span class="hljs-string">&#x27;data2&#x27;</span>: np.random.randint(<span class="hljs-number">1</span>,<span class="hljs-number">10</span>, <span class="hljs-number">8</span>)&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(obj)<span class="hljs-meta">&gt;&gt;&gt; </span>obj  key1   key2  data1  data2<span class="hljs-number">0</span>    a    one      <span class="hljs-number">9</span>      <span class="hljs-number">7</span><span class="hljs-number">1</span>    b    one      <span class="hljs-number">5</span>      <span class="hljs-number">9</span><span class="hljs-number">2</span>    a    two      <span class="hljs-number">2</span>      <span class="hljs-number">4</span><span class="hljs-number">3</span>    b  three      <span class="hljs-number">3</span>      <span class="hljs-number">4</span><span class="hljs-number">4</span>    a    two      <span class="hljs-number">5</span>      <span class="hljs-number">1</span><span class="hljs-number">5</span>    b    two      <span class="hljs-number">5</span>      <span class="hljs-number">9</span><span class="hljs-number">6</span>    a    one      <span class="hljs-number">1</span>      <span class="hljs-number">8</span><span class="hljs-number">7</span>    a  three      <span class="hljs-number">2</span>      <span class="hljs-number">4</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>dict1 = &#123;<span class="hljs-string">&#x27;data1&#x27;</span>:<span class="hljs-string">&#x27;mean&#x27;</span>, <span class="hljs-string">&#x27;data2&#x27;</span>:<span class="hljs-string">&#x27;sum&#x27;</span>&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>dict2 = &#123;<span class="hljs-string">&#x27;data1&#x27;</span>:[<span class="hljs-string">&#x27;mean&#x27;</span>,<span class="hljs-string">&#x27;max&#x27;</span>], <span class="hljs-string">&#x27;data2&#x27;</span>:<span class="hljs-string">&#x27;sum&#x27;</span>&#125;<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.groupby(<span class="hljs-string">&#x27;key1&#x27;</span>).agg(dict1)         data1  data2key1                 a     <span class="hljs-number">3.800000</span>     <span class="hljs-number">24</span>b     <span class="hljs-number">4.333333</span>     <span class="hljs-number">22</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.groupby(<span class="hljs-string">&#x27;key1&#x27;</span>).agg(dict2)         data1     data2          mean <span class="hljs-built_in">max</span>   <span class="hljs-built_in">sum</span>key1                    a     <span class="hljs-number">3.800000</span>   <span class="hljs-number">9</span>    <span class="hljs-number">24</span>b     <span class="hljs-number">4.333333</span>   <span class="hljs-number">5</span>    <span class="hljs-number">22</span></code></pre><h3><span id="04x04-groupby-apply"><font color="#4876FF">ã€04x04ã€‘GroupBy.apply()</font></span></h3><p><code>apply()</code> æ–¹æ³•ä¼šå°†å¾…å¤„ç†çš„å¯¹è±¡æ‹†åˆ†æˆå¤šä¸ªç‰‡æ®µï¼Œç„¶åå¯¹å„ç‰‡æ®µè°ƒç”¨ä¼ å…¥çš„å‡½æ•°ï¼Œæœ€åå°è¯•å°†å„ç‰‡æ®µç»„åˆåˆ°ä¸€èµ·ã€‚</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(&#123;<span class="hljs-string">&#x27;A&#x27;</span>:[<span class="hljs-string">&#x27;bob&#x27;</span>,<span class="hljs-string">&#x27;sos&#x27;</span>,<span class="hljs-string">&#x27;bob&#x27;</span>,<span class="hljs-string">&#x27;sos&#x27;</span>,<span class="hljs-string">&#x27;bob&#x27;</span>,<span class="hljs-string">&#x27;sos&#x27;</span>,<span class="hljs-string">&#x27;bob&#x27;</span>,<span class="hljs-string">&#x27;bob&#x27;</span>],              <span class="hljs-string">&#x27;B&#x27;</span>:[<span class="hljs-string">&#x27;one&#x27;</span>,<span class="hljs-string">&#x27;one&#x27;</span>,<span class="hljs-string">&#x27;two&#x27;</span>,<span class="hljs-string">&#x27;three&#x27;</span>,<span class="hljs-string">&#x27;two&#x27;</span>,<span class="hljs-string">&#x27;two&#x27;</span>,<span class="hljs-string">&#x27;one&#x27;</span>,<span class="hljs-string">&#x27;three&#x27;</span>],              <span class="hljs-string">&#x27;C&#x27;</span>:[<span class="hljs-number">3</span>,<span class="hljs-number">1</span>,<span class="hljs-number">4</span>,<span class="hljs-number">1</span>,<span class="hljs-number">5</span>,<span class="hljs-number">9</span>,<span class="hljs-number">2</span>,<span class="hljs-number">6</span>],              <span class="hljs-string">&#x27;D&#x27;</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>]&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj     A      B  C  D<span class="hljs-number">0</span>  bob    one  <span class="hljs-number">3</span>  <span class="hljs-number">1</span><span class="hljs-number">1</span>  sos    one  <span class="hljs-number">1</span>  <span class="hljs-number">2</span><span class="hljs-number">2</span>  bob    two  <span class="hljs-number">4</span>  <span class="hljs-number">3</span><span class="hljs-number">3</span>  sos  three  <span class="hljs-number">1</span>  <span class="hljs-number">4</span><span class="hljs-number">4</span>  bob    two  <span class="hljs-number">5</span>  <span class="hljs-number">5</span><span class="hljs-number">5</span>  sos    two  <span class="hljs-number">9</span>  <span class="hljs-number">6</span><span class="hljs-number">6</span>  bob    one  <span class="hljs-number">2</span>  <span class="hljs-number">7</span><span class="hljs-number">7</span>  bob  three  <span class="hljs-number">6</span>  <span class="hljs-number">8</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>grouped = obj.groupby(<span class="hljs-string">&#x27;A&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">for</span> name, group <span class="hljs-keyword">in</span> grouped:    <span class="hljs-built_in">print</span>(name)    <span class="hljs-built_in">print</span>(group)    bob     A      B  C  D<span class="hljs-number">0</span>  bob    one  <span class="hljs-number">3</span>  <span class="hljs-number">1</span><span class="hljs-number">2</span>  bob    two  <span class="hljs-number">4</span>  <span class="hljs-number">3</span><span class="hljs-number">4</span>  bob    two  <span class="hljs-number">5</span>  <span class="hljs-number">5</span><span class="hljs-number">6</span>  bob    one  <span class="hljs-number">2</span>  <span class="hljs-number">7</span><span class="hljs-number">7</span>  bob  three  <span class="hljs-number">6</span>  <span class="hljs-number">8</span>sos     A      B  C  D<span class="hljs-number">1</span>  sos    one  <span class="hljs-number">1</span>  <span class="hljs-number">2</span><span class="hljs-number">3</span>  sos  three  <span class="hljs-number">1</span>  <span class="hljs-number">4</span><span class="hljs-number">5</span>  sos    two  <span class="hljs-number">9</span>  <span class="hljs-number">6</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>grouped.apply(<span class="hljs-keyword">lambda</span> x:x.describe())  <span class="hljs-comment"># å¯¹ bob å’Œ sos ä¸¤ç»„æ•°æ®ä½¿ç”¨ describe æ–¹æ³•</span>                  C         DA                            bob count  <span class="hljs-number">5.000000</span>  <span class="hljs-number">5.000000</span>    mean   <span class="hljs-number">4.000000</span>  <span class="hljs-number">4.800000</span>    std    <span class="hljs-number">1.581139</span>  <span class="hljs-number">2.863564</span>    <span class="hljs-built_in">min</span>    <span class="hljs-number">2.000000</span>  <span class="hljs-number">1.000000</span>    <span class="hljs-number">25</span>%    <span class="hljs-number">3.000000</span>  <span class="hljs-number">3.000000</span>    <span class="hljs-number">50</span>%    <span class="hljs-number">4.000000</span>  <span class="hljs-number">5.000000</span>    <span class="hljs-number">75</span>%    <span class="hljs-number">5.000000</span>  <span class="hljs-number">7.000000</span>    <span class="hljs-built_in">max</span>    <span class="hljs-number">6.000000</span>  <span class="hljs-number">8.000000</span>sos count  <span class="hljs-number">3.000000</span>  <span class="hljs-number">3.000000</span>    mean   <span class="hljs-number">3.666667</span>  <span class="hljs-number">4.000000</span>    std    <span class="hljs-number">4.618802</span>  <span class="hljs-number">2.000000</span>    <span class="hljs-built_in">min</span>    <span class="hljs-number">1.000000</span>  <span class="hljs-number">2.000000</span>    <span class="hljs-number">25</span>%    <span class="hljs-number">1.000000</span>  <span class="hljs-number">3.000000</span>    <span class="hljs-number">50</span>%    <span class="hljs-number">1.000000</span>  <span class="hljs-number">4.000000</span>    <span class="hljs-number">75</span>%    <span class="hljs-number">5.000000</span>  <span class="hljs-number">5.000000</span>    <span class="hljs-built_in">max</span>    <span class="hljs-number">9.000000</span>  <span class="hljs-number">6.000000</span>&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>grouped.apply(<span class="hljs-keyword">lambda</span> x:x.<span class="hljs-built_in">min</span>())  <span class="hljs-comment"># # å¯¹ bob å’Œ sos ä¸¤ç»„æ•°æ®ä½¿ç”¨ min æ–¹æ³•</span>       A    B  C  DA                  bob  bob  one  <span class="hljs-number">2</span>  <span class="hljs-number">1</span>sos  sos  one  <span class="hljs-number">1</span>  <span class="hljs-number">2</span></code></pre><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106804881</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h2&gt;&lt;span id=&quot;wen-zhang-mu-lu&quot;&gt;æ–‡ç« ç›®å½•&lt;/span&gt;&lt;/h2&gt;
&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#font-color-ff0000-01x00-groupby-ji-zhi-font&quot;&gt;&lt;font color=&quot;#F</summary>
      
    
    
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    <category term="Pandas" scheme="https://www.itbob.cn/tags/Pandas/"/>
    
  </entry>
  
  <entry>
    <title>Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäº”ï¼‰ï¼šç»Ÿè®¡è®¡ç®—ä¸ç»Ÿè®¡æè¿°</title>
    <link href="https://www.itbob.cn/article/029/"/>
    <id>https://www.itbob.cn/article/029/</id>
    <published>2020-06-16T13:15:28.000Z</published>
    <updated>2022-05-22T12:40:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="wen-zhang-mu-lu">æ–‡ç« ç›®å½•</span></h2><!-- toc --><ul><li><a href="#font-color-ff0000-01x00-tong-ji-ji-suan-font"><font color="#FF0000">ã€01x00ã€‘ç»Ÿè®¡è®¡ç®—</font></a><ul><li><a href="#font-color-4876ff-01x01-sum-qiu-he-font"><font color="#4876FF">ã€01x01ã€‘sum() æ±‚å’Œ</font></a></li><li><a href="#font-color-4876ff-01x02-min-zui-xiao-zhi-font"><font color="#4876FF">ã€01x02ã€‘min() æœ€å°å€¼</font></a></li><li><a href="#font-color-4876ff-01x03-max-zui-da-zhi-font"><font color="#4876FF">ã€01x03ã€‘max() æœ€å¤§å€¼</font></a></li><li><a href="#font-color-4876ff-01x04-mean-ping-jun-zhi-font"><font color="#4876FF">ã€01x04ã€‘mean() å¹³å‡å€¼</font></a></li><li><a href="#font-color-4876ff-01x05-idxmin-zui-xiao-zhi-suo-yin-font"><font color="#4876FF">ã€01x05ã€‘idxmin() æœ€å°å€¼ç´¢å¼•</font></a></li><li><a href="#font-color-4876ff-01x06-idxmax-zui-da-zhi-suo-yin-font"><font color="#4876FF">ã€01x06ã€‘idxmax() æœ€å¤§å€¼ç´¢å¼•</font></a></li></ul></li><li><a href="#font-color-ff0000-02x00-tong-ji-miao-shu-font"><font color="#FF0000">ã€02x00ã€‘ç»Ÿè®¡æè¿°</font></a></li><li><a href="#font-color-ff0000-03x00-chang-yong-tong-ji-fang-fa-font"><font color="#FF0000">ã€03x00ã€‘å¸¸ç”¨ç»Ÿè®¡æ–¹æ³•</font></a></li></ul><!-- tocstop --><hr><p>Pandas ç³»åˆ—æ–‡ç« ï¼š</p><ul><li><a href="https://www.itbob.cn/article/025/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸€ï¼‰ï¼šè®¤è¯† Pandas åŠå…¶ Seriesã€DataFrame å¯¹è±¡</a></li><li><a href="https://www.itbob.cn/article/026/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäºŒï¼‰ï¼šIndex ç´¢å¼•å¯¹è±¡ä»¥åŠå„ç§ç´¢å¼•æ“ä½œ</a></li><li><a href="https://www.itbob.cn/article/027/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸‰ï¼‰ï¼šç®—æœ¯è¿ç®—ä¸ç¼ºå¤±å€¼çš„å¤„ç†</a></li><li><a href="https://www.itbob.cn/article/028/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå››ï¼‰ï¼šå‡½æ•°åº”ç”¨ã€æ˜ å°„ã€æ’åºå’Œå±‚çº§ç´¢å¼•</a></li><li><a href="https://www.itbob.cn/article/029/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäº”ï¼‰ï¼šç»Ÿè®¡è®¡ç®—ä¸ç»Ÿè®¡æè¿°</a></li><li><a href="https://www.itbob.cn/article/030/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…­ï¼‰ï¼šGroupBy æ•°æ®åˆ†è£‚ã€åº”ç”¨ä¸åˆå¹¶</a></li><li><a href="https://www.itbob.cn/article/031/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸ƒï¼‰ï¼šåˆå¹¶æ•°æ®é›†</a></li><li><a href="https://www.itbob.cn/article/032/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…«ï¼‰ï¼šæ•°æ®é‡å¡‘ã€é‡å¤æ•°æ®å¤„ç†ä¸æ•°æ®æ›¿æ¢</a></li><li><a href="https://www.itbob.cn/article/033/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¹ï¼‰ï¼šæ—¶é—´åºåˆ—</a></li><li><a href="https://www.itbob.cn/article/034/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆåï¼‰ï¼šæ•°æ®è¯»å†™</a></li></ul><hr><p>ä¸“æ ï¼š</p><ul><li>NumPy ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780393.html">https://itrhx.blog.csdn.net/category_9780393.html</a></li><li>Pandas ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780397.html">https://itrhx.blog.csdn.net/category_9780397.html</a></li><li>Matplotlib ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780418.html">https://itrhx.blog.csdn.net/category_9780418.html</a></li></ul><br>æ¨èå­¦ä¹ èµ„æ–™ä¸ç½‘ç«™ï¼š<br><br><ul><li>NumPy å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.numpy.org.cn/">https://www.numpy.org.cn/</a></li><li>Pandas å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.pypandas.cn/">https://www.pypandas.cn/</a></li><li>Matplotlib å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.matplotlib.org.cn/">https://www.matplotlib.org.cn/</a></li><li>NumPyã€Matplotlibã€Pandas é€ŸæŸ¥è¡¨ï¼š<a href="https://github.com/TRHX/Python-quick-reference-table">https://github.com/TRHX/Python-quick-reference-table</a></li></ul><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106788501</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h2><span id="01x00-tong-ji-ji-suan"><font color="#FF0000">ã€01x00ã€‘ç»Ÿè®¡è®¡ç®—</font></span></h2><p>Pandas å¯¹è±¡æ‹¥æœ‰ä¸€ç»„å¸¸ç”¨çš„æ•°å­¦å’Œç»Ÿè®¡æ–¹æ³•ã€‚å®ƒä»¬å¤§éƒ¨åˆ†éƒ½å±äºçº¦ç®€å’Œæ±‡æ€»ç»Ÿè®¡ï¼Œç”¨äºä» Series ä¸­æå–å•ä¸ªå€¼ï¼ˆå¦‚ sum æˆ– meanï¼‰æˆ–ä» DataFrame çš„è¡Œæˆ–åˆ—ä¸­æå–ä¸€ä¸ª Seriesã€‚è·Ÿå¯¹åº”çš„ NumPy æ•°ç»„æ–¹æ³•ç›¸æ¯”ï¼Œå®ƒä»¬éƒ½æ˜¯åŸºäºæ²¡æœ‰ç¼ºå¤±æ•°æ®çš„å‡è®¾è€Œæ„å»ºçš„ã€‚</p><h3><span id="01x01-sum-qiu-he"><font color="#4876FF">ã€01x01ã€‘sum() æ±‚å’Œ</font></span></h3><p><code>sum()</code> æ–¹æ³•ç”¨äºè¿”å›æŒ‡å®šè½´çš„å’Œï¼Œç›¸å½“äº <code>numpy.sum()</code>ã€‚</p><p>åœ¨ Series å’Œ DataFrame ä¸­çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><ul><li><p><code>Series.sum(self, axis=None, skipna=None, level=None, numeric_only=None, min_count=0, **kwargs)</code></p></li><li><p><code>DataFrame.sum(self, axis=None, skipna=None, level=None, numeric_only=None, min_count=0, **kwargs)</code></p></li></ul><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.sum.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.sum.html</a></p></li><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.sum.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.sum.html</a></p></li></ul><p>å¸¸ç”¨å‚æ•°æè¿°å¦‚ä¸‹ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>axis</td><td>æŒ‡å®šè½´æ±‚å’Œï¼Œ<code>0</code> or <code>â€˜indexâ€™</code>ï¼Œ<code>1</code> or <code>â€˜columnsâ€™</code>ï¼Œåªæœ‰åœ¨ DataFrame ä¸­æ‰æœ‰ <code>1</code> or <code>'columnsâ€™</code></td></tr><tr><td>skipna</td><td>bool ç±»å‹ï¼Œæ±‚å’Œæ—¶æ˜¯å¦æ’é™¤ç¼ºå¤±å€¼ï¼ˆNA/nullï¼‰ï¼Œé»˜è®¤ True</td></tr><tr><td>level</td><td>å¦‚æœè½´æ˜¯ MultiIndexï¼ˆå±‚æ¬¡ç»“æ„ï¼‰ï¼Œåˆ™æ²¿æŒ‡å®šå±‚æ¬¡æ±‚å’Œ</td></tr></tbody></table><p>åœ¨ Series ä¸­çš„åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>idx = pd.MultiIndex.from_arrays([    [<span class="hljs-string">&#x27;warm&#x27;</span>, <span class="hljs-string">&#x27;warm&#x27;</span>, <span class="hljs-string">&#x27;cold&#x27;</span>, <span class="hljs-string">&#x27;cold&#x27;</span>],    [<span class="hljs-string">&#x27;dog&#x27;</span>, <span class="hljs-string">&#x27;falcon&#x27;</span>, <span class="hljs-string">&#x27;fish&#x27;</span>, <span class="hljs-string">&#x27;spider&#x27;</span>]],    names=[<span class="hljs-string">&#x27;blooded&#x27;</span>, <span class="hljs-string">&#x27;animal&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">8</span>], name=<span class="hljs-string">&#x27;legs&#x27;</span>, index=idx)<span class="hljs-meta">&gt;&gt;&gt; </span>objblooded  animalwarm     dog       <span class="hljs-number">4</span>         falcon    <span class="hljs-number">2</span>cold     fish      <span class="hljs-number">0</span>         spider    <span class="hljs-number">8</span>Name: legs, dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.<span class="hljs-built_in">sum</span>()<span class="hljs-number">14</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.<span class="hljs-built_in">sum</span>(level=<span class="hljs-string">&#x27;blooded&#x27;</span>)bloodedwarm    <span class="hljs-number">6</span>cold    <span class="hljs-number">8</span>Name: legs, dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.<span class="hljs-built_in">sum</span>(level=<span class="hljs-number">0</span>)bloodedwarm    <span class="hljs-number">6</span>cold    <span class="hljs-number">8</span>Name: legs, dtype: int64</code></pre><p>åœ¨ DataFrame ä¸­çš„åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame([[<span class="hljs-number">1.4</span>, np.nan], [<span class="hljs-number">7.1</span>, -<span class="hljs-number">4.5</span>],    [np.nan, np.nan], [<span class="hljs-number">0.75</span>, -<span class="hljs-number">1.3</span>]],    index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>],    columns=[<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj    one  twoa  <span class="hljs-number">1.40</span>  NaNb  <span class="hljs-number">7.10</span> -<span class="hljs-number">4.5</span>c   NaN  NaNd  <span class="hljs-number">0.75</span> -<span class="hljs-number">1.3</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.<span class="hljs-built_in">sum</span>()one    <span class="hljs-number">9.25</span>two   -<span class="hljs-number">5.80</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.<span class="hljs-built_in">sum</span>(axis=<span class="hljs-number">1</span>)a    <span class="hljs-number">1.40</span>b    <span class="hljs-number">2.60</span>c    <span class="hljs-number">0.00</span>d   -<span class="hljs-number">0.55</span>dtype: float64</code></pre><h3><span id="01x02-min-zui-xiao-zhi"><font color="#4876FF">ã€01x02ã€‘min() æœ€å°å€¼</font></span></h3><p><code>min()</code> æ–¹æ³•ç”¨äºè¿”å›æŒ‡å®šè½´çš„æœ€å°å€¼ã€‚</p><p>åœ¨ Series å’Œ DataFrame ä¸­çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><ul><li><p><code>Series.min(self, axis=None, skipna=None, level=None, numeric_only=None, **kwargs)</code></p></li><li><p><code>DataFrame.min(self, axis=None, skipna=None, level=None, numeric_only=None, **kwargs)</code></p></li></ul><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.min.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.min.html</a></p></li><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.min.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.min.html</a></p></li></ul><p>å¸¸ç”¨å‚æ•°æè¿°å¦‚ä¸‹ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>axis</td><td>æŒ‡å®šè½´æ±‚æœ€å°å€¼ï¼Œ<code>0</code> or <code>â€˜indexâ€™</code>ï¼Œ<code>1</code> or <code>â€˜columnsâ€™</code>ï¼Œåªæœ‰åœ¨ DataFrame ä¸­æ‰æœ‰ <code>1</code> or <code>'columnsâ€™</code></td></tr><tr><td>skipna</td><td>bool ç±»å‹ï¼Œæ±‚æœ€å°å€¼æ—¶æ˜¯å¦æ’é™¤ç¼ºå¤±å€¼ï¼ˆNA/nullï¼‰ï¼Œé»˜è®¤ True</td></tr><tr><td>level</td><td>å¦‚æœè½´æ˜¯ MultiIndexï¼ˆå±‚æ¬¡ç»“æ„ï¼‰ï¼Œåˆ™æ²¿æŒ‡å®šå±‚æ¬¡æ±‚æœ€å°å€¼</td></tr></tbody></table><p>åœ¨ Series ä¸­çš„åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>idx = pd.MultiIndex.from_arrays([    [<span class="hljs-string">&#x27;warm&#x27;</span>, <span class="hljs-string">&#x27;warm&#x27;</span>, <span class="hljs-string">&#x27;cold&#x27;</span>, <span class="hljs-string">&#x27;cold&#x27;</span>],    [<span class="hljs-string">&#x27;dog&#x27;</span>, <span class="hljs-string">&#x27;falcon&#x27;</span>, <span class="hljs-string">&#x27;fish&#x27;</span>, <span class="hljs-string">&#x27;spider&#x27;</span>]],    names=[<span class="hljs-string">&#x27;blooded&#x27;</span>, <span class="hljs-string">&#x27;animal&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">8</span>], name=<span class="hljs-string">&#x27;legs&#x27;</span>, index=idx)<span class="hljs-meta">&gt;&gt;&gt; </span>objblooded  animalwarm     dog       <span class="hljs-number">4</span>         falcon    <span class="hljs-number">2</span>cold     fish      <span class="hljs-number">0</span>         spider    <span class="hljs-number">8</span>Name: legs, dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.<span class="hljs-built_in">min</span>()<span class="hljs-number">0</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.<span class="hljs-built_in">min</span>(level=<span class="hljs-string">&#x27;blooded&#x27;</span>)bloodedwarm    <span class="hljs-number">2</span>cold    <span class="hljs-number">0</span>Name: legs, dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.<span class="hljs-built_in">min</span>(level=<span class="hljs-number">0</span>)bloodedwarm    <span class="hljs-number">2</span>cold    <span class="hljs-number">0</span>Name: legs, dtype: int64</code></pre><p>åœ¨ DataFrame ä¸­çš„åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame([[<span class="hljs-number">1.4</span>, np.nan], [<span class="hljs-number">7.1</span>, -<span class="hljs-number">4.5</span>],    [np.nan, np.nan], [<span class="hljs-number">0.75</span>, -<span class="hljs-number">1.3</span>]],    index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>],columns=[<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj    one  twoa  <span class="hljs-number">1.40</span>  NaNb  <span class="hljs-number">7.10</span> -<span class="hljs-number">4.5</span>c   NaN  NaNd  <span class="hljs-number">0.75</span> -<span class="hljs-number">1.3</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.<span class="hljs-built_in">min</span>()one    <span class="hljs-number">0.75</span>two   -<span class="hljs-number">4.50</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.<span class="hljs-built_in">min</span>(axis=<span class="hljs-number">1</span>)a    <span class="hljs-number">1.4</span>b   -<span class="hljs-number">4.5</span>c    NaNd   -<span class="hljs-number">1.3</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.<span class="hljs-built_in">min</span>(axis=<span class="hljs-string">&#x27;columns&#x27;</span>, skipna=<span class="hljs-literal">False</span>)a    NaNb   -<span class="hljs-number">4.5</span>c    NaNd   -<span class="hljs-number">1.3</span>dtype: float64</code></pre><h3><span id="01x03-max-zui-da-zhi"><font color="#4876FF">ã€01x03ã€‘max() æœ€å¤§å€¼</font></span></h3><p><code>max()</code> æ–¹æ³•ç”¨äºè¿”å›æŒ‡å®šè½´çš„æœ€å¤§å€¼ã€‚</p><p>åœ¨ Series å’Œ DataFrame ä¸­çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><ul><li><p><code>Series.max(self, axis=None, skipna=None, level=None, numeric_only=None, **kwargs)</code></p></li><li><p><code>DataFrame.max(self, axis=None, skipna=None, level=None, numeric_only=None, **kwargs)</code></p></li></ul><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.max.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.max.html</a></p></li><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.max.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.max.html</a></p></li></ul><p>å¸¸ç”¨å‚æ•°æè¿°å¦‚ä¸‹ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>axis</td><td>æŒ‡å®šè½´æ±‚æœ€å¤§å€¼ï¼Œ<code>0</code> or <code>â€˜indexâ€™</code>ï¼Œ<code>1</code> or <code>â€˜columnsâ€™</code>ï¼Œåªæœ‰åœ¨ DataFrame ä¸­æ‰æœ‰ <code>1</code> or <code>'columnsâ€™</code></td></tr><tr><td>skipna</td><td>bool ç±»å‹ï¼Œæ±‚æœ€å¤§å€¼æ—¶æ˜¯å¦æ’é™¤ç¼ºå¤±å€¼ï¼ˆNA/nullï¼‰ï¼Œé»˜è®¤ True</td></tr><tr><td>level</td><td>å¦‚æœè½´æ˜¯ MultiIndexï¼ˆå±‚æ¬¡ç»“æ„ï¼‰ï¼Œåˆ™æ²¿æŒ‡å®šå±‚æ¬¡æ±‚æœ€å¤§å€¼</td></tr></tbody></table><p>åœ¨ Series ä¸­çš„åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>idx = pd.MultiIndex.from_arrays([    [<span class="hljs-string">&#x27;warm&#x27;</span>, <span class="hljs-string">&#x27;warm&#x27;</span>, <span class="hljs-string">&#x27;cold&#x27;</span>, <span class="hljs-string">&#x27;cold&#x27;</span>],    [<span class="hljs-string">&#x27;dog&#x27;</span>, <span class="hljs-string">&#x27;falcon&#x27;</span>, <span class="hljs-string">&#x27;fish&#x27;</span>, <span class="hljs-string">&#x27;spider&#x27;</span>]],    names=[<span class="hljs-string">&#x27;blooded&#x27;</span>, <span class="hljs-string">&#x27;animal&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">8</span>], name=<span class="hljs-string">&#x27;legs&#x27;</span>, index=idx)<span class="hljs-meta">&gt;&gt;&gt; </span>objblooded  animalwarm     dog       <span class="hljs-number">4</span>         falcon    <span class="hljs-number">2</span>cold     fish      <span class="hljs-number">0</span>         spider    <span class="hljs-number">8</span>Name: legs, dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.<span class="hljs-built_in">max</span>()<span class="hljs-number">8</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.<span class="hljs-built_in">max</span>(level=<span class="hljs-string">&#x27;blooded&#x27;</span>)bloodedwarm    <span class="hljs-number">4</span>cold    <span class="hljs-number">8</span>Name: legs, dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.<span class="hljs-built_in">max</span>(level=<span class="hljs-number">0</span>)bloodedwarm    <span class="hljs-number">4</span>cold    <span class="hljs-number">8</span>Name: legs, dtype: int64</code></pre><p>åœ¨ DataFrame ä¸­çš„åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame([[<span class="hljs-number">1.4</span>, np.nan], [<span class="hljs-number">7.1</span>, -<span class="hljs-number">4.5</span>],    [np.nan, np.nan], [<span class="hljs-number">0.75</span>, -<span class="hljs-number">1.3</span>]],    index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>],columns=[<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj    one  twoa  <span class="hljs-number">1.40</span>  NaNb  <span class="hljs-number">7.10</span> -<span class="hljs-number">4.5</span>c   NaN  NaNd  <span class="hljs-number">0.75</span> -<span class="hljs-number">1.3</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.<span class="hljs-built_in">max</span>()one    <span class="hljs-number">7.1</span>two   -<span class="hljs-number">1.3</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.<span class="hljs-built_in">max</span>(axis=<span class="hljs-number">1</span>)a    <span class="hljs-number">1.40</span>b    <span class="hljs-number">7.10</span>c     NaNd    <span class="hljs-number">0.75</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.<span class="hljs-built_in">max</span>(axis=<span class="hljs-string">&#x27;columns&#x27;</span>, skipna=<span class="hljs-literal">False</span>)a     NaNb    <span class="hljs-number">7.10</span>c     NaNd    <span class="hljs-number">0.75</span>dtype: float64</code></pre><h3><span id="01x04-mean-ping-jun-zhi"><font color="#4876FF">ã€01x04ã€‘mean() å¹³å‡å€¼</font></span></h3><p><code>mean()</code> æ–¹æ³•ç”¨äºè¿”å›æŒ‡å®šè½´çš„å¹³å‡å€¼ã€‚</p><p>åœ¨ Series å’Œ DataFrame ä¸­çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><ul><li><p><code>Series.mean(self, axis=None, skipna=None, level=None, numeric_only=None, **kwargs)</code></p></li><li><p><code>DataFrame.mean(self, axis=None, skipna=None, level=None, numeric_only=None, **kwargs)</code></p></li></ul><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.mean.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.mean.html</a></p></li><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.mean.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.mean.html</a></p></li></ul><p>å¸¸ç”¨å‚æ•°æè¿°å¦‚ä¸‹ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>axis</td><td>æŒ‡å®šè½´æ±‚å¹³å‡å€¼ï¼Œ<code>0</code> or <code>â€˜indexâ€™</code>ï¼Œ<code>1</code> or <code>â€˜columnsâ€™</code>ï¼Œåªæœ‰åœ¨ DataFrame ä¸­æ‰æœ‰ <code>1</code> or <code>'columnsâ€™</code></td></tr><tr><td>skipna</td><td>bool ç±»å‹ï¼Œæ±‚å¹³å‡å€¼æ—¶æ˜¯å¦æ’é™¤ç¼ºå¤±å€¼ï¼ˆNA/nullï¼‰ï¼Œé»˜è®¤ True</td></tr><tr><td>level</td><td>å¦‚æœè½´æ˜¯ MultiIndexï¼ˆå±‚æ¬¡ç»“æ„ï¼‰ï¼Œåˆ™æ²¿æŒ‡å®šå±‚æ¬¡æ±‚å¹³å‡å€¼</td></tr></tbody></table><p>åœ¨ Series ä¸­çš„åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>idx = pd.MultiIndex.from_arrays([    [<span class="hljs-string">&#x27;warm&#x27;</span>, <span class="hljs-string">&#x27;warm&#x27;</span>, <span class="hljs-string">&#x27;cold&#x27;</span>, <span class="hljs-string">&#x27;cold&#x27;</span>],    [<span class="hljs-string">&#x27;dog&#x27;</span>, <span class="hljs-string">&#x27;falcon&#x27;</span>, <span class="hljs-string">&#x27;fish&#x27;</span>, <span class="hljs-string">&#x27;spider&#x27;</span>]],    names=[<span class="hljs-string">&#x27;blooded&#x27;</span>, <span class="hljs-string">&#x27;animal&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">8</span>], name=<span class="hljs-string">&#x27;legs&#x27;</span>, index=idx)<span class="hljs-meta">&gt;&gt;&gt; </span>objblooded  animalwarm     dog       <span class="hljs-number">4</span>         falcon    <span class="hljs-number">2</span>cold     fish      <span class="hljs-number">0</span>         spider    <span class="hljs-number">8</span>Name: legs, dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.mean()<span class="hljs-number">3.5</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.mean(level=<span class="hljs-string">&#x27;blooded&#x27;</span>)bloodedwarm    <span class="hljs-number">3</span>cold    <span class="hljs-number">4</span>Name: legs, dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.mean(level=<span class="hljs-number">0</span>)bloodedwarm    <span class="hljs-number">3</span>cold    <span class="hljs-number">4</span>Name: legs, dtype: int64</code></pre><p>åœ¨ DataFrame ä¸­çš„åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame([[<span class="hljs-number">1.4</span>, np.nan], [<span class="hljs-number">7.1</span>, -<span class="hljs-number">4.5</span>],    [np.nan, np.nan], [<span class="hljs-number">0.75</span>, -<span class="hljs-number">1.3</span>]],    index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>],columns=[<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj    one  twoa  <span class="hljs-number">1.40</span>  NaNb  <span class="hljs-number">7.10</span> -<span class="hljs-number">4.5</span>c   NaN  NaNd  <span class="hljs-number">0.75</span> -<span class="hljs-number">1.3</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.mean()one    <span class="hljs-number">3.083333</span>two   -<span class="hljs-number">2.900000</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.mean(axis=<span class="hljs-number">1</span>)a    <span class="hljs-number">1.400</span>b    <span class="hljs-number">1.300</span>c      NaNd   -<span class="hljs-number">0.275</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.mean(axis=<span class="hljs-string">&#x27;columns&#x27;</span>, skipna=<span class="hljs-literal">False</span>)a      NaNb    <span class="hljs-number">1.300</span>c      NaNd   -<span class="hljs-number">0.275</span>dtype: float64</code></pre><h3><span id="01x05-idxmin-zui-xiao-zhi-suo-yin"><font color="#4876FF">ã€01x05ã€‘idxmin() æœ€å°å€¼ç´¢å¼•</font></span></h3><p><code>idxmin()</code> æ–¹æ³•ç”¨äºè¿”å›æœ€å°å€¼çš„ç´¢å¼•ã€‚</p><p>åœ¨ Series å’Œ DataFrame ä¸­çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><ul><li><p><code>Series.idxmin(self, axis=0, skipna=True, *args, **kwargs)</code></p></li><li><p><code>DataFrame.idxmin(self, axis=0, skipna=True)</code></p></li></ul><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.idxmin.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.idxmin.html</a></p></li><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.idxmin.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.idxmin.html</a></p></li></ul><p>å¸¸ç”¨å‚æ•°æè¿°å¦‚ä¸‹ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>axis</td><td>æŒ‡å®šè½´ï¼Œ<code>0</code> or <code>â€˜indexâ€™</code>ï¼Œ<code>1</code> or <code>â€˜columnsâ€™</code>ï¼Œåªæœ‰åœ¨ DataFrame ä¸­æ‰æœ‰ <code>1</code> or <code>'columnsâ€™</code></td></tr><tr><td>skipna</td><td>bool ç±»å‹ï¼Œæ˜¯å¦æ’é™¤ç¼ºå¤±å€¼ï¼ˆNA/nullï¼‰ï¼Œé»˜è®¤ True</td></tr></tbody></table><p>åœ¨ Series ä¸­çš„åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>idx = pd.MultiIndex.from_arrays([    [<span class="hljs-string">&#x27;warm&#x27;</span>, <span class="hljs-string">&#x27;warm&#x27;</span>, <span class="hljs-string">&#x27;cold&#x27;</span>, <span class="hljs-string">&#x27;cold&#x27;</span>],    [<span class="hljs-string">&#x27;dog&#x27;</span>, <span class="hljs-string">&#x27;falcon&#x27;</span>, <span class="hljs-string">&#x27;fish&#x27;</span>, <span class="hljs-string">&#x27;spider&#x27;</span>]],    names=[<span class="hljs-string">&#x27;blooded&#x27;</span>, <span class="hljs-string">&#x27;animal&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">8</span>], name=<span class="hljs-string">&#x27;legs&#x27;</span>, index=idx)<span class="hljs-meta">&gt;&gt;&gt; </span>objblooded  animalwarm     dog       <span class="hljs-number">4</span>         falcon    <span class="hljs-number">2</span>cold     fish      <span class="hljs-number">0</span>         spider    <span class="hljs-number">8</span>Name: legs, dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.idxmin()(<span class="hljs-string">&#x27;cold&#x27;</span>, <span class="hljs-string">&#x27;fish&#x27;</span>)</code></pre><p>åœ¨ DataFrame ä¸­çš„åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame([[<span class="hljs-number">1.4</span>, np.nan], [<span class="hljs-number">7.1</span>, -<span class="hljs-number">4.5</span>],    [np.nan, np.nan], [<span class="hljs-number">0.75</span>, -<span class="hljs-number">1.3</span>]],    index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>],columns=[<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj    one  twoa  <span class="hljs-number">1.40</span>  NaNb  <span class="hljs-number">7.10</span> -<span class="hljs-number">4.5</span>c   NaN  NaNd  <span class="hljs-number">0.75</span> -<span class="hljs-number">1.3</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.idxmin()one    dtwo    bdtype: <span class="hljs-built_in">object</span></code></pre><h3><span id="01x06-idxmax-zui-da-zhi-suo-yin"><font color="#4876FF">ã€01x06ã€‘idxmax() æœ€å¤§å€¼ç´¢å¼•</font></span></h3><p><code>idxmax()</code> æ–¹æ³•ç”¨äºè¿”å›æœ€å¤§å€¼çš„ç´¢å¼•ã€‚</p><p>åœ¨ Series å’Œ DataFrame ä¸­çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><ul><li><p><code>Series.idxmax(self, axis=0, skipna=True, *args, **kwargs)</code></p></li><li><p><code>DataFrame.idxmax(self, axis=0, skipna=True)</code></p></li></ul><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.idxmax.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.idxmax.html</a></p></li><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.idxmax.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.idxmax.html</a></p></li></ul><p>å¸¸ç”¨å‚æ•°æè¿°å¦‚ä¸‹ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>axis</td><td>æŒ‡å®šè½´ï¼Œ<code>0</code> or <code>â€˜indexâ€™</code>ï¼Œ<code>1</code> or <code>â€˜columnsâ€™</code>ï¼Œåªæœ‰åœ¨ DataFrame ä¸­æ‰æœ‰ <code>1</code> or <code>'columnsâ€™</code></td></tr><tr><td>skipna</td><td>bool ç±»å‹ï¼Œæ˜¯å¦æ’é™¤ç¼ºå¤±å€¼ï¼ˆNA/nullï¼‰ï¼Œé»˜è®¤ True</td></tr></tbody></table><p>åœ¨ Series ä¸­çš„åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>idx = pd.MultiIndex.from_arrays([    [<span class="hljs-string">&#x27;warm&#x27;</span>, <span class="hljs-string">&#x27;warm&#x27;</span>, <span class="hljs-string">&#x27;cold&#x27;</span>, <span class="hljs-string">&#x27;cold&#x27;</span>],    [<span class="hljs-string">&#x27;dog&#x27;</span>, <span class="hljs-string">&#x27;falcon&#x27;</span>, <span class="hljs-string">&#x27;fish&#x27;</span>, <span class="hljs-string">&#x27;spider&#x27;</span>]],    names=[<span class="hljs-string">&#x27;blooded&#x27;</span>, <span class="hljs-string">&#x27;animal&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">8</span>], name=<span class="hljs-string">&#x27;legs&#x27;</span>, index=idx)<span class="hljs-meta">&gt;&gt;&gt; </span>objblooded  animalwarm     dog       <span class="hljs-number">4</span>         falcon    <span class="hljs-number">2</span>cold     fish      <span class="hljs-number">0</span>         spider    <span class="hljs-number">8</span>Name: legs, dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.idxmax()(<span class="hljs-string">&#x27;cold&#x27;</span>, <span class="hljs-string">&#x27;spider&#x27;</span>)</code></pre><p>åœ¨ DataFrame ä¸­çš„åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame([[<span class="hljs-number">1.4</span>, np.nan], [<span class="hljs-number">7.1</span>, -<span class="hljs-number">4.5</span>],    [np.nan, np.nan], [<span class="hljs-number">0.75</span>, -<span class="hljs-number">1.3</span>]],    index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>],columns=[<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj    one  twoa  <span class="hljs-number">1.40</span>  NaNb  <span class="hljs-number">7.10</span> -<span class="hljs-number">4.5</span>c   NaN  NaNd  <span class="hljs-number">0.75</span> -<span class="hljs-number">1.3</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.idxmax()one    btwo    ddtype: <span class="hljs-built_in">object</span></code></pre><h2><span id="02x00-tong-ji-miao-shu"><font color="#FF0000">ã€02x00ã€‘ç»Ÿè®¡æè¿°</font></span></h2><p><code>describe()</code> æ–¹æ³•ç”¨äºå¿«é€Ÿç»¼åˆç»Ÿè®¡ç»“æœï¼šè®¡æ•°ã€å‡å€¼ã€æ ‡å‡†å·®ã€æœ€å¤§æœ€å°å€¼ã€å››åˆ†ä½æ•°ç­‰ã€‚è¿˜å¯ä»¥é€šè¿‡å‚æ•°æ¥è®¾ç½®éœ€è¦å¿½ç•¥æˆ–è€…åŒ…å«çš„ç»Ÿè®¡é€‰é¡¹ã€‚</p><p>åœ¨ Series å’Œ DataFrame ä¸­çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><ul><li><p><code>Series.describe(self: ~ FrameOrSeries, percentiles=None, include=None, exclude=None)</code></p></li><li><p><code>DataFrame.describe(self: ~ FrameOrSeries, percentiles=None, include=None, exclude=None) </code></p></li></ul><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.describe.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.describe.html</a></p></li><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.describe.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.describe.html</a></p></li></ul><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>percentiles</td><td>æ•°å­—åˆ—è¡¨ï¼Œå¯é€‰é¡¹ï¼Œè¦åŒ…å«åœ¨è¾“å‡ºä¸­çš„ç™¾åˆ†æ¯”ã€‚æ‰€æœ‰å€¼éƒ½åº”ä»‹äº 0 å’Œ 1 ä¹‹é—´ã€‚é»˜è®¤å€¼ä¸º [.25ã€.5ã€.75]ï¼Œå³è¿”å›ç¬¬ 25ã€50 å’Œ 75 ä¸ªç™¾åˆ†ç‚¹</td></tr><tr><td>include</td><td>è¦åŒ…å«åœ¨ç»“æœä¸­çš„æ•°æ®ç±»å‹ï¼Œæ•°æ®ç±»å‹åˆ—è¡¨ï¼Œé»˜è®¤ Noneï¼Œå…·ä½“å–å€¼ç±»å‹å‚è§å®˜æ–¹æ–‡æ¡£</td></tr><tr><td>exclude</td><td>è¦ä»ç»“æœä¸­å¿½ç•¥çš„æ•°æ®ç±»å‹ï¼Œæ•°æ®ç±»å‹åˆ—è¡¨ï¼Œé»˜è®¤ Noneï¼Œå…·ä½“å–å€¼ç±»å‹å‚è§å®˜æ–¹æ–‡æ¡£</td></tr></tbody></table><p>æè¿°æ•°å­—å½¢å¼çš„ Series å¯¹è±¡ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">0</span>    <span class="hljs-number">1</span><span class="hljs-number">1</span>    <span class="hljs-number">2</span><span class="hljs-number">2</span>    <span class="hljs-number">3</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.describe()count    <span class="hljs-number">3.0</span>mean     <span class="hljs-number">2.0</span>std      <span class="hljs-number">1.0</span><span class="hljs-built_in">min</span>      <span class="hljs-number">1.0</span><span class="hljs-number">25</span>%      <span class="hljs-number">1.5</span><span class="hljs-number">50</span>%      <span class="hljs-number">2.0</span><span class="hljs-number">75</span>%      <span class="hljs-number">2.5</span><span class="hljs-built_in">max</span>      <span class="hljs-number">3.0</span>dtype: float64</code></pre><p>åˆ†ç±»æè¿°ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">0</span>    a<span class="hljs-number">1</span>    a<span class="hljs-number">2</span>    b<span class="hljs-number">3</span>    cdtype: <span class="hljs-built_in">object</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.describe()count     <span class="hljs-number">4</span>unique    <span class="hljs-number">3</span>top       afreq      <span class="hljs-number">2</span>dtype: <span class="hljs-built_in">object</span></code></pre><p>æè¿°æ—¶é—´æˆ³ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj  = pd.Series([    np.datetime64(<span class="hljs-string">&quot;2000-01-01&quot;</span>),    np.datetime64(<span class="hljs-string">&quot;2010-01-01&quot;</span>),    np.datetime64(<span class="hljs-string">&quot;2010-01-01&quot;</span>)    ])<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">0</span>   <span class="hljs-number">2000</span>-01-01<span class="hljs-number">1</span>   <span class="hljs-number">2010</span>-01-01<span class="hljs-number">2</span>   <span class="hljs-number">2010</span>-01-01dtype: datetime64[ns]<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.describe()count                       <span class="hljs-number">3</span>unique                      <span class="hljs-number">2</span>top       <span class="hljs-number">2010</span>-01-01 <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>freq                        <span class="hljs-number">2</span>first     <span class="hljs-number">2000</span>-01-01 <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>last      <span class="hljs-number">2010</span>-01-01 <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>dtype: <span class="hljs-built_in">object</span></code></pre><p>æè¿° DataFrame å¯¹è±¡ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(&#123;<span class="hljs-string">&#x27;categorical&#x27;</span>: pd.Categorical([<span class="hljs-string">&#x27;d&#x27;</span>,<span class="hljs-string">&#x27;e&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>]), <span class="hljs-string">&#x27;numeric&#x27;</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-string">&#x27;object&#x27;</span>: [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj  categorical  numeric <span class="hljs-built_in">object</span><span class="hljs-number">0</span>           d        <span class="hljs-number">1</span>      a<span class="hljs-number">1</span>           e        <span class="hljs-number">2</span>      b<span class="hljs-number">2</span>           f        <span class="hljs-number">3</span>      c<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.describe()       numericcount      <span class="hljs-number">3.0</span>mean       <span class="hljs-number">2.0</span>std        <span class="hljs-number">1.0</span><span class="hljs-built_in">min</span>        <span class="hljs-number">1.0</span><span class="hljs-number">25</span>%        <span class="hljs-number">1.5</span><span class="hljs-number">50</span>%        <span class="hljs-number">2.0</span><span class="hljs-number">75</span>%        <span class="hljs-number">2.5</span><span class="hljs-built_in">max</span>        <span class="hljs-number">3.0</span></code></pre><p>ä¸è€ƒè™‘æ•°æ®ç±»å‹ï¼Œæ˜¾ç¤ºæ‰€æœ‰æè¿°ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(&#123;<span class="hljs-string">&#x27;categorical&#x27;</span>: pd.Categorical([<span class="hljs-string">&#x27;d&#x27;</span>,<span class="hljs-string">&#x27;e&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>]), <span class="hljs-string">&#x27;numeric&#x27;</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-string">&#x27;object&#x27;</span>: [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj  categorical  numeric <span class="hljs-built_in">object</span><span class="hljs-number">0</span>           d        <span class="hljs-number">1</span>      a<span class="hljs-number">1</span>           e        <span class="hljs-number">2</span>      b<span class="hljs-number">2</span>           f        <span class="hljs-number">3</span>      c<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.describe(include=<span class="hljs-string">&#x27;all&#x27;</span>)       categorical  numeric <span class="hljs-built_in">object</span>count            <span class="hljs-number">3</span>      <span class="hljs-number">3.0</span>      <span class="hljs-number">3</span>unique           <span class="hljs-number">3</span>      NaN      <span class="hljs-number">3</span>top              f      NaN      cfreq             <span class="hljs-number">1</span>      NaN      <span class="hljs-number">1</span>mean           NaN      <span class="hljs-number">2.0</span>    NaNstd            NaN      <span class="hljs-number">1.0</span>    NaN<span class="hljs-built_in">min</span>            NaN      <span class="hljs-number">1.0</span>    NaN<span class="hljs-number">25</span>%            NaN      <span class="hljs-number">1.5</span>    NaN<span class="hljs-number">50</span>%            NaN      <span class="hljs-number">2.0</span>    NaN<span class="hljs-number">75</span>%            NaN      <span class="hljs-number">2.5</span>    NaN<span class="hljs-built_in">max</span>            NaN      <span class="hljs-number">3.0</span>    NaN</code></pre><p>ä»…åŒ…å« category åˆ—ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(&#123;<span class="hljs-string">&#x27;categorical&#x27;</span>: pd.Categorical([<span class="hljs-string">&#x27;d&#x27;</span>,<span class="hljs-string">&#x27;e&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>]), <span class="hljs-string">&#x27;numeric&#x27;</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-string">&#x27;object&#x27;</span>: [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj  categorical  numeric <span class="hljs-built_in">object</span><span class="hljs-number">0</span>           d        <span class="hljs-number">1</span>      a<span class="hljs-number">1</span>           e        <span class="hljs-number">2</span>      b<span class="hljs-number">2</span>           f        <span class="hljs-number">3</span>      c<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.describe(include=[<span class="hljs-string">&#x27;category&#x27;</span>])       categoricalcount            <span class="hljs-number">3</span>unique           <span class="hljs-number">3</span>top              ffreq             <span class="hljs-number">1</span></code></pre><h2><span id="03x00-chang-yong-tong-ji-fang-fa"><font color="#FF0000">ã€03x00ã€‘å¸¸ç”¨ç»Ÿè®¡æ–¹æ³•</font></span></h2><p>å…¶ä»–å¸¸ç”¨ç»Ÿè®¡æ–¹æ³•å‚è§ä¸‹è¡¨ï¼š</p><table><thead><tr><th>æ–¹æ³•</th><th>æè¿°</th><th>å®˜æ–¹æ–‡æ¡£</th></tr></thead><tbody><tr><td>count</td><td>éNAå€¼çš„æ•°é‡</td><td><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.count.html">Series</a>ä¸¨<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.count.html">DataFrame</a></td></tr><tr><td>describe</td><td>é’ˆå¯¹Seriesæˆ–å„DataFrameåˆ—è®¡ç®—æ±‡æ€»ç»Ÿè®¡</td><td><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.describe.html">Series</a>ä¸¨<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.describe.html">DataFrame</a></td></tr><tr><td>min</td><td>è®¡ç®—æœ€å°å€¼</td><td><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.min.html">Series</a>ä¸¨<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.min.html">DataFrame</a></td></tr><tr><td>max</td><td>è®¡ç®—æœ€å¤§å€¼</td><td><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.max.html">Series</a>ä¸¨<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.max.html">DataFrame</a></td></tr><tr><td>argmin</td><td>è®¡ç®—èƒ½å¤Ÿè·å–åˆ°æœ€å°å€¼çš„ç´¢å¼•ä½ç½®ï¼ˆæ•´æ•°ï¼‰</td><td><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.argmin.html">Series</a></td></tr><tr><td>argmax</td><td>è®¡ç®—èƒ½å¤Ÿè·å–åˆ°æœ€å¤§å€¼çš„ç´¢å¼•ä½ç½®ï¼ˆæ•´æ•°ï¼‰</td><td><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.argmax.html">Series</a></td></tr><tr><td>idxmin</td><td>è®¡ç®—èƒ½å¤Ÿè·å–åˆ°æœ€å°å€¼çš„ç´¢å¼•å€¼</td><td><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.idxmin.html">Series</a>ä¸¨<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.idxmin.html">DataFrame</a></td></tr><tr><td>idxmax</td><td>è®¡ç®—èƒ½å¤Ÿè·å–åˆ°æœ€å¤§å€¼çš„ç´¢å¼•å€¼</td><td><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.idxmax.html">Series</a>ä¸¨<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.idxmax.html">DataFrame</a></td></tr><tr><td>quantile</td><td>è®¡ç®—æ ·æœ¬çš„åˆ†ä½æ•°ï¼ˆ0åˆ°1ï¼‰</td><td><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.quantile.html">Series</a>ä¸¨<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.quantile.html">DataFrame</a></td></tr><tr><td>sum</td><td>å€¼çš„æ€»å’Œ</td><td><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.sum.html">Series</a>ä¸¨<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.sum.html">DataFrame</a></td></tr><tr><td>mean</td><td>å€¼çš„å¹³å‡æ•°</td><td><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.mean.html">Series</a>ä¸¨<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.mean.html">DataFrame</a></td></tr><tr><td>median</td><td>å€¼çš„ç®—æœ¯ä¸­ä½æ•°ï¼ˆ50%åˆ†ä½æ•°ï¼‰</td><td><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.median.html">Series</a>ä¸¨<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.median.html">DataFrame</a></td></tr><tr><td>mad</td><td>æ ¹æ®å¹³å‡å€¼è®¡ç®—å¹³å‡ç»å¯¹ç¦»å·®</td><td><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.mad.html">Series</a>ä¸¨<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.mad.html">DataFrame</a></td></tr><tr><td>var</td><td>æ ·æœ¬å€¼çš„æ–¹å·®</td><td><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.var.html">Series</a>ä¸¨<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.var.html">DataFrame</a></td></tr><tr><td>std</td><td>æ ·æœ¬å€¼çš„æ ‡å‡†å·®</td><td><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.std.html">Series</a>ä¸¨<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.std.html">DataFrame</a></td></tr></tbody></table><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106788501</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h2&gt;&lt;span id=&quot;wen-zhang-mu-lu&quot;&gt;æ–‡ç« ç›®å½•&lt;/span&gt;&lt;/h2&gt;
&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#font-color-ff0000-01x00-tong-ji-ji-suan-font&quot;&gt;&lt;font color=&quot;#</summary>
      
    
    
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    <category term="Pandas" scheme="https://www.itbob.cn/tags/Pandas/"/>
    
  </entry>
  
  <entry>
    <title>Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå››ï¼‰ï¼šå‡½æ•°åº”ç”¨/æ˜ å°„/æ’åºå’Œå±‚çº§ç´¢å¼•</title>
    <link href="https://www.itbob.cn/article/028/"/>
    <id>https://www.itbob.cn/article/028/</id>
    <published>2020-06-15T12:27:32.000Z</published>
    <updated>2022-05-22T12:39:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="wen-zhang-mu-lu">æ–‡ç« ç›®å½•</span></h2><!-- toc --><ul><li><a href="#font-color-ff0000-01x00-han-shu-ying-yong-he-ying-she-font"><font color="#FF0000">ã€01x00ã€‘å‡½æ•°åº”ç”¨å’Œæ˜ å°„</font></a></li><li><a href="#font-color-ff0000-02x00-pai-xu-font"><font color="#FF0000">ã€02x00ã€‘æ’åº</font></a><ul><li><a href="#font-color-4876ff-02x01-sort-index-suo-yin-pai-xu-font"><font color="#4876FF">ã€02x01ã€‘sort_index() ç´¢å¼•æ’åº</font></a></li><li><a href="#font-color-4876ff-02x02-sort-values-an-zhi-pai-xu-font"><font color="#4876FF">ã€02x02ã€‘sort_values() æŒ‰å€¼æ’åº</font></a></li><li><a href="#font-color-4876ff-02x03-rank-fan-hui-pai-xu-hou-yuan-su-suo-yin-font"><font color="#4876FF">ã€02x03ã€‘rank() è¿”å›æ’åºåå…ƒç´ ç´¢å¼•</font></a></li></ul></li><li><a href="#font-color-ff0000-03x00-ceng-ji-suo-yin-font"><font color="#FF0000">ã€03x00ã€‘å±‚çº§ç´¢å¼•</font></a><ul><li><a href="#font-color-4876ff-03x01-ren-shi-ceng-ji-suo-yin-font"><font color="#4876FF">ã€03x01ã€‘è®¤è¯†å±‚çº§ç´¢å¼•</font></a></li><li><a href="#font-color-4876ff-03x02-multiindex-suo-yin-dui-xiang-font"><font color="#4876FF">ã€03x02ã€‘MultiIndex ç´¢å¼•å¯¹è±¡</font></a></li><li><a href="#font-color-4876ff-03x03-ti-qu-zhi-font"><font color="#4876FF">ã€03x03ã€‘æå–å€¼</font></a></li><li><a href="#font-color-4876ff-03x04-jiao-huan-fen-ceng-yu-pai-xu-font"><font color="#4876FF">ã€03x04ã€‘äº¤æ¢åˆ†å±‚ä¸æ’åº</font></a></li></ul></li></ul><!-- tocstop --><hr><p>Pandas ç³»åˆ—æ–‡ç« ï¼š</p><ul><li><a href="https://www.itbob.cn/article/025/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸€ï¼‰ï¼šè®¤è¯† Pandas åŠå…¶ Seriesã€DataFrame å¯¹è±¡</a></li><li><a href="https://www.itbob.cn/article/026/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäºŒï¼‰ï¼šIndex ç´¢å¼•å¯¹è±¡ä»¥åŠå„ç§ç´¢å¼•æ“ä½œ</a></li><li><a href="https://www.itbob.cn/article/027/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸‰ï¼‰ï¼šç®—æœ¯è¿ç®—ä¸ç¼ºå¤±å€¼çš„å¤„ç†</a></li><li><a href="https://www.itbob.cn/article/028/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå››ï¼‰ï¼šå‡½æ•°åº”ç”¨ã€æ˜ å°„ã€æ’åºå’Œå±‚çº§ç´¢å¼•</a></li><li><a href="https://www.itbob.cn/article/029/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäº”ï¼‰ï¼šç»Ÿè®¡è®¡ç®—ä¸ç»Ÿè®¡æè¿°</a></li><li><a href="https://www.itbob.cn/article/030/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…­ï¼‰ï¼šGroupBy æ•°æ®åˆ†è£‚ã€åº”ç”¨ä¸åˆå¹¶</a></li><li><a href="https://www.itbob.cn/article/031/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸ƒï¼‰ï¼šåˆå¹¶æ•°æ®é›†</a></li><li><a href="https://www.itbob.cn/article/032/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…«ï¼‰ï¼šæ•°æ®é‡å¡‘ã€é‡å¤æ•°æ®å¤„ç†ä¸æ•°æ®æ›¿æ¢</a></li><li><a href="https://www.itbob.cn/article/033/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¹ï¼‰ï¼šæ—¶é—´åºåˆ—</a></li><li><a href="https://www.itbob.cn/article/034/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆåï¼‰ï¼šæ•°æ®è¯»å†™</a></li></ul><hr><p>ä¸“æ ï¼š</p><ul><li>NumPy ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780393.html">https://itrhx.blog.csdn.net/category_9780393.html</a></li><li>Pandas ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780397.html">https://itrhx.blog.csdn.net/category_9780397.html</a></li><li>Matplotlib ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780418.html">https://itrhx.blog.csdn.net/category_9780418.html</a></li></ul><br>æ¨èå­¦ä¹ èµ„æ–™ä¸ç½‘ç«™ï¼š<br><br><ul><li>NumPy å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.numpy.org.cn/">https://www.numpy.org.cn/</a></li><li>Pandas å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.pypandas.cn/">https://www.pypandas.cn/</a></li><li>Matplotlib å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.matplotlib.org.cn/">https://www.matplotlib.org.cn/</a></li><li>NumPyã€Matplotlibã€Pandas é€ŸæŸ¥è¡¨ï¼š<a href="https://github.com/TRHX/Python-quick-reference-table">https://github.com/TRHX/Python-quick-reference-table</a></li></ul><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106758103</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h2><span id="01x00-han-shu-ying-yong-he-ying-she"><font color="#FF0000">ã€01x00ã€‘å‡½æ•°åº”ç”¨å’Œæ˜ å°„</font></span></h2><p>Pandas å¯ç›´æ¥ä½¿ç”¨ NumPy çš„ ufuncï¼ˆå…ƒç´ çº§æ•°ç»„æ–¹æ³•ï¼‰ å‡½æ•°ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(np.random.randn(<span class="hljs-number">5</span>,<span class="hljs-number">4</span>) - <span class="hljs-number">1</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>obj          <span class="hljs-number">0</span>         <span class="hljs-number">1</span>         <span class="hljs-number">2</span>         <span class="hljs-number">3</span><span class="hljs-number">0</span> -<span class="hljs-number">0.228107</span>  <span class="hljs-number">1.377709</span> -<span class="hljs-number">1.096528</span> -<span class="hljs-number">2.051001</span><span class="hljs-number">1</span> -<span class="hljs-number">2.477144</span> -<span class="hljs-number">0.500013</span> -<span class="hljs-number">0.040695</span> -<span class="hljs-number">0.267452</span><span class="hljs-number">2</span> -<span class="hljs-number">0.485999</span> -<span class="hljs-number">1.232930</span> -<span class="hljs-number">0.390701</span> -<span class="hljs-number">1.947984</span><span class="hljs-number">3</span> -<span class="hljs-number">0.839161</span> -<span class="hljs-number">0.702802</span> -<span class="hljs-number">1.756359</span> -<span class="hljs-number">1.873149</span><span class="hljs-number">4</span>  <span class="hljs-number">0.853121</span> -<span class="hljs-number">1.540105</span>  <span class="hljs-number">0.621614</span> -<span class="hljs-number">0.583360</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>np.<span class="hljs-built_in">abs</span>(obj)          <span class="hljs-number">0</span>         <span class="hljs-number">1</span>         <span class="hljs-number">2</span>         <span class="hljs-number">3</span><span class="hljs-number">0</span>  <span class="hljs-number">0.228107</span>  <span class="hljs-number">1.377709</span>  <span class="hljs-number">1.096528</span>  <span class="hljs-number">2.051001</span><span class="hljs-number">1</span>  <span class="hljs-number">2.477144</span>  <span class="hljs-number">0.500013</span>  <span class="hljs-number">0.040695</span>  <span class="hljs-number">0.267452</span><span class="hljs-number">2</span>  <span class="hljs-number">0.485999</span>  <span class="hljs-number">1.232930</span>  <span class="hljs-number">0.390701</span>  <span class="hljs-number">1.947984</span><span class="hljs-number">3</span>  <span class="hljs-number">0.839161</span>  <span class="hljs-number">0.702802</span>  <span class="hljs-number">1.756359</span>  <span class="hljs-number">1.873149</span><span class="hljs-number">4</span>  <span class="hljs-number">0.853121</span>  <span class="hljs-number">1.540105</span>  <span class="hljs-number">0.621614</span>  <span class="hljs-number">0.583360</span></code></pre><p>å‡½æ•°æ˜ å°„ï¼šåœ¨ Pandas ä¸­ <code>apply</code> æ–¹æ³•å¯ä»¥å°†å‡½æ•°åº”ç”¨åˆ°åˆ—æˆ–è¡Œä¸Šï¼Œå¯ä»¥é€šè¿‡è®¾ç½® axis å‚æ•°æ¥æŒ‡å®šè¡Œæˆ–åˆ—ï¼Œé»˜è®¤ axis = 0ï¼Œå³æŒ‰åˆ—æ˜ å°„ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(np.random.randn(<span class="hljs-number">5</span>,<span class="hljs-number">4</span>) - <span class="hljs-number">1</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>obj          <span class="hljs-number">0</span>         <span class="hljs-number">1</span>         <span class="hljs-number">2</span>         <span class="hljs-number">3</span><span class="hljs-number">0</span> -<span class="hljs-number">0.707028</span> -<span class="hljs-number">0.755552</span> -<span class="hljs-number">2.196480</span> -<span class="hljs-number">0.529676</span><span class="hljs-number">1</span> -<span class="hljs-number">0.772668</span>  <span class="hljs-number">0.127485</span> -<span class="hljs-number">2.015699</span> -<span class="hljs-number">0.283654</span><span class="hljs-number">2</span>  <span class="hljs-number">0.248200</span> -<span class="hljs-number">1.940189</span> -<span class="hljs-number">1.068028</span> -<span class="hljs-number">1.751737</span><span class="hljs-number">3</span> -<span class="hljs-number">0.872904</span> -<span class="hljs-number">0.465371</span> -<span class="hljs-number">1.327951</span> -<span class="hljs-number">2.883160</span><span class="hljs-number">4</span> -<span class="hljs-number">0.092664</span>  <span class="hljs-number">0.258351</span> -<span class="hljs-number">1.010747</span> -<span class="hljs-number">2.313039</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.apply(<span class="hljs-keyword">lambda</span> x : x.<span class="hljs-built_in">max</span>())<span class="hljs-number">0</span>    <span class="hljs-number">0.248200</span><span class="hljs-number">1</span>    <span class="hljs-number">0.258351</span><span class="hljs-number">2</span>   -<span class="hljs-number">1.010747</span><span class="hljs-number">3</span>   -<span class="hljs-number">0.283654</span>dtype: float64&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj.apply(<span class="hljs-keyword">lambda</span> x : x.<span class="hljs-built_in">max</span>(), axis=<span class="hljs-number">1</span>)<span class="hljs-number">0</span>   -<span class="hljs-number">0.529676</span><span class="hljs-number">1</span>    <span class="hljs-number">0.127485</span><span class="hljs-number">2</span>    <span class="hljs-number">0.248200</span><span class="hljs-number">3</span>   -<span class="hljs-number">0.465371</span><span class="hljs-number">4</span>    <span class="hljs-number">0.258351</span>dtype: float64</code></pre><p>å¦å¤–è¿˜å¯ä»¥é€šè¿‡ <code>applymap</code> å°†å‡½æ•°æ˜ å°„åˆ°æ¯ä¸ªæ•°æ®ä¸Šï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(np.random.randn(<span class="hljs-number">5</span>,<span class="hljs-number">4</span>) - <span class="hljs-number">1</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>obj          <span class="hljs-number">0</span>         <span class="hljs-number">1</span>         <span class="hljs-number">2</span>         <span class="hljs-number">3</span><span class="hljs-number">0</span> -<span class="hljs-number">0.772463</span> -<span class="hljs-number">1.597008</span> -<span class="hljs-number">3.196100</span> -<span class="hljs-number">1.948486</span><span class="hljs-number">1</span> -<span class="hljs-number">1.765108</span> -<span class="hljs-number">1.646421</span> -<span class="hljs-number">0.687175</span> -<span class="hljs-number">0.401782</span><span class="hljs-number">2</span>  <span class="hljs-number">0.275699</span> -<span class="hljs-number">3.115184</span> -<span class="hljs-number">1.429063</span> -<span class="hljs-number">1.075610</span><span class="hljs-number">3</span> -<span class="hljs-number">0.251734</span> -<span class="hljs-number">0.448399</span> -<span class="hljs-number">3.077677</span> -<span class="hljs-number">0.294674</span><span class="hljs-number">4</span> -<span class="hljs-number">1.495896</span> -<span class="hljs-number">1.689729</span> -<span class="hljs-number">0.560376</span> -<span class="hljs-number">1.808794</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.applymap(<span class="hljs-keyword">lambda</span> x : <span class="hljs-string">&#x27;%.2f&#x27;</span> % x)       <span class="hljs-number">0</span>      <span class="hljs-number">1</span>      <span class="hljs-number">2</span>      <span class="hljs-number">3</span><span class="hljs-number">0</span>  -<span class="hljs-number">0.77</span>  -<span class="hljs-number">1.60</span>  -<span class="hljs-number">3.20</span>  -<span class="hljs-number">1.95</span><span class="hljs-number">1</span>  -<span class="hljs-number">1.77</span>  -<span class="hljs-number">1.65</span>  -<span class="hljs-number">0.69</span>  -<span class="hljs-number">0.40</span><span class="hljs-number">2</span>   <span class="hljs-number">0.28</span>  -<span class="hljs-number">3.12</span>  -<span class="hljs-number">1.43</span>  -<span class="hljs-number">1.08</span><span class="hljs-number">3</span>  -<span class="hljs-number">0.25</span>  -<span class="hljs-number">0.45</span>  -<span class="hljs-number">3.08</span>  -<span class="hljs-number">0.29</span><span class="hljs-number">4</span>  -<span class="hljs-number">1.50</span>  -<span class="hljs-number">1.69</span>  -<span class="hljs-number">0.56</span>  -<span class="hljs-number">1.81</span></code></pre><h2><span id="02x00-pai-xu"><font color="#FF0000">ã€02x00ã€‘æ’åº</font></span></h2><h3><span id="02x01-sort-index-suo-yin-pai-xu"><font color="#4876FF">ã€02x01ã€‘sort_index() ç´¢å¼•æ’åº</font></span></h3><p>æ ¹æ®æ¡ä»¶å¯¹æ•°æ®é›†æ’åºï¼ˆsortingï¼‰ä¹Ÿæ˜¯ä¸€ç§é‡è¦çš„å†…ç½®è¿ç®—ã€‚è¦å¯¹è¡Œæˆ–åˆ—ç´¢å¼•è¿›è¡Œæ’åºï¼ˆæŒ‰å­—å…¸é¡ºåºï¼‰ï¼Œå¯ä½¿ç”¨ <code>sort_index</code> æ–¹æ³•ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªå·²æ’åºçš„æ–°å¯¹è±¡ã€‚</p><p>åœ¨ Series å’Œ DataFrame ä¸­çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><pre><code class="hljs python">Series.sort_index(self,                  axis=<span class="hljs-number">0</span>,                  level=<span class="hljs-literal">None</span>,                  ascending=<span class="hljs-literal">True</span>,                  inplace=<span class="hljs-literal">False</span>,                  kind=<span class="hljs-string">&#x27;quicksort&#x27;</span>,                  na_position=<span class="hljs-string">&#x27;last&#x27;</span>,                  sort_remaining=<span class="hljs-literal">True</span>,                  ignore_index: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span>)</code></pre><pre><code class="hljs python">DataFrame.sort_index(self,                     axis=<span class="hljs-number">0</span>,                     level=<span class="hljs-literal">None</span>,                     ascending=<span class="hljs-literal">True</span>,                     inplace=<span class="hljs-literal">False</span>,                     kind=<span class="hljs-string">&#x27;quicksort&#x27;</span>,                     na_position=<span class="hljs-string">&#x27;last&#x27;</span>,                     sort_remaining=<span class="hljs-literal">True</span>,                     ignore_index: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span>)</code></pre><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.sort_index.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.sort_index.html</a></li><li><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.sort_index.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.sort_index.html</a></li></ul><p>å¸¸ç”¨å‚æ•°æè¿°å¦‚ä¸‹ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>axis</td><td>æŒ‡å®šè½´æ’åºï¼Œ<code>0</code> or <code>â€˜indexâ€™</code>ï¼Œ<code>1</code> or <code>â€˜columnsâ€™</code>ï¼Œåªæœ‰åœ¨ DataFrame ä¸­æ‰æœ‰ <code>1</code> or <code>'columnsâ€™</code></td></tr><tr><td>ascending</td><td>ä¸º <code>True</code>æ—¶å‡åºæ’åºï¼ˆé»˜è®¤ï¼‰ï¼Œä¸º <code>False</code>æ—¶é™åºæ’åº</td></tr><tr><td>kind</td><td>æ’åºæ–¹æ³•ï¼Œ<code>quicksort</code>ï¼šå¿«é€Ÿæ’åºï¼ˆé»˜è®¤ï¼‰ï¼›<code>'mergesortâ€™</code>ï¼šå½’å¹¶æ’åºï¼›<code>'heapsort'</code>ï¼šå †æ’åºï¼›å…·ä½“å¯å‚è§ <a href="https://numpy.org/doc/stable/reference/generated/numpy.sort.html">numpy.sort()</a></td></tr></tbody></table><p>åœ¨ Series ä¸­çš„åº”ç”¨ï¼ˆæŒ‰ç…§ç´¢å¼• index æ’åºï¼‰ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series(<span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>), index=[<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>objd    <span class="hljs-number">0</span>a    <span class="hljs-number">1</span>b    <span class="hljs-number">2</span>c    <span class="hljs-number">3</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.sort_index()a    <span class="hljs-number">1</span>b    <span class="hljs-number">2</span>c    <span class="hljs-number">3</span>d    <span class="hljs-number">0</span>dtype: int64</code></pre><p>åœ¨ DataFrame ä¸­çš„åº”ç”¨ï¼ˆå¯æŒ‰ç…§ç´¢å¼• index æˆ–åˆ—æ ‡ç­¾ columns æ’åºï¼‰ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(np.arange(<span class="hljs-number">8</span>).reshape((<span class="hljs-number">2</span>, <span class="hljs-number">4</span>)), index=[<span class="hljs-string">&#x27;three&#x27;</span>, <span class="hljs-string">&#x27;one&#x27;</span>], columns=[<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj       d  a  b  cthree  <span class="hljs-number">0</span>  <span class="hljs-number">1</span>  <span class="hljs-number">2</span>  <span class="hljs-number">3</span>one    <span class="hljs-number">4</span>  <span class="hljs-number">5</span>  <span class="hljs-number">6</span>  <span class="hljs-number">7</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.sort_index()       d  a  b  cone    <span class="hljs-number">4</span>  <span class="hljs-number">5</span>  <span class="hljs-number">6</span>  <span class="hljs-number">7</span>three  <span class="hljs-number">0</span>  <span class="hljs-number">1</span>  <span class="hljs-number">2</span>  <span class="hljs-number">3</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.sort_index(axis=<span class="hljs-number">1</span>)       a  b  c  dthree  <span class="hljs-number">1</span>  <span class="hljs-number">2</span>  <span class="hljs-number">3</span>  <span class="hljs-number">0</span>one    <span class="hljs-number">5</span>  <span class="hljs-number">6</span>  <span class="hljs-number">7</span>  <span class="hljs-number">4</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.sort_index(axis=<span class="hljs-number">1</span>, ascending=<span class="hljs-literal">False</span>)       d  c  b  athree  <span class="hljs-number">0</span>  <span class="hljs-number">3</span>  <span class="hljs-number">2</span>  <span class="hljs-number">1</span>one    <span class="hljs-number">4</span>  <span class="hljs-number">7</span>  <span class="hljs-number">6</span>  <span class="hljs-number">5</span></code></pre><h3><span id="02x02-sort-values-an-zhi-pai-xu"><font color="#4876FF">ã€02x02ã€‘sort_values() æŒ‰å€¼æ’åº</font></span></h3><p>åœ¨ Series å’Œ DataFrame ä¸­çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><pre><code class="hljs python">Series.sort_values(self,                   axis=<span class="hljs-number">0</span>,                   ascending=<span class="hljs-literal">True</span>,                   inplace=<span class="hljs-literal">False</span>,                   kind=<span class="hljs-string">&#x27;quicksort&#x27;</span>,                   na_position=<span class="hljs-string">&#x27;last&#x27;</span>,                   ignore_index=<span class="hljs-literal">False</span>)</code></pre><pre><code class="hljs python">DataFrame.sort_values(self,                      by,                      axis=<span class="hljs-number">0</span>,                      ascending=<span class="hljs-literal">True</span>,                      inplace=<span class="hljs-literal">False</span>,                      kind=<span class="hljs-string">&#x27;quicksort&#x27;</span>,                      na_position=<span class="hljs-string">&#x27;last&#x27;</span>,                      ignore_index=<span class="hljs-literal">False</span>)</code></pre><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.sort_values.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.sort_values.html</a></p></li><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.sort_values.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.sort_values.html</a></p></li></ul><p>å¸¸ç”¨å‚æ•°æè¿°å¦‚ä¸‹ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>by</td><td>DataFrame ä¸­çš„å¿…é¡»å‚æ•°ï¼ŒæŒ‡å®šåˆ—çš„å€¼è¿›è¡Œæ’åºï¼ŒSeries ä¸­æ²¡æœ‰æ­¤å‚æ•°</td></tr><tr><td>axis</td><td>æŒ‡å®šè½´æ’åºï¼Œ<code>0</code> or <code>â€˜indexâ€™</code>ï¼Œ<code>1</code> or <code>â€˜columnsâ€™</code>ï¼Œåªæœ‰åœ¨ DataFrame ä¸­æ‰æœ‰ <code>1</code> or <code>'columnsâ€™</code></td></tr><tr><td>ascending</td><td>ä¸º <code>True</code>æ—¶å‡åºæ’åºï¼ˆé»˜è®¤ï¼‰ï¼Œä¸º <code>False</code>æ—¶é™åºæ’åº</td></tr><tr><td>kind</td><td>æ’åºæ–¹æ³•ï¼Œ<code>quicksort</code>ï¼šå¿«é€Ÿæ’åºï¼ˆé»˜è®¤ï¼‰ï¼›<code>'mergesortâ€™</code>ï¼šå½’å¹¶æ’åºï¼›<code>'heapsort'</code>ï¼šå †æ’åºï¼›å…·ä½“å¯å‚è§ <a href="https://numpy.org/doc/stable/reference/generated/numpy.sort.html">numpy.sort()</a></td></tr></tbody></table><p>åœ¨ Series ä¸­çš„åº”ç”¨ï¼ŒæŒ‰ç…§å€¼æ’åºï¼Œå¦‚æœæœ‰ç¼ºå¤±å€¼ï¼Œé»˜è®¤éƒ½ä¼šè¢«æ”¾åˆ° Series çš„æœ«å°¾ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">4</span>, <span class="hljs-number">7</span>, -<span class="hljs-number">3</span>, <span class="hljs-number">2</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">0</span>    <span class="hljs-number">4</span><span class="hljs-number">1</span>    <span class="hljs-number">7</span><span class="hljs-number">2</span>   -<span class="hljs-number">3</span><span class="hljs-number">3</span>    <span class="hljs-number">2</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.sort_values()<span class="hljs-number">2</span>   -<span class="hljs-number">3</span><span class="hljs-number">3</span>    <span class="hljs-number">2</span><span class="hljs-number">0</span>    <span class="hljs-number">4</span><span class="hljs-number">1</span>    <span class="hljs-number">7</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">4</span>, np.nan, <span class="hljs-number">7</span>, np.nan, -<span class="hljs-number">3</span>, <span class="hljs-number">2</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">0</span>    <span class="hljs-number">4.0</span><span class="hljs-number">1</span>    NaN<span class="hljs-number">2</span>    <span class="hljs-number">7.0</span><span class="hljs-number">3</span>    NaN<span class="hljs-number">4</span>   -<span class="hljs-number">3.0</span><span class="hljs-number">5</span>    <span class="hljs-number">2.0</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.sort_values()<span class="hljs-number">4</span>   -<span class="hljs-number">3.0</span><span class="hljs-number">5</span>    <span class="hljs-number">2.0</span><span class="hljs-number">0</span>    <span class="hljs-number">4.0</span><span class="hljs-number">2</span>    <span class="hljs-number">7.0</span><span class="hljs-number">1</span>    NaN<span class="hljs-number">3</span>    NaNdtype: float64</code></pre><p>åœ¨ DataFrame ä¸­çš„åº”ç”¨ï¼Œæœ‰æ—¶å€™å¯èƒ½å¸Œæœ›æ ¹æ®ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—ä¸­çš„å€¼è¿›è¡Œæ’åºã€‚å°†ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—çš„åå­—ä¼ é€’ç»™ <code>sort_values()</code> çš„ <code>by</code> å‚æ•°å³å¯è¾¾åˆ°è¯¥ç›®çš„ï¼Œå½“ä¼ é€’å¤šä¸ªåˆ—æ—¶ï¼Œé¦–å…ˆä¼šå¯¹ç¬¬ä¸€åˆ—è¿›è¡Œæ’åºï¼Œè‹¥ç¬¬ä¸€åˆ—æœ‰ç›¸åŒçš„å€¼ï¼Œå†æ ¹æ®ç¬¬äºŒåˆ—è¿›è¡Œæ’åºï¼Œä¾æ¬¡ç±»æ¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(&#123;<span class="hljs-string">&#x27;a&#x27;</span>: [<span class="hljs-number">4</span>, <span class="hljs-number">4</span>, -<span class="hljs-number">3</span>, <span class="hljs-number">2</span>], <span class="hljs-string">&#x27;b&#x27;</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>], <span class="hljs-string">&#x27;c&#x27;</span>: [<span class="hljs-number">6</span>, <span class="hljs-number">4</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>]&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj   a  b  c<span class="hljs-number">0</span>  <span class="hljs-number">4</span>  <span class="hljs-number">0</span>  <span class="hljs-number">6</span><span class="hljs-number">1</span>  <span class="hljs-number">4</span>  <span class="hljs-number">1</span>  <span class="hljs-number">4</span><span class="hljs-number">2</span> -<span class="hljs-number">3</span>  <span class="hljs-number">0</span>  <span class="hljs-number">1</span><span class="hljs-number">3</span>  <span class="hljs-number">2</span>  <span class="hljs-number">1</span>  <span class="hljs-number">3</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.sort_values(by=<span class="hljs-string">&#x27;c&#x27;</span>)   a  b  c<span class="hljs-number">2</span> -<span class="hljs-number">3</span>  <span class="hljs-number">0</span>  <span class="hljs-number">1</span><span class="hljs-number">3</span>  <span class="hljs-number">2</span>  <span class="hljs-number">1</span>  <span class="hljs-number">3</span><span class="hljs-number">1</span>  <span class="hljs-number">4</span>  <span class="hljs-number">1</span>  <span class="hljs-number">4</span><span class="hljs-number">0</span>  <span class="hljs-number">4</span>  <span class="hljs-number">0</span>  <span class="hljs-number">6</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.sort_values(by=<span class="hljs-string">&#x27;c&#x27;</span>, ascending=<span class="hljs-literal">False</span>)   a  b  c<span class="hljs-number">0</span>  <span class="hljs-number">4</span>  <span class="hljs-number">0</span>  <span class="hljs-number">6</span><span class="hljs-number">1</span>  <span class="hljs-number">4</span>  <span class="hljs-number">1</span>  <span class="hljs-number">4</span><span class="hljs-number">3</span>  <span class="hljs-number">2</span>  <span class="hljs-number">1</span>  <span class="hljs-number">3</span><span class="hljs-number">2</span> -<span class="hljs-number">3</span>  <span class="hljs-number">0</span>  <span class="hljs-number">1</span>&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj.sort_values(by=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>])   a  b  c<span class="hljs-number">2</span> -<span class="hljs-number">3</span>  <span class="hljs-number">0</span>  <span class="hljs-number">1</span><span class="hljs-number">3</span>  <span class="hljs-number">2</span>  <span class="hljs-number">1</span>  <span class="hljs-number">3</span><span class="hljs-number">0</span>  <span class="hljs-number">4</span>  <span class="hljs-number">0</span>  <span class="hljs-number">6</span><span class="hljs-number">1</span>  <span class="hljs-number">4</span>  <span class="hljs-number">1</span>  <span class="hljs-number">4</span></code></pre><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(&#123;<span class="hljs-string">&#x27;a&#x27;</span>: [<span class="hljs-number">4</span>, <span class="hljs-number">4</span>, -<span class="hljs-number">3</span>, <span class="hljs-number">2</span>], <span class="hljs-string">&#x27;b&#x27;</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>], <span class="hljs-string">&#x27;c&#x27;</span>: [<span class="hljs-number">6</span>, <span class="hljs-number">4</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>]&#125;, index=[<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj   a  b  cA  <span class="hljs-number">4</span>  <span class="hljs-number">0</span>  <span class="hljs-number">6</span>B  <span class="hljs-number">4</span>  <span class="hljs-number">1</span>  <span class="hljs-number">4</span>C -<span class="hljs-number">3</span>  <span class="hljs-number">0</span>  <span class="hljs-number">1</span>D  <span class="hljs-number">2</span>  <span class="hljs-number">1</span>  <span class="hljs-number">3</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.sort_values(by=<span class="hljs-string">&#x27;B&#x27;</span>, axis=<span class="hljs-number">1</span>)   b  a  cA  <span class="hljs-number">0</span>  <span class="hljs-number">4</span>  <span class="hljs-number">6</span>B  <span class="hljs-number">1</span>  <span class="hljs-number">4</span>  <span class="hljs-number">4</span>C  <span class="hljs-number">0</span> -<span class="hljs-number">3</span>  <span class="hljs-number">1</span>D  <span class="hljs-number">1</span>  <span class="hljs-number">2</span>  <span class="hljs-number">3</span></code></pre><h3><span id="02x03-rank-fan-hui-pai-xu-hou-yuan-su-suo-yin"><font color="#4876FF">ã€02x03ã€‘rank() è¿”å›æ’åºåå…ƒç´ ç´¢å¼•</font></span></h3><p>rank() å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„å€¼æ˜¯åŸå¯¹è±¡ç»è¿‡æ’åºåçš„ç´¢å¼•å€¼ï¼Œå³ä¸‹æ ‡ã€‚</p><p>åœ¨ Series å’Œ DataFrame ä¸­çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><pre><code class="hljs python">Series.rank(self: ~ FrameOrSeries,            axis=<span class="hljs-number">0</span>,            method: <span class="hljs-built_in">str</span> = <span class="hljs-string">&#x27;average&#x27;</span>,            numeric_only: <span class="hljs-type">Union</span>[<span class="hljs-built_in">bool</span>, NoneType] = <span class="hljs-literal">None</span>,            na_option: <span class="hljs-built_in">str</span> = <span class="hljs-string">&#x27;keep&#x27;</span>,            ascending: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">True</span>,            pct: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span>)</code></pre><pre><code class="hljs python">DataFrame.rank(self: ~ FrameOrSeries,               axis=<span class="hljs-number">0</span>,               method: <span class="hljs-built_in">str</span> = <span class="hljs-string">&#x27;average&#x27;</span>,               numeric_only: <span class="hljs-type">Union</span>[<span class="hljs-built_in">bool</span>, NoneType] = <span class="hljs-literal">None</span>,               na_option: <span class="hljs-built_in">str</span> = <span class="hljs-string">&#x27;keep&#x27;</span>,               ascending: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">True</span>,               pct: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span>)</code></pre><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.rank.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.rank.html</a></p></li><li><p><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.rank.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.rank.html</a></p></li></ul><p>å¸¸ç”¨å‚æ•°æè¿°å¦‚ä¸‹ï¼š</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>axis</td><td>æŒ‡å®šè½´æ’åºï¼Œ<code>0</code> or <code>â€˜indexâ€™</code>ï¼Œ<code>1</code> or <code>â€˜columnsâ€™</code>ï¼Œåªæœ‰åœ¨ DataFrame ä¸­æ‰æœ‰ <code>1</code> or <code>'columnsâ€™</code></td></tr><tr><td>method</td><td>æœ‰ç›¸åŒå€¼æ—¶ï¼Œå¦‚ä½•å¤„ç†ï¼š<br><code>â€˜averageâ€™</code>ï¼šé»˜è®¤å€¼ï¼Œå»ä¸¤ä¸ªç›¸åŒç´¢å¼•çš„å¹³å‡å€¼ï¼›<code>â€˜minâ€™</code>ï¼šå–ä¸¤ä¸ªç›¸åŒç´¢å¼•çš„æœ€å°å€¼ï¼›<br><code>â€˜maxâ€™</code>ï¼šå–ä¸¤ä¸ªç›¸åŒç´¢å¼•çš„æœ€å¤§å€¼ï¼›<code>â€˜firstâ€™</code>ï¼šæŒ‰ç…§å‡ºç°çš„å…ˆåé¡ºåºï¼›<br><code>â€˜denseâ€™</code>ï¼šå’Œ <code>'min'</code> å·®ä¸å¤šï¼Œä½†æ˜¯å„ç»„ä¹‹é—´æ€»æ˜¯+1çš„ï¼Œä¸å¤ªå¥½è§£é‡Šï¼Œå¯ä»¥çœ‹åé¢çš„ç¤ºä¾‹</td></tr><tr><td>ascending</td><td>ä¸º <code>True</code>æ—¶å‡åºæ’åºï¼ˆé»˜è®¤ï¼‰ï¼Œä¸º <code>False</code>æ—¶é™åºæ’åº</td></tr></tbody></table><p>åœ¨ Series ä¸­çš„åº”ç”¨ï¼ŒæŒ‰ç…§å€¼æ’åºï¼Œå¦‚æœæœ‰ç¼ºå¤±å€¼ï¼Œé»˜è®¤éƒ½ä¼šè¢«æ”¾åˆ° Series çš„æœ«å°¾ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">7</span>, -<span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">0</span>    <span class="hljs-number">7</span><span class="hljs-number">1</span>   -<span class="hljs-number">5</span><span class="hljs-number">2</span>    <span class="hljs-number">7</span><span class="hljs-number">3</span>    <span class="hljs-number">4</span><span class="hljs-number">4</span>    <span class="hljs-number">2</span><span class="hljs-number">5</span>    <span class="hljs-number">0</span><span class="hljs-number">6</span>    <span class="hljs-number">4</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.rank()<span class="hljs-number">0</span>    <span class="hljs-number">6.5</span>  <span class="hljs-comment"># ç¬¬ 0 ä¸ªå’Œç¬¬ 2 ä¸ªå€¼ä»å°åˆ°å¤§æ’ååˆ†åˆ«ä¸º 6 å’Œ 7ï¼Œé»˜è®¤å–å¹³å‡å€¼ï¼Œå³ 6.5</span><span class="hljs-number">1</span>    <span class="hljs-number">1.0</span><span class="hljs-number">2</span>    <span class="hljs-number">6.5</span><span class="hljs-number">3</span>    <span class="hljs-number">4.5</span>  <span class="hljs-comment"># ç¬¬ 3 ä¸ªå’Œç¬¬ 6 ä¸ªå€¼ä»å°åˆ°å¤§æ’ååˆ†åˆ«ä¸º 4 å’Œ 5ï¼Œé»˜è®¤å–å¹³å‡å€¼ï¼Œå³ 4.5</span><span class="hljs-number">4</span>    <span class="hljs-number">3.0</span><span class="hljs-number">5</span>    <span class="hljs-number">2.0</span><span class="hljs-number">6</span>    <span class="hljs-number">4.5</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.rank(method=<span class="hljs-string">&#x27;first&#x27;</span>)<span class="hljs-number">0</span>    <span class="hljs-number">6.0</span>  <span class="hljs-comment"># ç¬¬ 0 ä¸ªå’Œç¬¬ 2 ä¸ªå€¼ä»å°åˆ°å¤§æ’ååˆ†åˆ«ä¸º 6 å’Œ 7ï¼ŒæŒ‰ç…§ç¬¬ä¸€æ¬¡å‡ºç°æ’åºï¼Œåˆ†åˆ«ä¸º 6 å’Œ 7</span><span class="hljs-number">1</span>    <span class="hljs-number">1.0</span><span class="hljs-number">2</span>    <span class="hljs-number">7.0</span><span class="hljs-number">3</span>    <span class="hljs-number">4.0</span>  <span class="hljs-comment"># ç¬¬ 3 ä¸ªå’Œç¬¬ 6 ä¸ªå€¼ä»å°åˆ°å¤§æ’ååˆ†åˆ«ä¸º 4 å’Œ 5ï¼ŒæŒ‰ç…§ç¬¬ä¸€æ¬¡å‡ºç°æ’åºï¼Œåˆ†åˆ«ä¸º 4 å’Œ 5</span><span class="hljs-number">4</span>    <span class="hljs-number">3.0</span><span class="hljs-number">5</span>    <span class="hljs-number">2.0</span><span class="hljs-number">6</span>    <span class="hljs-number">5.0</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.rank(method=<span class="hljs-string">&#x27;dense&#x27;</span>)<span class="hljs-number">0</span>    <span class="hljs-number">5.0</span>  <span class="hljs-comment"># ç¬¬ 0 ä¸ªå’Œç¬¬ 2 ä¸ªå€¼ä»å°åˆ°å¤§æ’ååˆ†åˆ«ä¸º 6 å’Œ 7ï¼ŒæŒ‰ç…§æœ€å°å€¼æ’åºï¼Œä½† dense è§„å®šé—´éš”ä¸º 1 æ‰€ä»¥ä¸º 5</span><span class="hljs-number">1</span>    <span class="hljs-number">1.0</span><span class="hljs-number">2</span>    <span class="hljs-number">5.0</span><span class="hljs-number">3</span>    <span class="hljs-number">4.0</span>  <span class="hljs-comment"># ç¬¬ 3 ä¸ªå’Œç¬¬ 6 ä¸ªå€¼ä»å°åˆ°å¤§æ’ååˆ†åˆ«ä¸º 4 å’Œ 5ï¼ŒæŒ‰ç…§æœ€å°å€¼æ’åºï¼Œå³ 4</span><span class="hljs-number">4</span>    <span class="hljs-number">3.0</span><span class="hljs-number">5</span>    <span class="hljs-number">2.0</span><span class="hljs-number">6</span>    <span class="hljs-number">4.0</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.rank(method=<span class="hljs-string">&#x27;min&#x27;</span>)<span class="hljs-number">0</span>    <span class="hljs-number">6.0</span>  <span class="hljs-comment"># ç¬¬ 0 ä¸ªå’Œç¬¬ 2 ä¸ªå€¼ä»å°åˆ°å¤§æ’ååˆ†åˆ«ä¸º 6 å’Œ 7ï¼ŒæŒ‰ç…§æœ€å°å€¼æ’åºï¼Œå³ 6</span><span class="hljs-number">1</span>    <span class="hljs-number">1.0</span><span class="hljs-number">2</span>    <span class="hljs-number">6.0</span><span class="hljs-number">3</span>    <span class="hljs-number">4.0</span>  <span class="hljs-comment"># ç¬¬ 3 ä¸ªå’Œç¬¬ 6 ä¸ªå€¼ä»å°åˆ°å¤§æ’ååˆ†åˆ«ä¸º 4 å’Œ 5ï¼ŒæŒ‰ç…§æœ€å°å€¼æ’åºï¼Œå³ 4</span><span class="hljs-number">4</span>    <span class="hljs-number">3.0</span><span class="hljs-number">5</span>    <span class="hljs-number">2.0</span><span class="hljs-number">6</span>    <span class="hljs-number">4.0</span>dtype: float64</code></pre><p>åœ¨ DataFrame ä¸­å¯ä»¥ä½¿ç”¨ axis å‚æ•°æ¥æŒ‡å®šè½´ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(&#123;<span class="hljs-string">&#x27;b&#x27;</span>: [<span class="hljs-number">4.3</span>, <span class="hljs-number">7</span>, -<span class="hljs-number">3</span>, <span class="hljs-number">2</span>], <span class="hljs-string">&#x27;a&#x27;</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>], <span class="hljs-string">&#x27;c&#x27;</span>: [-<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">8</span>, -<span class="hljs-number">2.5</span>]&#125;)<span class="hljs-meta">&gt;&gt;&gt; </span>obj     b  a    c<span class="hljs-number">0</span>  <span class="hljs-number">4.3</span>  <span class="hljs-number">0</span> -<span class="hljs-number">2.0</span><span class="hljs-number">1</span>  <span class="hljs-number">7.0</span>  <span class="hljs-number">1</span>  <span class="hljs-number">5.0</span><span class="hljs-number">2</span> -<span class="hljs-number">3.0</span>  <span class="hljs-number">0</span>  <span class="hljs-number">8.0</span><span class="hljs-number">3</span>  <span class="hljs-number">2.0</span>  <span class="hljs-number">1</span> -<span class="hljs-number">2.5</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.rank()     b    a    c<span class="hljs-number">0</span>  <span class="hljs-number">3.0</span>  <span class="hljs-number">1.5</span>  <span class="hljs-number">2.0</span><span class="hljs-number">1</span>  <span class="hljs-number">4.0</span>  <span class="hljs-number">3.5</span>  <span class="hljs-number">3.0</span><span class="hljs-number">2</span>  <span class="hljs-number">1.0</span>  <span class="hljs-number">1.5</span>  <span class="hljs-number">4.0</span><span class="hljs-number">3</span>  <span class="hljs-number">2.0</span>  <span class="hljs-number">3.5</span>  <span class="hljs-number">1.0</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.rank(axis=<span class="hljs-string">&#x27;columns&#x27;</span>)     b    a    c<span class="hljs-number">0</span>  <span class="hljs-number">3.0</span>  <span class="hljs-number">2.0</span>  <span class="hljs-number">1.0</span><span class="hljs-number">1</span>  <span class="hljs-number">3.0</span>  <span class="hljs-number">1.0</span>  <span class="hljs-number">2.0</span><span class="hljs-number">2</span>  <span class="hljs-number">1.0</span>  <span class="hljs-number">2.0</span>  <span class="hljs-number">3.0</span><span class="hljs-number">3</span>  <span class="hljs-number">3.0</span>  <span class="hljs-number">2.0</span>  <span class="hljs-number">1.0</span></code></pre><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106758103</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h2><span id="03x00-ceng-ji-suo-yin"><font color="#FF0000">ã€03x00ã€‘å±‚çº§ç´¢å¼•</font></span></h2><h3><span id="03x01-ren-shi-ceng-ji-suo-yin"><font color="#4876FF">ã€03x01ã€‘è®¤è¯†å±‚çº§ç´¢å¼•</font></span></h3><p>ä»¥ä¸‹ç¤ºä¾‹å°†åˆ›å»ºä¸€ä¸ª Series å¯¹è±¡ï¼Œ ç´¢å¼• Index ç”±ä¸¤ä¸ªå­ list ç»„æˆï¼Œç¬¬ä¸€ä¸ªå­ list æ˜¯å¤–å±‚ç´¢å¼•ï¼Œç¬¬äºŒä¸ª list æ˜¯å†…å±‚ç´¢å¼•ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series(np.random.randn(<span class="hljs-number">12</span>),index=[[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>]])<span class="hljs-meta">&gt;&gt;&gt; </span>obja  <span class="hljs-number">0</span>   -<span class="hljs-number">0.201536</span>   <span class="hljs-number">1</span>   -<span class="hljs-number">0.629058</span>   <span class="hljs-number">2</span>    <span class="hljs-number">0.766716</span>b  <span class="hljs-number">0</span>   -<span class="hljs-number">1.255831</span>   <span class="hljs-number">1</span>   -<span class="hljs-number">0.483727</span>   <span class="hljs-number">2</span>   -<span class="hljs-number">0.018653</span>c  <span class="hljs-number">0</span>    <span class="hljs-number">0.788787</span>   <span class="hljs-number">1</span>    <span class="hljs-number">1.010097</span>   <span class="hljs-number">2</span>   -<span class="hljs-number">0.187258</span>d  <span class="hljs-number">0</span>    <span class="hljs-number">1.242363</span>   <span class="hljs-number">1</span>   -<span class="hljs-number">0.822011</span>   <span class="hljs-number">2</span>   -<span class="hljs-number">0.085682</span>dtype: float64</code></pre><h3><span id="03x02-multiindex-suo-yin-dui-xiang"><font color="#4876FF">ã€03x02ã€‘MultiIndex ç´¢å¼•å¯¹è±¡</font></span></h3><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.MultiIndex.html">https://pandas.pydata.org/docs/reference/api/pandas.MultiIndex.html</a></p><p>å°è¯•æ‰“å°ä¸Šé¢ç¤ºä¾‹ä¸­ Series çš„ç´¢å¼•ç±»å‹ï¼Œä¼šå¾—åˆ°ä¸€ä¸ª MultiIndex å¯¹è±¡ï¼ŒMultiIndex å¯¹è±¡çš„ <font color="#FF0000">levels</font> å±æ€§è¡¨ç¤ºä¸¤ä¸ªå±‚çº§ä¸­åˆ†åˆ«æœ‰é‚£äº›æ ‡ç­¾ï¼Œ<font color="#FF0000">codes</font> å±æ€§è¡¨ç¤ºæ¯ä¸ªä½ç½®åˆ†åˆ«æ˜¯ä»€ä¹ˆæ ‡ç­¾ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series(np.random.randn(<span class="hljs-number">12</span>),index=[[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>]])<span class="hljs-meta">&gt;&gt;&gt; </span>obja  <span class="hljs-number">0</span>    <span class="hljs-number">0.035946</span>   <span class="hljs-number">1</span>   -<span class="hljs-number">0.867215</span>   <span class="hljs-number">2</span>   -<span class="hljs-number">0.053355</span>b  <span class="hljs-number">0</span>   -<span class="hljs-number">0.986616</span>   <span class="hljs-number">1</span>    <span class="hljs-number">0.026071</span>   <span class="hljs-number">2</span>   -<span class="hljs-number">0.048394</span>c  <span class="hljs-number">0</span>    <span class="hljs-number">0.251274</span>   <span class="hljs-number">1</span>    <span class="hljs-number">0.217790</span>   <span class="hljs-number">2</span>    <span class="hljs-number">1.137674</span>d  <span class="hljs-number">0</span>   -<span class="hljs-number">1.245178</span>   <span class="hljs-number">1</span>    <span class="hljs-number">1.234972</span>   <span class="hljs-number">2</span>   -<span class="hljs-number">0.035624</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">type</span>(obj.index)&lt;<span class="hljs-class"><span class="hljs-keyword">class</span> &#x27;<span class="hljs-title">pandas</span>.<span class="hljs-title">core</span>.<span class="hljs-title">indexes</span>.<span class="hljs-title">multi</span>.<span class="hljs-title">MultiIndex</span>&#x27;&gt;</span><span class="hljs-class">&gt;&gt;&gt; </span><span class="hljs-class">&gt;&gt;&gt; <span class="hljs-title">obj</span>.<span class="hljs-title">index</span></span><span class="hljs-class"><span class="hljs-title">MultiIndex</span>(<span class="hljs-params">[(<span class="hljs-params"><span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-number">0</span></span>),</span></span><span class="hljs-params"><span class="hljs-class">            (<span class="hljs-params"><span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-number">1</span></span>),</span></span><span class="hljs-params"><span class="hljs-class">            (<span class="hljs-params"><span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-number">2</span></span>),</span></span><span class="hljs-params"><span class="hljs-class">            (<span class="hljs-params"><span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-number">0</span></span>),</span></span><span class="hljs-params"><span class="hljs-class">            (<span class="hljs-params"><span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-number">1</span></span>),</span></span><span class="hljs-params"><span class="hljs-class">            (<span class="hljs-params"><span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-number">2</span></span>),</span></span><span class="hljs-params"><span class="hljs-class">            (<span class="hljs-params"><span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-number">0</span></span>),</span></span><span class="hljs-params"><span class="hljs-class">            (<span class="hljs-params"><span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-number">1</span></span>),</span></span><span class="hljs-params"><span class="hljs-class">            (<span class="hljs-params"><span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-number">2</span></span>),</span></span><span class="hljs-params"><span class="hljs-class">            (<span class="hljs-params"><span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-number">0</span></span>),</span></span><span class="hljs-params"><span class="hljs-class">            (<span class="hljs-params"><span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-number">1</span></span>),</span></span><span class="hljs-params"><span class="hljs-class">            (<span class="hljs-params"><span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-number">2</span></span>)],</span></span><span class="hljs-params"><span class="hljs-class">           </span>)</span><span class="hljs-class">&gt;&gt;&gt; <span class="hljs-title">obj</span>.<span class="hljs-title">index</span>.<span class="hljs-title">levels</span></span><span class="hljs-class"><span class="hljs-title">FrozenList</span>(<span class="hljs-params">[[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>]]</span>)</span><span class="hljs-class">&gt;&gt;&gt;</span><span class="hljs-class">&gt;&gt;&gt; <span class="hljs-title">obj</span>.<span class="hljs-title">index</span>.<span class="hljs-title">codes</span></span><span class="hljs-class"><span class="hljs-title">FrozenList</span>(<span class="hljs-params">[[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>]]</span>)</span></code></pre><p>é€šå¸¸å¯ä»¥ä½¿ç”¨ <code>from_arrays()</code> æ–¹æ³•æ¥å°†æ•°ç»„å¯¹è±¡è½¬æ¢ä¸º MultiIndex ç´¢å¼•å¯¹è±¡ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>arrays = [[<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>], [<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;blue&#x27;</span>]]<span class="hljs-meta">&gt;&gt;&gt; </span>pd.MultiIndex.from_arrays(arrays, names=(<span class="hljs-string">&#x27;number&#x27;</span>, <span class="hljs-string">&#x27;color&#x27;</span>))MultiIndex([(<span class="hljs-number">1</span>,  <span class="hljs-string">&#x27;red&#x27;</span>),            (<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;blue&#x27;</span>),            (<span class="hljs-number">2</span>,  <span class="hljs-string">&#x27;red&#x27;</span>),            (<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;blue&#x27;</span>)],           names=[<span class="hljs-string">&#x27;number&#x27;</span>, <span class="hljs-string">&#x27;color&#x27;</span>])</code></pre><p>å…¶ä»–å¸¸ç”¨æ–¹æ³•è§ä¸‹è¡¨ï¼ˆæ›´å¤šæ–¹æ³•å‚è§å®˜æ–¹æ–‡æ¡£ï¼‰ï¼š</p><table><thead><tr><th>æ–¹æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>from_arrays(arrays[, sortorder, names])</td><td>å°†æ•°ç»„è½¬æ¢ä¸º MultiIndex</td></tr><tr><td>from_tuples(tuples[, sortorder, names])</td><td>å°†å…ƒç»„åˆ—è¡¨è½¬æ¢ä¸º MultiIndex</td></tr><tr><td>from_product(iterables[, sortorder, names])</td><td>å°†å¤šä¸ªå¯è¿­ä»£çš„ç¬›å¡å°”ç§¯è½¬æ¢æˆ MultiIndex</td></tr><tr><td>from_frame(df[, sortorder, names])</td><td>å°† DataFrame å¯¹è±¡è½¬æ¢ä¸º MultiIndex</td></tr><tr><td>set_levels(self, levels[, level, inplace, â€¦])</td><td>ä¸º MultiIndex è®¾ç½®æ–°çš„ levels</td></tr><tr><td>set_codes(self, codes[, level, inplace, â€¦])</td><td>ä¸º MultiIndex è®¾ç½®æ–°çš„ codes</td></tr><tr><td>sortlevel(self[, level, ascending, â€¦])</td><td>æ ¹æ® level è¿›è¡Œæ’åº</td></tr><tr><td>droplevel(self[, level])</td><td>åˆ é™¤æŒ‡å®šçš„ level</td></tr><tr><td>swaplevel(self[, i, j])</td><td>äº¤æ¢ level i ä¸ level iï¼Œå³äº¤æ¢å¤–å±‚ç´¢å¼•ä¸å†…å±‚ç´¢å¼•</td></tr></tbody></table><h3><span id="03x03-ti-qu-zhi"><font color="#4876FF">ã€03x03ã€‘æå–å€¼</font></span></h3><p>å¯¹äºè¿™ç§æœ‰å¤šå±‚ç´¢å¼•çš„å¯¹è±¡ï¼Œå¦‚æœåªä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œåˆ™ä¼šå¯¹å¤–å±‚ç´¢å¼•è¿›è¡Œæå–ï¼Œå…¶ä¸­åŒ…å«å¯¹åº”æ‰€æœ‰çš„å†…å±‚ç´¢å¼•ï¼Œå¦‚æœä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œåˆ™ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºå¤–å±‚ç´¢å¼•ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºå†…å±‚ç´¢å¼•ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series(np.random.randn(<span class="hljs-number">12</span>),index=[[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>]])<span class="hljs-meta">&gt;&gt;&gt; </span>obja  <span class="hljs-number">0</span>    <span class="hljs-number">0.550202</span>   <span class="hljs-number">1</span>    <span class="hljs-number">0.328784</span>   <span class="hljs-number">2</span>    <span class="hljs-number">1.422690</span>b  <span class="hljs-number">0</span>   -<span class="hljs-number">1.333477</span>   <span class="hljs-number">1</span>   -<span class="hljs-number">0.933809</span>   <span class="hljs-number">2</span>   -<span class="hljs-number">0.326541</span>c  <span class="hljs-number">0</span>    <span class="hljs-number">0.663686</span>   <span class="hljs-number">1</span>    <span class="hljs-number">0.943393</span>   <span class="hljs-number">2</span>    <span class="hljs-number">0.273106</span>d  <span class="hljs-number">0</span>    <span class="hljs-number">1.354037</span>   <span class="hljs-number">1</span>   -<span class="hljs-number">2.312847</span>   <span class="hljs-number">2</span>   -<span class="hljs-number">2.343777</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-string">&#x27;b&#x27;</span>]<span class="hljs-number">0</span>   -<span class="hljs-number">1.333477</span><span class="hljs-number">1</span>   -<span class="hljs-number">0.933809</span><span class="hljs-number">2</span>   -<span class="hljs-number">0.326541</span>dtype: float64&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-number">1</span>]-<span class="hljs-number">0.9338094811708413</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj[:, <span class="hljs-number">2</span>]a    <span class="hljs-number">1.422690</span>b   -<span class="hljs-number">0.326541</span>c    <span class="hljs-number">0.273106</span>d   -<span class="hljs-number">2.343777</span>dtype: float64</code></pre><h3><span id="03x04-jiao-huan-fen-ceng-yu-pai-xu"><font color="#4876FF">ã€03x04ã€‘äº¤æ¢åˆ†å±‚ä¸æ’åº</font></span></h3><p>MultiIndex å¯¹è±¡çš„ <code>swaplevel()</code> æ–¹æ³•å¯ä»¥äº¤æ¢å¤–å±‚ä¸å†…å±‚ç´¢å¼•ï¼Œ<code>sortlevel()</code> æ–¹æ³•ä¼šå…ˆå¯¹å¤–å±‚ç´¢å¼•è¿›è¡Œæ’åºï¼Œå†å¯¹å†…å±‚ç´¢å¼•è¿›è¡Œæ’åºï¼Œé»˜è®¤æ˜¯å‡åºï¼Œå¦‚æœè®¾ç½® <code>ascending</code> å‚æ•°ä¸º False åˆ™ä¼šé™åºæ’åˆ—ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series(np.random.randn(<span class="hljs-number">12</span>),index=[[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>]])<span class="hljs-meta">&gt;&gt;&gt; </span>obja  <span class="hljs-number">0</span>   -<span class="hljs-number">0.110215</span>   <span class="hljs-number">1</span>    <span class="hljs-number">0.193075</span>   <span class="hljs-number">2</span>   -<span class="hljs-number">1.101706</span>b  <span class="hljs-number">0</span>   -<span class="hljs-number">1.325743</span>   <span class="hljs-number">1</span>    <span class="hljs-number">0.528418</span>   <span class="hljs-number">2</span>   -<span class="hljs-number">0.127081</span>c  <span class="hljs-number">0</span>   -<span class="hljs-number">0.733822</span>   <span class="hljs-number">1</span>    <span class="hljs-number">1.665262</span>   <span class="hljs-number">2</span>    <span class="hljs-number">0.127073</span>d  <span class="hljs-number">0</span>    <span class="hljs-number">1.262022</span>   <span class="hljs-number">1</span>   -<span class="hljs-number">1.170518</span>   <span class="hljs-number">2</span>    <span class="hljs-number">0.966334</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.swaplevel()<span class="hljs-number">0</span>  a   -<span class="hljs-number">0.110215</span><span class="hljs-number">1</span>  a    <span class="hljs-number">0.193075</span><span class="hljs-number">2</span>  a   -<span class="hljs-number">1.101706</span><span class="hljs-number">0</span>  b   -<span class="hljs-number">1.325743</span><span class="hljs-number">1</span>  b    <span class="hljs-number">0.528418</span><span class="hljs-number">2</span>  b   -<span class="hljs-number">0.127081</span><span class="hljs-number">0</span>  c   -<span class="hljs-number">0.733822</span><span class="hljs-number">1</span>  c    <span class="hljs-number">1.665262</span><span class="hljs-number">2</span>  c    <span class="hljs-number">0.127073</span><span class="hljs-number">0</span>  d    <span class="hljs-number">1.262022</span><span class="hljs-number">1</span>  d   -<span class="hljs-number">1.170518</span><span class="hljs-number">2</span>  d    <span class="hljs-number">0.966334</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.swaplevel().index.sortlevel()(MultiIndex([(<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;a&#x27;</span>),            (<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;b&#x27;</span>),            (<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;c&#x27;</span>),            (<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;d&#x27;</span>),            (<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;a&#x27;</span>),            (<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;b&#x27;</span>),            (<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;c&#x27;</span>),            (<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;d&#x27;</span>),            (<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;a&#x27;</span>),            (<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;b&#x27;</span>),            (<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;c&#x27;</span>),            (<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;d&#x27;</span>)],           ), array([ <span class="hljs-number">0</span>,  <span class="hljs-number">3</span>,  <span class="hljs-number">6</span>,  <span class="hljs-number">9</span>,  <span class="hljs-number">1</span>,  <span class="hljs-number">4</span>,  <span class="hljs-number">7</span>, <span class="hljs-number">10</span>,  <span class="hljs-number">2</span>,  <span class="hljs-number">5</span>,  <span class="hljs-number">8</span>, <span class="hljs-number">11</span>], dtype=int32))</code></pre><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106758103</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h2&gt;&lt;span id=&quot;wen-zhang-mu-lu&quot;&gt;æ–‡ç« ç›®å½•&lt;/span&gt;&lt;/h2&gt;
&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#font-color-ff0000-01x00-han-shu-ying-yong-he-ying-she-font&quot;&gt;</summary>
      
    
    
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    <category term="Pandas" scheme="https://www.itbob.cn/tags/Pandas/"/>
    
  </entry>
  
  <entry>
    <title>Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸‰ï¼‰ï¼šç®—æœ¯è¿ç®—ä¸ç¼ºå¤±å€¼çš„å¤„ç†</title>
    <link href="https://www.itbob.cn/article/027/"/>
    <id>https://www.itbob.cn/article/027/</id>
    <published>2020-06-14T14:42:53.000Z</published>
    <updated>2022-05-22T12:38:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="wen-zhang-mu-lu">æ–‡ç« ç›®å½•</span></h2><!-- toc --><ul><li><a href="#font-color-ff0000-01x00-pandas-suan-zhu-yun-suan-font"><font color="#FF0000">ã€01x00ã€‘Pandas ç®—æœ¯è¿ç®—</font></a><ul><li><a href="#font-color-4876ff-01x01-shi-yong-numpy-tong-yong-han-shu-font"><font color="#4876FF">ã€01x01ã€‘ä½¿ç”¨ NumPy é€šç”¨å‡½æ•°</font></a></li><li><a href="#font-color-4876ff-01x02-shu-ju-dui-qi-font"><font color="#4876FF">ã€01x02ã€‘æ•°æ®å¯¹é½</font></a></li><li><a href="#font-color-4876ff-01x03-dataframe-yu-series-zhi-jian-de-yun-suan-font"><font color="#4876FF">ã€01x03ã€‘DataFrame ä¸ Series ä¹‹é—´çš„è¿ç®—</font></a></li><li><a href="#font-color-4876ff-01x04-pandas-suan-zhu-fang-fa-font"><font color="#4876FF">ã€01x04ã€‘Pandas ç®—æœ¯æ–¹æ³•</font></a></li></ul></li><li><a href="#font-color-ff0000-02x00-chu-li-que-shi-zhi-font"><font color="#FF0000">ã€02x00ã€‘å¤„ç†ç¼ºå¤±å€¼</font></a><ul><li><a href="#font-color-4876ff-02x01-fill-value-zhi-ding-zhi-yu-que-shi-zhi-jin-xing-yun-suan-font"><font color="#4876FF">ã€02x01ã€‘fill_value() æŒ‡å®šå€¼ä¸ç¼ºå¤±å€¼è¿›è¡Œè¿ç®—</font></a></li><li><a href="#font-color-4876ff-02x02-isnull-notnull-pan-duan-que-shi-zhi-font"><font color="#4876FF">ã€02x02ã€‘isnull() / notnull() åˆ¤æ–­ç¼ºå¤±å€¼</font></a></li><li><a href="#font-color-4876ff-02x03-dropna-shan-chu-que-shi-zhi-font"><font color="#4876FF">ã€02x03ã€‘dropna() åˆ é™¤ç¼ºå¤±å€¼</font></a></li><li><a href="#font-color-4876ff-02x04-fillna-tian-chong-que-shi-zhi-font"><font color="#4876FF">ã€02x04ã€‘fillna() å¡«å……ç¼ºå¤±å€¼</font></a></li></ul></li></ul><!-- tocstop --><hr><p>Pandas ç³»åˆ—æ–‡ç« ï¼š</p><ul><li><a href="https://www.itbob.cn/article/025/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸€ï¼‰ï¼šè®¤è¯† Pandas åŠå…¶ Seriesã€DataFrame å¯¹è±¡</a></li><li><a href="https://www.itbob.cn/article/026/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäºŒï¼‰ï¼šIndex ç´¢å¼•å¯¹è±¡ä»¥åŠå„ç§ç´¢å¼•æ“ä½œ</a></li><li><a href="https://www.itbob.cn/article/027/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸‰ï¼‰ï¼šç®—æœ¯è¿ç®—ä¸ç¼ºå¤±å€¼çš„å¤„ç†</a></li><li><a href="https://www.itbob.cn/article/028/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå››ï¼‰ï¼šå‡½æ•°åº”ç”¨ã€æ˜ å°„ã€æ’åºå’Œå±‚çº§ç´¢å¼•</a></li><li><a href="https://www.itbob.cn/article/029/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäº”ï¼‰ï¼šç»Ÿè®¡è®¡ç®—ä¸ç»Ÿè®¡æè¿°</a></li><li><a href="https://www.itbob.cn/article/030/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…­ï¼‰ï¼šGroupBy æ•°æ®åˆ†è£‚ã€åº”ç”¨ä¸åˆå¹¶</a></li><li><a href="https://www.itbob.cn/article/031/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸ƒï¼‰ï¼šåˆå¹¶æ•°æ®é›†</a></li><li><a href="https://www.itbob.cn/article/032/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…«ï¼‰ï¼šæ•°æ®é‡å¡‘ã€é‡å¤æ•°æ®å¤„ç†ä¸æ•°æ®æ›¿æ¢</a></li><li><a href="https://www.itbob.cn/article/033/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¹ï¼‰ï¼šæ—¶é—´åºåˆ—</a></li><li><a href="https://www.itbob.cn/article/034/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆåï¼‰ï¼šæ•°æ®è¯»å†™</a></li></ul><hr><p>ä¸“æ ï¼š</p><ul><li>NumPy ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780393.html">https://itrhx.blog.csdn.net/category_9780393.html</a></li><li>Pandas ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780397.html">https://itrhx.blog.csdn.net/category_9780397.html</a></li><li>Matplotlib ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780418.html">https://itrhx.blog.csdn.net/category_9780418.html</a></li></ul><br>æ¨èå­¦ä¹ èµ„æ–™ä¸ç½‘ç«™ï¼š<br><br><ul><li>NumPy å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.numpy.org.cn/">https://www.numpy.org.cn/</a></li><li>Pandas å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.pypandas.cn/">https://www.pypandas.cn/</a></li><li>Matplotlib å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.matplotlib.org.cn/">https://www.matplotlib.org.cn/</a></li><li>NumPyã€Matplotlibã€Pandas é€ŸæŸ¥è¡¨ï¼š<a href="https://github.com/TRHX/Python-quick-reference-table">https://github.com/TRHX/Python-quick-reference-table</a></li></ul><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106743778</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h2><span id="01x00-pandas-suan-zhu-yun-suan"><font color="#FF0000">ã€01x00ã€‘Pandas ç®—æœ¯è¿ç®—</font></span></h2><p>Pandas ç»§æ‰¿äº† NumPy çš„åŠŸèƒ½ï¼ŒNumPy çš„åŸºæœ¬èƒ½åŠ›ä¹‹ä¸€æ˜¯å¿«é€Ÿå¯¹æ¯ä¸ªå…ƒç´ è¿›è¡Œè¿ç®—ï¼Œæ—¢åŒ…æ‹¬åŸºæœ¬ç®—æœ¯è¿ç®—ï¼ˆåŠ ã€å‡ã€ä¹˜ã€é™¤ï¼‰ï¼Œä¹ŸåŒ…æ‹¬æ›´å¤æ‚çš„è¿ç®—ï¼ˆä¸‰è§’å‡½æ•°ã€æŒ‡æ•°å‡½æ•°å’Œå¯¹æ•°å‡½æ•°ç­‰ï¼‰ã€‚å…·ä½“å¯ä»¥å‚è€ƒ NumPy ç³»åˆ—æ–‡ç« ã€‚</p><h3><span id="01x01-shi-yong-numpy-tong-yong-han-shu"><font color="#4876FF">ã€01x01ã€‘ä½¿ç”¨ NumPy é€šç”¨å‡½æ•°</font></span></h3><p>å› ä¸º Pandas æ˜¯å»ºç«‹åœ¨ NumPy åŸºç¡€ä¹‹ä¸Šçš„ï¼Œæ‰€ä»¥ NumPy çš„é€šç”¨å‡½æ•°åŒæ ·é€‚ç”¨äº Pandas çš„ Series å’Œ DataFrame å¯¹è±¡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>rng = np.random.RandomState(<span class="hljs-number">42</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>ser = pd.Series(rng.randint(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>))<span class="hljs-meta">&gt;&gt;&gt; </span>ser<span class="hljs-number">0</span>    <span class="hljs-number">6</span><span class="hljs-number">1</span>    <span class="hljs-number">3</span><span class="hljs-number">2</span>    <span class="hljs-number">7</span><span class="hljs-number">3</span>    <span class="hljs-number">4</span>dtype: int32<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(rng.randint(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, (<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)), columns=[<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj   A  B  C  D<span class="hljs-number">0</span>  <span class="hljs-number">6</span>  <span class="hljs-number">9</span>  <span class="hljs-number">2</span>  <span class="hljs-number">6</span><span class="hljs-number">1</span>  <span class="hljs-number">7</span>  <span class="hljs-number">4</span>  <span class="hljs-number">3</span>  <span class="hljs-number">7</span><span class="hljs-number">2</span>  <span class="hljs-number">7</span>  <span class="hljs-number">2</span>  <span class="hljs-number">5</span>  <span class="hljs-number">4</span></code></pre><p>ä½¿ç”¨ NumPy é€šç”¨å‡½æ•°ï¼Œç”Ÿæˆçš„ç»“æœæ˜¯å¦ä¸€ä¸ªä¿ç•™ç´¢å¼•çš„ Pandas å¯¹è±¡ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>rng = np.random.RandomState(<span class="hljs-number">42</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>ser = pd.Series(rng.randint(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, <span class="hljs-number">4</span>))<span class="hljs-meta">&gt;&gt;&gt; </span>ser<span class="hljs-number">0</span>    <span class="hljs-number">6</span><span class="hljs-number">1</span>    <span class="hljs-number">3</span><span class="hljs-number">2</span>    <span class="hljs-number">7</span><span class="hljs-number">3</span>    <span class="hljs-number">4</span>dtype: int32<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>np.exp(ser)<span class="hljs-number">0</span>     <span class="hljs-number">403.428793</span><span class="hljs-number">1</span>      <span class="hljs-number">20.085537</span><span class="hljs-number">2</span>    <span class="hljs-number">1096.633158</span><span class="hljs-number">3</span>      <span class="hljs-number">54.598150</span>dtype: float64</code></pre><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(rng.randint(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, (<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)), columns=[<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>np.sin(obj * np.pi / <span class="hljs-number">4</span>)          A             B         C             D<span class="hljs-number">0</span> -<span class="hljs-number">1.000000</span>  <span class="hljs-number">7.071068e-01</span>  <span class="hljs-number">1.000000</span> -<span class="hljs-number">1.000000e+00</span><span class="hljs-number">1</span> -<span class="hljs-number">0.707107</span>  <span class="hljs-number">1.224647e-16</span>  <span class="hljs-number">0.707107</span> -<span class="hljs-number">7.071068e-01</span><span class="hljs-number">2</span> -<span class="hljs-number">0.707107</span>  <span class="hljs-number">1.000000e+00</span> -<span class="hljs-number">0.707107</span>  <span class="hljs-number">1.224647e-16</span></code></pre><h3><span id="01x02-shu-ju-dui-qi"><font color="#4876FF">ã€01x02ã€‘æ•°æ®å¯¹é½</font></span></h3><p>Pandas æœ€é‡è¦çš„ä¸€ä¸ªåŠŸèƒ½æ˜¯ï¼Œå®ƒå¯ä»¥å¯¹ä¸åŒç´¢å¼•çš„å¯¹è±¡è¿›è¡Œç®—æœ¯è¿ç®—ã€‚åœ¨å°†å¯¹è±¡ç›¸åŠ æ—¶ï¼Œå¦‚æœå­˜åœ¨ä¸åŒçš„ç´¢å¼•å¯¹ï¼Œåˆ™ç»“æœçš„ç´¢å¼•å°±æ˜¯è¯¥ç´¢å¼•å¯¹çš„å¹¶é›†ã€‚è‡ªåŠ¨çš„æ•°æ®å¯¹é½æ“ä½œä¼šåœ¨ä¸é‡å çš„ç´¢å¼•å¤„å¼•å…¥ç¼ºå¤±å€¼ï¼Œå³ <font color="#FF0000">NaN</font>ï¼Œç¼ºå¤±å€¼ä¼šåœ¨ç®—æœ¯è¿ç®—è¿‡ç¨‹ä¸­ä¼ æ’­ã€‚</p><p>Series å¯¹è±¡çš„æ•°æ®å¯¹é½æ“ä½œï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.Series([<span class="hljs-number">7.3</span>, -<span class="hljs-number">2.5</span>, <span class="hljs-number">3.4</span>, <span class="hljs-number">1.5</span>], index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.Series([-<span class="hljs-number">2.1</span>, <span class="hljs-number">3.6</span>, -<span class="hljs-number">1.5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3.1</span>], index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>, <span class="hljs-string">&#x27;g&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj1a    <span class="hljs-number">7.3</span>c   -<span class="hljs-number">2.5</span>d    <span class="hljs-number">3.4</span>e    <span class="hljs-number">1.5</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2a   -<span class="hljs-number">2.1</span>c    <span class="hljs-number">3.6</span>e   -<span class="hljs-number">1.5</span>f    <span class="hljs-number">4.0</span>g    <span class="hljs-number">3.1</span>dtype: float64&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 + obj2a    <span class="hljs-number">5.2</span>c    <span class="hljs-number">1.1</span>d    NaNe    <span class="hljs-number">0.0</span>f    NaNg    NaNdtype: float64</code></pre><p>DataFrame å¯¹è±¡çš„æ•°æ®å¯¹é½æ“ä½œä¼šåŒæ—¶å‘ç”Ÿåœ¨è¡Œå’Œåˆ—ä¸Šï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.DataFrame(np.arange(<span class="hljs-number">9.</span>).reshape((<span class="hljs-number">3</span>, <span class="hljs-number">3</span>)), columns=<span class="hljs-built_in">list</span>(<span class="hljs-string">&#x27;bcd&#x27;</span>), index=[<span class="hljs-string">&#x27;Ohio&#x27;</span>, <span class="hljs-string">&#x27;Texas&#x27;</span>, <span class="hljs-string">&#x27;Colorado&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.DataFrame(np.arange(<span class="hljs-number">12.</span>).reshape((<span class="hljs-number">4</span>, <span class="hljs-number">3</span>)), columns=<span class="hljs-built_in">list</span>(<span class="hljs-string">&#x27;bde&#x27;</span>), index=[<span class="hljs-string">&#x27;Utah&#x27;</span>, <span class="hljs-string">&#x27;Ohio&#x27;</span>, <span class="hljs-string">&#x27;Texas&#x27;</span>, <span class="hljs-string">&#x27;Oregon&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj1            b    c    dOhio      <span class="hljs-number">0.0</span>  <span class="hljs-number">1.0</span>  <span class="hljs-number">2.0</span>Texas     <span class="hljs-number">3.0</span>  <span class="hljs-number">4.0</span>  <span class="hljs-number">5.0</span>Colorado  <span class="hljs-number">6.0</span>  <span class="hljs-number">7.0</span>  <span class="hljs-number">8.0</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2          b     d     eUtah    <span class="hljs-number">0.0</span>   <span class="hljs-number">1.0</span>   <span class="hljs-number">2.0</span>Ohio    <span class="hljs-number">3.0</span>   <span class="hljs-number">4.0</span>   <span class="hljs-number">5.0</span>Texas   <span class="hljs-number">6.0</span>   <span class="hljs-number">7.0</span>   <span class="hljs-number">8.0</span>Oregon  <span class="hljs-number">9.0</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">11.0</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj1 + obj2            b   c     d   eColorado  NaN NaN   NaN NaNOhio      <span class="hljs-number">3.0</span> NaN   <span class="hljs-number">6.0</span> NaNOregon    NaN NaN   NaN NaNTexas     <span class="hljs-number">9.0</span> NaN  <span class="hljs-number">12.0</span> NaNUtah      NaN NaN   NaN NaN</code></pre><h3><span id="01x03-dataframe-yu-series-zhi-jian-de-yun-suan"><font color="#4876FF">ã€01x03ã€‘DataFrame ä¸ Series ä¹‹é—´çš„è¿ç®—</font></span></h3><p>é¦–å…ˆå›å¿† NumPy ä¸­çš„å¹¿æ’­ï¼ˆå‚è§ï¼š<a href="https://itrhx.blog.csdn.net/article/details/104988137">ã€ŠPython æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ NumPyï¼ˆäºŒï¼‰ï¼šæ•°ç»„ç´¢å¼• / åˆ‡ç‰‡ / å¹¿æ’­ / æ‹¼æ¥ / åˆ†å‰²ã€‹</a>ï¼‰ï¼Œè·Ÿä¸åŒç»´åº¦çš„ NumPy æ•°ç»„ä¸€æ ·ï¼ŒDataFrame å’Œ Series ä¹‹é—´ç®—æœ¯è¿ç®—ä¹Ÿæ˜¯æœ‰æ˜ç¡®è§„å®šçš„ã€‚é¦–å…ˆå›å¿†ä¸€ä¸‹ NumPy ä¸­ä¸åŒç»´åº¦çš„æ•°ç»„ä¹‹é—´çš„è¿ç®—ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>arr = np.arange(<span class="hljs-number">12.</span>).reshape((<span class="hljs-number">3</span>, <span class="hljs-number">4</span>))<span class="hljs-meta">&gt;&gt;&gt; </span>arrarray([[ <span class="hljs-number">0.</span>,  <span class="hljs-number">1.</span>,  <span class="hljs-number">2.</span>,  <span class="hljs-number">3.</span>],       [ <span class="hljs-number">4.</span>,  <span class="hljs-number">5.</span>,  <span class="hljs-number">6.</span>,  <span class="hljs-number">7.</span>],       [ <span class="hljs-number">8.</span>,  <span class="hljs-number">9.</span>, <span class="hljs-number">10.</span>, <span class="hljs-number">11.</span>]])<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>arr[<span class="hljs-number">0</span>]array([<span class="hljs-number">0.</span>, <span class="hljs-number">1.</span>, <span class="hljs-number">2.</span>, <span class="hljs-number">3.</span>])<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>arr - arr[<span class="hljs-number">0</span>]array([[<span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>, <span class="hljs-number">0.</span>],       [<span class="hljs-number">4.</span>, <span class="hljs-number">4.</span>, <span class="hljs-number">4.</span>, <span class="hljs-number">4.</span>],       [<span class="hljs-number">8.</span>, <span class="hljs-number">8.</span>, <span class="hljs-number">8.</span>, <span class="hljs-number">8.</span>]])</code></pre><p>å¯ä»¥çœ‹åˆ°æ¯ä¸€è¡Œéƒ½è¿›è¡Œäº†å‡æ³•è¿ç®—ï¼Œè¿™æ­£æ˜¯ NumPy ä¸­çš„å¹¿æ’­ï¼Œè€Œ DataFrame ä¸ Series ä¹‹é—´çš„è¿ç®—ä¹Ÿç±»ä¼¼ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒDataFrame å’Œ Series ä¹‹é—´çš„ç®—æœ¯è¿ç®—ä¼šå°† Series çš„ç´¢å¼•åŒ¹é…åˆ° DataFrame çš„åˆ—ï¼Œç„¶åæ²¿ç€è¡Œä¸€ç›´å‘ä¸‹å¹¿æ’­ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>frame = pd.DataFrame(np.arange(<span class="hljs-number">12.</span>).reshape((<span class="hljs-number">4</span>, <span class="hljs-number">3</span>)), columns=<span class="hljs-built_in">list</span>(<span class="hljs-string">&#x27;bde&#x27;</span>), index=[<span class="hljs-string">&#x27;AA&#x27;</span>, <span class="hljs-string">&#x27;BB&#x27;</span>, <span class="hljs-string">&#x27;CC&#x27;</span>, <span class="hljs-string">&#x27;DD&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>frame      b     d     eAA  <span class="hljs-number">0.0</span>   <span class="hljs-number">1.0</span>   <span class="hljs-number">2.0</span>BB  <span class="hljs-number">3.0</span>   <span class="hljs-number">4.0</span>   <span class="hljs-number">5.0</span>CC  <span class="hljs-number">6.0</span>   <span class="hljs-number">7.0</span>   <span class="hljs-number">8.0</span>DD  <span class="hljs-number">9.0</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">11.0</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>series = frame.iloc[<span class="hljs-number">0</span>]<span class="hljs-meta">&gt;&gt;&gt; </span>seriesb    <span class="hljs-number">0.0</span>d    <span class="hljs-number">1.0</span>e    <span class="hljs-number">2.0</span>Name: AA, dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>frame - series      b    d    eAA  <span class="hljs-number">0.0</span>  <span class="hljs-number">0.0</span>  <span class="hljs-number">0.0</span>BB  <span class="hljs-number">3.0</span>  <span class="hljs-number">3.0</span>  <span class="hljs-number">3.0</span>CC  <span class="hljs-number">6.0</span>  <span class="hljs-number">6.0</span>  <span class="hljs-number">6.0</span>DD  <span class="hljs-number">9.0</span>  <span class="hljs-number">9.0</span>  <span class="hljs-number">9.0</span></code></pre><p>å¦‚æœæŸä¸ªç´¢å¼•å€¼åœ¨ DataFrame çš„åˆ—æˆ– Series çš„ç´¢å¼•ä¸­æ‰¾ä¸åˆ°ï¼Œåˆ™å‚ä¸è¿ç®—çš„ä¸¤ä¸ªå¯¹è±¡å°±ä¼šè¢«é‡æ–°ç´¢å¼•ä»¥å½¢æˆå¹¶é›†ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>frame = pd.DataFrame(np.arange(<span class="hljs-number">12.</span>).reshape((<span class="hljs-number">4</span>, <span class="hljs-number">3</span>)), columns=<span class="hljs-built_in">list</span>(<span class="hljs-string">&#x27;bde&#x27;</span>), index=[<span class="hljs-string">&#x27;AA&#x27;</span>, <span class="hljs-string">&#x27;BB&#x27;</span>, <span class="hljs-string">&#x27;CC&#x27;</span>, <span class="hljs-string">&#x27;DD&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>frame      b     d     eAA  <span class="hljs-number">0.0</span>   <span class="hljs-number">1.0</span>   <span class="hljs-number">2.0</span>BB  <span class="hljs-number">3.0</span>   <span class="hljs-number">4.0</span>   <span class="hljs-number">5.0</span>CC  <span class="hljs-number">6.0</span>   <span class="hljs-number">7.0</span>   <span class="hljs-number">8.0</span>DD  <span class="hljs-number">9.0</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">11.0</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>series = pd.Series(<span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>), index=[<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>seriesb    <span class="hljs-number">0</span>e    <span class="hljs-number">1</span>f    <span class="hljs-number">2</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>frame + series      b   d     e   fAA  <span class="hljs-number">0.0</span> NaN   <span class="hljs-number">3.0</span> NaNBB  <span class="hljs-number">3.0</span> NaN   <span class="hljs-number">6.0</span> NaNCC  <span class="hljs-number">6.0</span> NaN   <span class="hljs-number">9.0</span> NaNDD  <span class="hljs-number">9.0</span> NaN  <span class="hljs-number">12.0</span> NaN</code></pre><p>å¦‚æœå¸Œæœ›åŒ¹é…è¡Œä¸”åœ¨åˆ—ä¸Šå¹¿æ’­ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ç®—æœ¯è¿ç®—æ–¹æ³•ï¼Œåœ¨æ–¹æ³•ä¸­ä¼ å…¥çš„è½´ï¼ˆaxisï¼‰å°±æ˜¯å¸Œæœ›åŒ¹é…çš„è½´ã€‚åœ¨ä¸‹ä¾‹ä¸­ï¼Œæˆ‘ä»¬çš„ç›®çš„æ˜¯åŒ¹é… DataFrame çš„è¡Œç´¢å¼•ï¼ˆaxis=â€˜indexâ€™ or axis=0ï¼‰å¹¶è¿›è¡Œå¹¿æ’­ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>frame = pd.DataFrame(np.arange(<span class="hljs-number">12.</span>).reshape((<span class="hljs-number">4</span>, <span class="hljs-number">3</span>)), columns=<span class="hljs-built_in">list</span>(<span class="hljs-string">&#x27;bde&#x27;</span>), index=[<span class="hljs-string">&#x27;AA&#x27;</span>, <span class="hljs-string">&#x27;BB&#x27;</span>, <span class="hljs-string">&#x27;CC&#x27;</span>, <span class="hljs-string">&#x27;DD&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>frame      b     d     eAA  <span class="hljs-number">0.0</span>   <span class="hljs-number">1.0</span>   <span class="hljs-number">2.0</span>BB  <span class="hljs-number">3.0</span>   <span class="hljs-number">4.0</span>   <span class="hljs-number">5.0</span>CC  <span class="hljs-number">6.0</span>   <span class="hljs-number">7.0</span>   <span class="hljs-number">8.0</span>DD  <span class="hljs-number">9.0</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">11.0</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>series = frame[<span class="hljs-string">&#x27;d&#x27;</span>]<span class="hljs-meta">&gt;&gt;&gt; </span>seriesAA     <span class="hljs-number">1.0</span>BB     <span class="hljs-number">4.0</span>CC     <span class="hljs-number">7.0</span>DD    <span class="hljs-number">10.0</span>Name: d, dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>frame.sub(series, axis=<span class="hljs-string">&#x27;index&#x27;</span>)      b    d    eAA -<span class="hljs-number">1.0</span>  <span class="hljs-number">0.0</span>  <span class="hljs-number">1.0</span>BB -<span class="hljs-number">1.0</span>  <span class="hljs-number">0.0</span>  <span class="hljs-number">1.0</span>CC -<span class="hljs-number">1.0</span>  <span class="hljs-number">0.0</span>  <span class="hljs-number">1.0</span>DD -<span class="hljs-number">1.0</span>  <span class="hljs-number">0.0</span>  <span class="hljs-number">1.0</span></code></pre><h3><span id="01x04-pandas-suan-zhu-fang-fa"><font color="#4876FF">ã€01x04ã€‘Pandas ç®—æœ¯æ–¹æ³•</font></span></h3><p>å®Œæ•´çš„ Pandas ç®—æœ¯æ–¹æ³•è§ä¸‹è¡¨ï¼š</p><table><thead><tr><th>æ–¹æ³•</th><th>å‰¯æœ¬</th><th>æè¿°</th></tr></thead><tbody><tr><td>add()</td><td>radd()</td><td>åŠ æ³•ï¼ˆ+ï¼‰</td></tr><tr><td>sub()ã€subtract()</td><td>rsub()</td><td>å‡æ³•ï¼ˆ-ï¼‰</td></tr><tr><td>mul()ã€multiply()</td><td>rmul()</td><td>ä¹˜æ³•ï¼ˆ*ï¼‰</td></tr><tr><td>pow()</td><td>rpow()</td><td>æŒ‡æ•°ï¼ˆ**ï¼‰</td></tr><tr><td>truediv()ã€div()ã€divide()</td><td>rdiv()</td><td>é™¤æ³•ï¼ˆ/ï¼‰</td></tr><tr><td>floordiv()</td><td>rfloordiv()</td><td>åº•é™¤ï¼ˆ//ï¼‰</td></tr><tr><td>mod()</td><td>rmod()</td><td>æ±‚ä½™ï¼ˆ%ï¼‰</td></tr></tbody></table><p>å‰¯æœ¬å‡ä¸ºåŸæ–¹æ³•å‰åŠ äº†ä¸ª <code>r</code>ï¼Œå®ƒä¼šç¿»è½¬å‚æ•°ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(np.arange(<span class="hljs-number">12.</span>).reshape((<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)), columns=<span class="hljs-built_in">list</span>(<span class="hljs-string">&#x27;abcd&#x27;</span>))<span class="hljs-meta">&gt;&gt;&gt; </span>obj     a    b     c     d<span class="hljs-number">0</span>  <span class="hljs-number">0.0</span>  <span class="hljs-number">1.0</span>   <span class="hljs-number">2.0</span>   <span class="hljs-number">3.0</span><span class="hljs-number">1</span>  <span class="hljs-number">4.0</span>  <span class="hljs-number">5.0</span>   <span class="hljs-number">6.0</span>   <span class="hljs-number">7.0</span><span class="hljs-number">2</span>  <span class="hljs-number">8.0</span>  <span class="hljs-number">9.0</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">11.0</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">1</span> / obj       a         b         c         d<span class="hljs-number">0</span>    inf  <span class="hljs-number">1.000000</span>  <span class="hljs-number">0.500000</span>  <span class="hljs-number">0.333333</span><span class="hljs-number">1</span>  <span class="hljs-number">0.250</span>  <span class="hljs-number">0.200000</span>  <span class="hljs-number">0.166667</span>  <span class="hljs-number">0.142857</span><span class="hljs-number">2</span>  <span class="hljs-number">0.125</span>  <span class="hljs-number">0.111111</span>  <span class="hljs-number">0.100000</span>  <span class="hljs-number">0.090909</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.rdiv(<span class="hljs-number">1</span>)       a         b         c         d<span class="hljs-number">0</span>    inf  <span class="hljs-number">1.000000</span>  <span class="hljs-number">0.500000</span>  <span class="hljs-number">0.333333</span><span class="hljs-number">1</span>  <span class="hljs-number">0.250</span>  <span class="hljs-number">0.200000</span>  <span class="hljs-number">0.166667</span>  <span class="hljs-number">0.142857</span><span class="hljs-number">2</span>  <span class="hljs-number">0.125</span>  <span class="hljs-number">0.111111</span>  <span class="hljs-number">0.100000</span>  <span class="hljs-number">0.090909</span></code></pre><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106743778</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h2><span id="02x00-chu-li-que-shi-zhi"><font color="#FF0000">ã€02x00ã€‘å¤„ç†ç¼ºå¤±å€¼</font></span></h2><p>åœ¨ç°å®ä¸­é‡åˆ°çš„æ•°æ®å¾ˆå°‘æ˜¯å¹²å‡€æ•´é½çš„ï¼Œè®¸å¤šæ•°æ®é›†éƒ½ä¼šæœ‰æ•°æ®ç¼ºå¤±çš„ç°è±¡ï¼Œç¼ºå¤±å€¼ä¸»è¦æœ‰ä¸‰ç§å½¢å¼ï¼šnullã€NaNï¼ˆNANï¼Œnanï¼‰ æˆ– NAã€‚</p><h3><span id="02x01-fill-value-zhi-ding-zhi-yu-que-shi-zhi-jin-xing-yun-suan"><font color="#4876FF">ã€02x01ã€‘fill_value() æŒ‡å®šå€¼ä¸ç¼ºå¤±å€¼è¿›è¡Œè¿ç®—</font></span></h3><p>ä½¿ç”¨ <code>add</code>, <code>sub</code>, <code>div</code>, <code>mul</code> ç­‰ç®—æœ¯æ–¹æ³•æ—¶ï¼Œé€šè¿‡ <code>fill_value</code> æŒ‡å®šå¡«å……å€¼ï¼Œæœªå¯¹é½çš„æ•°æ®å°†å’Œå¡«å……å€¼åšè¿ç®—ã€‚</p><p>Series ä¸­çš„åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.Series([<span class="hljs-number">6</span>, <span class="hljs-number">7</span>])<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj1<span class="hljs-number">0</span>    <span class="hljs-number">1</span><span class="hljs-number">1</span>    <span class="hljs-number">2</span><span class="hljs-number">2</span>    <span class="hljs-number">3</span><span class="hljs-number">3</span>    <span class="hljs-number">4</span><span class="hljs-number">4</span>    <span class="hljs-number">5</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2<span class="hljs-number">0</span>    <span class="hljs-number">6</span><span class="hljs-number">1</span>    <span class="hljs-number">7</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj1.add(obj2)<span class="hljs-number">0</span>    <span class="hljs-number">7.0</span><span class="hljs-number">1</span>    <span class="hljs-number">9.0</span><span class="hljs-number">2</span>    NaN<span class="hljs-number">3</span>    NaN<span class="hljs-number">4</span>    NaNdtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj1.add(obj2, fill_value=-<span class="hljs-number">1</span>)<span class="hljs-number">0</span>    <span class="hljs-number">7.0</span><span class="hljs-number">1</span>    <span class="hljs-number">9.0</span><span class="hljs-number">2</span>    <span class="hljs-number">2.0</span><span class="hljs-number">3</span>    <span class="hljs-number">3.0</span><span class="hljs-number">4</span>    <span class="hljs-number">4.0</span>dtype: float64</code></pre><p>DataFrame ä¸­çš„åº”ç”¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj1 = pd.DataFrame(np.arange(<span class="hljs-number">12.</span>).reshape((<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)), columns=<span class="hljs-built_in">list</span>(<span class="hljs-string">&#x27;abcd&#x27;</span>))<span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = pd.DataFrame(np.arange(<span class="hljs-number">20.</span>).reshape((<span class="hljs-number">4</span>, <span class="hljs-number">5</span>)), columns=<span class="hljs-built_in">list</span>(<span class="hljs-string">&#x27;abcde&#x27;</span>))<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2.loc[<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;b&#x27;</span>] = np.nan<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj1     a    b     c     d<span class="hljs-number">0</span>  <span class="hljs-number">0.0</span>  <span class="hljs-number">1.0</span>   <span class="hljs-number">2.0</span>   <span class="hljs-number">3.0</span><span class="hljs-number">1</span>  <span class="hljs-number">4.0</span>  <span class="hljs-number">5.0</span>   <span class="hljs-number">6.0</span>   <span class="hljs-number">7.0</span><span class="hljs-number">2</span>  <span class="hljs-number">8.0</span>  <span class="hljs-number">9.0</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">11.0</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2      a     b     c     d     e<span class="hljs-number">0</span>   <span class="hljs-number">0.0</span>   <span class="hljs-number">1.0</span>   <span class="hljs-number">2.0</span>   <span class="hljs-number">3.0</span>   <span class="hljs-number">4.0</span><span class="hljs-number">1</span>   <span class="hljs-number">5.0</span>   NaN   <span class="hljs-number">7.0</span>   <span class="hljs-number">8.0</span>   <span class="hljs-number">9.0</span><span class="hljs-number">2</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">11.0</span>  <span class="hljs-number">12.0</span>  <span class="hljs-number">13.0</span>  <span class="hljs-number">14.0</span><span class="hljs-number">3</span>  <span class="hljs-number">15.0</span>  <span class="hljs-number">16.0</span>  <span class="hljs-number">17.0</span>  <span class="hljs-number">18.0</span>  <span class="hljs-number">19.0</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj1 + obj2      a     b     c     d   e<span class="hljs-number">0</span>   <span class="hljs-number">0.0</span>   <span class="hljs-number">2.0</span>   <span class="hljs-number">4.0</span>   <span class="hljs-number">6.0</span> NaN<span class="hljs-number">1</span>   <span class="hljs-number">9.0</span>   NaN  <span class="hljs-number">13.0</span>  <span class="hljs-number">15.0</span> NaN<span class="hljs-number">2</span>  <span class="hljs-number">18.0</span>  <span class="hljs-number">20.0</span>  <span class="hljs-number">22.0</span>  <span class="hljs-number">24.0</span> NaN<span class="hljs-number">3</span>   NaN   NaN   NaN   NaN NaN<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj1.add(obj2, fill_value=<span class="hljs-number">10</span>)      a     b     c     d     e<span class="hljs-number">0</span>   <span class="hljs-number">0.0</span>   <span class="hljs-number">2.0</span>   <span class="hljs-number">4.0</span>   <span class="hljs-number">6.0</span>  <span class="hljs-number">14.0</span><span class="hljs-number">1</span>   <span class="hljs-number">9.0</span>  <span class="hljs-number">15.0</span>  <span class="hljs-number">13.0</span>  <span class="hljs-number">15.0</span>  <span class="hljs-number">19.0</span><span class="hljs-number">2</span>  <span class="hljs-number">18.0</span>  <span class="hljs-number">20.0</span>  <span class="hljs-number">22.0</span>  <span class="hljs-number">24.0</span>  <span class="hljs-number">24.0</span><span class="hljs-number">3</span>  <span class="hljs-number">25.0</span>  <span class="hljs-number">26.0</span>  <span class="hljs-number">27.0</span>  <span class="hljs-number">28.0</span>  <span class="hljs-number">29.0</span></code></pre><h3><span id="02x02-isnull-notnull-pan-duan-que-shi-zhi"><font color="#4876FF">ã€02x02ã€‘isnull() / notnull() åˆ¤æ–­ç¼ºå¤±å€¼</font></span></h3><p><code>isnull()</code>ï¼šä¸ºç¼ºå¤±å€¼æ—¶ä¸º <code>True</code>ï¼Œå¦åˆ™ä¸º <code>False</code>ï¼›</p><p><code>notnull()</code> ä¸ºç¼ºå¤±å€¼æ—¶ä¸º <code>False</code>ï¼Œå¦åˆ™ä¸º <code>True</code>ã€‚</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">1</span>, np.nan, <span class="hljs-string">&#x27;hello&#x27;</span>, <span class="hljs-literal">None</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">0</span>        <span class="hljs-number">1</span><span class="hljs-number">1</span>      NaN<span class="hljs-number">2</span>    hello<span class="hljs-number">3</span>     <span class="hljs-literal">None</span>dtype: <span class="hljs-built_in">object</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.isnull()<span class="hljs-number">0</span>    <span class="hljs-literal">False</span><span class="hljs-number">1</span>     <span class="hljs-literal">True</span><span class="hljs-number">2</span>    <span class="hljs-literal">False</span><span class="hljs-number">3</span>     <span class="hljs-literal">True</span>dtype: <span class="hljs-built_in">bool</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.notnull()<span class="hljs-number">0</span>     <span class="hljs-literal">True</span><span class="hljs-number">1</span>    <span class="hljs-literal">False</span><span class="hljs-number">2</span>     <span class="hljs-literal">True</span><span class="hljs-number">3</span>    <span class="hljs-literal">False</span>dtype: <span class="hljs-built_in">bool</span></code></pre><h3><span id="02x03-dropna-shan-chu-que-shi-zhi"><font color="#4876FF">ã€02x03ã€‘dropna() åˆ é™¤ç¼ºå¤±å€¼</font></span></h3><p><code>dropna()</code> æ–¹æ³•ç”¨äºè¿”å›ä¸€ä¸ªåˆ é™¤äº†ç¼ºå¤±å€¼çš„æ–° Series æˆ– DataFrame å¯¹è±¡ã€‚</p><p>åœ¨ Series å¯¹è±¡å½“ä¸­ï¼Œ<code>dropna()</code> æ–¹æ³•çš„è¯­æ³•å¦‚ä¸‹ï¼ˆå…¶ä»–å‚æ•°ç”¨æ³•å¯å‚è€ƒåœ¨ DataFrame ä¸­çš„åº”ç”¨ï¼‰ï¼š</p><p><code>Series.dropna(self, axis=0, inplace=False, how=None)</code></p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.dropna.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.dropna.html</a></p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">1</span>, np.nan, <span class="hljs-string">&#x27;hello&#x27;</span>, <span class="hljs-literal">None</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">0</span>        <span class="hljs-number">1</span><span class="hljs-number">1</span>      NaN<span class="hljs-number">2</span>    hello<span class="hljs-number">3</span>     <span class="hljs-literal">None</span>dtype: <span class="hljs-built_in">object</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.dropna()<span class="hljs-number">0</span>        <span class="hljs-number">1</span><span class="hljs-number">2</span>    hellodtype: <span class="hljs-built_in">object</span></code></pre><p>åœ¨ DataFrame å¯¹è±¡ä¸­ï¼Œ<code>dropna()</code> æ–¹æ³•çš„è¯­æ³•å¦‚ä¸‹ï¼š</p><p><code>DataFrame.dropna(self, axis=0, how='any', thresh=None, subset=None, inplace=False)</code></p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.dropna.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.dropna.html</a></p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>axis</td><td>ç¡®å®šæ˜¯å¦åˆ é™¤åŒ…å«ç¼ºå¤±å€¼çš„è¡Œæˆ–åˆ—<br><code>0</code> æˆ– <code>'index'</code>ï¼šåˆ é™¤åŒ…å«ç¼ºå¤±å€¼çš„è¡Œã€‚<code>1</code> æˆ– <code>'columns'</code>ï¼šåˆ é™¤åŒ…å«ç¼ºå¤±å€¼çš„åˆ—</td></tr><tr><td>how</td><td><code>'any'</code>ï¼šå¦‚æœå­˜åœ¨ä»»ä½•NAå€¼ï¼Œåˆ™åˆ é™¤è¯¥è¡Œæˆ–åˆ—ã€‚<code>'all'</code>ï¼šå¦‚æœæ‰€æœ‰å€¼éƒ½æ˜¯NAï¼Œåˆ™åˆ é™¤è¯¥è¡Œæˆ–åˆ—</td></tr><tr><td>thresh</td><td>è®¾ç½®è¡Œæˆ–åˆ—ä¸­<strong>éç¼ºå¤±å€¼</strong>çš„æœ€å°æ•°é‡</td></tr></tbody></table><p>ä¸ä¼ é€’ä»»ä½•å‚æ•°ï¼Œå°†ä¼šåˆ é™¤ä»»ä½•åŒ…å«ç¼ºå¤±å€¼çš„æ•´è¡Œæ•°æ®ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame([[<span class="hljs-number">1</span>, np.nan, <span class="hljs-number">2</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>], [np.nan, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>]])<span class="hljs-meta">&gt;&gt;&gt; </span>obj     <span class="hljs-number">0</span>    <span class="hljs-number">1</span>  <span class="hljs-number">2</span><span class="hljs-number">0</span>  <span class="hljs-number">1.0</span>  NaN  <span class="hljs-number">2</span><span class="hljs-number">1</span>  <span class="hljs-number">2.0</span>  <span class="hljs-number">3.0</span>  <span class="hljs-number">5</span><span class="hljs-number">2</span>  NaN  <span class="hljs-number">4.0</span>  <span class="hljs-number">6</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.dropna()     <span class="hljs-number">0</span>    <span class="hljs-number">1</span>  <span class="hljs-number">2</span><span class="hljs-number">1</span>  <span class="hljs-number">2.0</span>  <span class="hljs-number">3.0</span>  <span class="hljs-number">5</span></code></pre><p>æŒ‡å®š axis å‚æ•°ï¼Œåˆ é™¤åŒ…å«ç¼ºå¤±å€¼çš„è¡Œæˆ–åˆ—ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame([[<span class="hljs-number">1</span>, np.nan, <span class="hljs-number">2</span>], [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>], [np.nan, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>]])<span class="hljs-meta">&gt;&gt;&gt; </span>obj     <span class="hljs-number">0</span>    <span class="hljs-number">1</span>  <span class="hljs-number">2</span><span class="hljs-number">0</span>  <span class="hljs-number">1.0</span>  NaN  <span class="hljs-number">2</span><span class="hljs-number">1</span>  <span class="hljs-number">2.0</span>  <span class="hljs-number">3.0</span>  <span class="hljs-number">5</span><span class="hljs-number">2</span>  NaN  <span class="hljs-number">4.0</span>  <span class="hljs-number">6</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.dropna(axis=<span class="hljs-string">&#x27;columns&#x27;</span>)   <span class="hljs-number">2</span><span class="hljs-number">0</span>  <span class="hljs-number">2</span><span class="hljs-number">1</span>  <span class="hljs-number">5</span><span class="hljs-number">2</span>  <span class="hljs-number">6</span></code></pre><p>æŒ‡å®š how å‚æ•°ï¼Œ<code>'any'</code>ï¼šå¦‚æœå­˜åœ¨ä»»ä½•NAå€¼ï¼Œåˆ™åˆ é™¤è¯¥è¡Œæˆ–åˆ—ã€‚<code>'all'</code>ï¼šå¦‚æœæ‰€æœ‰å€¼éƒ½æ˜¯NAï¼Œåˆ™åˆ é™¤è¯¥è¡Œæˆ–åˆ—ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame([[<span class="hljs-number">1</span>, np.nan, <span class="hljs-number">2</span>, np.nan], [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, np.nan], [np.nan, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, np.nan]])<span class="hljs-meta">&gt;&gt;&gt; </span>obj     <span class="hljs-number">0</span>    <span class="hljs-number">1</span>  <span class="hljs-number">2</span>   <span class="hljs-number">3</span><span class="hljs-number">0</span>  <span class="hljs-number">1.0</span>  NaN  <span class="hljs-number">2</span> NaN<span class="hljs-number">1</span>  <span class="hljs-number">2.0</span>  <span class="hljs-number">3.0</span>  <span class="hljs-number">5</span> NaN<span class="hljs-number">2</span>  NaN  <span class="hljs-number">4.0</span>  <span class="hljs-number">6</span> NaN<span class="hljs-meta">&gt;&gt;&gt; </span>obj.dropna(axis=<span class="hljs-string">&#x27;columns&#x27;</span>, how=<span class="hljs-string">&#x27;all&#x27;</span>)     <span class="hljs-number">0</span>    <span class="hljs-number">1</span>  <span class="hljs-number">2</span><span class="hljs-number">0</span>  <span class="hljs-number">1.0</span>  NaN  <span class="hljs-number">2</span><span class="hljs-number">1</span>  <span class="hljs-number">2.0</span>  <span class="hljs-number">3.0</span>  <span class="hljs-number">5</span><span class="hljs-number">2</span>  NaN  <span class="hljs-number">4.0</span>  <span class="hljs-number">6</span></code></pre><p>æŒ‡å®š thresh å‚æ•°ï¼Œè®¾ç½®è¡Œæˆ–åˆ—ä¸­<font color="#FF0000"><strong>éç¼ºå¤±å€¼</strong></font>çš„æœ€å°æ•°é‡ï¼Œä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œç¬¬ä¸€è¡Œå’Œç¬¬ä¸‰è¡Œåªæœ‰ä¸¤ä¸ªéç¼ºå¤±å€¼ï¼Œæ‰€ä»¥ä¼šè¢«åˆ é™¤ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame([[<span class="hljs-number">1</span>, np.nan, <span class="hljs-number">2</span>, np.nan], [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, np.nan], [np.nan, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, np.nan]])<span class="hljs-meta">&gt;&gt;&gt; </span>obj     <span class="hljs-number">0</span>    <span class="hljs-number">1</span>  <span class="hljs-number">2</span>   <span class="hljs-number">3</span><span class="hljs-number">0</span>  <span class="hljs-number">1.0</span>  NaN  <span class="hljs-number">2</span> NaN<span class="hljs-number">1</span>  <span class="hljs-number">2.0</span>  <span class="hljs-number">3.0</span>  <span class="hljs-number">5</span> NaN<span class="hljs-number">2</span>  NaN  <span class="hljs-number">4.0</span>  <span class="hljs-number">6</span> NaN&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj.dropna(axis=<span class="hljs-string">&#x27;rows&#x27;</span>, thresh=<span class="hljs-number">3</span>)     <span class="hljs-number">0</span>    <span class="hljs-number">1</span>  <span class="hljs-number">2</span>   <span class="hljs-number">3</span><span class="hljs-number">1</span>  <span class="hljs-number">2.0</span>  <span class="hljs-number">3.0</span>  <span class="hljs-number">5</span> NaN</code></pre><h3><span id="02x04-fillna-tian-chong-que-shi-zhi"><font color="#4876FF">ã€02x04ã€‘fillna() å¡«å……ç¼ºå¤±å€¼</font></span></h3><p><code>fillna()</code> æ–¹æ³•å¯ä»¥å°†ç¼ºå¤±å€¼æ›¿æ¢æˆæœ‰æ•ˆçš„æ•°å€¼ã€‚</p><p>åœ¨ Series å¯¹è±¡ä¸­ï¼Œ<code>fillna()</code> æ–¹æ³•çš„è¯­æ³•å¦‚ä¸‹ï¼š</p><p><code>Series.fillna(self, value=None, method=None, axis=None, inplace=False, limit=None, downcast=None)</code></p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.fillna.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.fillna.html</a></p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>value</td><td>ç”¨äºå¡«å……çš„å€¼ï¼ˆä¾‹å¦‚ 0ï¼‰ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ª dict / Series / DataFrame å€¼<br>æŒ‡å®šè¦ç”¨äºæ¯ä¸ª indexï¼ˆå¯¹äº Seriesï¼‰æˆ–columnï¼ˆå¯¹äº DataFrameï¼‰çš„å€¼<br>ä¸åœ¨dict / Series / DataFrameä¸­çš„å€¼å°†ä¸è¢«å¡«å……ã€‚æ­¤å€¼ä¸èƒ½æ˜¯åˆ—è¡¨</td></tr><tr><td>method</td><td>å¡«å……æ–¹æ³•ï¼š<code>None</code><br><code>â€˜padâ€™</code> / <code>â€˜ffillâ€™</code>ï¼šå°†ä¸Šä¸€ä¸ªæœ‰æ•ˆè§‚æµ‹å€¼å‘å‰ä¼ æ’­åˆ°ä¸‹ä¸€ä¸ªæœ‰æ•ˆè§‚æµ‹å€¼<br><code>â€˜backfillâ€™</code> / <code>â€˜bfillâ€™</code>ï¼šä½¿ç”¨ä¸‹ä¸€ä¸ªæœ‰æ•ˆè§‚å¯Ÿå€¼æ¥å¡«è¡¥ç©ºç™½</td></tr><tr><td>axis</td><td><code>0</code> or <code>â€˜indexâ€™</code>ï¼Œè¦å¡«å……ç¼ºå¤±å€¼çš„è½´</td></tr></tbody></table><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">1</span>, np.nan, <span class="hljs-number">2</span>, <span class="hljs-literal">None</span>, <span class="hljs-number">3</span>], index=<span class="hljs-built_in">list</span>(<span class="hljs-string">&#x27;abcde&#x27;</span>))<span class="hljs-meta">&gt;&gt;&gt; </span>obja    <span class="hljs-number">1.0</span>b    NaNc    <span class="hljs-number">2.0</span>d    NaNe    <span class="hljs-number">3.0</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.fillna(<span class="hljs-number">0</span>)a    <span class="hljs-number">1.0</span>b    <span class="hljs-number">0.0</span>c    <span class="hljs-number">2.0</span>d    <span class="hljs-number">0.0</span>e    <span class="hljs-number">3.0</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.fillna(method=<span class="hljs-string">&#x27;ffill&#x27;</span>)a    <span class="hljs-number">1.0</span>b    <span class="hljs-number">1.0</span>c    <span class="hljs-number">2.0</span>d    <span class="hljs-number">2.0</span>e    <span class="hljs-number">3.0</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.fillna(method=<span class="hljs-string">&#x27;bfill&#x27;</span>)a    <span class="hljs-number">1.0</span>b    <span class="hljs-number">2.0</span>c    <span class="hljs-number">2.0</span>d    <span class="hljs-number">3.0</span>e    <span class="hljs-number">3.0</span>dtype: float64</code></pre><p>åœ¨ DataFrame å¯¹è±¡ä¸­ï¼Œ<code>fillna()</code> æ–¹æ³•çš„è¯­æ³•å¦‚ä¸‹ï¼š</p><p><code>DataFrame.fillna(self, value=None, method=None, axis=None, inplace=False, limit=None, downcast=None)</code></p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.fillna.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.fillna.html</a></p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>value</td><td>ç”¨äºå¡«å……çš„å€¼ï¼ˆä¾‹å¦‚ 0ï¼‰ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ª dict / Series / DataFrame å€¼<br>æŒ‡å®šè¦ç”¨äºæ¯ä¸ª indexï¼ˆå¯¹äº Seriesï¼‰æˆ–columnï¼ˆå¯¹äº DataFrameï¼‰çš„å€¼<br>ä¸åœ¨dict / Series / DataFrameä¸­çš„å€¼å°†ä¸è¢«å¡«å……ã€‚æ­¤å€¼ä¸èƒ½æ˜¯åˆ—è¡¨</td></tr><tr><td>method</td><td>å¡«å……æ–¹æ³•ï¼š<code>None</code><br><code>â€˜padâ€™</code> / <code>â€˜ffillâ€™</code>ï¼šå°†ä¸Šä¸€ä¸ªæœ‰æ•ˆè§‚æµ‹å€¼å‘å‰ä¼ æ’­åˆ°ä¸‹ä¸€ä¸ªæœ‰æ•ˆè§‚æµ‹å€¼<br><code>â€˜backfillâ€™</code> / <code>â€˜bfillâ€™</code>ï¼šä½¿ç”¨ä¸‹ä¸€ä¸ªæœ‰æ•ˆè§‚å¯Ÿå€¼æ¥å¡«è¡¥ç©ºç™½</td></tr><tr><td>axis</td><td><code>0</code> or <code>â€˜indexâ€™</code>ï¼Œ<code>1</code> or <code>â€˜columnsâ€™</code>ï¼Œè¦å¡«å……ç¼ºå¤±å€¼çš„è½´</td></tr></tbody></table><p>åœ¨ DataFrame å¯¹è±¡ä¸­çš„ç”¨æ³•å’Œåœ¨ Series å¯¹è±¡ä¸­çš„ç”¨æ³•å¤§åŒå°å¼‚ï¼Œåªä¸è¿‡ axis å‚æ•°å¤šäº†ä¸€ä¸ªé€‰æ‹©ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame([[<span class="hljs-number">1</span>, np.nan, <span class="hljs-number">2</span>, np.nan], [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, np.nan], [np.nan, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, np.nan]])<span class="hljs-meta">&gt;&gt;&gt; </span>obj     <span class="hljs-number">0</span>    <span class="hljs-number">1</span>  <span class="hljs-number">2</span>   <span class="hljs-number">3</span><span class="hljs-number">0</span>  <span class="hljs-number">1.0</span>  NaN  <span class="hljs-number">2</span> NaN<span class="hljs-number">1</span>  <span class="hljs-number">2.0</span>  <span class="hljs-number">3.0</span>  <span class="hljs-number">5</span> NaN<span class="hljs-number">2</span>  NaN  <span class="hljs-number">4.0</span>  <span class="hljs-number">6</span> NaN<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.fillna(method=<span class="hljs-string">&#x27;ffill&#x27;</span>, axis=<span class="hljs-number">1</span>)     <span class="hljs-number">0</span>    <span class="hljs-number">1</span>    <span class="hljs-number">2</span>    <span class="hljs-number">3</span><span class="hljs-number">0</span>  <span class="hljs-number">1.0</span>  <span class="hljs-number">1.0</span>  <span class="hljs-number">2.0</span>  <span class="hljs-number">2.0</span><span class="hljs-number">1</span>  <span class="hljs-number">2.0</span>  <span class="hljs-number">3.0</span>  <span class="hljs-number">5.0</span>  <span class="hljs-number">5.0</span><span class="hljs-number">2</span>  NaN  <span class="hljs-number">4.0</span>  <span class="hljs-number">6.0</span>  <span class="hljs-number">6.0</span></code></pre><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106743778</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h2&gt;&lt;span id=&quot;wen-zhang-mu-lu&quot;&gt;æ–‡ç« ç›®å½•&lt;/span&gt;&lt;/h2&gt;
&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#font-color-ff0000-01x00-pandas-suan-zhu-yun-suan-font&quot;&gt;&lt;font</summary>
      
    
    
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    <category term="Pandas" scheme="https://www.itbob.cn/tags/Pandas/"/>
    
  </entry>
  
  <entry>
    <title>Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäºŒï¼‰ï¼šIndex ç´¢å¼•å¯¹è±¡ä»¥åŠå„ç§ç´¢å¼•æ“ä½œ</title>
    <link href="https://www.itbob.cn/article/026/"/>
    <id>https://www.itbob.cn/article/026/</id>
    <published>2020-06-13T14:19:53.000Z</published>
    <updated>2022-05-22T12:38:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="wen-zhang-mu-lu">æ–‡ç« ç›®å½•</span></h2><!-- toc --><ul><li><a href="#font-color-ff0000-1-index-suo-yin-dui-xiang-font"><font color="#FF0000">ã€1ã€‘Index ç´¢å¼•å¯¹è±¡</font></a></li><li><a href="#font-color-ff0000-2-pandas-yi-ban-suo-yin-font"><font color="#FF0000">ã€2ã€‘Pandas ä¸€èˆ¬ç´¢å¼•</font></a><ul><li><a href="#font-color-4876ff-2-1-series-suo-yin-font"><font color="#4876FF">ã€2.1ã€‘Series ç´¢å¼•</font></a><ul><li><a href="#font-color-ffa500-2-1-1-head-tail-font"><font color="#FFA500">ã€2.1.1ã€‘head() / tail()</font></a></li><li><a href="#font-color-ffa500-2-1-2-xing-suo-yin-font"><font color="#FFA500">ã€2.1.2ã€‘è¡Œç´¢å¼•</font></a></li><li><a href="#font-color-ffa500-2-1-3-qie-pian-suo-yin-font"><font color="#FFA500">ã€2.1.3ã€‘åˆ‡ç‰‡ç´¢å¼•</font></a></li><li><a href="#font-color-ffa500-2-1-4-hua-shi-suo-yin-font"><font color="#FFA500">ã€2.1.4ã€‘èŠ±å¼ç´¢å¼•</font></a></li><li><a href="#font-color-ffa500-2-1-5-bu-er-suo-yin-font"><font color="#FFA500">ã€2.1.5ã€‘å¸ƒå°”ç´¢å¼•</font></a></li></ul></li><li><a href="#font-color-4876ff-2-2-dataframe-suo-yin-font"><font color="#4876FF">ã€2.2ã€‘DataFrame ç´¢å¼•</font></a><ul><li><a href="#font-color-ffa500-2-2-1-head-tail-font"><font color="#FFA500">ã€2.2.1ã€‘head() / tail()</font></a></li><li><a href="#font-color-ffa500-2-2-2-lie-suo-yin-font"><font color="#FFA500">ã€2.2.2ã€‘åˆ—ç´¢å¼•</font></a></li><li><a href="#font-color-ffa500-2-2-3-qie-pian-suo-yin-font"><font color="#FFA500">ã€2.2.3ã€‘åˆ‡ç‰‡ç´¢å¼•</font></a></li><li><a href="#font-color-ffa500-2-2-4-hua-shi-suo-yin-font"><font color="#FFA500">ã€2.2.4ã€‘èŠ±å¼ç´¢å¼•</font></a></li><li><a href="#font-color-ffa500-2-2-5-bu-er-suo-yin-font"><font color="#FFA500">ã€2.2.5ã€‘å¸ƒå°”ç´¢å¼•</font></a></li></ul></li></ul></li><li><a href="#font-color-ff0000-3-suo-yin-qi-loc-he-iloc-font"><font color="#FF0000">ã€3ã€‘ç´¢å¼•å™¨ï¼šloc å’Œ iloc</font></a><ul><li><a href="#font-color-4876ff-3-1-loc-biao-qian-suo-yin-font"><font color="#4876FF">ã€3.1ã€‘loc æ ‡ç­¾ç´¢å¼•</font></a><ul><li><a href="#font-color-ffa500-3-1-1-series-loc-font"><font color="#FFA500">ã€3.1.1ã€‘Series.loc</font></a></li><li><a href="#font-color-ffa500-3-1-2-dataframe-loc-font"><font color="#FFA500">ã€3.1.2ã€‘DataFrame.loc</font></a></li></ul></li><li><a href="#font-color-4876ff-3-2-iloc-wei-zhi-suo-yin-font"><font color="#4876FF">ã€3.2ã€‘iloc ä½ç½®ç´¢å¼•</font></a><ul><li><a href="#font-color-ffa500-3-2-1-series-iloc-font"><font color="#FFA500">ã€3.2.1ã€‘Series.iloc</font></a></li><li><a href="#font-color-ffa500-3-2-2-dataframe-iloc-font"><font color="#FFA500">ã€3.2.2ã€‘DataFrame.iloc</font></a></li></ul></li></ul></li><li><a href="#font-color-ff0000-4-pandas-chong-xin-suo-yin-font"><font color="#FF0000">ã€4ã€‘Pandas é‡æ–°ç´¢å¼•</font></a></li></ul><!-- tocstop --><hr><p>Pandas ç³»åˆ—æ–‡ç« ï¼š</p><ul><li><a href="https://www.itbob.cn/article/025/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸€ï¼‰ï¼šè®¤è¯† Pandas åŠå…¶ Seriesã€DataFrame å¯¹è±¡</a></li><li><a href="https://www.itbob.cn/article/026/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäºŒï¼‰ï¼šIndex ç´¢å¼•å¯¹è±¡ä»¥åŠå„ç§ç´¢å¼•æ“ä½œ</a></li><li><a href="https://www.itbob.cn/article/027/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸‰ï¼‰ï¼šç®—æœ¯è¿ç®—ä¸ç¼ºå¤±å€¼çš„å¤„ç†</a></li><li><a href="https://www.itbob.cn/article/028/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå››ï¼‰ï¼šå‡½æ•°åº”ç”¨ã€æ˜ å°„ã€æ’åºå’Œå±‚çº§ç´¢å¼•</a></li><li><a href="https://www.itbob.cn/article/029/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäº”ï¼‰ï¼šç»Ÿè®¡è®¡ç®—ä¸ç»Ÿè®¡æè¿°</a></li><li><a href="https://www.itbob.cn/article/030/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…­ï¼‰ï¼šGroupBy æ•°æ®åˆ†è£‚ã€åº”ç”¨ä¸åˆå¹¶</a></li><li><a href="https://www.itbob.cn/article/031/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸ƒï¼‰ï¼šåˆå¹¶æ•°æ®é›†</a></li><li><a href="https://www.itbob.cn/article/032/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…«ï¼‰ï¼šæ•°æ®é‡å¡‘ã€é‡å¤æ•°æ®å¤„ç†ä¸æ•°æ®æ›¿æ¢</a></li><li><a href="https://www.itbob.cn/article/033/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¹ï¼‰ï¼šæ—¶é—´åºåˆ—</a></li><li><a href="https://www.itbob.cn/article/034/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆåï¼‰ï¼šæ•°æ®è¯»å†™</a></li></ul><hr><p>ä¸“æ ï¼š</p><ul><li>NumPy ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780393.html">https://itrhx.blog.csdn.net/category_9780393.html</a></li><li>Pandas ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780397.html">https://itrhx.blog.csdn.net/category_9780397.html</a></li><li>Matplotlib ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780418.html">https://itrhx.blog.csdn.net/category_9780418.html</a></li></ul><br>æ¨èå­¦ä¹ èµ„æ–™ä¸ç½‘ç«™ï¼š<br><br><ul><li>NumPy å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.numpy.org.cn/">https://www.numpy.org.cn/</a></li><li>Pandas å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.pypandas.cn/">https://www.pypandas.cn/</a></li><li>Matplotlib å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.matplotlib.org.cn/">https://www.matplotlib.org.cn/</a></li><li>NumPyã€Matplotlibã€Pandas é€ŸæŸ¥è¡¨ï¼š<a href="https://github.com/TRHX/Python-quick-reference-table">https://github.com/TRHX/Python-quick-reference-table</a></li></ul><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106698307</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h1><span id="1-index-suo-yin-dui-xiang"><font color="#FF0000">ã€1ã€‘Index ç´¢å¼•å¯¹è±¡</font></span></h1><p>Series å’Œ DataFrame ä¸­çš„ç´¢å¼•éƒ½æ˜¯ Index å¯¹è±¡ï¼Œä¸ºäº†ä¿è¯æ•°æ®çš„å®‰å…¨ï¼Œç´¢å¼•å¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼Œå¦‚æœå°è¯•æ›´æ”¹ç´¢å¼•å°±ä¼šæŠ¥é”™ï¼›å¸¸è§çš„ Index ç§ç±»æœ‰ï¼šç´¢å¼•ï¼ˆIndexï¼‰ï¼Œæ•´æ•°ç´¢å¼•ï¼ˆInt64Indexï¼‰ï¼Œå±‚çº§ç´¢å¼•ï¼ˆMultiIndexï¼‰ï¼Œæ—¶é—´æˆ³ç±»å‹ï¼ˆDatetimeIndexï¼‰ã€‚</p><p>ä¸€ä¸‹ä»£ç æ¼”ç¤ºäº† Index ç´¢å¼•å¯¹è±¡å’Œå…¶ä¸å¯å˜çš„æ€§è´¨ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, -<span class="hljs-number">8</span>, <span class="hljs-number">2</span>], index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj.indexIndex([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>], dtype=<span class="hljs-string">&#x27;object&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">type</span>(obj.index)&lt;<span class="hljs-class"><span class="hljs-keyword">class</span> &#x27;<span class="hljs-title">pandas</span>.<span class="hljs-title">core</span>.<span class="hljs-title">indexes</span>.<span class="hljs-title">base</span>.<span class="hljs-title">Index</span>&#x27;&gt;</span><span class="hljs-class">&gt;&gt;&gt; <span class="hljs-title">obj</span>.<span class="hljs-title">index</span>[0] = &#x27;<span class="hljs-title">e</span>&#x27;</span><span class="hljs-class"><span class="hljs-title">Traceback</span> (<span class="hljs-params">most recent call last</span>):</span>  File <span class="hljs-string">&quot;&lt;pyshell#28&gt;&quot;</span>, line <span class="hljs-number">1</span>, <span class="hljs-keyword">in</span> &lt;module&gt;    obj.index[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;e&#x27;</span>  File <span class="hljs-string">&quot;C:\Users\...\base.py&quot;</span>, line <span class="hljs-number">3909</span>, <span class="hljs-keyword">in</span> __setitem__    <span class="hljs-keyword">raise</span> TypeError(<span class="hljs-string">&quot;Index does not support mutable operations&quot;</span>)TypeError: Index does <span class="hljs-keyword">not</span> support mutable operations</code></pre><table><tr><td bgcolor="#FFA500"><font size="5" color="#fff">index ç´¢å¼•å¯¹è±¡å¸¸ç”¨å±æ€§</font></td></tr></table><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.html">https://pandas.pydata.org/docs/reference/api/pandas.Index.html</a></p><table><thead><tr><th>å±æ€§</th><th>æè¿°</th></tr></thead><tbody><tr><td>T</td><td>è½¬ç½®</td></tr><tr><td>array</td><td>index çš„æ•°ç»„å½¢å¼ï¼Œå¸¸è§<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.array.html">å®˜æ–¹æ–‡æ¡£</a></td></tr><tr><td>dtype</td><td>è¿”å›åŸºç¡€æ•°æ®çš„ dtype å¯¹è±¡</td></tr><tr><td>hasnans</td><td>æ˜¯å¦æœ‰ NaNï¼ˆç¼ºå¤±å€¼ï¼‰</td></tr><tr><td>inferred_type</td><td>è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤º index çš„ç±»å‹</td></tr><tr><td>is_monotonic</td><td>åˆ¤æ–­ index æ˜¯å¦æ˜¯é€’å¢çš„</td></tr><tr><td>is_monotonic_decreasing</td><td>åˆ¤æ–­ index æ˜¯å¦å•è°ƒé€’å‡</td></tr><tr><td>is_monotonic_increasing</td><td>åˆ¤æ–­ index æ˜¯å¦å•è°ƒé€’å¢</td></tr><tr><td>is_unique</td><td>index æ˜¯å¦æ²¡æœ‰é‡å¤å€¼</td></tr><tr><td>nbytes</td><td>è¿”å› index ä¸­çš„å­—èŠ‚æ•°</td></tr><tr><td>ndim</td><td>index çš„ç»´åº¦</td></tr><tr><td>nlevels</td><td>Number of levels.</td></tr><tr><td>shape</td><td>è¿”å›ä¸€ä¸ªå…ƒç»„ï¼Œè¡¨ç¤º index çš„å½¢çŠ¶</td></tr><tr><td>size</td><td>index çš„å¤§å°</td></tr><tr><td>values</td><td>è¿”å› index ä¸­çš„å€¼ / æ•°ç»„</td></tr></tbody></table><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, -<span class="hljs-number">8</span>, <span class="hljs-number">2</span>], index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj.indexIndex([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>], dtype=<span class="hljs-string">&#x27;object&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.index.array&lt;PandasArray&gt;[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>]Length: <span class="hljs-number">4</span>, dtype: <span class="hljs-built_in">object</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.index.dtypedtype(<span class="hljs-string">&#x27;O&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.index.hasnans<span class="hljs-literal">False</span>&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj.index.inferred_type<span class="hljs-string">&#x27;string&#x27;</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.index.is_monotonic<span class="hljs-literal">True</span>&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj.index.is_monotonic_decreasing<span class="hljs-literal">False</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.index.is_monotonic_increasing<span class="hljs-literal">True</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.index.is_unique<span class="hljs-literal">True</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.index.nbytes<span class="hljs-number">16</span>&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj.index.ndim<span class="hljs-number">1</span>&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj.index.nlevels<span class="hljs-number">1</span>&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj.index.shape(<span class="hljs-number">4</span>,)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.index.size<span class="hljs-number">4</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.index.valuesarray([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>], dtype=<span class="hljs-built_in">object</span>)</code></pre><table><tr><td bgcolor="#FFA500"><font size="5" color="#fff">index ç´¢å¼•å¯¹è±¡å¸¸ç”¨æ–¹æ³•</font></td></tr></table><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.html">https://pandas.pydata.org/docs/reference/api/pandas.Index.html</a></p><table><thead><tr><th>æ–¹æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>all(self, *args, **kwargs)</td><td>åˆ¤æ–­æ‰€æœ‰å…ƒç´ æ˜¯å¦ä¸ºçœŸï¼Œæœ‰ 0 ä¼šè¢«è§†ä¸º False</td></tr><tr><td>any(self, *args, **kwargs)</td><td>åˆ¤æ–­æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ ä¸ºçœŸï¼Œå‡ä¸º 0 ä¼šè¢«è§†ä¸º False</td></tr><tr><td>append(self, other)</td><td>è¿æ¥å¦ä¸€ä¸ª indexï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„ index</td></tr><tr><td>argmax(self[, axis, skipna])</td><td>è¿”å› index ä¸­æœ€å¤§å€¼çš„ç´¢å¼•å€¼</td></tr><tr><td>argmin(self[, axis, skipna])</td><td>è¿”å› index ä¸­æœ€å°å€¼çš„ç´¢å¼•å€¼</td></tr><tr><td>argsort(self, *args, **kwargs)</td><td>å¯¹ index ä»å°åˆ°å¤§æ’åºï¼Œè¿”å›æ’åºåçš„å…ƒç´ åœ¨åŸ index ä¸­çš„ç´¢å¼•å€¼</td></tr><tr><td>delete(self, loc)</td><td>åˆ é™¤æŒ‡å®šç´¢å¼•ä½ç½®çš„å…ƒç´ ï¼Œè¿”å›åˆ é™¤åçš„æ–° index</td></tr><tr><td>difference(self, other[, sort])</td><td>åœ¨ç¬¬ä¸€ä¸ª index ä¸­åˆ é™¤ç¬¬äºŒä¸ª index ä¸­çš„å…ƒç´ ï¼Œå³å·®é›†</td></tr><tr><td>drop(self, labels[, errors])</td><td>åœ¨åŸ index ä¸­åˆ é™¤ä¼ å…¥çš„å€¼</td></tr><tr><td>drop_duplicates(self[, keep])</td><td>åˆ é™¤é‡å¤å€¼ï¼Œkeep å‚æ•°å¯é€‰å€¼å¦‚ä¸‹ï¼š<br><code>â€˜firstâ€™</code>ï¼šä¿ç•™ç¬¬ä¸€æ¬¡å‡ºç°çš„é‡å¤é¡¹ï¼›<br><code>â€˜lastâ€™</code>ï¼šä¿ç•™æœ€åä¸€æ¬¡å‡ºç°çš„é‡å¤é¡¹ï¼›<br><code>False</code>ï¼šä¸ä¿ç•™é‡å¤é¡¹</td></tr><tr><td>duplicated(self[, keep])</td><td>åˆ¤æ–­æ˜¯å¦ä¸ºé‡å¤å€¼ï¼Œkeep å‚æ•°å¯é€‰å€¼å¦‚ä¸‹ï¼š<br><code>â€˜firstâ€™</code>ï¼šç¬¬ä¸€æ¬¡é‡å¤çš„ä¸º Falseï¼Œå…¶ä»–ä¸º Trueï¼›<br><code>â€˜lastâ€™</code>ï¼šæœ€åä¸€æ¬¡é‡å¤çš„ä¸º Falseï¼Œå…¶ä»–ä¸º Trueï¼›<br><code>False</code>ï¼šæ‰€æœ‰é‡å¤çš„å‡ä¸º True</td></tr><tr><td>dropna(self[, how])</td><td>åˆ é™¤ç¼ºå¤±å€¼ï¼Œå³ NaN</td></tr><tr><td>fillna(self[, value, downcast])</td><td>ç”¨æŒ‡å®šå€¼å¡«å……ç¼ºå¤±å€¼ï¼Œå³ NaN</td></tr><tr><td>equals(self, other)</td><td>åˆ¤æ–­ä¸¤ä¸ª  index æ˜¯å¦ç›¸åŒ</td></tr><tr><td>insert(self, loc, item)</td><td>å°†å…ƒç´ æ’å…¥åˆ°æŒ‡å®šç´¢å¼•å¤„ï¼Œè¿”å›æ–°çš„ index</td></tr><tr><td>intersection(self, other[, sort])</td><td>è¿”å›ä¸¤ä¸ª index çš„äº¤é›†</td></tr><tr><td>isna(self)</td><td>æ£€æµ‹ index å…ƒç´ æ˜¯å¦ä¸ºç¼ºå¤±å€¼ï¼Œå³ NaN</td></tr><tr><td>isnull(self)</td><td>æ£€æµ‹ index å…ƒç´ æ˜¯å¦ä¸ºç¼ºå¤±å€¼ï¼Œå³ NaN</td></tr><tr><td>max(self[, axis, skipna])</td><td>è¿”å› index çš„æœ€å¤§å€¼</td></tr><tr><td>min(self[, axis, skipna])</td><td>è¿”å› index çš„æœ€å°å€¼</td></tr><tr><td>union(self, other[, sort])</td><td>è¿”å›ä¸¤ä¸ª index çš„å¹¶é›†</td></tr><tr><td>unique(self[, level])</td><td>è¿”å› index ä¸­çš„å”¯ä¸€å€¼ï¼Œç›¸å½“äºå»é™¤é‡å¤å€¼</td></tr></tbody></table><ul><li><code>all(self, *args, **kwargs)</code> ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.all.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Index([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]).<span class="hljs-built_in">all</span>()<span class="hljs-literal">True</span>&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Index([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>]).<span class="hljs-built_in">all</span>()<span class="hljs-literal">False</span></code></pre><ul><li><code>any(self, *args, **kwargs)</code> ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.any.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Index([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]).<span class="hljs-built_in">any</span>()<span class="hljs-literal">True</span>&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Index([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>]).<span class="hljs-built_in">any</span>()<span class="hljs-literal">False</span></code></pre><ul><li><code>append(self, other)</code> ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.append.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Index([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]).append(pd.Index([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]))Index([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], dtype=<span class="hljs-string">&#x27;object&#x27;</span>)</code></pre><ul><li><code>argmax(self[, axis, skipna])</code> ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.argmax.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Index([<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>]).argmax()<span class="hljs-number">3</span></code></pre><ul><li><code>argmin(self[, axis, skipna])</code> ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.argmin.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Index([<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>]).argmin()<span class="hljs-number">4</span></code></pre><ul><li><code>argsort(self, *args, **kwargs)</code> ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.argsort.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Index([<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>]).argsort()array([<span class="hljs-number">4</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>], dtype=int32)</code></pre><ul><li><code>delete(self, loc)</code> ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.delete.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Index([<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>]).delete(<span class="hljs-number">0</span>)Int64Index([<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>], dtype=<span class="hljs-string">&#x27;int64&#x27;</span>)</code></pre><ul><li><code>difference(self, other[, sort])</code> ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.difference.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>idx1 = pd.Index([<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>idx2 = pd.Index([<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>idx1.difference(idx2)Int64Index([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], dtype=<span class="hljs-string">&#x27;int64&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>idx1.difference(idx2, sort=<span class="hljs-literal">False</span>)Int64Index([<span class="hljs-number">2</span>, <span class="hljs-number">1</span>], dtype=<span class="hljs-string">&#x27;int64&#x27;</span>)</code></pre><ul><li><code>drop(self, labels[, errors])</code> ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.drop.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Index([<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>]).drop([<span class="hljs-number">2</span>, <span class="hljs-number">1</span>])Int64Index([<span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>], dtype=<span class="hljs-string">&#x27;int64&#x27;</span>)</code></pre><ul><li><code>drop_duplicates(self[, keep])</code> ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.drop_duplicates.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>idx = pd.Index([<span class="hljs-string">&#x27;lama&#x27;</span>, <span class="hljs-string">&#x27;cow&#x27;</span>, <span class="hljs-string">&#x27;lama&#x27;</span>, <span class="hljs-string">&#x27;beetle&#x27;</span>, <span class="hljs-string">&#x27;lama&#x27;</span>, <span class="hljs-string">&#x27;hippo&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>idx.drop_duplicates(keep=<span class="hljs-string">&#x27;first&#x27;</span>)Index([<span class="hljs-string">&#x27;lama&#x27;</span>, <span class="hljs-string">&#x27;cow&#x27;</span>, <span class="hljs-string">&#x27;beetle&#x27;</span>, <span class="hljs-string">&#x27;hippo&#x27;</span>], dtype=<span class="hljs-string">&#x27;object&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>idx.drop_duplicates(keep=<span class="hljs-string">&#x27;last&#x27;</span>)Index([<span class="hljs-string">&#x27;cow&#x27;</span>, <span class="hljs-string">&#x27;beetle&#x27;</span>, <span class="hljs-string">&#x27;lama&#x27;</span>, <span class="hljs-string">&#x27;hippo&#x27;</span>], dtype=<span class="hljs-string">&#x27;object&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>idx.drop_duplicates(keep=<span class="hljs-literal">False</span>)Index([<span class="hljs-string">&#x27;cow&#x27;</span>, <span class="hljs-string">&#x27;beetle&#x27;</span>, <span class="hljs-string">&#x27;hippo&#x27;</span>], dtype=<span class="hljs-string">&#x27;object&#x27;</span>)</code></pre><ul><li>duplicated(self[, keep]) ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.duplicated.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>idx = pd.Index([<span class="hljs-string">&#x27;lama&#x27;</span>, <span class="hljs-string">&#x27;cow&#x27;</span>, <span class="hljs-string">&#x27;lama&#x27;</span>, <span class="hljs-string">&#x27;beetle&#x27;</span>, <span class="hljs-string">&#x27;lama&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>idx.duplicated()array([<span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>,  <span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>,  <span class="hljs-literal">True</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>idx.duplicated(keep=<span class="hljs-string">&#x27;first&#x27;</span>)array([<span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>,  <span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>,  <span class="hljs-literal">True</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>idx.duplicated(keep=<span class="hljs-string">&#x27;last&#x27;</span>)array([ <span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>,  <span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>idx.duplicated(keep=<span class="hljs-literal">False</span>)array([ <span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>,  <span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>,  <span class="hljs-literal">True</span>])</code></pre><ul><li><code>dropna(self[, how])</code> ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.dropna.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Index([<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, np.NaN, <span class="hljs-number">6</span>, np.NaN, np.NaN]).dropna()Float64Index([<span class="hljs-number">2.0</span>, <span class="hljs-number">5.0</span>, <span class="hljs-number">6.0</span>], dtype=<span class="hljs-string">&#x27;float64&#x27;</span>)</code></pre><ul><li><code>fillna(self[, value, downcast])</code> ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.fillna.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Index([<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, np.NaN, <span class="hljs-number">6</span>, np.NaN, np.NaN]).fillna(<span class="hljs-number">5</span>)Float64Index([<span class="hljs-number">2.0</span>, <span class="hljs-number">5.0</span>, <span class="hljs-number">5.0</span>, <span class="hljs-number">6.0</span>, <span class="hljs-number">5.0</span>, <span class="hljs-number">5.0</span>], dtype=<span class="hljs-string">&#x27;float64&#x27;</span>)</code></pre><ul><li><code>equals(self, other)</code> ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.equals.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>idx1 = pd.Index([<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>idx2 = pd.Index([<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>idx1.equals(idx2)<span class="hljs-literal">True</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>idx1 = pd.Index([<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>idx2 = pd.Index([<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>idx1.equals(idx2)<span class="hljs-literal">False</span></code></pre><ul><li><code>intersection(self, other[, sort])</code> ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.intersection.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>idx1 = pd.Index([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>idx2 = pd.Index([<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>idx1.intersection(idx2)Int64Index([<span class="hljs-number">3</span>, <span class="hljs-number">4</span>], dtype=<span class="hljs-string">&#x27;int64&#x27;</span>)</code></pre><ul><li><code>insert(self, loc, item)</code> ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.insert.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Index([<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>]).insert(<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;A&#x27;</span>)Index([<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>], dtype=<span class="hljs-string">&#x27;object&#x27;</span>)</code></pre><ul><li><code>isna(self)</code> ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.isna.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘ã€<code>isnull(self)</code> ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.isnull.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Index([<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, np.NaN, <span class="hljs-number">6</span>, np.NaN, np.NaN]).isna()array([<span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>,  <span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>,  <span class="hljs-literal">True</span>,  <span class="hljs-literal">True</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Index([<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, np.NaN, <span class="hljs-number">6</span>, np.NaN, np.NaN]).isnull()array([<span class="hljs-literal">False</span>, <span class="hljs-literal">False</span>,  <span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>,  <span class="hljs-literal">True</span>,  <span class="hljs-literal">True</span>])</code></pre><ul><li><code>max(self[, axis, skipna])</code> ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.max.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘ã€<code>min(self[, axis, skipna])</code> ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.min.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Index([<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>]).<span class="hljs-built_in">max</span>()<span class="hljs-number">9</span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.Index([<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>]).<span class="hljs-built_in">min</span>()<span class="hljs-number">1</span></code></pre><ul><li><code>union(self, other[, sort])</code> ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.union.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>idx1 = pd.Index([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>idx2 = pd.Index([<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>idx1.union(idx2)Int64Index([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>], dtype=<span class="hljs-string">&#x27;int64&#x27;</span>)</code></pre><ul><li><code>unique(self[, level])</code> ã€<a href="https://pandas.pydata.org/docs/reference/api/pandas.Index.unique.html">å®˜æ–¹æ–‡æ¡£</a>ã€‘</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>pd.Index([<span class="hljs-number">5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>]).unique()Int64Index([<span class="hljs-number">5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>], dtype=<span class="hljs-string">&#x27;int64&#x27;</span>)</code></pre><h1><span id="2-pandas-yi-ban-suo-yin"><font color="#FF0000">ã€2ã€‘Pandas ä¸€èˆ¬ç´¢å¼•</font></span></h1><p>ç”±äºåœ¨ Pandas ä¸­ï¼Œç”±äºæœ‰ä¸€äº›æ›´é«˜çº§çš„ç´¢å¼•æ“ä½œï¼Œæ¯”å¦‚é‡æ–°ç´¢å¼•ï¼Œå±‚çº§ç´¢å¼•ç­‰ï¼Œå› æ­¤å°†ä¸€èˆ¬çš„åˆ‡ç‰‡ç´¢å¼•ã€èŠ±å¼ç´¢å¼•ã€å¸ƒå°”ç´¢å¼•ç­‰å½’çº³ä¸ºä¸€èˆ¬ç´¢å¼•ã€‚</p><h2><span id="2-1-series-suo-yin"><font color="#4876FF">ã€2.1ã€‘Series ç´¢å¼•</font></span></h2><h3><span id="2-1-1-head-tail"><font color="#FFA500">ã€2.1.1ã€‘head() / tail()</font></span></h3><p><code>Series.head()</code> å’Œ <code>Series.tail()</code> æ–¹æ³•å¯ä»¥è·å–çš„å‰äº”è¡Œå’Œåäº”è¡Œæ•°æ®ï¼Œå¦‚æœå‘ head() / tail() é‡Œé¢ä¼ å…¥å‚æ•°ï¼Œåˆ™ä¼šè·å–æŒ‡å®šè¡Œï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series(np.random.randn(<span class="hljs-number">8</span>))<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">0</span>   -<span class="hljs-number">0.643437</span><span class="hljs-number">1</span>   -<span class="hljs-number">0.365652</span><span class="hljs-number">2</span>   -<span class="hljs-number">0.966554</span><span class="hljs-number">3</span>   -<span class="hljs-number">0.036127</span><span class="hljs-number">4</span>    <span class="hljs-number">1.046095</span><span class="hljs-number">5</span>   -<span class="hljs-number">2.048362</span><span class="hljs-number">6</span>   -<span class="hljs-number">1.865551</span><span class="hljs-number">7</span>    <span class="hljs-number">1.344728</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.head()<span class="hljs-number">0</span>   -<span class="hljs-number">0.643437</span><span class="hljs-number">1</span>   -<span class="hljs-number">0.365652</span><span class="hljs-number">2</span>   -<span class="hljs-number">0.966554</span><span class="hljs-number">3</span>   -<span class="hljs-number">0.036127</span><span class="hljs-number">4</span>    <span class="hljs-number">1.046095</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.head(<span class="hljs-number">3</span>)<span class="hljs-number">0</span>   -<span class="hljs-number">0.643437</span><span class="hljs-number">1</span>   -<span class="hljs-number">0.365652</span><span class="hljs-number">2</span>   -<span class="hljs-number">0.966554</span>dtype: float64&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj.tail()<span class="hljs-number">3</span>    <span class="hljs-number">1.221221</span><span class="hljs-number">4</span>   -<span class="hljs-number">1.373496</span><span class="hljs-number">5</span>    <span class="hljs-number">1.032843</span><span class="hljs-number">6</span>    <span class="hljs-number">0.029734</span><span class="hljs-number">7</span>   -<span class="hljs-number">1.861485</span>dtype: float64&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj.tail(<span class="hljs-number">3</span>)<span class="hljs-number">5</span>    <span class="hljs-number">1.032843</span><span class="hljs-number">6</span>    <span class="hljs-number">0.029734</span><span class="hljs-number">7</span>   -<span class="hljs-number">1.861485</span>dtype: float64</code></pre><h3><span id="2-1-2-xing-suo-yin"><font color="#FFA500">ã€2.1.2ã€‘è¡Œç´¢å¼•</font></span></h3><p>Pandas ä¸­å¯ä»¥æŒ‰ç…§ä½ç½®è¿›è¡Œç´¢å¼•ï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§ç´¢å¼•åï¼ˆindexï¼‰è¿›è¡Œç´¢å¼•ï¼Œä¹Ÿå¯ä»¥ç”¨ Python å­—å…¸çš„è¡¨è¾¾å¼å’Œæ–¹æ³•æ¥è·å–å€¼ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, -<span class="hljs-number">8</span>, <span class="hljs-number">2</span>], index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obja    <span class="hljs-number">1</span>b    <span class="hljs-number">5</span>c   -<span class="hljs-number">8</span>d    <span class="hljs-number">2</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-string">&#x27;c&#x27;</span>]-<span class="hljs-number">8</span><span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-number">2</span>]-<span class="hljs-number">8</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;b&#x27;</span> <span class="hljs-keyword">in</span> obj<span class="hljs-literal">True</span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.keys()Index([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>], dtype=<span class="hljs-string">&#x27;object&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>(obj.items())[(<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-number">1</span>), (<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-number">5</span>), (<span class="hljs-string">&#x27;c&#x27;</span>, -<span class="hljs-number">8</span>), (<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-number">2</span>)]</code></pre><h3><span id="2-1-3-qie-pian-suo-yin"><font color="#FFA500">ã€2.1.3ã€‘åˆ‡ç‰‡ç´¢å¼•</font></span></h3><p>åˆ‡ç‰‡çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼šæŒ‰ä½ç½®åˆ‡ç‰‡å’ŒæŒ‰ç´¢å¼•åï¼ˆindexï¼‰åˆ‡ç‰‡ï¼Œæ³¨æ„ï¼šæŒ‰ä½ç½®åˆ‡ç‰‡æ—¶ï¼Œ<font color="#FF0000"><strong>ä¸åŒ…å«</strong></font>ç»ˆæ­¢ç´¢å¼•ï¼›æŒ‰ç´¢å¼•åï¼ˆindexï¼‰åˆ‡ç‰‡æ—¶ï¼Œ<font color="#FF0000"><strong>åŒ…å«</strong></font>ç»ˆæ­¢ç´¢å¼•ã€‚</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, -<span class="hljs-number">8</span>, <span class="hljs-number">2</span>], index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obja    <span class="hljs-number">1</span>b    <span class="hljs-number">5</span>c   -<span class="hljs-number">8</span>d    <span class="hljs-number">2</span>dtype: int64&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-number">1</span>:<span class="hljs-number">3</span>]b    <span class="hljs-number">5</span>c   -<span class="hljs-number">8</span>dtype: int64&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-number">0</span>:<span class="hljs-number">3</span>:<span class="hljs-number">2</span>]a    <span class="hljs-number">1</span>c   -<span class="hljs-number">8</span>dtype: int64&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-string">&#x27;b&#x27;</span>:<span class="hljs-string">&#x27;d&#x27;</span>]b    <span class="hljs-number">5</span>c   -<span class="hljs-number">8</span>d    <span class="hljs-number">2</span>dtype: int64</code></pre><h3><span id="2-1-4-hua-shi-suo-yin"><font color="#FFA500">ã€2.1.4ã€‘èŠ±å¼ç´¢å¼•</font></span></h3><p>æ‰€è°“çš„èŠ±å¼ç´¢å¼•ï¼Œå°±æ˜¯é—´éš”ç´¢å¼•ã€ä¸è¿ç»­çš„ç´¢å¼•ï¼Œä¼ é€’ä¸€ä¸ªç”±ç´¢å¼•åï¼ˆindexï¼‰æˆ–è€…ä½ç½®å‚æ•°ç»„æˆçš„<font color="#FF0000"><strong>åˆ—è¡¨</strong></font>æ¥ä¸€æ¬¡æ€§è·å¾—å¤šä¸ªå…ƒç´ ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, -<span class="hljs-number">8</span>, <span class="hljs-number">2</span>], index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obja    <span class="hljs-number">1</span>b    <span class="hljs-number">5</span>c   -<span class="hljs-number">8</span>d    <span class="hljs-number">2</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj[[<span class="hljs-number">0</span>, <span class="hljs-number">2</span>]]a    <span class="hljs-number">1</span>c   -<span class="hljs-number">8</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj[[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>]]a    <span class="hljs-number">1</span>c   -<span class="hljs-number">8</span>d    <span class="hljs-number">2</span>dtype: int64</code></pre><h3><span id="2-1-5-bu-er-suo-yin"><font color="#FFA500">ã€2.1.5ã€‘å¸ƒå°”ç´¢å¼•</font></span></h3><p>å¯ä»¥é€šè¿‡ä¸€ä¸ªå¸ƒå°”æ•°ç»„æ¥ç´¢å¼•ç›®æ ‡æ•°ç»„ï¼Œå³é€šè¿‡å¸ƒå°”è¿ç®—ï¼ˆå¦‚ï¼šæ¯”è¾ƒè¿ç®—ç¬¦ï¼‰æ¥è·å–ç¬¦åˆæŒ‡å®šæ¡ä»¶çš„å…ƒç´ çš„æ•°ç»„ã€‚</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, -<span class="hljs-number">8</span>, <span class="hljs-number">2</span>, -<span class="hljs-number">3</span>], index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obja    <span class="hljs-number">1</span>b    <span class="hljs-number">5</span>c   -<span class="hljs-number">8</span>d    <span class="hljs-number">2</span>e   -<span class="hljs-number">3</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj[obj &gt; <span class="hljs-number">0</span>]a    <span class="hljs-number">1</span>b    <span class="hljs-number">5</span>d    <span class="hljs-number">2</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj &gt; <span class="hljs-number">0</span>a     <span class="hljs-literal">True</span>b     <span class="hljs-literal">True</span>c    <span class="hljs-literal">False</span>d     <span class="hljs-literal">True</span>e    <span class="hljs-literal">False</span>dtype: <span class="hljs-built_in">bool</span></code></pre><h2><span id="2-2-dataframe-suo-yin"><font color="#4876FF">ã€2.2ã€‘DataFrame ç´¢å¼•</font></span></h2><h3><span id="2-2-1-head-tail"><font color="#FFA500">ã€2.2.1ã€‘head() / tail()</font></span></h3><p>å’Œ Series ä¸€æ ·ï¼Œ<code>DataFrame.head()</code> å’Œ <code>DataFrame.tail()</code> æ–¹æ³•åŒæ ·å¯ä»¥è·å– DataFrame çš„å‰äº”è¡Œå’Œåäº”è¡Œæ•°æ®ï¼Œå¦‚æœå‘ head() / tail() é‡Œé¢ä¼ å…¥å‚æ•°ï¼Œåˆ™ä¼šè·å–æŒ‡å®šè¡Œï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(np.random.randn(<span class="hljs-number">8</span>,<span class="hljs-number">4</span>), columns = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj          a         b         c         d<span class="hljs-number">0</span> -<span class="hljs-number">1.399390</span>  <span class="hljs-number">0.521596</span> -<span class="hljs-number">0.869613</span>  <span class="hljs-number">0.506621</span><span class="hljs-number">1</span> -<span class="hljs-number">0.748562</span> -<span class="hljs-number">0.364952</span>  <span class="hljs-number">0.188399</span> -<span class="hljs-number">1.402566</span><span class="hljs-number">2</span>  <span class="hljs-number">1.378776</span> -<span class="hljs-number">1.476480</span>  <span class="hljs-number">0.361635</span>  <span class="hljs-number">0.451134</span><span class="hljs-number">3</span> -<span class="hljs-number">0.206405</span> -<span class="hljs-number">1.188609</span>  <span class="hljs-number">3.002599</span>  <span class="hljs-number">0.563650</span><span class="hljs-number">4</span>  <span class="hljs-number">0.993289</span>  <span class="hljs-number">1.133748</span>  <span class="hljs-number">1.177549</span> -<span class="hljs-number">2.562286</span><span class="hljs-number">5</span> -<span class="hljs-number">0.482157</span>  <span class="hljs-number">1.069293</span>  <span class="hljs-number">1.143983</span> -<span class="hljs-number">1.303079</span><span class="hljs-number">6</span> -<span class="hljs-number">1.199154</span>  <span class="hljs-number">0.220360</span>  <span class="hljs-number">0.801838</span> -<span class="hljs-number">0.104533</span><span class="hljs-number">7</span> -<span class="hljs-number">1.359816</span> -<span class="hljs-number">2.092035</span>  <span class="hljs-number">2.003530</span> -<span class="hljs-number">0.151812</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.head()          a         b         c         d<span class="hljs-number">0</span> -<span class="hljs-number">1.399390</span>  <span class="hljs-number">0.521596</span> -<span class="hljs-number">0.869613</span>  <span class="hljs-number">0.506621</span><span class="hljs-number">1</span> -<span class="hljs-number">0.748562</span> -<span class="hljs-number">0.364952</span>  <span class="hljs-number">0.188399</span> -<span class="hljs-number">1.402566</span><span class="hljs-number">2</span>  <span class="hljs-number">1.378776</span> -<span class="hljs-number">1.476480</span>  <span class="hljs-number">0.361635</span>  <span class="hljs-number">0.451134</span><span class="hljs-number">3</span> -<span class="hljs-number">0.206405</span> -<span class="hljs-number">1.188609</span>  <span class="hljs-number">3.002599</span>  <span class="hljs-number">0.563650</span><span class="hljs-number">4</span>  <span class="hljs-number">0.993289</span>  <span class="hljs-number">1.133748</span>  <span class="hljs-number">1.177549</span> -<span class="hljs-number">2.562286</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.head(<span class="hljs-number">3</span>)          a         b         c         d<span class="hljs-number">0</span> -<span class="hljs-number">1.399390</span>  <span class="hljs-number">0.521596</span> -<span class="hljs-number">0.869613</span>  <span class="hljs-number">0.506621</span><span class="hljs-number">1</span> -<span class="hljs-number">0.748562</span> -<span class="hljs-number">0.364952</span>  <span class="hljs-number">0.188399</span> -<span class="hljs-number">1.402566</span><span class="hljs-number">2</span>  <span class="hljs-number">1.378776</span> -<span class="hljs-number">1.476480</span>  <span class="hljs-number">0.361635</span>  <span class="hljs-number">0.451134</span>&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj.tail()          a         b         c         d<span class="hljs-number">3</span> -<span class="hljs-number">0.206405</span> -<span class="hljs-number">1.188609</span>  <span class="hljs-number">3.002599</span>  <span class="hljs-number">0.563650</span><span class="hljs-number">4</span>  <span class="hljs-number">0.993289</span>  <span class="hljs-number">1.133748</span>  <span class="hljs-number">1.177549</span> -<span class="hljs-number">2.562286</span><span class="hljs-number">5</span> -<span class="hljs-number">0.482157</span>  <span class="hljs-number">1.069293</span>  <span class="hljs-number">1.143983</span> -<span class="hljs-number">1.303079</span><span class="hljs-number">6</span> -<span class="hljs-number">1.199154</span>  <span class="hljs-number">0.220360</span>  <span class="hljs-number">0.801838</span> -<span class="hljs-number">0.104533</span><span class="hljs-number">7</span> -<span class="hljs-number">1.359816</span> -<span class="hljs-number">2.092035</span>  <span class="hljs-number">2.003530</span> -<span class="hljs-number">0.151812</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.tail(<span class="hljs-number">3</span>)          a         b         c         d<span class="hljs-number">5</span> -<span class="hljs-number">0.482157</span>  <span class="hljs-number">1.069293</span>  <span class="hljs-number">1.143983</span> -<span class="hljs-number">1.303079</span><span class="hljs-number">6</span> -<span class="hljs-number">1.199154</span>  <span class="hljs-number">0.220360</span>  <span class="hljs-number">0.801838</span> -<span class="hljs-number">0.104533</span><span class="hljs-number">7</span> -<span class="hljs-number">1.359816</span> -<span class="hljs-number">2.092035</span>  <span class="hljs-number">2.003530</span> -<span class="hljs-number">0.151812</span></code></pre><h3><span id="2-2-2-lie-suo-yin"><font color="#FFA500">ã€2.2.2ã€‘åˆ—ç´¢å¼•</font></span></h3><p>DataFrame å¯ä»¥æŒ‰ç…§åˆ—æ ‡ç­¾ï¼ˆcolumnsï¼‰æ¥è¿›è¡Œåˆ—ç´¢å¼•ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(np.random.randn(<span class="hljs-number">7</span>,<span class="hljs-number">2</span>), columns = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj          a         b<span class="hljs-number">0</span> -<span class="hljs-number">1.198795</span>  <span class="hljs-number">0.928378</span><span class="hljs-number">1</span> -<span class="hljs-number">2.878230</span>  <span class="hljs-number">0.014650</span><span class="hljs-number">2</span>  <span class="hljs-number">2.267475</span>  <span class="hljs-number">0.370952</span><span class="hljs-number">3</span>  <span class="hljs-number">0.639340</span> -<span class="hljs-number">1.301041</span><span class="hljs-number">4</span> -<span class="hljs-number">1.953444</span>  <span class="hljs-number">0.148934</span><span class="hljs-number">5</span> -<span class="hljs-number">0.445225</span>  <span class="hljs-number">0.459632</span><span class="hljs-number">6</span>  <span class="hljs-number">0.097109</span> -<span class="hljs-number">2.592833</span>&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-string">&#x27;a&#x27;</span>]<span class="hljs-number">0</span>   -<span class="hljs-number">1.198795</span><span class="hljs-number">1</span>   -<span class="hljs-number">2.878230</span><span class="hljs-number">2</span>    <span class="hljs-number">2.267475</span><span class="hljs-number">3</span>    <span class="hljs-number">0.639340</span><span class="hljs-number">4</span>   -<span class="hljs-number">1.953444</span><span class="hljs-number">5</span>   -<span class="hljs-number">0.445225</span><span class="hljs-number">6</span>    <span class="hljs-number">0.097109</span>Name: a, dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj[[<span class="hljs-string">&#x27;a&#x27;</span>]]          a<span class="hljs-number">0</span> -<span class="hljs-number">1.198795</span><span class="hljs-number">1</span> -<span class="hljs-number">2.878230</span><span class="hljs-number">2</span>  <span class="hljs-number">2.267475</span><span class="hljs-number">3</span>  <span class="hljs-number">0.639340</span><span class="hljs-number">4</span> -<span class="hljs-number">1.953444</span><span class="hljs-number">5</span> -<span class="hljs-number">0.445225</span><span class="hljs-number">6</span>  <span class="hljs-number">0.097109</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">type</span>(obj[<span class="hljs-string">&#x27;a&#x27;</span>])&lt;<span class="hljs-class"><span class="hljs-keyword">class</span> &#x27;<span class="hljs-title">pandas</span>.<span class="hljs-title">core</span>.<span class="hljs-title">series</span>.<span class="hljs-title">Series</span>&#x27;&gt;</span><span class="hljs-class">&gt;&gt;&gt; <span class="hljs-title">type</span>(<span class="hljs-params">obj[[<span class="hljs-string">&#x27;a&#x27;</span>]]</span>)</span><span class="hljs-class">&lt;<span class="hljs-title">class</span> &#x27;<span class="hljs-title">pandas</span>.<span class="hljs-title">core</span>.<span class="hljs-title">frame</span>.<span class="hljs-title">DataFrame</span>&#x27;&gt;</span></code></pre><h3><span id="2-2-3-qie-pian-suo-yin"><font color="#FFA500">ã€2.2.3ã€‘åˆ‡ç‰‡ç´¢å¼•</font></span></h3><p>DataFrame ä¸­çš„åˆ‡ç‰‡ç´¢å¼•æ˜¯é’ˆå¯¹è¡Œæ¥æ“ä½œçš„ï¼Œåˆ‡ç‰‡çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼šæŒ‰ä½ç½®åˆ‡ç‰‡å’ŒæŒ‰ç´¢å¼•åï¼ˆindexï¼‰åˆ‡ç‰‡ï¼Œæ³¨æ„ï¼šæŒ‰ä½ç½®åˆ‡ç‰‡æ—¶ï¼Œä¸åŒ…å«ç»ˆæ­¢ç´¢å¼•ï¼›æŒ‰ç´¢å¼•åï¼ˆindexï¼‰åˆ‡ç‰‡æ—¶ï¼ŒåŒ…å«ç»ˆæ­¢ç´¢å¼•ã€‚</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>data = np.random.randn(<span class="hljs-number">5</span>,<span class="hljs-number">4</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>index = [<span class="hljs-string">&#x27;I1&#x27;</span>, <span class="hljs-string">&#x27;I2&#x27;</span>, <span class="hljs-string">&#x27;I3&#x27;</span>, <span class="hljs-string">&#x27;I4&#x27;</span>, <span class="hljs-string">&#x27;I5&#x27;</span>]<span class="hljs-meta">&gt;&gt;&gt; </span>columns = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>]<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(data, index, columns)<span class="hljs-meta">&gt;&gt;&gt; </span>obj           a         b         c         dI1  <span class="hljs-number">0.828676</span> -<span class="hljs-number">1.663337</span>  <span class="hljs-number">1.753632</span>  <span class="hljs-number">1.432487</span>I2  <span class="hljs-number">0.368138</span>  <span class="hljs-number">0.222166</span>  <span class="hljs-number">0.902764</span> -<span class="hljs-number">1.436186</span>I3  <span class="hljs-number">2.285615</span> -<span class="hljs-number">2.415175</span> -<span class="hljs-number">1.344456</span> -<span class="hljs-number">0.502214</span>I4  <span class="hljs-number">3.224288</span> -<span class="hljs-number">0.500268</span>  <span class="hljs-number">1.293596</span> -<span class="hljs-number">1.235549</span>I5 -<span class="hljs-number">0.938833</span> -<span class="hljs-number">0.804433</span> -<span class="hljs-number">0.170047</span> -<span class="hljs-number">0.566766</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-number">0</span>:<span class="hljs-number">3</span>]           a         b         c         dI1  <span class="hljs-number">0.828676</span> -<span class="hljs-number">1.663337</span>  <span class="hljs-number">1.753632</span>  <span class="hljs-number">1.432487</span>I2  <span class="hljs-number">0.368138</span>  <span class="hljs-number">0.222166</span>  <span class="hljs-number">0.902764</span> -<span class="hljs-number">1.436186</span>I3  <span class="hljs-number">2.285615</span> -<span class="hljs-number">2.415175</span> -<span class="hljs-number">1.344456</span> -<span class="hljs-number">0.502214</span>&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-number">0</span>:<span class="hljs-number">4</span>:<span class="hljs-number">2</span>]           a         b         c         dI1 -<span class="hljs-number">0.042168</span>  <span class="hljs-number">1.437354</span> -<span class="hljs-number">1.114545</span>  <span class="hljs-number">0.830790</span>I3  <span class="hljs-number">0.241506</span>  <span class="hljs-number">0.018984</span> -<span class="hljs-number">0.499151</span> -<span class="hljs-number">1.190143</span>&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-string">&#x27;I2&#x27;</span>:<span class="hljs-string">&#x27;I4&#x27;</span>]           a         b         c         dI2  <span class="hljs-number">0.368138</span>  <span class="hljs-number">0.222166</span>  <span class="hljs-number">0.902764</span> -<span class="hljs-number">1.436186</span>I3  <span class="hljs-number">2.285615</span> -<span class="hljs-number">2.415175</span> -<span class="hljs-number">1.344456</span> -<span class="hljs-number">0.502214</span>I4  <span class="hljs-number">3.224288</span> -<span class="hljs-number">0.500268</span>  <span class="hljs-number">1.293596</span> -<span class="hljs-number">1.235549</span></code></pre><h3><span id="2-2-4-hua-shi-suo-yin"><font color="#FFA500">ã€2.2.4ã€‘èŠ±å¼ç´¢å¼•</font></span></h3><p>å’Œ Series ä¸€æ ·ï¼Œæ‰€è°“çš„èŠ±å¼ç´¢å¼•ï¼Œå°±æ˜¯é—´éš”ç´¢å¼•ã€ä¸è¿ç»­çš„ç´¢å¼•ï¼Œä¼ é€’ä¸€ä¸ªç”±åˆ—åï¼ˆcolumnsï¼‰ç»„æˆçš„<font color="#FF0000"><strong>åˆ—è¡¨</strong></font>æ¥ä¸€æ¬¡æ€§è·å¾—å¤šåˆ—å…ƒç´ ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>data = np.random.randn(<span class="hljs-number">5</span>,<span class="hljs-number">4</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>index = [<span class="hljs-string">&#x27;I1&#x27;</span>, <span class="hljs-string">&#x27;I2&#x27;</span>, <span class="hljs-string">&#x27;I3&#x27;</span>, <span class="hljs-string">&#x27;I4&#x27;</span>, <span class="hljs-string">&#x27;I5&#x27;</span>]<span class="hljs-meta">&gt;&gt;&gt; </span>columns = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>]<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(data, index, columns)<span class="hljs-meta">&gt;&gt;&gt; </span>obj           a         b         c         dI1 -<span class="hljs-number">1.083223</span> -<span class="hljs-number">0.182874</span> -<span class="hljs-number">0.348460</span> -<span class="hljs-number">1.572120</span>I2 -<span class="hljs-number">0.205206</span> -<span class="hljs-number">0.251931</span>  <span class="hljs-number">1.180131</span>  <span class="hljs-number">0.847720</span>I3 -<span class="hljs-number">0.980379</span>  <span class="hljs-number">0.325553</span> -<span class="hljs-number">0.847566</span> -<span class="hljs-number">0.882343</span>I4 -<span class="hljs-number">0.638228</span> -<span class="hljs-number">0.282882</span> -<span class="hljs-number">0.624997</span> -<span class="hljs-number">0.245980</span>I5 -<span class="hljs-number">0.229769</span>  <span class="hljs-number">1.002930</span> -<span class="hljs-number">0.226715</span> -<span class="hljs-number">0.916591</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj[[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>]]           a         dI1 -<span class="hljs-number">1.083223</span> -<span class="hljs-number">1.572120</span>I2 -<span class="hljs-number">0.205206</span>  <span class="hljs-number">0.847720</span>I3 -<span class="hljs-number">0.980379</span> -<span class="hljs-number">0.882343</span>I4 -<span class="hljs-number">0.638228</span> -<span class="hljs-number">0.245980</span>I5 -<span class="hljs-number">0.229769</span> -<span class="hljs-number">0.916591</span></code></pre><h3><span id="2-2-5-bu-er-suo-yin"><font color="#FFA500">ã€2.2.5ã€‘å¸ƒå°”ç´¢å¼•</font></span></h3><p>å¯ä»¥é€šè¿‡ä¸€ä¸ªå¸ƒå°”æ•°ç»„æ¥ç´¢å¼•ç›®æ ‡æ•°ç»„ï¼Œå³é€šè¿‡å¸ƒå°”è¿ç®—ï¼ˆå¦‚ï¼šæ¯”è¾ƒè¿ç®—ç¬¦ï¼‰æ¥è·å–ç¬¦åˆæŒ‡å®šæ¡ä»¶çš„å…ƒç´ çš„æ•°ç»„ã€‚</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>data = np.random.randn(<span class="hljs-number">5</span>,<span class="hljs-number">4</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>index = [<span class="hljs-string">&#x27;I1&#x27;</span>, <span class="hljs-string">&#x27;I2&#x27;</span>, <span class="hljs-string">&#x27;I3&#x27;</span>, <span class="hljs-string">&#x27;I4&#x27;</span>, <span class="hljs-string">&#x27;I5&#x27;</span>]<span class="hljs-meta">&gt;&gt;&gt; </span>columns = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>]<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(data, index, columns)<span class="hljs-meta">&gt;&gt;&gt; </span>obj           a         b         c         dI1 -<span class="hljs-number">0.602984</span> -<span class="hljs-number">0.135716</span>  <span class="hljs-number">0.999689</span> -<span class="hljs-number">0.339786</span>I2  <span class="hljs-number">0.911130</span> -<span class="hljs-number">0.092485</span> -<span class="hljs-number">0.914074</span> -<span class="hljs-number">0.279588</span>I3  <span class="hljs-number">0.849606</span> -<span class="hljs-number">0.420055</span> -<span class="hljs-number">1.240389</span> -<span class="hljs-number">0.179297</span>I4  <span class="hljs-number">0.249986</span> -<span class="hljs-number">1.250668</span>  <span class="hljs-number">0.329416</span> -<span class="hljs-number">1.105774</span>I5 -<span class="hljs-number">0.743816</span>  <span class="hljs-number">0.430647</span> -<span class="hljs-number">0.058126</span> -<span class="hljs-number">0.337319</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj[obj &gt; <span class="hljs-number">0</span>]           a         b         c   dI1       NaN       NaN  <span class="hljs-number">0.999689</span> NaNI2  <span class="hljs-number">0.911130</span>       NaN       NaN NaNI3  <span class="hljs-number">0.849606</span>       NaN       NaN NaNI4  <span class="hljs-number">0.249986</span>       NaN  <span class="hljs-number">0.329416</span> NaNI5       NaN  <span class="hljs-number">0.430647</span>       NaN NaN<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj &gt; <span class="hljs-number">0</span>        a      b      c      dI1  <span class="hljs-literal">False</span>  <span class="hljs-literal">False</span>   <span class="hljs-literal">True</span>  <span class="hljs-literal">False</span>I2   <span class="hljs-literal">True</span>  <span class="hljs-literal">False</span>  <span class="hljs-literal">False</span>  <span class="hljs-literal">False</span>I3   <span class="hljs-literal">True</span>  <span class="hljs-literal">False</span>  <span class="hljs-literal">False</span>  <span class="hljs-literal">False</span>I4   <span class="hljs-literal">True</span>  <span class="hljs-literal">False</span>   <span class="hljs-literal">True</span>  <span class="hljs-literal">False</span>I5  <span class="hljs-literal">False</span>   <span class="hljs-literal">True</span>  <span class="hljs-literal">False</span>  <span class="hljs-literal">False</span></code></pre><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106698307</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h1><span id="3-suo-yin-qi-loc-he-iloc"><font color="#FF0000">ã€3ã€‘ç´¢å¼•å™¨ï¼šloc å’Œ iloc</font></span></h1><p>loc æ˜¯æ ‡ç­¾ç´¢å¼•ã€iloc æ˜¯ä½ç½®ç´¢å¼•ï¼Œæ³¨æ„ï¼šåœ¨ Pandas1.0.0 ä¹‹å‰è¿˜æœ‰ ix æ–¹æ³•ï¼ˆå³å¯æŒ‰æ ‡ç­¾ä¹Ÿå¯æŒ‰ä½ç½®ç´¢å¼•ï¼‰ï¼Œåœ¨ Pandas1.0.0 ä¹‹åå·²è¢«ç§»é™¤ã€‚</p><h2><span id="3-1-loc-biao-qian-suo-yin"><font color="#4876FF">ã€3.1ã€‘loc æ ‡ç­¾ç´¢å¼•</font></span></h2><p>loc æ ‡ç­¾ç´¢å¼•ï¼Œå³æ ¹æ® index å’Œ columns æ¥é€‰æ‹©æ•°æ®ã€‚</p><h3><span id="3-1-1-series-loc"><font color="#FFA500">ã€3.1.1ã€‘Series.loc</font></span></h3><p>åœ¨ Series ä¸­ï¼Œå…è®¸è¾“å…¥ï¼š</p><ul><li>å•ä¸ªæ ‡ç­¾ï¼Œä¾‹å¦‚ <code>5</code> æˆ– <code>'a'</code>ï¼Œï¼ˆæ³¨æ„ï¼Œ<code>5</code> æ˜¯ index çš„åç§°ï¼Œè€Œä¸æ˜¯ä½ç½®ç´¢å¼•ï¼‰ï¼›</li><li>æ ‡ç­¾åˆ—è¡¨æˆ–æ•°ç»„ï¼Œä¾‹å¦‚ <code>['a', 'b', 'c']</code>ï¼›</li><li>å¸¦æœ‰æ ‡ç­¾çš„åˆ‡ç‰‡å¯¹è±¡ï¼Œä¾‹å¦‚ <code>'a':'f'</code>ã€‚</li></ul><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.loc.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.loc.html</a></p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, -<span class="hljs-number">8</span>, <span class="hljs-number">2</span>], index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obja    <span class="hljs-number">1</span>b    <span class="hljs-number">5</span>c   -<span class="hljs-number">8</span>d    <span class="hljs-number">2</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.loc[<span class="hljs-string">&#x27;a&#x27;</span>]<span class="hljs-number">1</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.loc[<span class="hljs-string">&#x27;a&#x27;</span>:<span class="hljs-string">&#x27;c&#x27;</span>]a    <span class="hljs-number">1</span>b    <span class="hljs-number">5</span>c   -<span class="hljs-number">8</span>dtype: int64&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj.loc[[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>]]a    <span class="hljs-number">1</span>d    <span class="hljs-number">2</span>dtype: int64</code></pre><h3><span id="3-1-2-dataframe-loc"><font color="#FFA500">ã€3.1.2ã€‘DataFrame.loc</font></span></h3><p>åœ¨ DataFrame ä¸­ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ç´¢å¼•<font color="#FF0000"><strong>è¡Œ</strong></font>ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ç´¢å¼•<font color="#FF0000"><strong>åˆ—</strong></font>ï¼Œå…è®¸è¾“å…¥çš„æ ¼å¼å’Œ Series å¤§åŒå°å¼‚ã€‚</p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.loc.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.loc.html</a></p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]], index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>], columns=[<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj   A  B  Ca  <span class="hljs-number">1</span>  <span class="hljs-number">2</span>  <span class="hljs-number">3</span>b  <span class="hljs-number">4</span>  <span class="hljs-number">5</span>  <span class="hljs-number">6</span>c  <span class="hljs-number">7</span>  <span class="hljs-number">8</span>  <span class="hljs-number">9</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.loc[<span class="hljs-string">&#x27;a&#x27;</span>]A    <span class="hljs-number">1</span>B    <span class="hljs-number">2</span>C    <span class="hljs-number">3</span>Name: a, dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.loc[<span class="hljs-string">&#x27;a&#x27;</span>:<span class="hljs-string">&#x27;c&#x27;</span>]   A  B  Ca  <span class="hljs-number">1</span>  <span class="hljs-number">2</span>  <span class="hljs-number">3</span>b  <span class="hljs-number">4</span>  <span class="hljs-number">5</span>  <span class="hljs-number">6</span>c  <span class="hljs-number">7</span>  <span class="hljs-number">8</span>  <span class="hljs-number">9</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.loc[[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]]   A  B  Ca  <span class="hljs-number">1</span>  <span class="hljs-number">2</span>  <span class="hljs-number">3</span>c  <span class="hljs-number">7</span>  <span class="hljs-number">8</span>  <span class="hljs-number">9</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.loc[<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>]<span class="hljs-number">5</span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.loc[<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;A&#x27;</span>:<span class="hljs-string">&#x27;C&#x27;</span>]A    <span class="hljs-number">4</span>B    <span class="hljs-number">5</span>C    <span class="hljs-number">6</span>Name: b, dtype: int64</code></pre><h2><span id="3-2-iloc-wei-zhi-suo-yin"><font color="#4876FF">ã€3.2ã€‘iloc ä½ç½®ç´¢å¼•</font></span></h2><p>ä½œç”¨å’Œ loc ä¸€æ ·ï¼Œä¸è¿‡æ˜¯åŸºäºç´¢å¼•çš„ç¼–å·æ¥ç´¢å¼•ï¼Œå³æ ¹æ® index å’Œ columns çš„ä½ç½®ç¼–å·æ¥é€‰æ‹©æ•°æ®ã€‚</p><h3><span id="3-2-1-series-iloc"><font color="#FFA500">ã€3.2.1ã€‘Series.iloc</font></span></h3><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.iloc.html">https://pandas.pydata.org/docs/reference/api/pandas.Series.iloc.html</a></p><p>åœ¨ Series ä¸­ï¼Œå…è®¸è¾“å…¥ï¼š</p><ul><li>æ•´æ•°ï¼Œä¾‹å¦‚ <code>5</code>ï¼›</li><li>æ•´æ•°åˆ—è¡¨æˆ–æ•°ç»„ï¼Œä¾‹å¦‚ <code>[4, 3, 0]</code>ï¼›</li><li>å…·æœ‰æ•´æ•°çš„åˆ‡ç‰‡å¯¹è±¡ï¼Œä¾‹å¦‚ <code>1:7</code>ã€‚</li></ul><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, -<span class="hljs-number">8</span>, <span class="hljs-number">2</span>], index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obja    <span class="hljs-number">1</span>b    <span class="hljs-number">5</span>c   -<span class="hljs-number">8</span>d    <span class="hljs-number">2</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.iloc[<span class="hljs-number">1</span>]<span class="hljs-number">5</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.iloc[<span class="hljs-number">0</span>:<span class="hljs-number">2</span>]a    <span class="hljs-number">1</span>b    <span class="hljs-number">5</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.iloc[[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>]]a    <span class="hljs-number">1</span>b    <span class="hljs-number">5</span>d    <span class="hljs-number">2</span>dtype: int64</code></pre><h3><span id="3-2-2-dataframe-iloc"><font color="#FFA500">ã€3.2.2ã€‘DataFrame.iloc</font></span></h3><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.iloc.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.iloc.html</a></p><p>åœ¨ DataFrame ä¸­ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ç´¢å¼•<font color="#FF0000"><strong>è¡Œ</strong></font>ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ç´¢å¼•<font color="#FF0000"><strong>åˆ—</strong></font>ï¼Œå…è®¸è¾“å…¥çš„æ ¼å¼å’Œ Series å¤§åŒå°å¼‚ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]], index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>], columns=[<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj   A  B  Ca  <span class="hljs-number">1</span>  <span class="hljs-number">2</span>  <span class="hljs-number">3</span>b  <span class="hljs-number">4</span>  <span class="hljs-number">5</span>  <span class="hljs-number">6</span>c  <span class="hljs-number">7</span>  <span class="hljs-number">8</span>  <span class="hljs-number">9</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.iloc[<span class="hljs-number">1</span>]A    <span class="hljs-number">4</span>B    <span class="hljs-number">5</span>C    <span class="hljs-number">6</span>Name: b, dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.iloc[<span class="hljs-number">0</span>:<span class="hljs-number">2</span>]   A  B  Ca  <span class="hljs-number">1</span>  <span class="hljs-number">2</span>  <span class="hljs-number">3</span>b  <span class="hljs-number">4</span>  <span class="hljs-number">5</span>  <span class="hljs-number">6</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.iloc[[<span class="hljs-number">0</span>, <span class="hljs-number">2</span>]]   A  B  Ca  <span class="hljs-number">1</span>  <span class="hljs-number">2</span>  <span class="hljs-number">3</span>c  <span class="hljs-number">7</span>  <span class="hljs-number">8</span>  <span class="hljs-number">9</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.iloc[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]<span class="hljs-number">6</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.iloc[<span class="hljs-number">1</span>, <span class="hljs-number">0</span>:<span class="hljs-number">2</span>]A    <span class="hljs-number">4</span>B    <span class="hljs-number">5</span>Name: b, dtype: int64</code></pre><h1><span id="4-pandas-chong-xin-suo-yin"><font color="#FF0000">ã€4ã€‘Pandas é‡æ–°ç´¢å¼•</font></span></h1><p>Pandas å¯¹è±¡çš„ä¸€ä¸ªé‡è¦æ–¹æ³•æ˜¯ reindexï¼Œå…¶ä½œç”¨æ˜¯åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå®ƒçš„æ•°æ®ç¬¦åˆæ–°çš„ç´¢å¼•ã€‚ä»¥ <code>DataFrame.reindex</code> ä¸ºä¾‹ï¼ˆSeries ç±»ä¼¼ï¼‰ï¼ŒåŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><p><code>DataFrame.reindex(self, labels=None, index=None, columns=None, axis=None, method=None, copy=True, level=None, fill_value=nan, limit=None, tolerance=None)</code></p><p>éƒ¨åˆ†å‚æ•°æè¿°å¦‚ä¸‹ï¼šï¼ˆå®Œæ•´å‚æ•°è§£é‡Šå‚è§<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.reindex.html">å®˜æ–¹æ–‡æ¡£</a>ï¼‰</p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>index</td><td>ç”¨ä½œç´¢å¼•çš„æ–°åºåˆ—ï¼Œæ—¢å¯ä»¥æ˜¯ index å®ä¾‹ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–åºåˆ—å‹çš„ Python æ•°æ®ç»“æ„</td></tr><tr><td>method</td><td>æ’å€¼ï¼ˆå¡«å……ï¼‰æ–¹å¼ï¼Œå–å€¼å¦‚ä¸‹ï¼š<br><code>None</code>ï¼šä¸å¡«è¡¥ç©ºç™½ï¼›<br><code>pad / ffill</code>ï¼šå°†ä¸Šä¸€ä¸ªæœ‰æ•ˆçš„è§‚æµ‹å€¼å‘å‰ä¼ æ’­åˆ°ä¸‹ä¸€ä¸ªæœ‰æ•ˆçš„è§‚æµ‹å€¼ï¼›<br><code>backfill / bfill</code>ï¼šä½¿ç”¨ä¸‹ä¸€ä¸ªæœ‰æ•ˆè§‚å¯Ÿå€¼æ¥å¡«è¡¥ç©ºç™½ï¼›<br><code>nearest</code>ï¼šä½¿ç”¨æœ€è¿‘çš„æœ‰æ•ˆè§‚æµ‹å€¼æ¥å¡«è¡¥ç©ºç™½ã€‚</td></tr><tr><td>fill_value</td><td>åœ¨é‡æ–°ç´¢å¼•çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦å¼•å…¥ç¼ºå¤±å€¼æ—¶ä½¿ç”¨çš„æ›¿ä»£å€¼</td></tr><tr><td>limit</td><td>å‰å‘æˆ–åå‘å¡«å……æ—¶çš„æœ€å¤§å¡«å……é‡</td></tr><tr><td>tolerance</td><td>å‘å‰æˆ–å‘åå¡«å……æ—¶ï¼Œå¡«å……ä¸å‡†ç¡®åŒ¹é…é¡¹çš„æœ€å¤§é—´è·ï¼ˆç»å¯¹å€¼è·ç¦»ï¼‰</td></tr><tr><td>level</td><td>åœ¨ Multilndex çš„æŒ‡å®šçº§åˆ«ä¸ŠåŒ¹é…ç®€å•ç´¢å¼•ï¼Œå¦åˆ™é€‰å…¶å­é›†</td></tr><tr><td>copy</td><td>é»˜è®¤ä¸º Trueï¼Œæ— è®ºå¦‚ä½•éƒ½å¤åˆ¶ï¼›å¦‚æœä¸º Falseï¼Œåˆ™æ–°æ—§ç›¸ç­‰å°±ä¸å¤åˆ¶</td></tr></tbody></table><p>reindex å°†ä¼šæ ¹æ®æ–°ç´¢å¼•è¿›è¡Œé‡æ’ã€‚å¦‚æœæŸä¸ªç´¢å¼•å€¼å½“å‰ä¸å­˜åœ¨ï¼Œå°±å¼•å…¥ç¼ºå¤±å€¼ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">4.5</span>, <span class="hljs-number">7.2</span>, -<span class="hljs-number">5.3</span>, <span class="hljs-number">3.6</span>], index=[<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>objd    <span class="hljs-number">4.5</span>b    <span class="hljs-number">7.2</span>a   -<span class="hljs-number">5.3</span>c    <span class="hljs-number">3.6</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = obj.reindex([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj2a   -<span class="hljs-number">5.3</span>b    <span class="hljs-number">7.2</span>c    <span class="hljs-number">3.6</span>d    <span class="hljs-number">4.5</span>e    NaNdtype: float64</code></pre><p>å¯¹äºæ—¶é—´åºåˆ—è¿™æ ·çš„æœ‰åºæ•°æ®ï¼Œé‡æ–°ç´¢å¼•æ—¶å¯èƒ½éœ€è¦åšä¸€äº›æ’å€¼å¤„ç†ã€‚method é€‰é¡¹å³å¯è¾¾åˆ°æ­¤ç›®çš„ï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨ ffill å¯ä»¥å®ç°å‰å‘å€¼å¡«å……ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-string">&#x27;purple&#x27;</span>, <span class="hljs-string">&#x27;yellow&#x27;</span>], index=[<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">0</span>      blue<span class="hljs-number">2</span>    purple<span class="hljs-number">4</span>    yellowdtype: <span class="hljs-built_in">object</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = obj.reindex(<span class="hljs-built_in">range</span>(<span class="hljs-number">6</span>), method=<span class="hljs-string">&#x27;ffill&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>obj2<span class="hljs-number">0</span>      blue<span class="hljs-number">1</span>      blue<span class="hljs-number">2</span>    purple<span class="hljs-number">3</span>    purple<span class="hljs-number">4</span>    yellow<span class="hljs-number">5</span>    yellowdtype: <span class="hljs-built_in">object</span></code></pre><p>å€ŸåŠ© DataFrameï¼Œreindexå¯ä»¥ä¿®æ”¹ï¼ˆè¡Œï¼‰ç´¢å¼•å’Œåˆ—ã€‚åªä¼ é€’ä¸€ä¸ªåºåˆ—æ—¶ï¼Œä¼šé‡æ–°ç´¢å¼•ç»“æœçš„è¡Œï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(np.arange(<span class="hljs-number">9</span>).reshape((<span class="hljs-number">3</span>, <span class="hljs-number">3</span>)), index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>], columns=[<span class="hljs-string">&#x27;Ohio&#x27;</span>, <span class="hljs-string">&#x27;Texas&#x27;</span>, <span class="hljs-string">&#x27;California&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj   Ohio  Texas  Californiaa     <span class="hljs-number">0</span>      <span class="hljs-number">1</span>           <span class="hljs-number">2</span>c     <span class="hljs-number">3</span>      <span class="hljs-number">4</span>           <span class="hljs-number">5</span>d     <span class="hljs-number">6</span>      <span class="hljs-number">7</span>           <span class="hljs-number">8</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj2 = obj.reindex([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj2   Ohio  Texas  Californiaa   <span class="hljs-number">0.0</span>    <span class="hljs-number">1.0</span>         <span class="hljs-number">2.0</span>b   NaN    NaN         NaNc   <span class="hljs-number">3.0</span>    <span class="hljs-number">4.0</span>         <span class="hljs-number">5.0</span>d   <span class="hljs-number">6.0</span>    <span class="hljs-number">7.0</span>         <span class="hljs-number">8.0</span></code></pre><p>åˆ—å¯ä»¥ç”¨ columns å…³é”®å­—é‡æ–°ç´¢å¼•ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(np.arange(<span class="hljs-number">9</span>).reshape((<span class="hljs-number">3</span>, <span class="hljs-number">3</span>)), index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>], columns=[<span class="hljs-string">&#x27;Ohio&#x27;</span>, <span class="hljs-string">&#x27;Texas&#x27;</span>, <span class="hljs-string">&#x27;California&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj   Ohio  Texas  Californiaa     <span class="hljs-number">0</span>      <span class="hljs-number">1</span>           <span class="hljs-number">2</span>c     <span class="hljs-number">3</span>      <span class="hljs-number">4</span>           <span class="hljs-number">5</span>d     <span class="hljs-number">6</span>      <span class="hljs-number">7</span>           <span class="hljs-number">8</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>states = [<span class="hljs-string">&#x27;Texas&#x27;</span>, <span class="hljs-string">&#x27;Utah&#x27;</span>, <span class="hljs-string">&#x27;California&#x27;</span>]<span class="hljs-meta">&gt;&gt;&gt; </span>obj.reindex(columns=states)   Texas  Utah  Californiaa      <span class="hljs-number">1</span>   NaN           <span class="hljs-number">2</span>c      <span class="hljs-number">4</span>   NaN           <span class="hljs-number">5</span>d      <span class="hljs-number">7</span>   NaN           <span class="hljs-number">8</span></code></pre><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106698307</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h2&gt;&lt;span id=&quot;wen-zhang-mu-lu&quot;&gt;æ–‡ç« ç›®å½•&lt;/span&gt;&lt;/h2&gt;
&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#font-color-ff0000-1-index-suo-yin-dui-xiang-font&quot;&gt;&lt;font colo</summary>
      
    
    
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    <category term="Pandas" scheme="https://www.itbob.cn/tags/Pandas/"/>
    
  </entry>
  
  <entry>
    <title>Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸€ï¼‰ï¼šè®¤è¯† Pandas åŠå…¶ Seriesã€DataFrame å¯¹è±¡</title>
    <link href="https://www.itbob.cn/article/025/"/>
    <id>https://www.itbob.cn/article/025/</id>
    <published>2020-06-11T12:39:54.000Z</published>
    <updated>2022-05-22T12:37:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="wen-zhang-mu-lu">æ–‡ç« ç›®å½•</span></h2><!-- toc --><ul><li><a href="#font-color-ff0000-01x00-liao-jie-pandas-font"><font color="#FF0000">ã€01x00ã€‘äº†è§£ Pandas</font></a></li><li><a href="#font-color-ff0000-02x00-pandas-shu-ju-jie-gou-font"><font color="#FF0000">ã€02x00ã€‘Pandas æ•°æ®ç»“æ„</font></a></li><li><a href="#font-color-ff0000-03x00-series-dui-xiang-font"><font color="#FF0000">ã€03x00ã€‘Series å¯¹è±¡</font></a><ul><li><a href="#font-color-4876ff-03x01-tong-guo-list-gou-jian-series-font"><font color="#4876FF">ã€03x01ã€‘é€šè¿‡ list æ„å»º Series</font></a></li><li><a href="#font-color-4876ff-03x02-tong-guo-dict-gou-jian-series-font"><font color="#4876FF">ã€03x02ã€‘é€šè¿‡ dict æ„å»º Series</font></a></li><li><a href="#font-color-4876ff-03x03-huo-qu-qi-shu-ju-he-suo-yin-font"><font color="#4876FF">ã€03x03ã€‘è·å–å…¶æ•°æ®å’Œç´¢å¼•</font></a></li><li><a href="#font-color-4876ff-03x04-tong-guo-suo-yin-huo-qu-shu-ju-font"><font color="#4876FF">ã€03x04ã€‘é€šè¿‡ç´¢å¼•è·å–æ•°æ®</font></a></li><li><a href="#font-color-4876ff-03x05-shi-yong-han-shu-yun-suan-font"><font color="#4876FF">ã€03x05ã€‘ä½¿ç”¨å‡½æ•°è¿ç®—</font></a></li><li><a href="#font-color-4876ff-03x06-name-shu-xing-font"><font color="##4876FF">ã€03x06ã€‘name å±æ€§</font></a></li></ul></li><li><a href="#font-color-ff0000-04x00-dataframe-dui-xiang-font"><font color="#FF0000">ã€04x00ã€‘DataFrame å¯¹è±¡</font></a><ul><li><a href="#font-color-4876ff-03x01-tong-guo-ndarray-gou-jian-dataframe-font"><font color="#4876FF">ã€03x01ã€‘é€šè¿‡ ndarray æ„å»º DataFrame</font></a></li><li><a href="#font-color-4876ff-03x02-tong-guo-dict-gou-jian-dataframe-font"><font color="#4876FF">ã€03x02ã€‘é€šè¿‡ dict æ„å»º DataFrame</font></a></li><li><a href="#font-color-4876ff-03x03-huo-qu-qi-shu-ju-he-suo-yin-font-1"><font color="#4876FF">ã€03x03ã€‘è·å–å…¶æ•°æ®å’Œç´¢å¼•</font></a></li><li><a href="#font-color-4876ff-03x04-tong-guo-suo-yin-huo-qu-shu-ju-font-1"><font color="#4876FF">ã€03x04ã€‘é€šè¿‡ç´¢å¼•è·å–æ•°æ®</font></a></li><li><a href="#font-color-4876ff-03x05-xiu-gai-lie-de-zhi-font"><font color="#4876FF">ã€03x05ã€‘ä¿®æ”¹åˆ—çš„å€¼</font></a></li><li><a href="#font-color-4876ff-03x06-zeng-jia-shan-chu-lie-font"><font color="#4876FF">ã€03x06ã€‘å¢åŠ  / åˆ é™¤åˆ—</font></a></li><li><a href="#font-color-4876ff-03x07-name-shu-xing-font"><font color="##4876FF">ã€03x07ã€‘name å±æ€§</font></a></li></ul></li></ul><!-- tocstop --><hr><p>Pandas ç³»åˆ—æ–‡ç« ï¼š</p><ul><li><a href="https://www.itbob.cn/article/025/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸€ï¼‰ï¼šè®¤è¯† Pandas åŠå…¶ Seriesã€DataFrame å¯¹è±¡</a></li><li><a href="https://www.itbob.cn/article/026/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäºŒï¼‰ï¼šIndex ç´¢å¼•å¯¹è±¡ä»¥åŠå„ç§ç´¢å¼•æ“ä½œ</a></li><li><a href="https://www.itbob.cn/article/027/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸‰ï¼‰ï¼šç®—æœ¯è¿ç®—ä¸ç¼ºå¤±å€¼çš„å¤„ç†</a></li><li><a href="https://www.itbob.cn/article/028/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå››ï¼‰ï¼šå‡½æ•°åº”ç”¨ã€æ˜ å°„ã€æ’åºå’Œå±‚çº§ç´¢å¼•</a></li><li><a href="https://www.itbob.cn/article/029/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆäº”ï¼‰ï¼šç»Ÿè®¡è®¡ç®—ä¸ç»Ÿè®¡æè¿°</a></li><li><a href="https://www.itbob.cn/article/030/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…­ï¼‰ï¼šGroupBy æ•°æ®åˆ†è£‚ã€åº”ç”¨ä¸åˆå¹¶</a></li><li><a href="https://www.itbob.cn/article/031/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¸ƒï¼‰ï¼šåˆå¹¶æ•°æ®é›†</a></li><li><a href="https://www.itbob.cn/article/032/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆå…«ï¼‰ï¼šæ•°æ®é‡å¡‘ã€é‡å¤æ•°æ®å¤„ç†ä¸æ•°æ®æ›¿æ¢</a></li><li><a href="https://www.itbob.cn/article/033/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆä¹ï¼‰ï¼šæ—¶é—´åºåˆ—</a></li><li><a href="https://www.itbob.cn/article/034/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Pandasï¼ˆåï¼‰ï¼šæ•°æ®è¯»å†™</a></li></ul><hr><p>ä¸“æ ï¼š</p><ul><li>NumPy ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780393.html">https://itrhx.blog.csdn.net/category_9780393.html</a></li><li>Pandas ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780397.html">https://itrhx.blog.csdn.net/category_9780397.html</a></li><li>Matplotlib ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780418.html">https://itrhx.blog.csdn.net/category_9780418.html</a></li></ul><br>æ¨èå­¦ä¹ èµ„æ–™ä¸ç½‘ç«™ï¼š<br><br><ul><li>NumPy å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.numpy.org.cn/">https://www.numpy.org.cn/</a></li><li>Pandas å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.pypandas.cn/">https://www.pypandas.cn/</a></li><li>Matplotlib å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.matplotlib.org.cn/">https://www.matplotlib.org.cn/</a></li><li>NumPyã€Matplotlibã€Pandas é€ŸæŸ¥è¡¨ï¼š<a href="https://github.com/TRHX/Python-quick-reference-table">https://github.com/TRHX/Python-quick-reference-table</a></li></ul><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106676693</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h2><span id="01x00-liao-jie-pandas"><font color="#FF0000">ã€01x00ã€‘äº†è§£ Pandas</font></span></h2><p><a href="https://pandas.pydata.org/">Pandas</a> æ˜¯ <a href="https://www.python.org/">Python</a> çš„ä¸€ä¸ªæ•°æ®åˆ†æåŒ…ï¼Œæ˜¯åŸºäº <a href="https://numpy.org/">NumPy</a> æ„å»ºçš„ï¼Œæœ€åˆç”± <a href="https://www.aqr.com/">AQR Capital Management</a> äº 2008 å¹´ 4 æœˆå¼€å‘ï¼Œå¹¶äº 2009 å¹´åº•å¼€æºå‡ºæ¥ï¼Œç›®å‰ç”±ä¸“æ³¨äº <a href="https://www.python.org/">Python</a> æ•°æ®åŒ…å¼€å‘çš„ <a href="https://pydata.org/">PyData</a> å¼€å‘å›¢é˜Ÿç»§ç»­å¼€å‘å’Œç»´æŠ¤ï¼Œå±äº <a href="https://pydata.org/">PyData</a> é¡¹ç›®çš„ä¸€éƒ¨åˆ†ã€‚</p><p><a href="https://pandas.pydata.org/">Pandas</a> æœ€åˆè¢«ä½œä¸ºé‡‘èæ•°æ®åˆ†æå·¥å…·è€Œå¼€å‘å‡ºæ¥ï¼Œå› æ­¤ï¼Œ<a href="https://pandas.pydata.org/">Pandas</a> ä¸ºæ—¶é—´åºåˆ—åˆ†ææä¾›äº†å¾ˆå¥½çš„æ”¯æŒã€‚<font color="#FFA500"><strong>Pandas çš„åç§°æ¥è‡ªäºé¢æ¿æ•°æ®ï¼ˆpanel dataï¼‰å’Œ Python æ•°æ®åˆ†æï¼ˆdata analysisï¼‰</strong></font>ã€‚panel data æ˜¯ç»æµå­¦ä¸­å…³äºå¤šç»´æ•°æ®é›†çš„ä¸€ä¸ªæœ¯è¯­ï¼Œåœ¨ <a href="https://pandas.pydata.org/">Pandas</a> ä¸­ä¹Ÿæä¾›äº† panel çš„æ•°æ®ç±»å‹ã€‚</p><p><a href="https://pandas.pydata.org/">Pandas</a> ç»å¸¸å’Œå…¶å®ƒå·¥å…·ä¸€åŒä½¿ç”¨ï¼Œå¦‚æ•°å€¼è®¡ç®—å·¥å…· <a href="https://numpy.org/">NumPy</a> å’Œ <a href="https://www.scipy.org/">SciPy</a>ï¼Œåˆ†æåº“ <a href="https://www.statsmodels.org/">statsmodels</a> å’Œ <a href="https://scikit-learn.org/">scikit-learn</a>ï¼Œæ•°æ®å¯è§†åŒ–åº“ <a href="https://matplotlib.org/">Matplotlib</a> ç­‰ï¼Œè™½ç„¶ <a href="https://pandas.pydata.org/">Pandas</a> é‡‡ç”¨äº†å¤§é‡çš„ NumPy ç¼–ç é£æ ¼ï¼Œä½†äºŒè€…æœ€å¤§çš„ä¸åŒæ˜¯ <font color="#FFA500"><strong>Pandas æ˜¯ä¸“é—¨ä¸ºå¤„ç†è¡¨æ ¼å’Œæ··æ‚æ•°æ®è®¾è®¡çš„ã€‚è€Œ NumPy æ›´é€‚åˆå¤„ç†ç»Ÿä¸€çš„æ•°å€¼æ•°ç»„æ•°æ®ã€‚</strong></font></p><hr><p>ã€ä»¥ä¸‹å¯¹ Pandas çš„è§£é‡Šç¿»è¯‘è‡ªå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://pandas.pydata.org/docs/getting_started/overview.html#package-overview">https://pandas.pydata.org/docs/getting_started/overview.html#package-overview</a>ã€‘</p><hr><p>Pandas æ˜¯ Python çš„æ ¸å¿ƒæ•°æ®åˆ†ææ”¯æŒåº“ï¼Œæä¾›äº†å¿«é€Ÿã€çµæ´»ã€æ˜ç¡®çš„æ•°æ®ç»“æ„ï¼Œæ—¨åœ¨ç®€å•ã€ç›´è§‚åœ°å¤„ç†å…³ç³»å‹ã€æ ‡è®°å‹æ•°æ®ã€‚Pandas çš„ç›®æ ‡æ˜¯æˆä¸º Python æ•°æ®åˆ†æå®è·µä¸å®æˆ˜çš„å¿…å¤‡é«˜çº§å·¥å…·ï¼Œå…¶é•¿è¿œç›®æ ‡æ˜¯æˆä¸º<strong>æœ€å¼ºå¤§ã€æœ€çµæ´»ã€å¯ä»¥æ”¯æŒä»»ä½•è¯­è¨€çš„å¼€æºæ•°æ®åˆ†æå·¥å…·</strong>ã€‚ç»è¿‡å¤šå¹´ä¸æ‡ˆçš„åŠªåŠ›ï¼ŒPandas ç¦»è¿™ä¸ªç›®æ ‡å·²ç»è¶Šæ¥è¶Šè¿‘äº†ã€‚</p><p>Pandas é€‚ç”¨äºå¤„ç†ä»¥ä¸‹ç±»å‹çš„æ•°æ®ï¼š</p><ul><li>ä¸ SQL æˆ– Excel è¡¨ç±»ä¼¼çš„ï¼Œå«å¼‚æ„åˆ—çš„è¡¨æ ¼æ•°æ®;</li><li>æœ‰åºå’Œæ— åºï¼ˆéå›ºå®šé¢‘ç‡ï¼‰çš„æ—¶é—´åºåˆ—æ•°æ®;</li><li>å¸¦è¡Œåˆ—æ ‡ç­¾çš„çŸ©é˜µæ•°æ®ï¼ŒåŒ…æ‹¬åŒæ„æˆ–å¼‚æ„å‹æ•°æ®;</li><li>ä»»æ„å…¶å®ƒå½¢å¼çš„è§‚æµ‹ã€ç»Ÿè®¡æ•°æ®é›†, æ•°æ®è½¬å…¥ Pandas æ•°æ®ç»“æ„æ—¶ä¸å¿…äº‹å…ˆæ ‡è®°ã€‚</li></ul><p>Pandas çš„ä¸»è¦æ•°æ®ç»“æ„æ˜¯ <a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.html#pandas.Series">Series</a>ï¼ˆä¸€ç»´æ•°æ®ï¼‰ä¸ <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a>ï¼ˆäºŒç»´æ•°æ®ï¼‰ï¼Œè¿™ä¸¤ç§æ•°æ®ç»“æ„è¶³ä»¥å¤„ç†- é‡‘èã€ç»Ÿè®¡ã€ç¤¾ä¼šç§‘å­¦ã€å·¥ç¨‹ç­‰é¢†åŸŸé‡Œçš„å¤§å¤šæ•°å…¸å‹ç”¨ä¾‹ã€‚å¯¹äº R è¯­è¨€ç”¨æˆ·ï¼Œ<a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a> æä¾›äº†æ¯” R è¯­è¨€ <code>data.frame</code> æ›´ä¸°å¯Œçš„åŠŸèƒ½ã€‚Pandas åŸºäº <a href="https://www.numpy.org/">NumPy</a> å¼€å‘ï¼Œå¯ä»¥ä¸å…¶å®ƒç¬¬ä¸‰æ–¹ç§‘å­¦è®¡ç®—æ”¯æŒåº“å®Œç¾é›†æˆã€‚</p><p>Pandas å°±åƒä¸€æŠŠä¸‡èƒ½ç‘å£«å†›åˆ€ï¼Œä¸‹é¢ä»…åˆ—å‡ºäº†å®ƒçš„éƒ¨åˆ†ä¼˜åŠ¿ ï¼š</p><ul><li>å¤„ç†æµ®ç‚¹ä¸éæµ®ç‚¹æ•°æ®é‡Œçš„<strong>ç¼ºå¤±æ•°æ®</strong>ï¼Œè¡¨ç¤ºä¸º NaNï¼›</li><li>å¤§å°å¯å˜ï¼š<strong>æ’å…¥æˆ–åˆ é™¤</strong> DataFrame ç­‰å¤šç»´å¯¹è±¡çš„åˆ—ï¼›</li><li>è‡ªåŠ¨ã€æ˜¾å¼<strong>æ•°æ®å¯¹é½</strong>ï¼šæ˜¾å¼åœ°å°†å¯¹è±¡ä¸ä¸€ç»„æ ‡ç­¾å¯¹é½ï¼Œä¹Ÿå¯ä»¥å¿½ç•¥æ ‡ç­¾ï¼Œåœ¨ Seriesã€DataFrame è®¡ç®—æ—¶è‡ªåŠ¨ä¸æ•°æ®å¯¹é½ï¼›</li><li>å¼ºå¤§ã€çµæ´»çš„<strong>åˆ†ç»„</strong>ï¼ˆgroup byï¼‰åŠŸèƒ½ï¼š<strong>æ‹†åˆ†-åº”ç”¨-ç»„åˆ</strong>æ•°æ®é›†ï¼Œèšåˆã€è½¬æ¢æ•°æ®ï¼›</li><li>æŠŠ Python å’Œ NumPy æ•°æ®ç»“æ„é‡Œä¸è§„åˆ™ã€ä¸åŒç´¢å¼•çš„æ•°æ®<strong>è½»æ¾åœ°è½¬æ¢</strong>ä¸º DataFrame å¯¹è±¡ï¼›</li><li>åŸºäºæ™ºèƒ½æ ‡ç­¾ï¼Œå¯¹å¤§å‹æ•°æ®é›†è¿›è¡Œ<strong>åˆ‡ç‰‡ã€èŠ±å¼ç´¢å¼•ã€å­é›†åˆ†è§£</strong>ç­‰æ“ä½œï¼›</li><li>ç›´è§‚åœ°<strong>åˆå¹¶</strong>å’Œ<strong>è¿æ¥</strong>æ•°æ®é›†ï¼›</li><li>çµæ´»åœ°<strong>é‡å¡‘</strong>å’Œ<strong>æ—‹è½¬</strong>æ•°æ®é›†ï¼›</li><li>è½´æ”¯æŒ<strong>åˆ†å±‚</strong>æ ‡ç­¾ï¼ˆæ¯ä¸ªåˆ»åº¦å¯èƒ½æœ‰å¤šä¸ªæ ‡ç­¾ï¼‰ï¼›</li><li>å¼ºå¤§çš„ IO å·¥å…·ï¼Œè¯»å–å¹³é¢æ–‡ä»¶ï¼ˆCSV ç­‰æ”¯æŒåˆ†éš”ç¬¦çš„æ–‡ä»¶ï¼‰ã€Excel æ–‡ä»¶ã€æ•°æ®åº“ç­‰æ¥æºçš„æ•°æ®ï¼Œä»¥åŠä»è¶…å¿« <strong>HDF5 æ ¼å¼</strong>ä¿å­˜ / åŠ è½½æ•°æ®ï¼›</li><li><strong>æ—¶é—´åºåˆ—</strong>ï¼šæ”¯æŒæ—¥æœŸèŒƒå›´ç”Ÿæˆã€é¢‘ç‡è½¬æ¢ã€ç§»åŠ¨çª—å£ç»Ÿè®¡ã€ç§»åŠ¨çª—å£çº¿æ€§å›å½’ã€æ—¥æœŸä½ç§»ç­‰æ—¶é—´åºåˆ—åŠŸèƒ½ã€‚</li></ul><p>è¿™äº›åŠŸèƒ½ä¸»è¦æ˜¯ä¸ºäº†è§£å†³å…¶å®ƒç¼–ç¨‹è¯­è¨€ã€ç§‘ç ”ç¯å¢ƒçš„ç—›ç‚¹ã€‚å¤„ç†æ•°æ®ä¸€èˆ¬åˆ†ä¸ºå‡ ä¸ªé˜¶æ®µï¼šæ•°æ®æ•´ç†ä¸æ¸…æ´—ã€æ•°æ®åˆ†æä¸å»ºæ¨¡ã€æ•°æ®å¯è§†åŒ–ä¸åˆ¶è¡¨ï¼ŒPandas æ˜¯å¤„ç†æ•°æ®çš„ç†æƒ³å·¥å…·ã€‚</p><p>å…¶å®ƒè¯´æ˜ï¼š</p><ul><li>Pandas é€Ÿåº¦å¾ˆå¿«ã€‚Pandas çš„å¾ˆå¤šåº•å±‚ç®—æ³•éƒ½ç”¨ <a href="https://cython.org/">Cython</a> ä¼˜åŒ–è¿‡ã€‚ç„¶è€Œï¼Œä¸ºäº†ä¿æŒé€šç”¨æ€§ï¼Œå¿…ç„¶è¦ç‰ºç‰²ä¸€äº›æ€§èƒ½ï¼Œå¦‚æœä¸“æ³¨æŸä¸€åŠŸèƒ½ï¼Œå®Œå…¨å¯ä»¥å¼€å‘å‡ºæ¯” Pandas æ›´å¿«çš„ä¸“ç”¨å·¥å…·ã€‚</li><li>Pandas æ˜¯ <a href="https://www.statsmodels.org/stable/index.html">statsmodels</a> çš„ä¾èµ–é¡¹ï¼Œå› æ­¤ï¼ŒPandas ä¹Ÿæ˜¯ Python ä¸­ç»Ÿè®¡è®¡ç®—ç”Ÿæ€ç³»ç»Ÿçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚</li><li>Pandas å·²å¹¿æ³›åº”ç”¨äºé‡‘èé¢†åŸŸã€‚</li></ul><h2><span id="02x00-pandas-shu-ju-jie-gou"><font color="#FF0000">ã€02x00ã€‘Pandas æ•°æ®ç»“æ„</font></span></h2><p>Pandas çš„ä¸»è¦æ•°æ®ç»“æ„æ˜¯ <a href="https://pandas.pydata.org/docs/reference/api/pandas.Series.html#pandas.Series">Series</a>ï¼ˆå¸¦æ ‡ç­¾çš„ä¸€ç»´åŒæ„æ•°ç»„ï¼‰ä¸ <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame">DataFrame</a>ï¼ˆå¸¦æ ‡ç­¾çš„ï¼Œå¤§å°å¯å˜çš„äºŒç»´å¼‚æ„è¡¨æ ¼ï¼‰ã€‚</p><p>Pandas æ•°æ®ç»“æ„å°±åƒæ˜¯ä½ç»´æ•°æ®çš„å®¹å™¨ã€‚æ¯”å¦‚ï¼ŒDataFrame æ˜¯ Series çš„å®¹å™¨ï¼ŒSeries åˆ™æ˜¯æ ‡é‡çš„å®¹å™¨ã€‚ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œå¯ä»¥åœ¨å®¹å™¨ä¸­ä»¥å­—å…¸çš„å½¢å¼æ’å…¥æˆ–åˆ é™¤å¯¹è±¡ã€‚</p><p>æ­¤å¤–ï¼Œé€šç”¨ API å‡½æ•°çš„é»˜è®¤æ“ä½œè¦é¡¾åŠæ—¶é—´åºåˆ—ä¸æˆªé¢æ•°æ®é›†çš„æ–¹å‘ã€‚å½“ä½¿ç”¨ Ndarray å­˜å‚¨äºŒç»´æˆ–ä¸‰ç»´æ•°æ®æ—¶ï¼Œç¼–å†™å‡½æ•°è¦æ³¨æ„æ•°æ®é›†çš„æ–¹å‘ï¼Œè¿™å¯¹ç”¨æˆ·æ¥è¯´æ˜¯ä¸€ç§è´Ÿæ‹…ï¼›å¦‚æœä¸è€ƒè™‘ C æˆ– Fortran ä¸­è¿ç»­æ€§å¯¹æ€§èƒ½çš„å½±å“ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸åŒçš„è½´åœ¨ç¨‹åºé‡Œå…¶å®æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚Pandas é‡Œï¼Œè½´çš„æ¦‚å¿µä¸»è¦æ˜¯ä¸ºäº†ç»™æ•°æ®èµ‹äºˆæ›´ç›´è§‚çš„è¯­ä¹‰ï¼Œå³ç”¨æ›´æ°å½“çš„æ–¹å¼è¡¨ç¤ºæ•°æ®é›†çš„æ–¹å‘ã€‚è¿™æ ·åšå¯ä»¥è®©ç”¨æˆ·ç¼–å†™æ•°æ®è½¬æ¢å‡½æ•°æ—¶ï¼Œå°‘è´¹ç‚¹è„‘å­ã€‚</p><p>å¤„ç† DataFrame ç­‰è¡¨æ ¼æ•°æ®æ—¶ï¼Œå¯¹æ¯” Numpyï¼Œ<strong>index</strong>ï¼ˆè¡Œï¼‰æˆ– <strong>columns</strong>ï¼ˆåˆ—ï¼‰æ¯” <strong>axis 0</strong> å’Œ <strong>axis 1</strong> æ›´ç›´è§‚ã€‚ç”¨è¿™ç§æ–¹å¼è¿­ä»£ DataFrame çš„åˆ—ï¼Œä»£ç æ›´æ˜“è¯»æ˜“æ‡‚ï¼š</p><pre><code class="hljs python"><span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> df.columns:    series = df[col]    <span class="hljs-comment"># do something with series</span></code></pre><h2><span id="03x00-series-dui-xiang"><font color="#FF0000">ã€03x00ã€‘Series å¯¹è±¡</font></span></h2><p>Series æ˜¯å¸¦æ ‡ç­¾çš„ä¸€ç»´æ•°ç»„ï¼Œå¯å­˜å‚¨æ•´æ•°ã€æµ®ç‚¹æ•°ã€å­—ç¬¦ä¸²ã€Python å¯¹è±¡ç­‰ç±»å‹çš„æ•°æ®ã€‚è½´æ ‡ç­¾ç»Ÿç§°ä¸ºç´¢å¼•ã€‚è°ƒç”¨ pandas.Series å‡½æ•°å³å¯åˆ›å»º Seriesï¼ŒåŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><p><code>pandas.Series(data=None[, index=None, dtype=None, name=None, copy=False, fastpath=False])</code></p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>data</td><td>æ•°ç»„ç±»å‹ï¼Œå¯è¿­ä»£çš„ï¼Œå­—å…¸æˆ–æ ‡é‡å€¼ï¼Œå­˜å‚¨åœ¨åºåˆ—ä¸­çš„æ•°æ®</td></tr><tr><td>index</td><td>ç´¢å¼•ï¼ˆæ•°æ®æ ‡ç­¾ï¼‰ï¼Œå€¼å¿…é¡»æ˜¯å¯å“ˆå¸Œçš„ï¼Œå¹¶ä¸”å…·æœ‰ä¸æ•°æ®ç›¸åŒçš„é•¿åº¦ï¼Œ<br>å…è®¸ä½¿ç”¨éå”¯ä¸€ç´¢å¼•å€¼ã€‚å¦‚æœæœªæä¾›ï¼Œå°†é»˜è®¤ä¸ºRangeIndexï¼ˆ0ï¼Œ1ï¼Œ2ï¼Œâ€¦ï¼Œnï¼‰</td></tr><tr><td>dtype</td><td>è¾“å‡ºç³»åˆ—çš„æ•°æ®ç±»å‹ã€‚å¯é€‰é¡¹ï¼Œå¦‚æœæœªæŒ‡å®šï¼Œåˆ™å°†ä»æ•°æ®ä¸­æ¨æ–­ï¼Œå…·ä½“å‚è€ƒå®˜ç½‘ <a href="https://pandas.pydata.org/docs/getting_started/basics.html#dtypes">dtypes</a> ä»‹ç»</td></tr><tr><td>name</td><td>str ç±»å‹ï¼Œå¯é€‰é¡¹ï¼Œç»™ Series å‘½å</td></tr><tr><td>copy</td><td>bool ç±»å‹ï¼Œå¯é€‰é¡¹ï¼Œé»˜è®¤ Falseï¼Œæ˜¯å¦å¤åˆ¶è¾“å…¥æ•°æ®</td></tr></tbody></table><p><img src="https://cdn.itbob.cn/img/article/025/01.png" alt="01"></p><h3><span id="03x01-tong-guo-list-gou-jian-series"><font color="#4876FF">ã€03x01ã€‘é€šè¿‡ list æ„å»º Series</font></span></h3><p>ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬åªä¼šç”¨åˆ° data å’Œ index å‚æ•°ï¼Œå¯ä»¥é€šè¿‡ listï¼ˆåˆ—è¡¨ï¼‰ æ„å»º Seriesï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, -<span class="hljs-number">8</span>, <span class="hljs-number">2</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj<span class="hljs-number">0</span>    <span class="hljs-number">1</span><span class="hljs-number">1</span>    <span class="hljs-number">5</span><span class="hljs-number">2</span>   -<span class="hljs-number">8</span><span class="hljs-number">3</span>    <span class="hljs-number">2</span>dtype: int64</code></pre><p>ç”±äºæˆ‘ä»¬æ²¡æœ‰ä¸ºæ•°æ®æŒ‡å®šç´¢å¼•ï¼Œäºæ˜¯ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ª 0 åˆ° N-1ï¼ˆN ä¸ºæ•°æ®çš„é•¿åº¦ï¼‰çš„æ•´æ•°å‹ç´¢å¼•ï¼Œå·¦è¾¹ä¸€åˆ—æ˜¯è‡ªåŠ¨åˆ›å»ºçš„ç´¢å¼•ï¼ˆindexï¼‰ï¼Œå³è¾¹ä¸€åˆ—æ˜¯æ•°æ®ï¼ˆdataï¼‰ã€‚</p><p>æ­¤å¤–ï¼Œè¿˜å¯ä»¥è‡ªå®šä¹‰ç´¢å¼•ï¼ˆindexï¼‰ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, -<span class="hljs-number">8</span>, <span class="hljs-number">2</span>], index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obja    <span class="hljs-number">1</span>b    <span class="hljs-number">5</span>c   -<span class="hljs-number">8</span>d    <span class="hljs-number">2</span>dtype: int64</code></pre><p>ç´¢å¼•ï¼ˆindexï¼‰ä¹Ÿå¯ä»¥é€šè¿‡èµ‹å€¼çš„æ–¹å¼å°±åœ°ä¿®æ”¹ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, -<span class="hljs-number">8</span>, <span class="hljs-number">2</span>], index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obja    <span class="hljs-number">1</span>b    <span class="hljs-number">5</span>c   -<span class="hljs-number">8</span>d    <span class="hljs-number">2</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span>obj.index = [<span class="hljs-string">&#x27;Bob&#x27;</span>, <span class="hljs-string">&#x27;Steve&#x27;</span>, <span class="hljs-string">&#x27;Jeff&#x27;</span>, <span class="hljs-string">&#x27;Ryan&#x27;</span>]<span class="hljs-meta">&gt;&gt;&gt; </span>objBob      <span class="hljs-number">1</span>Steve    <span class="hljs-number">5</span>Jeff    -<span class="hljs-number">8</span>Ryan     <span class="hljs-number">2</span>dtype: int64</code></pre><h3><span id="03x02-tong-guo-dict-gou-jian-series"><font color="#4876FF">ã€03x02ã€‘é€šè¿‡ dict æ„å»º Series</font></span></h3><p>é€šè¿‡ å­—å…¸ï¼ˆdictï¼‰ æ„å»º Seriesï¼Œå­—å…¸çš„é”®ï¼ˆkeyï¼‰ä¼šä½œä¸ºç´¢å¼•ï¼ˆindexï¼‰ï¼Œå­—å…¸çš„å€¼ï¼ˆvalueï¼‰ä¼šä½œä¸ºæ•°æ®ï¼ˆdataï¼‰ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>data = &#123;<span class="hljs-string">&#x27;Beijing&#x27;</span>: <span class="hljs-number">21530000</span>, <span class="hljs-string">&#x27;Shanghai&#x27;</span>: <span class="hljs-number">24280000</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>: <span class="hljs-number">11210000</span>, <span class="hljs-string">&#x27;Zhejiang&#x27;</span>: <span class="hljs-number">58500000</span>&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series(data)<span class="hljs-meta">&gt;&gt;&gt; </span>objBeijing     <span class="hljs-number">21530000</span>Shanghai    <span class="hljs-number">24280000</span>Wuhan       <span class="hljs-number">11210000</span>Zhejiang    <span class="hljs-number">58500000</span>dtype: int64</code></pre><p>å¦‚æœä½ æƒ³æŒ‰ç…§æŸä¸ªç‰¹å®šçš„é¡ºåºè¾“å‡ºç»“æœï¼Œå¯ä»¥ä¼ å…¥æ’å¥½åºçš„å­—å…¸çš„é”®ä»¥æ”¹å˜é¡ºåºï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>data = &#123;<span class="hljs-string">&#x27;Beijing&#x27;</span>: <span class="hljs-number">21530000</span>, <span class="hljs-string">&#x27;Shanghai&#x27;</span>: <span class="hljs-number">24280000</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>: <span class="hljs-number">11210000</span>, <span class="hljs-string">&#x27;Zhejiang&#x27;</span>: <span class="hljs-number">58500000</span>&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>cities = [<span class="hljs-string">&#x27;Guangzhou&#x27;</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Zhejiang&#x27;</span>, <span class="hljs-string">&#x27;Shanghai&#x27;</span>]<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series(data, index=cities)<span class="hljs-meta">&gt;&gt;&gt; </span>objGuangzhou           NaNWuhan        <span class="hljs-number">11210000.0</span>Zhejiang     <span class="hljs-number">58500000.0</span>Shanghai     <span class="hljs-number">24280000.0</span>dtype: float64</code></pre><p><font color="#FF0000"><strong>æ³¨æ„ï¼šdata ä¸ºå­—å…¸ï¼Œä¸”æœªè®¾ç½® index å‚æ•°æ—¶ï¼š</strong></font></p><ul><li><font color="#FF0000"><strong>å¦‚æœ Python &gt;= 3.6 ä¸” Pandas &gt;= 0.23ï¼ŒSeries æŒ‰å­—å…¸çš„æ’å…¥é¡ºåºæ’åºç´¢å¼•ã€‚</strong></font></li><li><font color="#FF0000"><strong>å¦‚æœ Python &lt; 3.6 æˆ– Pandas &lt; 0.23ï¼ŒSeries æŒ‰å­—æ¯é¡ºåºæ’åºç´¢å¼•ã€‚</strong></font></li></ul><h3><span id="03x03-huo-qu-qi-shu-ju-he-suo-yin"><font color="#4876FF">ã€03x03ã€‘è·å–å…¶æ•°æ®å’Œç´¢å¼•</font></span></h3><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ Series çš„ values å’Œ index å±æ€§è·å–å…¶æ•°æ®å’Œç´¢å¼•å¯¹è±¡ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, -<span class="hljs-number">8</span>, <span class="hljs-number">2</span>], index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj.valuesarray([ <span class="hljs-number">1</span>,  <span class="hljs-number">5</span>, -<span class="hljs-number">8</span>,  <span class="hljs-number">2</span>], dtype=int64)<span class="hljs-meta">&gt;&gt;&gt; </span>obj.indexIndex([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>], dtype=<span class="hljs-string">&#x27;object&#x27;</span>)</code></pre><h3><span id="03x04-tong-guo-suo-yin-huo-qu-shu-ju"><font color="#4876FF">ã€03x04ã€‘é€šè¿‡ç´¢å¼•è·å–æ•°æ®</font></span></h3><p>ä¸æ™®é€š NumPy æ•°ç»„ç›¸æ¯”ï¼ŒPandas å¯ä»¥é€šè¿‡ç´¢å¼•çš„æ–¹å¼é€‰å– Series ä¸­çš„å•ä¸ªæˆ–ä¸€ç»„å€¼ï¼Œè·å–ä¸€ç»„å€¼æ—¶ï¼Œä¼ å…¥çš„æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­çš„å…ƒç´ æ˜¯ç´¢å¼•å€¼ï¼Œå¦å¤–è¿˜å¯ä»¥é€šè¿‡ç´¢å¼•æ¥ä¿®æ”¹å…¶å¯¹åº”çš„å€¼ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, -<span class="hljs-number">8</span>, <span class="hljs-number">2</span>], index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obja    <span class="hljs-number">1</span>b    <span class="hljs-number">5</span>c   -<span class="hljs-number">8</span>d    <span class="hljs-number">2</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-string">&#x27;a&#x27;</span>]<span class="hljs-number">1</span><span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-string">&#x27;a&#x27;</span>] = <span class="hljs-number">3</span><span class="hljs-meta">&gt;&gt;&gt; </span>obj[[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]]a    <span class="hljs-number">3</span>b    <span class="hljs-number">5</span>c   -<span class="hljs-number">8</span>dtype: int64</code></pre><h3><span id="03x05-shi-yong-han-shu-yun-suan"><font color="#4876FF">ã€03x05ã€‘ä½¿ç”¨å‡½æ•°è¿ç®—</font></span></h3><p>åœ¨ Pandas ä¸­å¯ä»¥ä½¿ç”¨ NumPy å‡½æ•°æˆ–ç±»ä¼¼ NumPy çš„è¿ç®—ï¼ˆå¦‚æ ¹æ®å¸ƒå°”å‹æ•°ç»„è¿›è¡Œè¿‡æ»¤ã€æ ‡é‡ä¹˜æ³•ã€åº”ç”¨æ•°å­¦å‡½æ•°ç­‰ï¼‰ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, -<span class="hljs-number">8</span>, <span class="hljs-number">2</span>], index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj[obj &gt; <span class="hljs-number">0</span>]a    <span class="hljs-number">1</span>b    <span class="hljs-number">5</span>d    <span class="hljs-number">2</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span>obj * <span class="hljs-number">2</span>a     <span class="hljs-number">2</span>b    <span class="hljs-number">10</span>c   -<span class="hljs-number">16</span>d     <span class="hljs-number">4</span>dtype: int64<span class="hljs-meta">&gt;&gt;&gt; </span>np.exp(obj)a      <span class="hljs-number">2.718282</span>b    <span class="hljs-number">148.413159</span>c      <span class="hljs-number">0.000335</span>d      <span class="hljs-number">7.389056</span>dtype: float64</code></pre><p>é™¤äº†è¿™äº›è¿ç®—å‡½æ•°ä»¥å¤–ï¼Œè¿˜å¯ä»¥å°† Series çœ‹æˆæ˜¯ä¸€ä¸ªå®šé•¿çš„æœ‰åºå­—å…¸ï¼Œå› ä¸ºå®ƒæ˜¯ç´¢å¼•å€¼åˆ°æ•°æ®å€¼çš„ä¸€ä¸ªæ˜ å°„ã€‚å®ƒå¯ä»¥ç”¨åœ¨è®¸å¤šåŸæœ¬éœ€è¦å­—å…¸å‚æ•°çš„å‡½æ•°ä¸­ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, -<span class="hljs-number">8</span>, <span class="hljs-number">2</span>], index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;a&#x27;</span> <span class="hljs-keyword">in</span> obj<span class="hljs-literal">True</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;e&#x27;</span> <span class="hljs-keyword">in</span> obj<span class="hljs-literal">False</span></code></pre><p>å’Œ NumPy ç±»ä¼¼ï¼ŒPandas ä¸­ä¹Ÿæœ‰ NaNï¼ˆå³éæ•°å­—ï¼Œnot a numberï¼‰ï¼Œåœ¨ Pandas ä¸­ï¼Œå®ƒç”¨äºè¡¨ç¤ºç¼ºå¤±å€¼ï¼ŒPandas çš„ isnull å’Œ notnull å‡½æ•°å¯ç”¨äºæ£€æµ‹ç¼ºå¤±æ•°æ®ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series([np.NaN, <span class="hljs-number">5</span>, -<span class="hljs-number">8</span>, <span class="hljs-number">2</span>], index=[<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obja    NaNb    <span class="hljs-number">5.0</span>c   -<span class="hljs-number">8.0</span>d    <span class="hljs-number">2.0</span>dtype: float64<span class="hljs-meta">&gt;&gt;&gt; </span>pd.isnull(obj)a     <span class="hljs-literal">True</span>b    <span class="hljs-literal">False</span>c    <span class="hljs-literal">False</span>d    <span class="hljs-literal">False</span>dtype: <span class="hljs-built_in">bool</span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.notnull(obj)a    <span class="hljs-literal">False</span>b     <span class="hljs-literal">True</span>c     <span class="hljs-literal">True</span>d     <span class="hljs-literal">True</span>dtype: <span class="hljs-built_in">bool</span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.isnull()a     <span class="hljs-literal">True</span>b    <span class="hljs-literal">False</span>c    <span class="hljs-literal">False</span>d    <span class="hljs-literal">False</span>dtype: <span class="hljs-built_in">bool</span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.notnull()a    <span class="hljs-literal">False</span>b     <span class="hljs-literal">True</span>c     <span class="hljs-literal">True</span>d     <span class="hljs-literal">True</span>dtype: <span class="hljs-built_in">bool</span></code></pre><h3><span id="03x06-name-shu-xing"><font color="##4876FF">ã€03x06ã€‘name å±æ€§</font></span></h3><p>å¯ä»¥åœ¨ <code>pandas.Series</code> æ–¹æ³•ä¸­ä¸º Series å¯¹è±¡æŒ‡å®šä¸€ä¸ª nameï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>data = &#123;<span class="hljs-string">&#x27;Beijing&#x27;</span>: <span class="hljs-number">21530000</span>, <span class="hljs-string">&#x27;Shanghai&#x27;</span>: <span class="hljs-number">24280000</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>: <span class="hljs-number">11210000</span>, <span class="hljs-string">&#x27;Zhejiang&#x27;</span>: <span class="hljs-number">58500000</span>&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series(data, name=<span class="hljs-string">&#x27;population&#x27;</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>objBeijing     <span class="hljs-number">21530000</span>Shanghai    <span class="hljs-number">24280000</span>Wuhan       <span class="hljs-number">11210000</span>Zhejiang    <span class="hljs-number">58500000</span>Name: population, dtype: int64</code></pre><p>ä¹Ÿå¯ä»¥é€šè¿‡ name å’Œ <a href="http://index.name">index.name</a> å±æ€§ä¸º Series å¯¹è±¡å’Œå…¶ç´¢å¼•æŒ‡å®š nameï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>data = &#123;<span class="hljs-string">&#x27;Beijing&#x27;</span>: <span class="hljs-number">21530000</span>, <span class="hljs-string">&#x27;Shanghai&#x27;</span>: <span class="hljs-number">24280000</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>: <span class="hljs-number">11210000</span>, <span class="hljs-string">&#x27;Zhejiang&#x27;</span>: <span class="hljs-number">58500000</span>&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.Series(data)<span class="hljs-meta">&gt;&gt;&gt; </span>obj.name = <span class="hljs-string">&#x27;population&#x27;</span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.index.name = <span class="hljs-string">&#x27;cities&#x27;</span><span class="hljs-meta">&gt;&gt;&gt; </span>objcitiesBeijing     <span class="hljs-number">21530000</span>Shanghai    <span class="hljs-number">24280000</span>Wuhan       <span class="hljs-number">11210000</span>Zhejiang    <span class="hljs-number">58500000</span>Name: population, dtype: int64</code></pre><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106676693</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr><h2><span id="04x00-dataframe-dui-xiang"><font color="#FF0000">ã€04x00ã€‘DataFrame å¯¹è±¡</font></span></h2><p>DataFrame æ˜¯ä¸€ä¸ªè¡¨æ ¼å‹çš„æ•°æ®ç»“æ„ï¼Œå®ƒå«æœ‰ä¸€ç»„æœ‰åºçš„åˆ—ï¼Œæ¯åˆ—å¯ä»¥æ˜¯ä¸åŒçš„å€¼ç±»å‹ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ç­‰ï¼‰ã€‚DataFrame æ—¢æœ‰è¡Œç´¢å¼•ä¹Ÿæœ‰åˆ—ç´¢å¼•ï¼Œå®ƒå¯ä»¥è¢«çœ‹åšç”± Series ç»„æˆçš„å­—å…¸ï¼ˆå…±ç”¨åŒä¸€ä¸ªç´¢å¼•ï¼‰ã€‚DataFrame ä¸­çš„æ•°æ®æ˜¯ä»¥ä¸€ä¸ªæˆ–å¤šä¸ªäºŒç»´å—å­˜æ”¾çš„ï¼ˆè€Œä¸æ˜¯åˆ—è¡¨ã€å­—å…¸æˆ–åˆ«çš„ä¸€ç»´æ•°æ®ç»“æ„ï¼‰ã€‚</p><ul><li>ç±»ä¼¼å¤šç»´æ•°ç»„/è¡¨æ ¼æ•°æ® (å¦‚Excelã€R è¯­è¨€ä¸­çš„ data.frame)ï¼›</li><li>æ¯åˆ—æ•°æ®å¯ä»¥æ˜¯ä¸åŒçš„ç±»å‹ï¼›</li><li>ç´¢å¼•åŒ…æ‹¬åˆ—ç´¢å¼•å’Œè¡Œç´¢å¼•</li></ul><p>åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><p><code>pandas.DataFrame(data=None, index: Optional[Collection] = None, columns: Optional[Collection] = None, dtype: Union[str, numpy.dtype, ExtensionDtype, None] = None, copy: bool = False)</code></p><table><thead><tr><th>å‚æ•°</th><th>æè¿°</th></tr></thead><tbody><tr><td>data</td><td>ndarray å¯¹è±¡ï¼ˆç»“æ„åŒ–æˆ–åŒç±»çš„ï¼‰ã€å¯è¿­ä»£çš„æˆ–è€…å­—å…¸å½¢å¼ï¼Œå­˜å‚¨åœ¨åºåˆ—ä¸­çš„æ•°æ®</td></tr><tr><td>index</td><td>æ•°ç»„ç±»å‹ï¼Œç´¢å¼•ï¼ˆæ•°æ®æ ‡ç­¾ï¼‰ï¼Œå¦‚æœæœªæä¾›ï¼Œå°†é»˜è®¤ä¸º RangeIndexï¼ˆ0ï¼Œ1ï¼Œ2ï¼Œâ€¦ï¼Œnï¼‰</td></tr><tr><td>columns</td><td>åˆ—æ ‡ç­¾ã€‚å¦‚æœæœªæä¾›ï¼Œåˆ™å°†é»˜è®¤ä¸º RangeIndexï¼ˆ0ã€1ã€2ã€â€¦ã€nï¼‰</td></tr><tr><td>dtype</td><td>è¾“å‡ºç³»åˆ—çš„æ•°æ®ç±»å‹ã€‚å¯é€‰é¡¹ï¼Œå¦‚æœæœªæŒ‡å®šï¼Œåˆ™å°†ä»æ•°æ®ä¸­æ¨æ–­ï¼Œå…·ä½“å‚è€ƒå®˜ç½‘ <a href="https://pandas.pydata.org/docs/getting_started/basics.html#dtypes">dtypes</a> ä»‹ç»</td></tr><tr><td>copy</td><td>bool ç±»å‹ï¼Œå¯é€‰é¡¹ï¼Œé»˜è®¤ Falseï¼Œæ˜¯å¦å¤åˆ¶è¾“å…¥æ•°æ®ï¼Œä»…å½±å“ DataFrame/2d ndarray è¾“å…¥</td></tr></tbody></table><p><img src="https://cdn.itbob.cn/img/article/025/02.png" alt="02"></p><h3><span id="03x01-tong-guo-ndarray-gou-jian-dataframe"><font color="#4876FF">ã€03x01ã€‘é€šè¿‡ ndarray æ„å»º DataFrame</font></span></h3><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>data = np.random.randn(<span class="hljs-number">5</span>,<span class="hljs-number">3</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>dataarray([[-<span class="hljs-number">2.16231157</span>,  <span class="hljs-number">0.44967198</span>, -<span class="hljs-number">0.73131523</span>],       [ <span class="hljs-number">1.18982913</span>,  <span class="hljs-number">0.94670798</span>,  <span class="hljs-number">0.82973421</span>],       [-<span class="hljs-number">1.57680831</span>, -<span class="hljs-number">0.99732066</span>,  <span class="hljs-number">0.96432</span>   ],       [-<span class="hljs-number">0.77483149</span>, -<span class="hljs-number">1.23802881</span>,  <span class="hljs-number">0.44061227</span>],       [ <span class="hljs-number">1.77666419</span>,  <span class="hljs-number">0.24931983</span>, -<span class="hljs-number">1.12960153</span>]])<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(data)<span class="hljs-meta">&gt;&gt;&gt; </span>obj          <span class="hljs-number">0</span>         <span class="hljs-number">1</span>         <span class="hljs-number">2</span><span class="hljs-number">0</span> -<span class="hljs-number">2.162312</span>  <span class="hljs-number">0.449672</span> -<span class="hljs-number">0.731315</span><span class="hljs-number">1</span>  <span class="hljs-number">1.189829</span>  <span class="hljs-number">0.946708</span>  <span class="hljs-number">0.829734</span><span class="hljs-number">2</span> -<span class="hljs-number">1.576808</span> -<span class="hljs-number">0.997321</span>  <span class="hljs-number">0.964320</span><span class="hljs-number">3</span> -<span class="hljs-number">0.774831</span> -<span class="hljs-number">1.238029</span>  <span class="hljs-number">0.440612</span><span class="hljs-number">4</span>  <span class="hljs-number">1.776664</span>  <span class="hljs-number">0.249320</span> -<span class="hljs-number">1.129602</span></code></pre><p>æŒ‡å®šç´¢å¼•ï¼ˆindexï¼‰å’Œåˆ—æ ‡ç­¾ï¼ˆcolumnsï¼‰ï¼Œå’Œ Series å¯¹è±¡ç±»ä¼¼ï¼Œå¯ä»¥åœ¨æ„å»ºçš„æ—¶å€™æ·»åŠ ç´¢å¼•å’Œæ ‡ç­¾ï¼Œä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡èµ‹å€¼çš„æ–¹å¼å°±åœ°ä¿®æ”¹ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>data = np.random.randn(<span class="hljs-number">5</span>,<span class="hljs-number">3</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>index = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>]<span class="hljs-meta">&gt;&gt;&gt; </span>columns = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>]<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(data, index, columns)<span class="hljs-meta">&gt;&gt;&gt; </span>obj          A         B         Ca -<span class="hljs-number">1.042909</span> -<span class="hljs-number">0.238236</span> -<span class="hljs-number">1.050308</span>b  <span class="hljs-number">0.587079</span>  <span class="hljs-number">0.739683</span> -<span class="hljs-number">0.233624</span>c -<span class="hljs-number">0.451254</span> -<span class="hljs-number">0.638496</span>  <span class="hljs-number">1.708807</span>d -<span class="hljs-number">0.620158</span> -<span class="hljs-number">1.875929</span> -<span class="hljs-number">0.432382</span>e -<span class="hljs-number">1.093815</span>  <span class="hljs-number">0.396965</span> -<span class="hljs-number">0.759479</span>&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj.index = [<span class="hljs-string">&#x27;A1&#x27;</span>, <span class="hljs-string">&#x27;A2&#x27;</span>, <span class="hljs-string">&#x27;A3&#x27;</span>, <span class="hljs-string">&#x27;A4&#x27;</span>, <span class="hljs-string">&#x27;A5&#x27;</span>]<span class="hljs-meta">&gt;&gt;&gt; </span>obj.columns = [<span class="hljs-string">&#x27;B1&#x27;</span>, <span class="hljs-string">&#x27;B2&#x27;</span>, <span class="hljs-string">&#x27;B3&#x27;</span>]<span class="hljs-meta">&gt;&gt;&gt; </span>obj          B1        B2        B3A1 -<span class="hljs-number">1.042909</span> -<span class="hljs-number">0.238236</span> -<span class="hljs-number">1.050308</span>A2  <span class="hljs-number">0.587079</span>  <span class="hljs-number">0.739683</span> -<span class="hljs-number">0.233624</span>A3 -<span class="hljs-number">0.451254</span> -<span class="hljs-number">0.638496</span>  <span class="hljs-number">1.708807</span>A4 -<span class="hljs-number">0.620158</span> -<span class="hljs-number">1.875929</span> -<span class="hljs-number">0.432382</span>A5 -<span class="hljs-number">1.093815</span>  <span class="hljs-number">0.396965</span> -<span class="hljs-number">0.759479</span></code></pre><h3><span id="03x02-tong-guo-dict-gou-jian-dataframe"><font color="#4876FF">ã€03x02ã€‘é€šè¿‡ dict æ„å»º DataFrame</font></span></h3><p>é€šè¿‡ å­—å…¸ï¼ˆdictï¼‰ æ„å»º DataFrameï¼Œå­—å…¸çš„é”®ï¼ˆkeyï¼‰ä¼šä½œä¸ºåˆ—æ ‡ç­¾ï¼ˆcolumnsï¼‰ï¼Œå­—å…¸çš„å€¼ï¼ˆvalueï¼‰ä¼šä½œä¸ºæ•°æ®ï¼ˆdataï¼‰ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>data = &#123;<span class="hljs-string">&#x27;city&#x27;</span>: [<span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>],        <span class="hljs-string">&#x27;year&#x27;</span>: [<span class="hljs-number">2017</span>, <span class="hljs-number">2018</span>, <span class="hljs-number">2019</span>, <span class="hljs-number">2017</span>, <span class="hljs-number">2018</span>, <span class="hljs-number">2019</span>],        <span class="hljs-string">&#x27;people&#x27;</span>: [<span class="hljs-number">10892900</span>, <span class="hljs-number">11081000</span>, <span class="hljs-number">11212000</span>, <span class="hljs-number">21707000</span>, <span class="hljs-number">21542000</span>, <span class="hljs-number">21536000</span>]&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(data)<span class="hljs-meta">&gt;&gt;&gt; </span>obj      city  year    people<span class="hljs-number">0</span>    Wuhan  <span class="hljs-number">2017</span>  <span class="hljs-number">10892900</span><span class="hljs-number">1</span>    Wuhan  <span class="hljs-number">2018</span>  <span class="hljs-number">11081000</span><span class="hljs-number">2</span>    Wuhan  <span class="hljs-number">2019</span>  <span class="hljs-number">11212000</span><span class="hljs-number">3</span>  Beijing  <span class="hljs-number">2017</span>  <span class="hljs-number">21707000</span><span class="hljs-number">4</span>  Beijing  <span class="hljs-number">2018</span>  <span class="hljs-number">21542000</span><span class="hljs-number">5</span>  Beijing  <span class="hljs-number">2019</span>  <span class="hljs-number">21536000</span></code></pre><p>å¦‚æœæŒ‡å®šäº†åˆ—åºåˆ—ï¼Œåˆ™ DataFrame çš„åˆ—å°±ä¼šæŒ‰ç…§æŒ‡å®šé¡ºåºè¿›è¡Œæ’åˆ—ï¼Œå¦‚æœä¼ å…¥çš„åˆ—åœ¨æ•°æ®ä¸­æ‰¾ä¸åˆ°ï¼Œå°±ä¼šåœ¨ç»“æœä¸­äº§ç”Ÿç¼ºå¤±å€¼ï¼ˆNaNï¼‰ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>data = &#123;<span class="hljs-string">&#x27;city&#x27;</span>: [<span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>],        <span class="hljs-string">&#x27;year&#x27;</span>: [<span class="hljs-number">2017</span>, <span class="hljs-number">2018</span>, <span class="hljs-number">2019</span>, <span class="hljs-number">2017</span>, <span class="hljs-number">2018</span>, <span class="hljs-number">2019</span>],        <span class="hljs-string">&#x27;people&#x27;</span>: [<span class="hljs-number">10892900</span>, <span class="hljs-number">11081000</span>, <span class="hljs-number">11212000</span>, <span class="hljs-number">21707000</span>, <span class="hljs-number">21542000</span>, <span class="hljs-number">21536000</span>]&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>pd.DataFrame(data)      city  year    people<span class="hljs-number">0</span>    Wuhan  <span class="hljs-number">2017</span>  <span class="hljs-number">10892900</span><span class="hljs-number">1</span>    Wuhan  <span class="hljs-number">2018</span>  <span class="hljs-number">11081000</span><span class="hljs-number">2</span>    Wuhan  <span class="hljs-number">2019</span>  <span class="hljs-number">11212000</span><span class="hljs-number">3</span>  Beijing  <span class="hljs-number">2017</span>  <span class="hljs-number">21707000</span><span class="hljs-number">4</span>  Beijing  <span class="hljs-number">2018</span>  <span class="hljs-number">21542000</span><span class="hljs-number">5</span>  Beijing  <span class="hljs-number">2019</span>  <span class="hljs-number">21536000</span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.DataFrame(data, columns=[<span class="hljs-string">&#x27;year&#x27;</span>, <span class="hljs-string">&#x27;city&#x27;</span>, <span class="hljs-string">&#x27;people&#x27;</span>])   year     city    people<span class="hljs-number">0</span>  <span class="hljs-number">2017</span>    Wuhan  <span class="hljs-number">10892900</span><span class="hljs-number">1</span>  <span class="hljs-number">2018</span>    Wuhan  <span class="hljs-number">11081000</span><span class="hljs-number">2</span>  <span class="hljs-number">2019</span>    Wuhan  <span class="hljs-number">11212000</span><span class="hljs-number">3</span>  <span class="hljs-number">2017</span>  Beijing  <span class="hljs-number">21707000</span><span class="hljs-number">4</span>  <span class="hljs-number">2018</span>  Beijing  <span class="hljs-number">21542000</span><span class="hljs-number">5</span>  <span class="hljs-number">2019</span>  Beijing  <span class="hljs-number">21536000</span><span class="hljs-meta">&gt;&gt;&gt; </span>pd.DataFrame(data, columns=[<span class="hljs-string">&#x27;year&#x27;</span>, <span class="hljs-string">&#x27;city&#x27;</span>, <span class="hljs-string">&#x27;people&#x27;</span>, <span class="hljs-string">&#x27;money&#x27;</span>])   year     city    people money<span class="hljs-number">0</span>  <span class="hljs-number">2017</span>    Wuhan  <span class="hljs-number">10892900</span>   NaN<span class="hljs-number">1</span>  <span class="hljs-number">2018</span>    Wuhan  <span class="hljs-number">11081000</span>   NaN<span class="hljs-number">2</span>  <span class="hljs-number">2019</span>    Wuhan  <span class="hljs-number">11212000</span>   NaN<span class="hljs-number">3</span>  <span class="hljs-number">2017</span>  Beijing  <span class="hljs-number">21707000</span>   NaN<span class="hljs-number">4</span>  <span class="hljs-number">2018</span>  Beijing  <span class="hljs-number">21542000</span>   NaN<span class="hljs-number">5</span>  <span class="hljs-number">2019</span>  Beijing  <span class="hljs-number">21536000</span>   NaN</code></pre><p><font color="#FF0000"><strong>æ³¨æ„ï¼šdata ä¸ºå­—å…¸ï¼Œä¸”æœªè®¾ç½® columns å‚æ•°æ—¶ï¼š</strong></font></p><ul><li><p><font color="#FF0000"><strong>Python &gt; = 3.6 ä¸” Pandas &gt; = 0.23ï¼ŒDataFrame çš„åˆ—æŒ‰å­—å…¸çš„æ’å…¥é¡ºåºæ’åºã€‚</strong></font></p></li><li><p><font color="#FF0000"><strong>Python &lt; 3.6 æˆ– Pandas &lt; 0.23ï¼ŒDataFrame çš„åˆ—æŒ‰å­—å…¸é”®çš„å­—æ¯æ’åºã€‚</strong></font></p></li></ul><h3><span id="03x03-huo-qu-qi-shu-ju-he-suo-yin"><font color="#4876FF">ã€03x03ã€‘è·å–å…¶æ•°æ®å’Œç´¢å¼•</font></span></h3><p>å’Œ Series ä¸€æ ·ï¼ŒDataFrame ä¹Ÿå¯ä»¥é€šè¿‡å…¶ values å’Œ index å±æ€§è·å–å…¶æ•°æ®å’Œç´¢å¼•å¯¹è±¡ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>data = &#123;<span class="hljs-string">&#x27;city&#x27;</span>: [<span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>],    <span class="hljs-string">&#x27;year&#x27;</span>: [<span class="hljs-number">2017</span>, <span class="hljs-number">2018</span>, <span class="hljs-number">2019</span>, <span class="hljs-number">2017</span>, <span class="hljs-number">2018</span>, <span class="hljs-number">2019</span>],        <span class="hljs-string">&#x27;people&#x27;</span>: [<span class="hljs-number">10892900</span>, <span class="hljs-number">11081000</span>, <span class="hljs-number">11212000</span>, <span class="hljs-number">21707000</span>, <span class="hljs-number">21542000</span>, <span class="hljs-number">21536000</span>]&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(data)<span class="hljs-meta">&gt;&gt;&gt; </span>obj.indexRangeIndex(start=<span class="hljs-number">0</span>, stop=<span class="hljs-number">6</span>, step=<span class="hljs-number">1</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>obj.valuesarray([[<span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-number">2017</span>, <span class="hljs-number">10892900</span>],       [<span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-number">2018</span>, <span class="hljs-number">11081000</span>],       [<span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-number">2019</span>, <span class="hljs-number">11212000</span>],       [<span class="hljs-string">&#x27;Beijing&#x27;</span>, <span class="hljs-number">2017</span>, <span class="hljs-number">21707000</span>],       [<span class="hljs-string">&#x27;Beijing&#x27;</span>, <span class="hljs-number">2018</span>, <span class="hljs-number">21542000</span>],       [<span class="hljs-string">&#x27;Beijing&#x27;</span>, <span class="hljs-number">2019</span>, <span class="hljs-number">21536000</span>]], dtype=<span class="hljs-built_in">object</span>)</code></pre><h3><span id="03x04-tong-guo-suo-yin-huo-qu-shu-ju"><font color="#4876FF">ã€03x04ã€‘é€šè¿‡ç´¢å¼•è·å–æ•°æ®</font></span></h3><p>é€šè¿‡ç±»ä¼¼å­—å…¸æ ‡è®°çš„æ–¹å¼æˆ–å±æ€§çš„æ–¹å¼ï¼Œå¯ä»¥å°† DataFrame çš„åˆ—è·å–ä¸ºä¸€ä¸ª Series å¯¹è±¡ï¼›</p><p>è¡Œä¹Ÿå¯ä»¥é€šè¿‡ä½ç½®æˆ–åç§°çš„æ–¹å¼è¿›è¡Œè·å–ï¼Œæ¯”å¦‚ç”¨ loc å±æ€§ï¼›</p><p>å¯¹äºç‰¹åˆ«å¤§çš„ DataFrameï¼Œæœ‰ä¸€ä¸ª head æ–¹æ³•å¯ä»¥é€‰å–å‰äº”è¡Œæ•°æ®ã€‚</p><p>ç”¨æ³•ç¤ºä¾‹ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>data = &#123;<span class="hljs-string">&#x27;city&#x27;</span>: [<span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>],    <span class="hljs-string">&#x27;year&#x27;</span>: [<span class="hljs-number">2017</span>, <span class="hljs-number">2018</span>, <span class="hljs-number">2019</span>, <span class="hljs-number">2017</span>, <span class="hljs-number">2018</span>, <span class="hljs-number">2019</span>],        <span class="hljs-string">&#x27;people&#x27;</span>: [<span class="hljs-number">10892900</span>, <span class="hljs-number">11081000</span>, <span class="hljs-number">11212000</span>, <span class="hljs-number">21707000</span>, <span class="hljs-number">21542000</span>, <span class="hljs-number">21536000</span>]&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(data)<span class="hljs-meta">&gt;&gt;&gt; </span>obj      city  year    people<span class="hljs-number">0</span>    Wuhan  <span class="hljs-number">2017</span>  <span class="hljs-number">10892900</span><span class="hljs-number">1</span>    Wuhan  <span class="hljs-number">2018</span>  <span class="hljs-number">11081000</span><span class="hljs-number">2</span>    Wuhan  <span class="hljs-number">2019</span>  <span class="hljs-number">11212000</span><span class="hljs-number">3</span>  Beijing  <span class="hljs-number">2017</span>  <span class="hljs-number">21707000</span><span class="hljs-number">4</span>  Beijing  <span class="hljs-number">2018</span>  <span class="hljs-number">21542000</span><span class="hljs-number">5</span>  Beijing  <span class="hljs-number">2019</span>  <span class="hljs-number">21536000</span>&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-string">&#x27;city&#x27;</span>]<span class="hljs-number">0</span>      Wuhan<span class="hljs-number">1</span>      Wuhan<span class="hljs-number">2</span>      Wuhan<span class="hljs-number">3</span>    Beijing<span class="hljs-number">4</span>    Beijing<span class="hljs-number">5</span>    BeijingName: city, dtype: <span class="hljs-built_in">object</span>&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj.year<span class="hljs-number">0</span>    <span class="hljs-number">2017</span><span class="hljs-number">1</span>    <span class="hljs-number">2018</span><span class="hljs-number">2</span>    <span class="hljs-number">2019</span><span class="hljs-number">3</span>    <span class="hljs-number">2017</span><span class="hljs-number">4</span>    <span class="hljs-number">2018</span><span class="hljs-number">5</span>    <span class="hljs-number">2019</span>Name: year, dtype: int64&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">type</span>(obj.year)&lt;<span class="hljs-class"><span class="hljs-keyword">class</span> &#x27;<span class="hljs-title">pandas</span>.<span class="hljs-title">core</span>.<span class="hljs-title">series</span>.<span class="hljs-title">Series</span>&#x27;&gt;</span><span class="hljs-class">&gt;&gt;&gt;</span><span class="hljs-class">&gt;&gt;&gt; <span class="hljs-title">obj</span>.<span class="hljs-title">loc</span>[2]</span><span class="hljs-class"><span class="hljs-title">city</span>         <span class="hljs-title">Wuhan</span></span><span class="hljs-class"><span class="hljs-title">year</span>          2019</span><span class="hljs-class"><span class="hljs-title">people</span>    11212000</span><span class="hljs-class"><span class="hljs-title">Name</span>:</span> <span class="hljs-number">2</span>, dtype: <span class="hljs-built_in">object</span>&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj.head()      city  year    people<span class="hljs-number">0</span>    Wuhan  <span class="hljs-number">2017</span>  <span class="hljs-number">10892900</span><span class="hljs-number">1</span>    Wuhan  <span class="hljs-number">2018</span>  <span class="hljs-number">11081000</span><span class="hljs-number">2</span>    Wuhan  <span class="hljs-number">2019</span>  <span class="hljs-number">11212000</span><span class="hljs-number">3</span>  Beijing  <span class="hljs-number">2017</span>  <span class="hljs-number">21707000</span><span class="hljs-number">4</span>  Beijing  <span class="hljs-number">2018</span>  <span class="hljs-number">21542000</span></code></pre><h3><span id="03x05-xiu-gai-lie-de-zhi"><font color="#4876FF">ã€03x05ã€‘ä¿®æ”¹åˆ—çš„å€¼</font></span></h3><p>åˆ—å¯ä»¥é€šè¿‡èµ‹å€¼çš„æ–¹å¼è¿›è¡Œä¿®æ”¹ã€‚åœ¨ä¸‹é¢ç¤ºä¾‹ä¸­ï¼Œåˆ†åˆ«ç»™&quot;money&quot;åˆ—èµ‹ä¸Šä¸€ä¸ªæ ‡é‡å€¼å’Œä¸€ç»„å€¼ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>data = &#123;<span class="hljs-string">&#x27;city&#x27;</span>: [<span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>],        <span class="hljs-string">&#x27;year&#x27;</span>: [<span class="hljs-number">2017</span>, <span class="hljs-number">2018</span>, <span class="hljs-number">2019</span>, <span class="hljs-number">2017</span>, <span class="hljs-number">2018</span>, <span class="hljs-number">2019</span>],        <span class="hljs-string">&#x27;people&#x27;</span>: [<span class="hljs-number">10892900</span>, <span class="hljs-number">11081000</span>, <span class="hljs-number">11212000</span>, <span class="hljs-number">21707000</span>, <span class="hljs-number">21542000</span>, <span class="hljs-number">21536000</span>],        <span class="hljs-string">&#x27;money&#x27;</span>:[np.NaN, np.NaN, np.NaN, np.NaN, np.NaN, np.NaN]&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(data, index=[<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>, <span class="hljs-string">&#x27;F&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj      city  year    people  moneyA    Wuhan  <span class="hljs-number">2017</span>  <span class="hljs-number">10892900</span>    NaNB    Wuhan  <span class="hljs-number">2018</span>  <span class="hljs-number">11081000</span>    NaNC    Wuhan  <span class="hljs-number">2019</span>  <span class="hljs-number">11212000</span>    NaND  Beijing  <span class="hljs-number">2017</span>  <span class="hljs-number">21707000</span>    NaNE  Beijing  <span class="hljs-number">2018</span>  <span class="hljs-number">21542000</span>    NaNF  Beijing  <span class="hljs-number">2019</span>  <span class="hljs-number">21536000</span>    NaN&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-string">&#x27;money&#x27;</span>] = <span class="hljs-number">6666666666</span><span class="hljs-meta">&gt;&gt;&gt; </span>obj      city  year    people       moneyA    Wuhan  <span class="hljs-number">2017</span>  <span class="hljs-number">10892900</span>  <span class="hljs-number">6666666666</span>B    Wuhan  <span class="hljs-number">2018</span>  <span class="hljs-number">11081000</span>  <span class="hljs-number">6666666666</span>C    Wuhan  <span class="hljs-number">2019</span>  <span class="hljs-number">11212000</span>  <span class="hljs-number">6666666666</span>D  Beijing  <span class="hljs-number">2017</span>  <span class="hljs-number">21707000</span>  <span class="hljs-number">6666666666</span>E  Beijing  <span class="hljs-number">2018</span>  <span class="hljs-number">21542000</span>  <span class="hljs-number">6666666666</span>F  Beijing  <span class="hljs-number">2019</span>  <span class="hljs-number">21536000</span>  <span class="hljs-number">6666666666</span>&gt;&gt;&gt;<span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-string">&#x27;money&#x27;</span>] = np.arange(<span class="hljs-number">100000000</span>, <span class="hljs-number">700000000</span>, <span class="hljs-number">100000000</span>)<span class="hljs-meta">&gt;&gt;&gt; </span>obj      city  year    people      moneyA    Wuhan  <span class="hljs-number">2017</span>  <span class="hljs-number">10892900</span>  <span class="hljs-number">100000000</span>B    Wuhan  <span class="hljs-number">2018</span>  <span class="hljs-number">11081000</span>  <span class="hljs-number">200000000</span>C    Wuhan  <span class="hljs-number">2019</span>  <span class="hljs-number">11212000</span>  <span class="hljs-number">300000000</span>D  Beijing  <span class="hljs-number">2017</span>  <span class="hljs-number">21707000</span>  <span class="hljs-number">400000000</span>E  Beijing  <span class="hljs-number">2018</span>  <span class="hljs-number">21542000</span>  <span class="hljs-number">500000000</span>F  Beijing  <span class="hljs-number">2019</span>  <span class="hljs-number">21536000</span>  <span class="hljs-number">600000000</span></code></pre><p>å°†åˆ—è¡¨æˆ–æ•°ç»„èµ‹å€¼ç»™æŸä¸ªåˆ—æ—¶ï¼Œå…¶é•¿åº¦å¿…é¡»è·Ÿ DataFrame çš„é•¿åº¦ç›¸åŒ¹é…ã€‚å¦‚æœèµ‹å€¼çš„æ˜¯ä¸€ä¸ª Seriesï¼Œå°±ä¼šç²¾ç¡®åŒ¹é… DataFrame çš„ç´¢å¼•ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-meta">&gt;&gt;&gt; </span>data = &#123;<span class="hljs-string">&#x27;city&#x27;</span>: [<span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>],        <span class="hljs-string">&#x27;year&#x27;</span>: [<span class="hljs-number">2017</span>, <span class="hljs-number">2018</span>, <span class="hljs-number">2019</span>, <span class="hljs-number">2017</span>, <span class="hljs-number">2018</span>, <span class="hljs-number">2019</span>],        <span class="hljs-string">&#x27;people&#x27;</span>: [<span class="hljs-number">10892900</span>, <span class="hljs-number">11081000</span>, <span class="hljs-number">11212000</span>, <span class="hljs-number">21707000</span>, <span class="hljs-number">21542000</span>, <span class="hljs-number">21536000</span>],        <span class="hljs-string">&#x27;money&#x27;</span>:[np.NaN, np.NaN, np.NaN, np.NaN, np.NaN, np.NaN]&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(data, index=[<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>, <span class="hljs-string">&#x27;F&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj      city  year    people  moneyA    Wuhan  <span class="hljs-number">2017</span>  <span class="hljs-number">10892900</span>    NaNB    Wuhan  <span class="hljs-number">2018</span>  <span class="hljs-number">11081000</span>    NaNC    Wuhan  <span class="hljs-number">2019</span>  <span class="hljs-number">11212000</span>    NaND  Beijing  <span class="hljs-number">2017</span>  <span class="hljs-number">21707000</span>    NaNE  Beijing  <span class="hljs-number">2018</span>  <span class="hljs-number">21542000</span>    NaNF  Beijing  <span class="hljs-number">2019</span>  <span class="hljs-number">21536000</span>    NaN<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>new_data = pd.Series([<span class="hljs-number">5670000000</span>, <span class="hljs-number">6890000000</span>, <span class="hljs-number">7890000000</span>], index=[<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>])<span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-string">&#x27;money&#x27;</span>] = new_data<span class="hljs-meta">&gt;&gt;&gt; </span>obj      city  year    people         moneyA    Wuhan  <span class="hljs-number">2017</span>  <span class="hljs-number">10892900</span>  <span class="hljs-number">5.670000e+09</span>B    Wuhan  <span class="hljs-number">2018</span>  <span class="hljs-number">11081000</span>           NaNC    Wuhan  <span class="hljs-number">2019</span>  <span class="hljs-number">11212000</span>  <span class="hljs-number">6.890000e+09</span>D  Beijing  <span class="hljs-number">2017</span>  <span class="hljs-number">21707000</span>           NaNE  Beijing  <span class="hljs-number">2018</span>  <span class="hljs-number">21542000</span>  <span class="hljs-number">7.890000e+09</span>F  Beijing  <span class="hljs-number">2019</span>  <span class="hljs-number">21536000</span>           NaN</code></pre><h3><span id="03x06-zeng-jia-shan-chu-lie"><font color="#4876FF">ã€03x06ã€‘å¢åŠ  / åˆ é™¤åˆ—</font></span></h3><p>ä¸ºä¸å­˜åœ¨çš„åˆ—èµ‹å€¼ä¼šåˆ›å»ºå‡ºä¸€ä¸ªæ–°åˆ—ï¼Œå…³é”®å­— del ç”¨äºåˆ é™¤åˆ—ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>data = &#123;<span class="hljs-string">&#x27;city&#x27;</span>: [<span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>],    <span class="hljs-string">&#x27;year&#x27;</span>: [<span class="hljs-number">2017</span>, <span class="hljs-number">2018</span>, <span class="hljs-number">2019</span>, <span class="hljs-number">2017</span>, <span class="hljs-number">2018</span>, <span class="hljs-number">2019</span>],        <span class="hljs-string">&#x27;people&#x27;</span>: [<span class="hljs-number">10892900</span>, <span class="hljs-number">11081000</span>, <span class="hljs-number">11212000</span>, <span class="hljs-number">21707000</span>, <span class="hljs-number">21542000</span>, <span class="hljs-number">21536000</span>]&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(data)<span class="hljs-meta">&gt;&gt;&gt; </span>obj      city  year    people<span class="hljs-number">0</span>    Wuhan  <span class="hljs-number">2017</span>  <span class="hljs-number">10892900</span><span class="hljs-number">1</span>    Wuhan  <span class="hljs-number">2018</span>  <span class="hljs-number">11081000</span><span class="hljs-number">2</span>    Wuhan  <span class="hljs-number">2019</span>  <span class="hljs-number">11212000</span><span class="hljs-number">3</span>  Beijing  <span class="hljs-number">2017</span>  <span class="hljs-number">21707000</span><span class="hljs-number">4</span>  Beijing  <span class="hljs-number">2018</span>  <span class="hljs-number">21542000</span><span class="hljs-number">5</span>  Beijing  <span class="hljs-number">2019</span>  <span class="hljs-number">21536000</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span>obj[<span class="hljs-string">&#x27;northern&#x27;</span>] = obj[<span class="hljs-string">&#x27;city&#x27;</span>] == <span class="hljs-string">&#x27;Beijing&#x27;</span><span class="hljs-meta">&gt;&gt;&gt; </span>obj      city  year    people  northern<span class="hljs-number">0</span>    Wuhan  <span class="hljs-number">2017</span>  <span class="hljs-number">10892900</span>     <span class="hljs-literal">False</span><span class="hljs-number">1</span>    Wuhan  <span class="hljs-number">2018</span>  <span class="hljs-number">11081000</span>     <span class="hljs-literal">False</span><span class="hljs-number">2</span>    Wuhan  <span class="hljs-number">2019</span>  <span class="hljs-number">11212000</span>     <span class="hljs-literal">False</span><span class="hljs-number">3</span>  Beijing  <span class="hljs-number">2017</span>  <span class="hljs-number">21707000</span>      <span class="hljs-literal">True</span><span class="hljs-number">4</span>  Beijing  <span class="hljs-number">2018</span>  <span class="hljs-number">21542000</span>      <span class="hljs-literal">True</span><span class="hljs-number">5</span>  Beijing  <span class="hljs-number">2019</span>  <span class="hljs-number">21536000</span>      <span class="hljs-literal">True</span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">del</span> obj[<span class="hljs-string">&#x27;northern&#x27;</span>]<span class="hljs-meta">&gt;&gt;&gt; </span>obj      city  year    people<span class="hljs-number">0</span>    Wuhan  <span class="hljs-number">2017</span>  <span class="hljs-number">10892900</span><span class="hljs-number">1</span>    Wuhan  <span class="hljs-number">2018</span>  <span class="hljs-number">11081000</span><span class="hljs-number">2</span>    Wuhan  <span class="hljs-number">2019</span>  <span class="hljs-number">11212000</span><span class="hljs-number">3</span>  Beijing  <span class="hljs-number">2017</span>  <span class="hljs-number">21707000</span><span class="hljs-number">4</span>  Beijing  <span class="hljs-number">2018</span>  <span class="hljs-number">21542000</span><span class="hljs-number">5</span>  Beijing  <span class="hljs-number">2019</span>  <span class="hljs-number">21536000</span></code></pre><h3><span id="03x07-name-shu-xing"><font color="##4876FF">ã€03x07ã€‘name å±æ€§</font></span></h3><p>å¯ä»¥é€šè¿‡ <a href="http://index.name">index.name</a> å’Œ <a href="http://columns.name">columns.name</a> å±æ€§è®¾ç½®ç´¢å¼•ï¼ˆindexï¼‰å’Œåˆ—æ ‡ç­¾ï¼ˆcolumnsï¼‰çš„ nameï¼Œæ³¨æ„ DataFrame å¯¹è±¡æ˜¯æ²¡æœ‰ name å±æ€§çš„ï¼š</p><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-meta">&gt;&gt;&gt; </span>data = &#123;<span class="hljs-string">&#x27;city&#x27;</span>: [<span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Wuhan&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>, <span class="hljs-string">&#x27;Beijing&#x27;</span>],        <span class="hljs-string">&#x27;year&#x27;</span>: [<span class="hljs-number">2017</span>, <span class="hljs-number">2018</span>, <span class="hljs-number">2019</span>, <span class="hljs-number">2017</span>, <span class="hljs-number">2018</span>, <span class="hljs-number">2019</span>],        <span class="hljs-string">&#x27;people&#x27;</span>: [<span class="hljs-number">10892900</span>, <span class="hljs-number">11081000</span>, <span class="hljs-number">11212000</span>, <span class="hljs-number">21707000</span>, <span class="hljs-number">21542000</span>, <span class="hljs-number">21536000</span>]&#125;<span class="hljs-meta">&gt;&gt;&gt; </span>obj = pd.DataFrame(data)<span class="hljs-meta">&gt;&gt;&gt; </span>obj.index.name = <span class="hljs-string">&#x27;index&#x27;</span><span class="hljs-meta">&gt;&gt;&gt; </span>obj.columns.name = <span class="hljs-string">&#x27;columns&#x27;</span><span class="hljs-meta">&gt;&gt;&gt; </span>objcolumns     city  year    peopleindex                           <span class="hljs-number">0</span>          Wuhan  <span class="hljs-number">2017</span>  <span class="hljs-number">10892900</span><span class="hljs-number">1</span>          Wuhan  <span class="hljs-number">2018</span>  <span class="hljs-number">11081000</span><span class="hljs-number">2</span>          Wuhan  <span class="hljs-number">2019</span>  <span class="hljs-number">11212000</span><span class="hljs-number">3</span>        Beijing  <span class="hljs-number">2017</span>  <span class="hljs-number">21707000</span><span class="hljs-number">4</span>        Beijing  <span class="hljs-number">2018</span>  <span class="hljs-number">21542000</span><span class="hljs-number">5</span>        Beijing  <span class="hljs-number">2019</span>  <span class="hljs-number">21536000</span></code></pre><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬æ–‡åŸåˆ›é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">ITBOBã€‚</span><span class="hljs-string">åšå®¢é¦–é¡µï¼šhttps://itrhx.blog.csdn.net/</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106676693</span><span class="hljs-string">æœªç»æˆæƒï¼Œç¦æ­¢è½¬è½½ï¼æ¶æ„è½¬è½½ï¼Œåæœè‡ªè´Ÿï¼å°Šé‡åŸåˆ›ï¼Œè¿œç¦»å‰½çªƒï¼</span></code></pre><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h2&gt;&lt;span id=&quot;wen-zhang-mu-lu&quot;&gt;æ–‡ç« ç›®å½•&lt;/span&gt;&lt;/h2&gt;
&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#font-color-ff0000-01x00-liao-jie-pandas-font&quot;&gt;&lt;font color=&quot;#</summary>
      
    
    
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    <category term="Pandas" scheme="https://www.itbob.cn/tags/Pandas/"/>
    
  </entry>
  
  <entry>
    <title>Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Matplotlibï¼ˆåä¸€ï¼‰ï¼šæœ€å¸¸ç”¨æœ€æœ‰ä»·å€¼çš„ 50 ä¸ªå›¾è¡¨ã€è¯‘æ–‡ã€‘</title>
    <link href="https://www.itbob.cn/article/024/"/>
    <id>https://www.itbob.cn/article/024/</id>
    <published>2020-06-09T08:13:49.000Z</published>
    <updated>2022-05-22T12:36:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="wen-zhang-mu-lu">æ–‡ç« ç›®å½•</span></h2><!-- toc --><ul><li><a href="#font-color-ff0000-1x00-jie-shao-introduction-font"><font color="#FF0000">ã€1x00ã€‘ä»‹ç»ï¼ˆIntroductionï¼‰</font></a></li><li><a href="#font-color-ff0000-2x00-zhun-bei-gong-zuo-setup-font"><font color="#FF0000">ã€2x00ã€‘å‡†å¤‡å·¥ä½œï¼ˆSetupï¼‰</font></a></li><li><a href="#font-color-ff0000-3x00-guan-lian-correlation-font"><font color="#FF0000">ã€3x00ã€‘å…³è”ï¼ˆCorrelationï¼‰ </font></a><ul><li><a href="#font-color-4876ff-01-san-dian-tu-scatter-plot-font"><font color="##4876FF">ã€01ã€‘æ•£ç‚¹å›¾ï¼ˆScatter plotï¼‰</font></a></li><li><a href="#font-color-4876ff-02-dai-bian-jie-de-qi-pao-tu-bubble-plot-with-encircling-font"><font color="##4876FF">ã€02ã€‘å¸¦è¾¹ç•Œçš„æ°”æ³¡å›¾ï¼ˆBubble plot with Encirclingï¼‰</font></a></li><li><a href="#font-color-4876ff-03-dai-xian-xing-hui-gui-zui-jia-ni-he-xian-de-san-dian-tu-scatter-plot-with-linear-regression-line-of-best-fit-font"><font color="##4876FF">ã€03ã€‘å¸¦çº¿æ€§å›å½’æœ€ä½³æ‹Ÿåˆçº¿çš„æ•£ç‚¹å›¾ï¼ˆScatter plot with linear regression line of best fitï¼‰</font></a></li><li><a href="#font-color-4876ff-04-dou-dong-tu-jittering-with-stripplot-font"><font color="##4876FF">ã€04ã€‘æŠ–åŠ¨å›¾ï¼ˆJittering with stripplotï¼‰</font></a></li><li><a href="#font-color-4876ff-05-ji-shu-tu-counts-plot-font"><font color="##4876FF">ã€05ã€‘è®¡æ•°å›¾ï¼ˆCounts Plotï¼‰</font></a></li><li><a href="#font-color-4876ff-06-bian-yuan-zhi-fang-tu-marginal-histogram-font"><font color="##4876FF">ã€06ã€‘è¾¹ç¼˜ç›´æ–¹å›¾ï¼ˆMarginal Histogramï¼‰</font></a></li><li><a href="#font-color-4876ff-07-bian-yuan-xiang-xing-tu-marginal-boxplot-font"><font color="##4876FF">ã€07ã€‘è¾¹ç¼˜ç®±å½¢å›¾ï¼ˆMarginal Boxplotï¼‰</font></a></li><li><a href="#font-color-4876ff-08-xiang-guan-tu-correllogram-font"><font color="##4876FF">ã€08ã€‘ç›¸å…³å›¾ï¼ˆCorrellogramï¼‰</font></a></li><li><a href="#font-color-4876ff-09-cheng-dui-tu-pairwise-plot-font"><font color="##4876FF">ã€09ã€‘æˆå¯¹å›¾ï¼ˆPairwise Plotï¼‰</font></a></li></ul></li><li><a href="#font-color-ff0000-4x00-pian-chai-deviation-font"><font color="#FF0000">ã€4x00ã€‘åå·®ï¼ˆDeviationï¼‰</font></a><ul><li><a href="#font-color-4876ff-10-fa-san-xing-tiao-xing-tu-diverging-bars-font"><font color="##4876FF">ã€10ã€‘å‘æ•£å‹æ¡å½¢å›¾ï¼ˆDiverging Barsï¼‰</font></a></li><li><a href="#font-color-4876ff-11-fa-san-xing-wen-ben-tu-diverging-texts-font"><font color="##4876FF">ã€11ã€‘å‘æ•£å‹æ–‡æœ¬å›¾ï¼ˆDiverging Textsï¼‰</font></a></li><li><a href="#font-color-4876ff-12-fa-san-xing-san-dian-tu-diverging-dot-plot-font"><font color="##4876FF">ã€12ã€‘å‘æ•£å‹æ•£ç‚¹å›¾ï¼ˆDiverging Dot Plotï¼‰</font></a></li><li><a href="#font-color-4876ff-13-dai-biao-ji-de-fa-san-xing-bang-bang-tang-tu-diverging-lollipop-chart-with-markers-font"><font color="##4876FF">ã€13ã€‘å¸¦æ ‡è®°çš„å‘æ•£å‹æ£’æ£’ç³–å›¾ï¼ˆDiverging Lollipop Chart with Markersï¼‰</font></a></li><li><a href="#font-color-4876ff-14-mian-ji-tu-area-chart-font"><font color="##4876FF">ã€14ã€‘é¢ç§¯å›¾ï¼ˆArea Chartï¼‰</font></a></li></ul></li><li><a href="#font-color-ff0000-5x00-pai-xu-ranking-font"><font color="#FF0000">ã€5x00ã€‘æ’åºï¼ˆRankingï¼‰</font></a><ul><li><a href="#font-color-4876ff-15-you-xu-tiao-xing-tu-ordered-bar-chart-font"><font color="##4876FF">ã€15ã€‘æœ‰åºæ¡å½¢å›¾ï¼ˆOrdered Bar Chartï¼‰</font></a></li><li><a href="#font-color-4876ff-16-bang-bang-tang-tu-lollipop-chart-font"><font color="##4876FF">ã€16ã€‘æ£’æ£’ç³–å›¾ï¼ˆLollipop Chartï¼‰</font></a></li><li><a href="#font-color-4876ff-17-dian-tu-dot-plot-font"><font color="##4876FF">ã€17ã€‘ç‚¹å›¾ï¼ˆDot Plotï¼‰</font></a></li><li><a href="#font-color-4876ff-18-po-du-tu-slope-chart-font"><font color="##4876FF">ã€18ã€‘å¡åº¦å›¾ï¼ˆSlope Chartï¼‰</font></a></li><li><a href="#font-color-4876ff-19-ya-ling-tu-dumbbell-plot-font"><font color="##4876FF">ã€19ã€‘å“‘é“ƒå›¾ï¼ˆDumbbell Plotï¼‰</font></a></li></ul></li><li><a href="#font-color-ff0000-6x00-fen-bu-distribution-font"><font color="#FF0000">ã€6x00ã€‘åˆ†å¸ƒï¼ˆDistributionï¼‰</font></a><ul><li><a href="#font-color-4876ff-20-lian-xu-bian-liang-de-zhi-fang-tu-histogram-for-continuous-variable-font"><font color="##4876FF">ã€20ã€‘è¿ç»­å˜é‡çš„ç›´æ–¹å›¾ï¼ˆHistogram for Continuous Variableï¼‰</font></a></li><li><a href="#font-color-4876ff-21-fen-lei-bian-liang-de-zhi-fang-tu-histogram-for-categorical-variable-font"><font color="##4876FF">ã€21ã€‘åˆ†ç±»å˜é‡çš„ç›´æ–¹å›¾ï¼ˆHistogram for Categorical Variableï¼‰</font></a></li><li><a href="#font-color-4876ff-22-mi-du-tu-density-plot-font"><font color="##4876FF">ã€22ã€‘å¯†åº¦å›¾ï¼ˆDensity Plotï¼‰</font></a></li><li><a href="#font-color-4876ff-23-zhi-fang-tu-mi-du-qu-xian-density-curves-with-histogram-font"><font color="##4876FF">ã€23ã€‘ç›´æ–¹å›¾å¯†åº¦æ›²çº¿ï¼ˆDensity Curves with Histogramï¼‰</font></a></li><li><a href="#font-color-4876ff-24-shan-feng-die-luan-tu-huan-le-tu-joy-plot-font"><font color="##4876FF">ã€24ã€‘å±±å³°å å³¦å›¾ / æ¬¢ä¹å›¾ï¼ˆJoy Plotï¼‰</font></a></li><li><a href="#font-color-4876ff-25-fen-bu-shi-dian-tu-distributed-dot-plot-font"><font color="##4876FF">ã€25ã€‘åˆ†å¸ƒå¼ç‚¹å›¾ï¼ˆDistributed Dot Plotï¼‰</font></a></li><li><a href="#font-color-4876ff-26-xiang-xing-tu-box-plot-font"><font color="##4876FF">ã€26ã€‘ç®±å½¢å›¾ï¼ˆBox Plotï¼‰</font></a></li><li><a href="#font-color-4876ff-27-dian-xiang-xing-tu-dot-box-plot-font"><font color="##4876FF">ã€27ã€‘ç‚¹ + ç®±å½¢å›¾ï¼ˆDot + Box Plotï¼‰</font></a></li><li><a href="#font-color-4876ff-28-xiao-ti-qin-tu-violin-plot-font"><font color="##4876FF">ã€28ã€‘å°æç´å›¾ï¼ˆViolin Plotï¼‰</font></a></li><li><a href="#font-color-4876ff-29-ren-kou-jin-zi-ta-tu-population-pyramid-font"><font color="##4876FF">ã€29ã€‘äººå£é‡‘å­—å¡”å›¾ï¼ˆPopulation Pyramidï¼‰</font></a></li><li><a href="#font-color-4876ff-30-fen-lei-tu-categorical-plots-font"><font color="##4876FF">ã€30ã€‘åˆ†ç±»å›¾ï¼ˆCategorical Plotsï¼‰</font></a></li></ul></li><li><a href="#font-color-ff0000-7x00-zu-cheng-composition-font"><font color="#FF0000">ã€7x00ã€‘ç»„æˆï¼ˆCompositionï¼‰</font></a><ul><li><a href="#font-color-4876ff-31-hua-fu-bing-tu-waffle-chart-font"><font color="##4876FF">ã€31ã€‘åå¤«é¥¼å›¾ï¼ˆWaffle Chartï¼‰</font></a></li><li><a href="#font-color-4876ff-32-bing-tu-pie-chart-font"><font color="##4876FF">ã€32ã€‘é¥¼å›¾ï¼ˆPie Chartï¼‰</font></a></li><li><a href="#font-color-4876ff-33-ju-zhen-shu-xing-tu-treemap-font"><font color="##4876FF">ã€33ã€‘çŸ©é˜µæ ‘å½¢å›¾ï¼ˆTreemapï¼‰</font></a></li><li><a href="#font-color-4876ff-34-tiao-xing-tu-bar-chart-font"><font color="##4876FF">ã€34ã€‘æ¡å½¢å›¾ï¼ˆBar Chartï¼‰</font></a></li></ul></li><li><a href="#font-color-ff0000-8x00-bian-hua-change-font"><font color="#FF0000">ã€8x00ã€‘å˜åŒ–ï¼ˆChangeï¼‰</font></a><ul><li><a href="#font-color-4876ff-35-shi-jian-xu-lie-tu-time-series-plot-font"><font color="##4876FF">ã€35ã€‘æ—¶é—´åºåˆ—å›¾ï¼ˆTime Series Plotï¼‰</font></a></li><li><a href="#font-color-4876ff-36-dai-bo-feng-he-bo-gu-zhu-shi-de-shi-jian-xu-lie-tu-time-series-with-peaks-and-troughs-annotated-font"><font color="##4876FF">ã€36ã€‘å¸¦æ³¢å³°å’Œæ³¢è°·æ³¨é‡Šçš„æ—¶é—´åºåˆ—å›¾ï¼ˆTime Series with Peaks and Troughs Annotatedï¼‰</font></a></li><li><a href="#font-color-4876ff-37-zi-xiang-guan-acf-he-bu-fen-zi-xiang-guan-pacf-tu-autocorrelation-acf-and-partial-autocorrelation-pacf-plot-font"><font color="##4876FF">ã€37ã€‘è‡ªç›¸å…³ (ACF) å’Œéƒ¨åˆ†è‡ªç›¸å…³ (PACF) å›¾ï¼ˆAutocorrelation (ACF) and Partial Autocorrelation (PACF) Plotï¼‰</font></a></li><li><a href="#font-color-4876ff-38-jiao-cha-xiang-guan-tu-cross-correlation-plot-font"><font color="##4876FF">ã€38ã€‘äº¤å‰ç›¸å…³å›¾ï¼ˆCross Correlation plotï¼‰</font></a></li><li><a href="#font-color-4876ff-39-shi-jian-xu-lie-fen-jie-tu-time-series-decomposition-plot-font"><font color="##4876FF">ã€39ã€‘æ—¶é—´åºåˆ—åˆ†è§£å›¾ï¼ˆTime Series Decomposition Plotï¼‰</font></a></li><li><a href="#font-color-4876ff-40-duo-chong-shi-jian-xu-lie-multiple-time-series-font"><font color="##4876FF">ã€40ã€‘å¤šé‡æ—¶é—´åºåˆ—ï¼ˆMultiple Time Seriesï¼‰</font></a></li><li><a href="#font-color-4876ff-41-shi-yong-ci-yao-de-y-zhou-lai-hui-zhi-bu-tong-fan-wei-de-tu-xing-plotting-with-different-scales-using-secondary-y-axis-font"><font color="##4876FF">ã€41ã€‘ä½¿ç”¨æ¬¡è¦çš„ Y è½´æ¥ç»˜åˆ¶ä¸åŒèŒƒå›´çš„å›¾å½¢ï¼ˆPlotting with different scales using secondary Y axisï¼‰</font></a></li><li><a href="#font-color-4876ff-42-dai-wu-chai-dai-de-shi-jian-xu-lie-time-series-with-error-bands-font"><font color="##4876FF">ã€42ã€‘å¸¦è¯¯å·®å¸¦çš„æ—¶é—´åºåˆ—ï¼ˆTime Series with Error Bandsï¼‰</font></a></li><li><a href="#font-color-4876ff-43-dui-ji-mian-ji-tu-stacked-area-chart-font"><font color="##4876FF">ã€43ã€‘å †ç§¯é¢ç§¯å›¾ï¼ˆStacked Area Chartï¼‰</font></a></li><li><a href="#font-color-4876ff-44-wei-dui-ji-mian-ji-tu-area-chart-unstacked-font"><font color="##4876FF">ã€44ã€‘æœªå †ç§¯é¢ç§¯å›¾ï¼ˆArea Chart UnStackedï¼‰</font></a></li><li><a href="#font-color-4876ff-45-ri-li-re-li-tu-calendar-heat-map-font"><font color="##4876FF">ã€45ã€‘æ—¥å†çƒ­åŠ›å›¾ï¼ˆCalendar Heat Mapï¼‰</font></a></li><li><a href="#font-color-4876ff-46-ji-jie-tu-seasonal-plot-font"><font color="##4876FF">ã€46ã€‘å­£èŠ‚å›¾ï¼ˆSeasonal Plotï¼‰</font></a></li></ul></li><li><a href="#font-color-ff0000-9x00-fen-zu-groups-font"><font color="#FF0000">ã€9x00ã€‘åˆ†ç»„ï¼ˆ Groupsï¼‰</font></a><ul><li><a href="#font-color-4876ff-47-shu-zhuang-tu-dendrogram-font"><font color="##4876FF">ã€47ã€‘æ ‘çŠ¶å›¾ï¼ˆDendrogramï¼‰</font></a></li><li><a href="#font-color-4876ff-48-ju-lei-tu-cluster-plot-font"><font color="##4876FF">ã€48ã€‘èšç±»å›¾ï¼ˆCluster Plotï¼‰</font></a></li><li><a href="#font-color-4876ff-49-an-de-lu-si-qu-xian-andrews-curve-font"><font color="##4876FF">ã€49ã€‘å®‰å¾·é²æ–¯æ›²çº¿ï¼ˆAndrews Curveï¼‰</font></a></li><li><a href="#font-color-4876ff-50-ping-xing-zuo-biao-tu-parallel-coordinates-font"><font color="##4876FF">ã€50ã€‘å¹³è¡Œåæ ‡å›¾ï¼ˆParallel Coordinatesï¼‰</font></a></li></ul></li></ul><!-- tocstop --><hr><p>Matplotlib ç³»åˆ—æ–‡ç« ï¼š</p><ul><li><a href="https://www.itbob.cn/article/014/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Matplotlibï¼ˆä¸€ï¼‰ï¼šåˆè¯† Matplotlib ä¸å…¶ matplotibrc é…ç½®æ–‡ä»¶</a></li><li><a href="https://www.itbob.cn/article/015/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Matplotlibï¼ˆäºŒï¼‰ï¼šæ–‡æœ¬æè¿° / ä¸­æ–‡æ”¯æŒ / ç”»å¸ƒ / ç½‘æ ¼ç­‰åŸºæœ¬å›¾åƒå±æ€§</a></li><li><a href="https://www.itbob.cn/article/016/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Matplotlibï¼ˆä¸‰ï¼‰ï¼šå›¾ä¾‹ / LaTeX / åˆ»åº¦ / å­å›¾ / è¡¥ä¸ç­‰åŸºæœ¬å›¾åƒå±æ€§</a></li><li><a href="https://www.itbob.cn/article/017/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Matplotlibï¼ˆå››ï¼‰ï¼šçº¿æ€§å›¾çš„ç»˜åˆ¶</a></li><li><a href="https://www.itbob.cn/article/018/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Matplotlibï¼ˆäº”ï¼‰ï¼šæ•£ç‚¹å›¾çš„ç»˜åˆ¶</a></li><li><a href="https://www.itbob.cn/article/019/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Matplotlibï¼ˆå…­ï¼‰ï¼šç›´æ–¹å›¾ / æŸ±çŠ¶å›¾ / æ¡å½¢å›¾çš„ç»˜åˆ¶</a></li><li><a href="https://www.itbob.cn/article/020/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Matplotlibï¼ˆä¸ƒï¼‰ï¼šé¥¼çŠ¶å›¾çš„ç»˜åˆ¶</a></li><li><a href="https://www.itbob.cn/article/021/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Matplotlibï¼ˆå…«ï¼‰ï¼šç­‰é«˜çº¿ / ç­‰å€¼çº¿å›¾çš„ç»˜åˆ¶</a></li><li><a href="https://www.itbob.cn/article/022/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Matplotlibï¼ˆä¹ï¼‰ï¼šæåŒºå›¾ / æåæ ‡å›¾ / é›·è¾¾å›¾çš„ç»˜åˆ¶</a></li><li><a href="https://www.itbob.cn/article/023/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Matplotlibï¼ˆåï¼‰ï¼š3D å›¾çš„ç»˜åˆ¶</a></li><li><a href="https://www.itbob.cn/article/024/">Python æ•°æ®åˆ†æä¸‰å‰‘å®¢ä¹‹ Matplotlibï¼ˆåä¸€ï¼‰ï¼šæœ€çƒ­é—¨æœ€å¸¸ç”¨çš„ 50 ä¸ªå›¾è¡¨</a>ã€è¯‘æ–‡ã€‘</li></ul><hr><p>ä¸“æ ï¼š</p><ul><li>NumPy ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780393.html">https://itrhx.blog.csdn.net/category_9780393.html</a></li><li>Pandas ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780397.html">https://itrhx.blog.csdn.net/category_9780397.html</a></li><li>Matplotlib ä¸“æ ï¼š<a href="https://itrhx.blog.csdn.net/category_9780418.html">https://itrhx.blog.csdn.net/category_9780418.html</a></li></ul><br>æ¨èå­¦ä¹ èµ„æ–™ä¸ç½‘ç«™ï¼š<br><br><ul><li>NumPy å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.numpy.org.cn/">https://www.numpy.org.cn/</a></li><li>Pandas å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.pypandas.cn/">https://www.pypandas.cn/</a></li><li>Matplotlib å®˜æ–¹ä¸­æ–‡ç½‘ï¼š<a href="https://www.matplotlib.org.cn/">https://www.matplotlib.org.cn/</a></li><li>NumPyã€Matplotlibã€Pandas é€ŸæŸ¥è¡¨ï¼š<a href="https://github.com/TRHX/Python-quick-reference-table">https://github.com/TRHX/Python-quick-reference-table</a></li></ul><hr><blockquote><p>ç¿»è¯‘ä¸¨<a href="https://itrhx.blog.csdn.net/">TRHX</a><br>ä½œè€…ä¸¨<a href="https://www.machinelearningplus.com/author/selva86/">Selva Prabhakaran</a><br>åŸæ–‡ä¸¨<a href="https://www.machinelearningplus.com/plots/top-50-matplotlib-visualizations-the-master-plots-python/">ã€ŠTop 50 matplotlib Visualizations â€“ The Master Plots (with full python code)ã€‹</a></p></blockquote><hr><blockquote><p>â˜… æœ¬æ–‡ä¸­çš„ç¤ºä¾‹åŸä½œè€…ä½¿ç”¨çš„ç¼–è¾‘å™¨ä¸º Jupyter Notebookï¼›<br>â˜… è¯‘è€…ä½¿ç”¨ PyCharm æµ‹è¯•åŸæ–‡ä¸­æœ‰éƒ¨åˆ†ä»£ç ä¸å¤ªå‡†ç¡®ï¼Œéƒ¨åˆ†å·²è¿›è¡Œä¿®æ”¹ï¼Œå¯¹åº”æœ‰æ³¨é‡Šè¯´æ˜ï¼›<br>â˜… è¿è¡Œæœ¬æ–‡ä»£ç ï¼Œéœ€è¦å®‰è£… Matplotlib å’Œ Seaborn ç­‰å¯è§†åŒ–åº“ï¼Œå…¶ä»–çš„ä¸€äº›è¾…åŠ©å¯è§†åŒ–åº“å·²åœ¨ä»£ç éƒ¨åˆ†ä½œæ ‡æ³¨ï¼›<br>â˜… ç¤ºä¾‹ä¸­ç”¨åˆ°çš„æ•°æ®å‡å‚¨å­˜åœ¨ä½œè€…çš„ GitHubï¼š<a href="https://github.com/selva86/datasets">https://github.com/selva86/datasets</a>ï¼Œå› æ­¤è¿è¡Œç¨‹åºå¯èƒ½éœ€è¦FQï¼›<br>â˜… è¯‘è€…è‹±æ–‡æ°´å¹³æœ‰é™ï¼Œè‹¥é‡åˆ°ç¿»è¯‘æ¨¡ç³Šçš„è¯å»ºè®®å‚è€ƒåŸæ–‡æ¥ç†è§£ã€‚<br>â˜… æœ¬æ–‡50ä¸ªç¤ºä¾‹ä»£ç å·²æ‰“åŒ…ä¸º .py æ–‡ä»¶ï¼Œå¯ç›´æ¥ä¸‹è½½ï¼š<a href="https://download.csdn.net/download/qq_36759224/12507219">https://download.csdn.net/download/qq_36759224/12507219</a></p></blockquote><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬è¯‘æ–‡é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">Selva</span> <span class="hljs-string">Prabhakaranï¼Œè¯‘è€…</span> <span class="hljs-string">TRHXã€‚</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106558131</span><span class="hljs-string">åŸæ–‡é“¾æ¥ï¼šhttps://www.machinelearningplus.com/plots/top-50-matplotlib-visualizations-the-master-plots-python/</span></code></pre><hr><h2><span id="1x00-jie-shao-introduction"><font color="#FF0000">ã€1x00ã€‘ä»‹ç»ï¼ˆIntroductionï¼‰</font></span></h2><p>åœ¨æ•°æ®åˆ†æå’Œå¯è§†åŒ–ä¸­æœ€å¸¸ç”¨çš„ã€æœ€æœ‰ä»·å€¼çš„å‰ 50 ä¸ª Matplotlib å›¾è¡¨ã€‚è¿™äº›å›¾è¡¨ä¼šè®©ä½ æ‡‚å¾—åœ¨ä¸åŒæƒ…å†µä¸‹åˆç†ä½¿ç”¨ Python çš„ Matplotlib å’Œ Seaborn åº“æ¥è¾¾åˆ°æ•°æ®å¯è§†åŒ–æ•ˆæœã€‚</p><p>è¿™äº›å›¾è¡¨æ ¹æ®å¯è§†åŒ–ç›®æ ‡çš„ 7 ä¸ªä¸åŒæƒ…æ™¯è¿›è¡Œåˆ†ç»„ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœè¦æƒ³è±¡ä¸¤ä¸ªå˜é‡ä¹‹é—´çš„å…³ç³»ï¼Œè¯·æŸ¥çœ‹â€œå…³è”â€éƒ¨åˆ†ä¸‹çš„å›¾è¡¨ã€‚ æˆ–è€…ï¼Œå¦‚æœæ‚¨æƒ³è¦æ˜¾ç¤ºå€¼å¦‚ä½•éšæ—¶é—´å˜åŒ–ï¼Œè¯·æŸ¥çœ‹â€œå˜åŒ–â€éƒ¨åˆ†ï¼Œä¾æ­¤ç±»æ¨ã€‚</p><p>æœ‰æ•ˆå›¾è¡¨çš„é‡è¦ç‰¹å¾ï¼š</p><ul><li>åœ¨ä¸æ­ªæ›²äº‹å®çš„æƒ…å†µä¸‹ä¼ è¾¾æ­£ç¡®å’Œå¿…è¦çš„ä¿¡æ¯ï¼›</li><li>è®¾è®¡ç®€å•ï¼Œä¸å¿…å¤ªè´¹åŠ›å°±èƒ½ç†è§£å®ƒï¼›</li><li>ä»å®¡ç¾è§’åº¦æ”¯æŒä¿¡æ¯è€Œä¸æ˜¯æ©ç›–ä¿¡æ¯ï¼›</li><li>ä¿¡æ¯æ²¡æœ‰è¶…è´Ÿè·ã€‚</li></ul><h2><span id="2x00-zhun-bei-gong-zuo-setup"><font color="#FF0000">ã€2x00ã€‘å‡†å¤‡å·¥ä½œï¼ˆSetupï¼‰</font></span></h2><p>åœ¨ä»£ç è¿è¡Œå‰å…ˆå¼•å…¥ä¸‹é¢çš„åŸºæœ¬è®¾ç½®ï¼Œå½“ç„¶ï¼Œä¸ªåˆ«å›¾è¡¨å¯èƒ½ä¼šé‡æ–°å®šä¹‰æ˜¾ç¤ºè¦ç´ ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># !pip install brewer2mpl</span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-keyword">import</span> matplotlib <span class="hljs-keyword">as</span> mpl<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<span class="hljs-keyword">import</span> warnings; warnings.filterwarnings(action=<span class="hljs-string">&#x27;once&#x27;</span>)large = <span class="hljs-number">22</span>; med = <span class="hljs-number">16</span>; small = <span class="hljs-number">12</span>params = &#123;<span class="hljs-string">&#x27;axes.titlesize&#x27;</span>: large,          <span class="hljs-string">&#x27;legend.fontsize&#x27;</span>: med,          <span class="hljs-string">&#x27;figure.figsize&#x27;</span>: (<span class="hljs-number">16</span>, <span class="hljs-number">10</span>),          <span class="hljs-string">&#x27;axes.labelsize&#x27;</span>: med,          <span class="hljs-string">&#x27;axes.titlesize&#x27;</span>: med,          <span class="hljs-string">&#x27;xtick.labelsize&#x27;</span>: med,          <span class="hljs-string">&#x27;ytick.labelsize&#x27;</span>: med,          <span class="hljs-string">&#x27;figure.titlesize&#x27;</span>: large&#125;plt.rcParams.update(params)plt.style.use(<span class="hljs-string">&#x27;seaborn-whitegrid&#x27;</span>)sns.set_style(<span class="hljs-string">&quot;white&quot;</span>)%matplotlib inline<span class="hljs-comment"># Version</span><span class="hljs-built_in">print</span>(mpl.__version__)  <span class="hljs-comment">#&gt; 3.0.0</span><span class="hljs-built_in">print</span>(sns.__version__)  <span class="hljs-comment">#&gt; 0.9.0</span></code></pre><h2><span id="3x00-guan-lian-correlation"><font color="#FF0000">ã€3x00ã€‘å…³è”ï¼ˆCorrelationï¼‰ </font></span></h2><p>å…³è”å›¾ç”¨äºå¯è§†åŒ–ä¸¤ä¸ªæˆ–å¤šä¸ªå˜é‡ä¹‹é—´çš„å…³ç³»ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªå˜é‡ç›¸å¯¹äºå¦ä¸€ä¸ªå˜é‡å¦‚ä½•å˜åŒ–ã€‚</p><h3><span id="01-san-dian-tu-scatter-plot"><font color="##4876FF">ã€01ã€‘æ•£ç‚¹å›¾ï¼ˆScatter plotï¼‰</font></span></h3><p>æ•£ç‚¹å›¾æ˜¯ç ”ç©¶ä¸¤ä¸ªå˜é‡ä¹‹é—´å…³ç³»çš„ç»å…¸å’ŒåŸºæœ¬çš„ç»˜å›¾ã€‚å¦‚æœæ•°æ®ä¸­æœ‰å¤šä¸ªç»„ï¼Œåˆ™å¯èƒ½éœ€è¦ä»¥ä¸åŒçš„é¢œè‰²æ˜¾ç¤ºæ¯ä¸ªç»„ã€‚åœ¨ Matplotlib ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ <code>plt.scatterplot()</code> æ–¹ä¾¿åœ°æ‰§è¡Œæ­¤æ“ä½œã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Import dataset </span>midwest = pd.read_csv(<span class="hljs-string">&quot;https://raw.githubusercontent.com/selva86/datasets/master/midwest_filter.csv&quot;</span>)<span class="hljs-comment"># Prepare Data </span><span class="hljs-comment"># Create as many colors as there are unique midwest[&#x27;category&#x27;]</span>categories = np.unique(midwest[<span class="hljs-string">&#x27;category&#x27;</span>])colors = [plt.cm.tab10(i/<span class="hljs-built_in">float</span>(<span class="hljs-built_in">len</span>(categories)-<span class="hljs-number">1</span>)) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(categories))]<span class="hljs-comment"># Draw Plot for Each Category</span>plt.figure(figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">10</span>), dpi= <span class="hljs-number">80</span>, facecolor=<span class="hljs-string">&#x27;w&#x27;</span>, edgecolor=<span class="hljs-string">&#x27;k&#x27;</span>)<span class="hljs-keyword">for</span> i, category <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(categories):    plt.scatter(<span class="hljs-string">&#x27;area&#x27;</span>, <span class="hljs-string">&#x27;poptotal&#x27;</span>,                data=midwest.loc[midwest.category==category, :],                s=<span class="hljs-number">20</span>, cmap=colors[i], label=<span class="hljs-built_in">str</span>(category))<span class="hljs-comment"># åŸæ–‡ c=colors[i] å·²ä¿®æ”¹ä¸º cmap=colors[i]</span><span class="hljs-comment"># Decorations</span>plt.gca().<span class="hljs-built_in">set</span>(xlim=(<span class="hljs-number">0.0</span>, <span class="hljs-number">0.1</span>), ylim=(<span class="hljs-number">0</span>, <span class="hljs-number">90000</span>),              xlabel=<span class="hljs-string">&#x27;Area&#x27;</span>, ylabel=<span class="hljs-string">&#x27;Population&#x27;</span>)plt.xticks(fontsize=<span class="hljs-number">12</span>); plt.yticks(fontsize=<span class="hljs-number">12</span>)plt.title(<span class="hljs-string">&quot;Scatterplot of Midwest Area vs Population&quot;</span>, fontsize=<span class="hljs-number">22</span>)plt.legend(fontsize=<span class="hljs-number">12</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/01.png" alt="01"></p><h3><span id="02-dai-bian-jie-de-qi-pao-tu-bubble-plot-with-encircling"><font color="##4876FF">ã€02ã€‘å¸¦è¾¹ç•Œçš„æ°”æ³¡å›¾ï¼ˆBubble plot with Encirclingï¼‰</font></span></h3><p>æœ‰æ—¶å€™æ‚¨æƒ³åœ¨ä¸€ä¸ªè¾¹ç•Œå†…æ˜¾ç¤ºä¸€ç»„ç‚¹æ¥å¼ºè°ƒå®ƒä»¬çš„é‡è¦æ€§ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæ‚¨å°†ä»è¢«åŒ…å›´çš„æ•°æ®ä¸­è·å–è®°å½•ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™ä¸‹é¢çš„ä»£ç ä¸­æè¿°çš„ <code>encircle()</code>ã€‚</p><pre><code class="hljs python"><span class="hljs-keyword">from</span> matplotlib <span class="hljs-keyword">import</span> patches<span class="hljs-keyword">from</span> scipy.spatial <span class="hljs-keyword">import</span> ConvexHull<span class="hljs-keyword">import</span> warnings; warnings.simplefilter(<span class="hljs-string">&#x27;ignore&#x27;</span>)sns.set_style(<span class="hljs-string">&quot;white&quot;</span>)<span class="hljs-comment"># Step 1: Prepare Data</span>midwest = pd.read_csv(<span class="hljs-string">&quot;https://raw.githubusercontent.com/selva86/datasets/master/midwest_filter.csv&quot;</span>)<span class="hljs-comment"># As many colors as there are unique midwest[&#x27;category&#x27;]</span>categories = np.unique(midwest[<span class="hljs-string">&#x27;category&#x27;</span>])colors = [plt.cm.tab10(i/<span class="hljs-built_in">float</span>(<span class="hljs-built_in">len</span>(categories)-<span class="hljs-number">1</span>)) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(categories))]<span class="hljs-comment"># Step 2: Draw Scatterplot with unique color for each category</span>fig = plt.figure(figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">10</span>), dpi=<span class="hljs-number">80</span>, facecolor=<span class="hljs-string">&#x27;w&#x27;</span>, edgecolor=<span class="hljs-string">&#x27;k&#x27;</span>)<span class="hljs-keyword">for</span> i, category <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(categories):    plt.scatter(<span class="hljs-string">&#x27;area&#x27;</span>, <span class="hljs-string">&#x27;poptotal&#x27;</span>, data=midwest.loc[midwest.category == category, :], s=<span class="hljs-string">&#x27;dot_size&#x27;</span>, cmap=colors[i], label=<span class="hljs-built_in">str</span>(category), edgecolors=<span class="hljs-string">&#x27;black&#x27;</span>, linewidths=<span class="hljs-number">.5</span>)<span class="hljs-comment"># åŸæ–‡ c=colors[i] å·²ä¿®æ”¹ä¸º cmap=colors[i]</span><span class="hljs-comment"># Step 3: Encircling</span><span class="hljs-comment"># https://stackoverflow.com/questions/44575681/how-do-i-encircle-different-data-sets-in-scatter-plot</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">encircle</span>(<span class="hljs-params">x,y, ax=<span class="hljs-literal">None</span>, **kw</span>):</span>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> ax: ax = plt.gca()    p = np.c_[x, y]    hull = ConvexHull(p)    poly = plt.Polygon(p[hull.vertices, :], **kw)    ax.add_patch(poly)<span class="hljs-comment"># Select data to be encircled</span>midwest_encircle_data = midwest.loc[midwest.state==<span class="hljs-string">&#x27;IN&#x27;</span>, :]<span class="hljs-comment"># Draw polygon surrounding vertices</span>encircle(midwest_encircle_data.area, midwest_encircle_data.poptotal, ec=<span class="hljs-string">&quot;k&quot;</span>, fc=<span class="hljs-string">&quot;gold&quot;</span>, alpha=<span class="hljs-number">0.1</span>)encircle(midwest_encircle_data.area, midwest_encircle_data.poptotal, ec=<span class="hljs-string">&quot;firebrick&quot;</span>, fc=<span class="hljs-string">&quot;none&quot;</span>, linewidth=<span class="hljs-number">1.5</span>)<span class="hljs-comment"># Step 4: Decorations</span>plt.gca().<span class="hljs-built_in">set</span>(xlim=(<span class="hljs-number">0.0</span>, <span class="hljs-number">0.1</span>), ylim=(<span class="hljs-number">0</span>, <span class="hljs-number">90000</span>),              xlabel=<span class="hljs-string">&#x27;Area&#x27;</span>, ylabel=<span class="hljs-string">&#x27;Population&#x27;</span>)plt.xticks(fontsize=<span class="hljs-number">12</span>); plt.yticks(fontsize=<span class="hljs-number">12</span>)plt.title(<span class="hljs-string">&quot;Bubble Plot with Encircling&quot;</span>, fontsize=<span class="hljs-number">22</span>)plt.legend(fontsize=<span class="hljs-number">12</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/02.png" alt="02"></p><h3><span id="03-dai-xian-xing-hui-gui-zui-jia-ni-he-xian-de-san-dian-tu-scatter-plot-with-linear-regression-line-of-best-fit"><font color="##4876FF">ã€03ã€‘å¸¦çº¿æ€§å›å½’æœ€ä½³æ‹Ÿåˆçº¿çš„æ•£ç‚¹å›¾ï¼ˆScatter plot with linear regression line of best fitï¼‰</font></span></h3><p>å¦‚æœä½ æƒ³äº†è§£ä¸¤ä¸ªå˜é‡ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–çš„ï¼Œé‚£ä¹ˆæœ€ä½³æ‹Ÿåˆçº¿å°±æ˜¯å¸¸ç”¨çš„æ–¹æ³•ã€‚ä¸‹å›¾æ˜¾ç¤ºäº†æ•°æ®ä¸­ä¸åŒç»„ä¹‹é—´çš„æœ€ä½³æ‹Ÿåˆçº¿çš„å·®å¼‚ã€‚è‹¥è¦ç¦ç”¨åˆ†ç»„å¹¶åªä¸ºæ•´ä¸ªæ•°æ®é›†ç»˜åˆ¶ä¸€æ¡æœ€ä½³æ‹Ÿåˆçº¿ï¼Œè¯·ä» <code>sns.lmplot()</code> æ–¹æ³•ä¸­åˆ é™¤ <code>hue ='cyl'</code> å‚æ•°ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://raw.githubusercontent.com/selva86/datasets/master/mpg_ggplot2.csv&quot;</span>)df_select = df.loc[df.cyl.isin([<span class="hljs-number">4</span>, <span class="hljs-number">8</span>]), :]<span class="hljs-comment"># Plot</span>sns.set_style(<span class="hljs-string">&quot;white&quot;</span>)gridobj = sns.lmplot(x=<span class="hljs-string">&quot;displ&quot;</span>, y=<span class="hljs-string">&quot;hwy&quot;</span>, hue=<span class="hljs-string">&quot;cyl&quot;</span>, data=df_select,                     height=<span class="hljs-number">7</span>, aspect=<span class="hljs-number">1.6</span>, robust=<span class="hljs-literal">True</span>, palette=<span class="hljs-string">&#x27;tab10&#x27;</span>,                     scatter_kws=<span class="hljs-built_in">dict</span>(s=<span class="hljs-number">60</span>, linewidths=<span class="hljs-number">.7</span>, edgecolors=<span class="hljs-string">&#x27;black&#x27;</span>))<span class="hljs-comment"># Decorations</span>gridobj.<span class="hljs-built_in">set</span>(xlim=(<span class="hljs-number">0.5</span>, <span class="hljs-number">7.5</span>), ylim=(<span class="hljs-number">0</span>, <span class="hljs-number">50</span>))plt.title(<span class="hljs-string">&quot;Scatterplot with line of best fit grouped by number of cylinders&quot;</span>, fontsize=<span class="hljs-number">20</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/03.png" alt="03"></p><p>é’ˆå¯¹æ¯ä¸€ç»„æ•°æ®ç»˜åˆ¶çº¿æ€§å›å½’çº¿ï¼ˆEach regression line in its own columnï¼‰ï¼Œå¯ä»¥é€šè¿‡åœ¨ <code>sns.lmplot()</code> ä¸­è®¾ç½® <code>col=groupingcolumn</code> å‚æ•°æ¥å®ç°ï¼Œå¦‚ä¸‹ï¼š</p><pre><code class="hljs python"><span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://raw.githubusercontent.com/selva86/datasets/master/mpg_ggplot2.csv&quot;</span>)df_select = df.loc[df.cyl.isin([<span class="hljs-number">4</span>, <span class="hljs-number">8</span>]), :]<span class="hljs-comment"># Each line in its own column</span>sns.set_style(<span class="hljs-string">&quot;white&quot;</span>)gridobj = sns.lmplot(x=<span class="hljs-string">&quot;displ&quot;</span>, y=<span class="hljs-string">&quot;hwy&quot;</span>,                     data=df_select,                     height=<span class="hljs-number">7</span>,                     robust=<span class="hljs-literal">True</span>,                     palette=<span class="hljs-string">&#x27;Set1&#x27;</span>,                     col=<span class="hljs-string">&quot;cyl&quot;</span>,                     scatter_kws=<span class="hljs-built_in">dict</span>(s=<span class="hljs-number">60</span>, linewidths=<span class="hljs-number">.7</span>, edgecolors=<span class="hljs-string">&#x27;black&#x27;</span>))<span class="hljs-comment"># Decorations</span>gridobj.<span class="hljs-built_in">set</span>(xlim=(<span class="hljs-number">0.5</span>, <span class="hljs-number">7.5</span>), ylim=(<span class="hljs-number">0</span>, <span class="hljs-number">50</span>))plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/04.png" alt="04"></p><h3><span id="04-dou-dong-tu-jittering-with-stripplot"><font color="##4876FF">ã€04ã€‘æŠ–åŠ¨å›¾ï¼ˆJittering with stripplotï¼‰</font></span></h3><p>é€šå¸¸ï¼Œå¤šä¸ªæ•°æ®ç‚¹å…·æœ‰å®Œå…¨ç›¸åŒçš„ X å’Œ Y å€¼ã€‚ æ­¤æ—¶å¤šä¸ªç‚¹ç»˜åˆ¶ä¼šé‡å å¹¶éšè—ã€‚ä¸ºé¿å…è¿™ç§æƒ…å†µï¼Œå¯ä»¥å°†æ•°æ®ç‚¹ç¨å¾®æŠ–åŠ¨ï¼Œä»¥ä¾¿å¯ä»¥ç›´è§‚åœ°çœ‹åˆ°å®ƒä»¬ã€‚ ä½¿ç”¨ <code>seaborn</code> åº“çš„ <code>stripplot()</code> æ–¹æ³•å¯ä»¥å¾ˆæ–¹ä¾¿çš„å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://raw.githubusercontent.com/selva86/datasets/master/mpg_ggplot2.csv&quot;</span>)<span class="hljs-comment"># Draw Stripplot</span>fig, ax = plt.subplots(figsize=(<span class="hljs-number">16</span>,<span class="hljs-number">10</span>), dpi= <span class="hljs-number">80</span>)sns.stripplot(df.cty, df.hwy, jitter=<span class="hljs-number">0.25</span>, size=<span class="hljs-number">8</span>, ax=ax, linewidth=<span class="hljs-number">.5</span>)<span class="hljs-comment"># Decorations</span>plt.title(<span class="hljs-string">&#x27;Use jittered plots to avoid overlapping of points&#x27;</span>, fontsize=<span class="hljs-number">22</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/05.png" alt="05"></p><h3><span id="05-ji-shu-tu-counts-plot"><font color="##4876FF">ã€05ã€‘è®¡æ•°å›¾ï¼ˆCounts Plotï¼‰</font></span></h3><p>é¿å…ç‚¹é‡å é—®é¢˜çš„å¦ä¸€ä¸ªé€‰æ‹©æ˜¯æ ¹æ®ç‚¹çš„ä½ç½®å¢åŠ ç‚¹çš„å¤§å°ã€‚æ‰€ä»¥ï¼Œç‚¹çš„å¤§å°è¶Šå¤§ï¼Œå®ƒå‘¨å›´çš„ç‚¹å°±è¶Šé›†ä¸­ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://raw.githubusercontent.com/selva86/datasets/master/mpg_ggplot2.csv&quot;</span>)df_counts = df.groupby([<span class="hljs-string">&#x27;hwy&#x27;</span>, <span class="hljs-string">&#x27;cty&#x27;</span>]).size().reset_index(name=<span class="hljs-string">&#x27;counts&#x27;</span>)<span class="hljs-comment"># Draw Stripplot</span>fig, ax = plt.subplots(figsize=(<span class="hljs-number">16</span>,<span class="hljs-number">10</span>), dpi= <span class="hljs-number">80</span>)    <span class="hljs-comment"># åŸæ–‡ä»£ç </span><span class="hljs-comment"># sns.stripplot(df_counts.cty, df_counts.hwy, size=df_counts.counts*2, ax=ax)</span><span class="hljs-comment"># çº æ­£ä»£ç </span>sns.stripplot(df_counts.cty, df_counts.hwy, sizes=df_counts.counts*<span class="hljs-number">2</span>, ax=ax)<span class="hljs-comment"># Decorations</span>plt.title(<span class="hljs-string">&#x27;Counts Plot - Size of circle is bigger as more points overlap&#x27;</span>, fontsize=<span class="hljs-number">22</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/06.png" alt="06"></p><h3><span id="06-bian-yuan-zhi-fang-tu-marginal-histogram"><font color="##4876FF">ã€06ã€‘è¾¹ç¼˜ç›´æ–¹å›¾ï¼ˆMarginal Histogramï¼‰</font></span></h3><p>è¾¹ç¼˜ç›´æ–¹å›¾æ˜¯å…·æœ‰æ²¿ X å’Œ Y è½´å˜é‡çš„ç›´æ–¹å›¾ã€‚ è¿™ç”¨äºå¯è§†åŒ– X å’Œ Y ä¹‹é—´çš„å…³ç³»ä»¥åŠå•ç‹¬çš„ X å’Œ Y çš„å•å˜é‡åˆ†å¸ƒã€‚ è¿™ç§å›¾ç»å¸¸ç”¨äºæ¢ç´¢æ€§æ•°æ®åˆ†æï¼ˆEDAï¼‰ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://raw.githubusercontent.com/selva86/datasets/master/mpg_ggplot2.csv&quot;</span>)<span class="hljs-comment"># Create Fig and gridspec</span>fig = plt.figure(figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">10</span>), dpi= <span class="hljs-number">80</span>)grid = plt.GridSpec(<span class="hljs-number">4</span>, <span class="hljs-number">4</span>, hspace=<span class="hljs-number">0.5</span>, wspace=<span class="hljs-number">0.2</span>)<span class="hljs-comment"># Define the axes</span>ax_main = fig.add_subplot(grid[:-<span class="hljs-number">1</span>, :-<span class="hljs-number">1</span>])ax_right = fig.add_subplot(grid[:-<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>], xticklabels=[], yticklabels=[])ax_bottom = fig.add_subplot(grid[-<span class="hljs-number">1</span>, <span class="hljs-number">0</span>:-<span class="hljs-number">1</span>], xticklabels=[], yticklabels=[])<span class="hljs-comment"># Scatterplot on main ax</span>ax_main.scatter(<span class="hljs-string">&#x27;displ&#x27;</span>, <span class="hljs-string">&#x27;hwy&#x27;</span>, s=df.cty*<span class="hljs-number">4</span>, c=df.manufacturer.astype(<span class="hljs-string">&#x27;category&#x27;</span>).cat.codes, alpha=<span class="hljs-number">.9</span>, data=df, cmap=<span class="hljs-string">&quot;tab10&quot;</span>, edgecolors=<span class="hljs-string">&#x27;gray&#x27;</span>, linewidths=<span class="hljs-number">.5</span>)<span class="hljs-comment"># histogram on the right</span>ax_bottom.hist(df.displ, <span class="hljs-number">40</span>, histtype=<span class="hljs-string">&#x27;stepfilled&#x27;</span>, orientation=<span class="hljs-string">&#x27;vertical&#x27;</span>, color=<span class="hljs-string">&#x27;deeppink&#x27;</span>)ax_bottom.invert_yaxis()<span class="hljs-comment"># histogram in the bottom</span>ax_right.hist(df.hwy, <span class="hljs-number">40</span>, histtype=<span class="hljs-string">&#x27;stepfilled&#x27;</span>, orientation=<span class="hljs-string">&#x27;horizontal&#x27;</span>, color=<span class="hljs-string">&#x27;deeppink&#x27;</span>)<span class="hljs-comment"># Decorations</span>ax_main.<span class="hljs-built_in">set</span>(title=<span class="hljs-string">&#x27;Scatterplot with Histograms \n displ vs hwy&#x27;</span>, xlabel=<span class="hljs-string">&#x27;displ&#x27;</span>, ylabel=<span class="hljs-string">&#x27;hwy&#x27;</span>)ax_main.title.set_fontsize(<span class="hljs-number">20</span>)<span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> ([ax_main.xaxis.label, ax_main.yaxis.label] + ax_main.get_xticklabels() + ax_main.get_yticklabels()):    item.set_fontsize(<span class="hljs-number">14</span>)xlabels = ax_main.get_xticks().tolist()ax_main.set_xticklabels(xlabels)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/07.png" alt="07"></p><h3><span id="07-bian-yuan-xiang-xing-tu-marginal-boxplot"><font color="##4876FF">ã€07ã€‘è¾¹ç¼˜ç®±å½¢å›¾ï¼ˆMarginal Boxplotï¼‰</font></span></h3><p>è¾¹ç¼˜ç®±å½¢å›¾ä¸è¾¹ç¼˜ç›´æ–¹å›¾å…·æœ‰ç›¸ä¼¼çš„ç”¨é€”ã€‚ ç„¶è€Œï¼Œç®±çº¿å›¾æœ‰åŠ©äºç²¾ç¡®å®šä½ X å’Œ Y çš„ä¸­ä½æ•°ã€ç¬¬25å’Œç¬¬75ç™¾åˆ†ä½æ•°ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://raw.githubusercontent.com/selva86/datasets/master/mpg_ggplot2.csv&quot;</span>)<span class="hljs-comment"># Create Fig and gridspec</span>fig = plt.figure(figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">10</span>), dpi= <span class="hljs-number">80</span>)grid = plt.GridSpec(<span class="hljs-number">4</span>, <span class="hljs-number">4</span>, hspace=<span class="hljs-number">0.5</span>, wspace=<span class="hljs-number">0.2</span>)<span class="hljs-comment"># Define the axes</span>ax_main = fig.add_subplot(grid[:-<span class="hljs-number">1</span>, :-<span class="hljs-number">1</span>])ax_right = fig.add_subplot(grid[:-<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>], xticklabels=[], yticklabels=[])ax_bottom = fig.add_subplot(grid[-<span class="hljs-number">1</span>, <span class="hljs-number">0</span>:-<span class="hljs-number">1</span>], xticklabels=[], yticklabels=[])<span class="hljs-comment"># Scatterplot on main ax</span>ax_main.scatter(<span class="hljs-string">&#x27;displ&#x27;</span>, <span class="hljs-string">&#x27;hwy&#x27;</span>, s=df.cty*<span class="hljs-number">5</span>, c=df.manufacturer.astype(<span class="hljs-string">&#x27;category&#x27;</span>).cat.codes, alpha=<span class="hljs-number">.9</span>, data=df, cmap=<span class="hljs-string">&quot;Set1&quot;</span>, edgecolors=<span class="hljs-string">&#x27;black&#x27;</span>, linewidths=<span class="hljs-number">.5</span>)<span class="hljs-comment"># Add a graph in each part</span>sns.boxplot(df.hwy, ax=ax_right, orient=<span class="hljs-string">&quot;v&quot;</span>)sns.boxplot(df.displ, ax=ax_bottom, orient=<span class="hljs-string">&quot;h&quot;</span>)<span class="hljs-comment"># Decorations ------------------</span><span class="hljs-comment"># Remove x axis name for the boxplot</span>ax_bottom.<span class="hljs-built_in">set</span>(xlabel=<span class="hljs-string">&#x27;&#x27;</span>)ax_right.<span class="hljs-built_in">set</span>(ylabel=<span class="hljs-string">&#x27;&#x27;</span>)<span class="hljs-comment"># Main Title, Xlabel and YLabel</span>ax_main.<span class="hljs-built_in">set</span>(title=<span class="hljs-string">&#x27;Scatterplot with Histograms \n displ vs hwy&#x27;</span>, xlabel=<span class="hljs-string">&#x27;displ&#x27;</span>, ylabel=<span class="hljs-string">&#x27;hwy&#x27;</span>)<span class="hljs-comment"># Set font size of different components</span>ax_main.title.set_fontsize(<span class="hljs-number">20</span>)<span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> ([ax_main.xaxis.label, ax_main.yaxis.label] + ax_main.get_xticklabels() + ax_main.get_yticklabels()):    item.set_fontsize(<span class="hljs-number">14</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/08.png" alt="08"></p><h3><span id="08-xiang-guan-tu-correllogram"><font color="##4876FF">ã€08ã€‘ç›¸å…³å›¾ï¼ˆCorrellogramï¼‰</font></span></h3><p>ç›¸å…³å›¾ç”¨äºç›´è§‚åœ°æŸ¥çœ‹ç»™å®šæ•°æ®å¸§ï¼ˆæˆ–äºŒç»´æ•°ç»„ï¼‰ä¸­æ‰€æœ‰å¯èƒ½çš„æ•°å€¼å˜é‡å¯¹ä¹‹é—´çš„ç›¸å…³æ€§åº¦é‡ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Import Dataset</span>df = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mtcars.csv&quot;</span>)<span class="hljs-comment"># Plot</span>plt.figure(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">10</span>), dpi=<span class="hljs-number">80</span>)sns.heatmap(df.corr(), xticklabels=df.corr().columns, yticklabels=df.corr().columns, cmap=<span class="hljs-string">&#x27;RdYlGn&#x27;</span>, center=<span class="hljs-number">0</span>, annot=<span class="hljs-literal">True</span>)<span class="hljs-comment"># Decorations</span>plt.title(<span class="hljs-string">&#x27;Correlogram of mtcars&#x27;</span>, fontsize=<span class="hljs-number">22</span>)plt.xticks(fontsize=<span class="hljs-number">12</span>)plt.yticks(fontsize=<span class="hljs-number">12</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/09.png" alt="09"></p><h3><span id="09-cheng-dui-tu-pairwise-plot"><font color="##4876FF">ã€09ã€‘æˆå¯¹å›¾ï¼ˆPairwise Plotï¼‰</font></span></h3><p>æˆå¯¹å›¾æ˜¯æ¢ç´¢æ€§åˆ†æä¸­æœ€å—æ¬¢è¿çš„ä¸€ç§æ–¹æ³•ï¼Œç”¨æ¥ç†è§£æ‰€æœ‰å¯èƒ½çš„æ•°å€¼å˜é‡å¯¹ä¹‹é—´çš„å…³ç³»ã€‚å®ƒæ˜¯äºŒå…ƒåˆ†æçš„å¿…å¤‡å·¥å…·ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Load Dataset</span>df = sns.load_dataset(<span class="hljs-string">&#x27;iris&#x27;</span>)<span class="hljs-comment"># Plot</span>plt.figure(figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">8</span>), dpi=<span class="hljs-number">80</span>)sns.pairplot(df, kind=<span class="hljs-string">&quot;scatter&quot;</span>, hue=<span class="hljs-string">&quot;species&quot;</span>, plot_kws=<span class="hljs-built_in">dict</span>(s=<span class="hljs-number">80</span>, edgecolor=<span class="hljs-string">&quot;white&quot;</span>, linewidth=<span class="hljs-number">2.5</span>))plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/10.png" alt="10"></p><pre><code class="hljs python"><span class="hljs-comment"># Load Dataset</span>df = sns.load_dataset(<span class="hljs-string">&#x27;iris&#x27;</span>)<span class="hljs-comment"># Plot</span>plt.figure(figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">8</span>), dpi=<span class="hljs-number">80</span>)sns.pairplot(df, kind=<span class="hljs-string">&quot;reg&quot;</span>, hue=<span class="hljs-string">&quot;species&quot;</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/11.png" alt="11"></p><h2><span id="4x00-pian-chai-deviation"><font color="#FF0000">ã€4x00ã€‘åå·®ï¼ˆDeviationï¼‰</font></span></h2><h3><span id="10-fa-san-xing-tiao-xing-tu-diverging-bars"><font color="##4876FF">ã€10ã€‘å‘æ•£å‹æ¡å½¢å›¾ï¼ˆDiverging Barsï¼‰</font></span></h3><p>å¦‚æœæ‚¨æƒ³æ ¹æ®å•ä¸ªæŒ‡æ ‡æŸ¥çœ‹é¡¹ç›®çš„å˜åŒ–æƒ…å†µï¼Œå¹¶å¯è§†åŒ–æ­¤å·®å¼‚çš„é¡ºåºå’Œæ•°é‡ï¼Œé‚£ä¹ˆæ•£å‹æ¡å½¢å›¾æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å·¥å…·ã€‚ å®ƒæœ‰åŠ©äºå¿«é€ŸåŒºåˆ†æ•°æ®ç»„çš„æ€§èƒ½ï¼Œå¹¶ä¸”éå¸¸ç›´è§‚ï¼Œå¹¶ä¸”å¯ä»¥ç«‹å³ä¼ è¾¾è¿™ä¸€ç‚¹ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Prepare Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mtcars.csv&quot;</span>)x = df.loc[:, [<span class="hljs-string">&#x27;mpg&#x27;</span>]]df[<span class="hljs-string">&#x27;mpg_z&#x27;</span>] = (x - x.mean())/x.std()df[<span class="hljs-string">&#x27;colors&#x27;</span>] = [<span class="hljs-string">&#x27;red&#x27;</span> <span class="hljs-keyword">if</span> x &lt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;green&#x27;</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> df[<span class="hljs-string">&#x27;mpg_z&#x27;</span>]]df.sort_values(<span class="hljs-string">&#x27;mpg_z&#x27;</span>, inplace=<span class="hljs-literal">True</span>)df.reset_index(inplace=<span class="hljs-literal">True</span>)<span class="hljs-comment"># Draw plot</span>plt.figure(figsize=(<span class="hljs-number">14</span>,<span class="hljs-number">10</span>), dpi= <span class="hljs-number">80</span>)plt.hlines(y=df.index, xmin=<span class="hljs-number">0</span>, xmax=df.mpg_z, color=df.colors, alpha=<span class="hljs-number">0.4</span>, linewidth=<span class="hljs-number">5</span>)<span class="hljs-comment"># Decorations</span>plt.gca().<span class="hljs-built_in">set</span>(ylabel=<span class="hljs-string">&#x27;$Model$&#x27;</span>, xlabel=<span class="hljs-string">&#x27;$Mileage$&#x27;</span>)plt.yticks(df.index, df.cars, fontsize=<span class="hljs-number">12</span>)plt.title(<span class="hljs-string">&#x27;Diverging Bars of Car Mileage&#x27;</span>, fontdict=&#123;<span class="hljs-string">&#x27;size&#x27;</span>:<span class="hljs-number">20</span>&#125;)plt.grid(linestyle=<span class="hljs-string">&#x27;--&#x27;</span>, alpha=<span class="hljs-number">0.5</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/12.png" alt="12"></p><h3><span id="11-fa-san-xing-wen-ben-tu-diverging-texts"><font color="##4876FF">ã€11ã€‘å‘æ•£å‹æ–‡æœ¬å›¾ï¼ˆDiverging Textsï¼‰</font></span></h3><p>å‘æ•£å‹æ–‡æœ¬å›¾ä¸å‘æ•£å‹æ¡å½¢å›¾ç›¸ä¼¼ï¼Œå¦‚æœä½ å¸Œæœ›ä»¥ä¸€ç§ç¾è§‚çš„æ–¹å¼æ˜¾ç¤ºå›¾è¡¨ä¸­æ¯ä¸ªé¡¹ç›®çš„å€¼ï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Prepare Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mtcars.csv&quot;</span>)x = df.loc[:, [<span class="hljs-string">&#x27;mpg&#x27;</span>]]df[<span class="hljs-string">&#x27;mpg_z&#x27;</span>] = (x - x.mean())/x.std()df[<span class="hljs-string">&#x27;colors&#x27;</span>] = [<span class="hljs-string">&#x27;red&#x27;</span> <span class="hljs-keyword">if</span> x &lt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;green&#x27;</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> df[<span class="hljs-string">&#x27;mpg_z&#x27;</span>]]df.sort_values(<span class="hljs-string">&#x27;mpg_z&#x27;</span>, inplace=<span class="hljs-literal">True</span>)df.reset_index(inplace=<span class="hljs-literal">True</span>)<span class="hljs-comment"># Draw plot</span>plt.figure(figsize=(<span class="hljs-number">14</span>, <span class="hljs-number">14</span>), dpi=<span class="hljs-number">80</span>)plt.hlines(y=df.index, xmin=<span class="hljs-number">0</span>, xmax=df.mpg_z)<span class="hljs-keyword">for</span> x, y, tex <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(df.mpg_z, df.index, df.mpg_z):    t = plt.text(x, y, <span class="hljs-built_in">round</span>(tex, <span class="hljs-number">2</span>), horizontalalignment=<span class="hljs-string">&#x27;right&#x27;</span> <span class="hljs-keyword">if</span> x &lt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;left&#x27;</span>,                 verticalalignment=<span class="hljs-string">&#x27;center&#x27;</span>, fontdict=&#123;<span class="hljs-string">&#x27;color&#x27;</span>:<span class="hljs-string">&#x27;red&#x27;</span> <span class="hljs-keyword">if</span> x &lt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;size&#x27;</span>:<span class="hljs-number">14</span>&#125;)<span class="hljs-comment"># Decorations</span>plt.yticks(df.index, df.cars, fontsize=<span class="hljs-number">12</span>)plt.title(<span class="hljs-string">&#x27;Diverging Text Bars of Car Mileage&#x27;</span>, fontdict=&#123;<span class="hljs-string">&#x27;size&#x27;</span>:<span class="hljs-number">20</span>&#125;)plt.grid(linestyle=<span class="hljs-string">&#x27;--&#x27;</span>, alpha=<span class="hljs-number">0.5</span>)plt.xlim(-<span class="hljs-number">2.5</span>, <span class="hljs-number">2.5</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/13.png" alt="13"></p><h3><span id="12-fa-san-xing-san-dian-tu-diverging-dot-plot"><font color="##4876FF">ã€12ã€‘å‘æ•£å‹æ•£ç‚¹å›¾ï¼ˆDiverging Dot Plotï¼‰</font></span></h3><p>å‘æ•£å‹æ•£ç‚¹å›¾ç±»ä¼¼äºå‘æ•£å‹æ¡å½¢å›¾ã€‚ ä½†æ˜¯ï¼Œä¸å‘æ•£å‹æ¡å½¢å›¾ç›¸æ¯”ï¼Œæ²¡æœ‰æ¡å½¢ä¼šå‡å°‘ç»„ä¹‹é—´çš„å¯¹æ¯”åº¦å’Œå·®å¼‚ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Prepare Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mtcars.csv&quot;</span>)x = df.loc[:, [<span class="hljs-string">&#x27;mpg&#x27;</span>]]df[<span class="hljs-string">&#x27;mpg_z&#x27;</span>] = (x - x.mean())/x.std()df[<span class="hljs-string">&#x27;colors&#x27;</span>] = [<span class="hljs-string">&#x27;red&#x27;</span> <span class="hljs-keyword">if</span> x &lt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;darkgreen&#x27;</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> df[<span class="hljs-string">&#x27;mpg_z&#x27;</span>]]df.sort_values(<span class="hljs-string">&#x27;mpg_z&#x27;</span>, inplace=<span class="hljs-literal">True</span>)df.reset_index(inplace=<span class="hljs-literal">True</span>)<span class="hljs-comment"># Draw plot</span>plt.figure(figsize=(<span class="hljs-number">14</span>, <span class="hljs-number">16</span>), dpi=<span class="hljs-number">80</span>)plt.scatter(df.mpg_z, df.index, s=<span class="hljs-number">450</span>, alpha=<span class="hljs-number">.6</span>, color=df.colors)<span class="hljs-keyword">for</span> x, y, tex <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(df.mpg_z, df.index, df.mpg_z):    t = plt.text(x, y, <span class="hljs-built_in">round</span>(tex, <span class="hljs-number">1</span>), horizontalalignment=<span class="hljs-string">&#x27;center&#x27;</span>,                 verticalalignment=<span class="hljs-string">&#x27;center&#x27;</span>, fontdict=&#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;white&#x27;</span>&#125;)<span class="hljs-comment"># Decorations</span><span class="hljs-comment"># Lighten borders</span>plt.gca().spines[<span class="hljs-string">&quot;top&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)plt.gca().spines[<span class="hljs-string">&quot;bottom&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)plt.gca().spines[<span class="hljs-string">&quot;right&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)plt.gca().spines[<span class="hljs-string">&quot;left&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)plt.yticks(df.index, df.cars)plt.title(<span class="hljs-string">&#x27;Diverging Dotplot of Car Mileage&#x27;</span>, fontdict=&#123;<span class="hljs-string">&#x27;size&#x27;</span>: <span class="hljs-number">20</span>&#125;)plt.xlabel(<span class="hljs-string">&#x27;$Mileage$&#x27;</span>)plt.grid(linestyle=<span class="hljs-string">&#x27;--&#x27;</span>, alpha=<span class="hljs-number">0.5</span>)plt.xlim(-<span class="hljs-number">2.5</span>, <span class="hljs-number">2.5</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/14.png" alt="14"></p><h3><span id="13-dai-biao-ji-de-fa-san-xing-bang-bang-tang-tu-diverging-lollipop-chart-with-markers"><font color="##4876FF">ã€13ã€‘å¸¦æ ‡è®°çš„å‘æ•£å‹æ£’æ£’ç³–å›¾ï¼ˆDiverging Lollipop Chart with Markersï¼‰</font></span></h3><p>å¸¦æœ‰æ ‡è®°çš„æ£’æ£’ç³–æä¾›äº†ä¸€ç§çµæ´»çš„æ–¹å¼ï¼Œå¼ºè°ƒæ‚¨æƒ³è¦å¼•èµ·æ³¨æ„çš„ä»»ä½•é‡è¦æ•°æ®ç‚¹å¹¶åœ¨å›¾è¡¨ä¸­é€‚å½“åœ°ç»™å‡ºæ¨ç†ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Prepare Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mtcars.csv&quot;</span>)x = df.loc[:, [<span class="hljs-string">&#x27;mpg&#x27;</span>]]df[<span class="hljs-string">&#x27;mpg_z&#x27;</span>] = (x - x.mean())/x.std()df[<span class="hljs-string">&#x27;colors&#x27;</span>] = <span class="hljs-string">&#x27;black&#x27;</span><span class="hljs-comment"># color fiat differently</span>df.loc[df.cars == <span class="hljs-string">&#x27;Fiat X1-9&#x27;</span>, <span class="hljs-string">&#x27;colors&#x27;</span>] = <span class="hljs-string">&#x27;darkorange&#x27;</span>df.sort_values(<span class="hljs-string">&#x27;mpg_z&#x27;</span>, inplace=<span class="hljs-literal">True</span>)df.reset_index(inplace=<span class="hljs-literal">True</span>)<span class="hljs-comment"># Draw plot</span><span class="hljs-keyword">import</span> matplotlib.patches <span class="hljs-keyword">as</span> patchesplt.figure(figsize=(<span class="hljs-number">14</span>, <span class="hljs-number">16</span>), dpi=<span class="hljs-number">80</span>)plt.hlines(y=df.index, xmin=<span class="hljs-number">0</span>, xmax=df.mpg_z, color=df.colors, alpha=<span class="hljs-number">0.4</span>, linewidth=<span class="hljs-number">1</span>)plt.scatter(df.mpg_z, df.index, color=df.colors, s=[<span class="hljs-number">600</span> <span class="hljs-keyword">if</span> x == <span class="hljs-string">&#x27;Fiat X1-9&#x27;</span> <span class="hljs-keyword">else</span> <span class="hljs-number">300</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> df.cars], alpha=<span class="hljs-number">0.6</span>)plt.yticks(df.index, df.cars)plt.xticks(fontsize=<span class="hljs-number">12</span>)<span class="hljs-comment"># Annotate</span>plt.annotate(<span class="hljs-string">&#x27;Mercedes Models&#x27;</span>, xy=(<span class="hljs-number">0.0</span>, <span class="hljs-number">11.0</span>), xytext=(<span class="hljs-number">1.0</span>, <span class="hljs-number">11</span>), xycoords=<span class="hljs-string">&#x27;data&#x27;</span>,            fontsize=<span class="hljs-number">15</span>, ha=<span class="hljs-string">&#x27;center&#x27;</span>, va=<span class="hljs-string">&#x27;center&#x27;</span>,            bbox=<span class="hljs-built_in">dict</span>(boxstyle=<span class="hljs-string">&#x27;square&#x27;</span>, fc=<span class="hljs-string">&#x27;firebrick&#x27;</span>),            arrowprops=<span class="hljs-built_in">dict</span>(arrowstyle=<span class="hljs-string">&#x27;-[, widthB=2.0, lengthB=1.5&#x27;</span>, lw=<span class="hljs-number">2.0</span>, color=<span class="hljs-string">&#x27;steelblue&#x27;</span>), color=<span class="hljs-string">&#x27;white&#x27;</span>)<span class="hljs-comment"># Add Patches</span>p1 = patches.Rectangle((-<span class="hljs-number">2.0</span>, -<span class="hljs-number">1</span>), width=<span class="hljs-number">.3</span>, height=<span class="hljs-number">3</span>, alpha=<span class="hljs-number">.2</span>, facecolor=<span class="hljs-string">&#x27;red&#x27;</span>)p2 = patches.Rectangle((<span class="hljs-number">1.5</span>, <span class="hljs-number">27</span>), width=<span class="hljs-number">.8</span>, height=<span class="hljs-number">5</span>, alpha=<span class="hljs-number">.2</span>, facecolor=<span class="hljs-string">&#x27;green&#x27;</span>)plt.gca().add_patch(p1)plt.gca().add_patch(p2)<span class="hljs-comment"># Decorate</span>plt.title(<span class="hljs-string">&#x27;Diverging Bars of Car Mileage&#x27;</span>, fontdict=&#123;<span class="hljs-string">&#x27;size&#x27;</span>: <span class="hljs-number">20</span>&#125;)plt.grid(linestyle=<span class="hljs-string">&#x27;--&#x27;</span>, alpha=<span class="hljs-number">0.5</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/15.png" alt="15"></p><h3><span id="14-mian-ji-tu-area-chart"><font color="##4876FF">ã€14ã€‘é¢ç§¯å›¾ï¼ˆArea Chartï¼‰</font></span></h3><p>é€šè¿‡å¯¹è½´å’Œçº¿ä¹‹é—´çš„åŒºåŸŸè¿›è¡Œç€è‰²ï¼Œé¢ç§¯å›¾ä¸ä»…å¼ºè°ƒæ³¢å³°å’Œæ³¢è°·ï¼Œè¿˜å¼ºè°ƒæ³¢å³°å’Œæ³¢è°·çš„æŒç»­æ—¶é—´ã€‚ é«˜ç‚¹æŒç»­æ—¶é—´è¶Šé•¿ï¼Œçº¿ä¸‹é¢ç§¯è¶Šå¤§ã€‚</p><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<span class="hljs-comment"># Prepare Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/economics.csv&quot;</span>, parse_dates=[<span class="hljs-string">&#x27;date&#x27;</span>]).head(<span class="hljs-number">100</span>)x = np.arange(df.shape[<span class="hljs-number">0</span>])y_returns = (df.psavert.diff().fillna(<span class="hljs-number">0</span>)/df.psavert.shift(<span class="hljs-number">1</span>)).fillna(<span class="hljs-number">0</span>) * <span class="hljs-number">100</span><span class="hljs-comment"># Plot</span>plt.figure(figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">10</span>), dpi=<span class="hljs-number">80</span>)plt.fill_between(x[<span class="hljs-number">1</span>:], y_returns[<span class="hljs-number">1</span>:], <span class="hljs-number">0</span>, where=y_returns[<span class="hljs-number">1</span>:] &gt;= <span class="hljs-number">0</span>, facecolor=<span class="hljs-string">&#x27;green&#x27;</span>, interpolate=<span class="hljs-literal">True</span>, alpha=<span class="hljs-number">0.7</span>)plt.fill_between(x[<span class="hljs-number">1</span>:], y_returns[<span class="hljs-number">1</span>:], <span class="hljs-number">0</span>, where=y_returns[<span class="hljs-number">1</span>:] &lt;= <span class="hljs-number">0</span>, facecolor=<span class="hljs-string">&#x27;red&#x27;</span>, interpolate=<span class="hljs-literal">True</span>, alpha=<span class="hljs-number">0.7</span>)<span class="hljs-comment"># Annotate</span>plt.annotate(<span class="hljs-string">&#x27;Peak \n1975&#x27;</span>, xy=(<span class="hljs-number">94.0</span>, <span class="hljs-number">21.0</span>), xytext=(<span class="hljs-number">88.0</span>, <span class="hljs-number">28</span>),             bbox=<span class="hljs-built_in">dict</span>(boxstyle=<span class="hljs-string">&#x27;square&#x27;</span>, fc=<span class="hljs-string">&#x27;firebrick&#x27;</span>),             arrowprops=<span class="hljs-built_in">dict</span>(facecolor=<span class="hljs-string">&#x27;steelblue&#x27;</span>, shrink=<span class="hljs-number">0.05</span>), fontsize=<span class="hljs-number">15</span>, color=<span class="hljs-string">&#x27;white&#x27;</span>)<span class="hljs-comment"># Decorations</span>xtickvals = [<span class="hljs-built_in">str</span>(m)[:<span class="hljs-number">3</span>].upper()+<span class="hljs-string">&quot;-&quot;</span>+<span class="hljs-built_in">str</span>(y) <span class="hljs-keyword">for</span> y, m <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(df.date.dt.year, df.date.dt.month_name())]plt.gca().set_xticks(x[::<span class="hljs-number">6</span>])plt.gca().set_xticklabels(xtickvals[::<span class="hljs-number">6</span>], rotation=<span class="hljs-number">90</span>, fontdict=&#123;<span class="hljs-string">&#x27;horizontalalignment&#x27;</span>: <span class="hljs-string">&#x27;center&#x27;</span>, <span class="hljs-string">&#x27;verticalalignment&#x27;</span>: <span class="hljs-string">&#x27;center_baseline&#x27;</span>&#125;)plt.ylim(-<span class="hljs-number">35</span>, <span class="hljs-number">35</span>)plt.xlim(<span class="hljs-number">1</span>, <span class="hljs-number">100</span>)plt.title(<span class="hljs-string">&quot;Month Economics Return %&quot;</span>, fontsize=<span class="hljs-number">22</span>)plt.ylabel(<span class="hljs-string">&#x27;Monthly returns %&#x27;</span>)plt.grid(alpha=<span class="hljs-number">0.5</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/16.png" alt="16"></p><h2><span id="5x00-pai-xu-ranking"><font color="#FF0000">ã€5x00ã€‘æ’åºï¼ˆRankingï¼‰</font></span></h2><h3><span id="15-you-xu-tiao-xing-tu-ordered-bar-chart"><font color="##4876FF">ã€15ã€‘æœ‰åºæ¡å½¢å›¾ï¼ˆOrdered Bar Chartï¼‰</font></span></h3><p>æœ‰åºæ¡å½¢å›¾æœ‰æ•ˆåœ°ä¼ è¾¾äº†é¡¹ç›®çš„æ’åºé¡ºåºã€‚åœ¨å›¾è¡¨ä¸Šæ–¹æ·»åŠ åº¦é‡æ ‡å‡†çš„å€¼ï¼Œç”¨æˆ·å°±å¯ä»¥ä»å›¾è¡¨æœ¬èº«è·å¾—ç²¾ç¡®çš„ä¿¡æ¯ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Prepare Data</span>df_raw = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv&quot;</span>)df = df_raw[[<span class="hljs-string">&#x27;cty&#x27;</span>, <span class="hljs-string">&#x27;manufacturer&#x27;</span>]].groupby(<span class="hljs-string">&#x27;manufacturer&#x27;</span>).apply(<span class="hljs-keyword">lambda</span> x: x.mean())df.sort_values(<span class="hljs-string">&#x27;cty&#x27;</span>, inplace=<span class="hljs-literal">True</span>)df.reset_index(inplace=<span class="hljs-literal">True</span>)<span class="hljs-comment"># Draw plot</span><span class="hljs-keyword">import</span> matplotlib.patches <span class="hljs-keyword">as</span> patchesfig, ax = plt.subplots(figsize=(<span class="hljs-number">16</span>,<span class="hljs-number">10</span>), facecolor=<span class="hljs-string">&#x27;white&#x27;</span>, dpi= <span class="hljs-number">80</span>)ax.vlines(x=df.index, ymin=<span class="hljs-number">0</span>, ymax=df.cty, color=<span class="hljs-string">&#x27;firebrick&#x27;</span>, alpha=<span class="hljs-number">0.7</span>, linewidth=<span class="hljs-number">20</span>)<span class="hljs-comment"># Annotate Text</span><span class="hljs-keyword">for</span> i, cty <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(df.cty):    ax.text(i, cty+<span class="hljs-number">0.5</span>, <span class="hljs-built_in">round</span>(cty, <span class="hljs-number">1</span>), horizontalalignment=<span class="hljs-string">&#x27;center&#x27;</span>)<span class="hljs-comment"># Title, Label, Ticks and Ylim</span>ax.set_title(<span class="hljs-string">&#x27;Bar Chart for Highway Mileage&#x27;</span>, fontdict=&#123;<span class="hljs-string">&#x27;size&#x27;</span>:<span class="hljs-number">22</span>&#125;)ax.<span class="hljs-built_in">set</span>(ylabel=<span class="hljs-string">&#x27;Miles Per Gallon&#x27;</span>, ylim=(<span class="hljs-number">0</span>, <span class="hljs-number">30</span>))plt.xticks(df.index, df.manufacturer.<span class="hljs-built_in">str</span>.upper(), rotation=<span class="hljs-number">60</span>, horizontalalignment=<span class="hljs-string">&#x27;right&#x27;</span>, fontsize=<span class="hljs-number">12</span>)<span class="hljs-comment"># Add patches to color the X axis labels</span>p1 = patches.Rectangle((<span class="hljs-number">.57</span>, -<span class="hljs-number">0.005</span>), width=<span class="hljs-number">.33</span>, height=<span class="hljs-number">.13</span>, alpha=<span class="hljs-number">.1</span>, facecolor=<span class="hljs-string">&#x27;green&#x27;</span>, transform=fig.transFigure)p2 = patches.Rectangle((<span class="hljs-number">.124</span>, -<span class="hljs-number">0.005</span>), width=<span class="hljs-number">.446</span>, height=<span class="hljs-number">.13</span>, alpha=<span class="hljs-number">.1</span>, facecolor=<span class="hljs-string">&#x27;red&#x27;</span>, transform=fig.transFigure)fig.add_artist(p1)fig.add_artist(p2)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/17.png" alt="17"></p><h3><span id="16-bang-bang-tang-tu-lollipop-chart"><font color="##4876FF">ã€16ã€‘æ£’æ£’ç³–å›¾ï¼ˆLollipop Chartï¼‰</font></span></h3><p>æ£’æ£’ç³–å›¾è¡¨ä»¥ä¸€ç§è§†è§‰ä¸Šä»¤äººæ„‰æ‚¦çš„æ–¹å¼æä¾›ä¸æœ‰åºæ¡å½¢å›¾ç±»ä¼¼çš„ç›®çš„ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Prepare Data</span>df_raw = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv&quot;</span>)df = df_raw[[<span class="hljs-string">&#x27;cty&#x27;</span>, <span class="hljs-string">&#x27;manufacturer&#x27;</span>]].groupby(<span class="hljs-string">&#x27;manufacturer&#x27;</span>).apply(<span class="hljs-keyword">lambda</span> x: x.mean())df.sort_values(<span class="hljs-string">&#x27;cty&#x27;</span>, inplace=<span class="hljs-literal">True</span>)df.reset_index(inplace=<span class="hljs-literal">True</span>)<span class="hljs-comment"># Draw plot</span>fig, ax = plt.subplots(figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">10</span>), dpi=<span class="hljs-number">80</span>)ax.vlines(x=df.index, ymin=<span class="hljs-number">0</span>, ymax=df.cty, color=<span class="hljs-string">&#x27;firebrick&#x27;</span>, alpha=<span class="hljs-number">0.7</span>, linewidth=<span class="hljs-number">2</span>)ax.scatter(x=df.index, y=df.cty, s=<span class="hljs-number">75</span>, color=<span class="hljs-string">&#x27;firebrick&#x27;</span>, alpha=<span class="hljs-number">0.7</span>)<span class="hljs-comment"># Title, Label, Ticks and Ylim</span>ax.set_title(<span class="hljs-string">&#x27;Lollipop Chart for Highway Mileage&#x27;</span>, fontdict=&#123;<span class="hljs-string">&#x27;size&#x27;</span>: <span class="hljs-number">22</span>&#125;)ax.set_ylabel(<span class="hljs-string">&#x27;Miles Per Gallon&#x27;</span>)ax.set_xticks(df.index)ax.set_xticklabels(df.manufacturer.<span class="hljs-built_in">str</span>.upper(), rotation=<span class="hljs-number">60</span>, fontdict=&#123;<span class="hljs-string">&#x27;horizontalalignment&#x27;</span>: <span class="hljs-string">&#x27;right&#x27;</span>, <span class="hljs-string">&#x27;size&#x27;</span>: <span class="hljs-number">12</span>&#125;)ax.set_ylim(<span class="hljs-number">0</span>, <span class="hljs-number">30</span>)<span class="hljs-comment"># Annotate</span><span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> df.itertuples():    ax.text(row.Index, row.cty+<span class="hljs-number">.5</span>, s=<span class="hljs-built_in">round</span>(row.cty, <span class="hljs-number">2</span>), horizontalalignment=<span class="hljs-string">&#x27;center&#x27;</span>, verticalalignment=<span class="hljs-string">&#x27;bottom&#x27;</span>, fontsize=<span class="hljs-number">14</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/18.png" alt="18"></p><h3><span id="17-dian-tu-dot-plot"><font color="##4876FF">ã€17ã€‘ç‚¹å›¾ï¼ˆDot Plotï¼‰</font></span></h3><p>ç‚¹å›¾å¯ä»¥è¡¨ç¤ºé¡¹ç›®çš„æ’åé¡ºåºã€‚ç”±äºå®ƒæ˜¯æ²¿æ°´å¹³è½´å¯¹é½çš„ï¼Œæ‰€ä»¥å¯ä»¥æ›´å®¹æ˜“åœ°çœ‹åˆ°ç‚¹ä¹‹é—´çš„è·ç¦»ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Prepare Data</span>df_raw = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv&quot;</span>)df = df_raw[[<span class="hljs-string">&#x27;cty&#x27;</span>, <span class="hljs-string">&#x27;manufacturer&#x27;</span>]].groupby(<span class="hljs-string">&#x27;manufacturer&#x27;</span>).apply(<span class="hljs-keyword">lambda</span> x: x.mean())df.sort_values(<span class="hljs-string">&#x27;cty&#x27;</span>, inplace=<span class="hljs-literal">True</span>)df.reset_index(inplace=<span class="hljs-literal">True</span>)<span class="hljs-comment"># Draw plot</span>fig, ax = plt.subplots(figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">10</span>), dpi=<span class="hljs-number">80</span>)ax.hlines(y=df.index, xmin=<span class="hljs-number">11</span>, xmax=<span class="hljs-number">26</span>, color=<span class="hljs-string">&#x27;gray&#x27;</span>, alpha=<span class="hljs-number">0.7</span>, linewidth=<span class="hljs-number">1</span>, linestyles=<span class="hljs-string">&#x27;dashdot&#x27;</span>)ax.scatter(y=df.index, x=df.cty, s=<span class="hljs-number">75</span>, color=<span class="hljs-string">&#x27;firebrick&#x27;</span>, alpha=<span class="hljs-number">0.7</span>)<span class="hljs-comment"># Title, Label, Ticks and Ylim</span>ax.set_title(<span class="hljs-string">&#x27;Dot Plot for Highway Mileage&#x27;</span>, fontdict=&#123;<span class="hljs-string">&#x27;size&#x27;</span>: <span class="hljs-number">22</span>&#125;)ax.set_xlabel(<span class="hljs-string">&#x27;Miles Per Gallon&#x27;</span>)ax.set_yticks(df.index)ax.set_yticklabels(df.manufacturer.<span class="hljs-built_in">str</span>.title(), fontdict=&#123;<span class="hljs-string">&#x27;horizontalalignment&#x27;</span>: <span class="hljs-string">&#x27;right&#x27;</span>&#125;)ax.set_xlim(<span class="hljs-number">10</span>, <span class="hljs-number">27</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/19.png" alt="19"></p><h3><span id="18-po-du-tu-slope-chart"><font color="##4876FF">ã€18ã€‘å¡åº¦å›¾ï¼ˆSlope Chartï¼‰</font></span></h3><p>å¡åº¦å›¾æœ€é€‚åˆæ¯”è¾ƒç»™å®šäººå‘˜/é¡¹ç›®çš„â€œå‰â€å’Œâ€œåâ€ä½ç½®ã€‚</p><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.lines <span class="hljs-keyword">as</span> mlines<span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://raw.githubusercontent.com/selva86/datasets/master/gdppercap.csv&quot;</span>)left_label = [<span class="hljs-built_in">str</span>(c) + <span class="hljs-string">&#x27;, &#x27;</span> + <span class="hljs-built_in">str</span>(<span class="hljs-built_in">round</span>(y)) <span class="hljs-keyword">for</span> c, y <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(df.continent, df[<span class="hljs-string">&#x27;1952&#x27;</span>])]right_label = [<span class="hljs-built_in">str</span>(c) + <span class="hljs-string">&#x27;, &#x27;</span> + <span class="hljs-built_in">str</span>(<span class="hljs-built_in">round</span>(y)) <span class="hljs-keyword">for</span> c, y <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(df.continent, df[<span class="hljs-string">&#x27;1957&#x27;</span>])]klass = [<span class="hljs-string">&#x27;red&#x27;</span> <span class="hljs-keyword">if</span> (y1 - y2) &lt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;green&#x27;</span> <span class="hljs-keyword">for</span> y1, y2 <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(df[<span class="hljs-string">&#x27;1952&#x27;</span>], df[<span class="hljs-string">&#x27;1957&#x27;</span>])]<span class="hljs-comment"># draw line</span><span class="hljs-comment"># https://stackoverflow.com/questions/36470343/how-to-draw-a-line-with-matplotlib/36479941</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">newline</span>(<span class="hljs-params">p1, p2, color=<span class="hljs-string">&#x27;black&#x27;</span></span>):</span>    ax = plt.gca()    l = mlines.Line2D([p1[<span class="hljs-number">0</span>], p2[<span class="hljs-number">0</span>]], [p1[<span class="hljs-number">1</span>], p2[<span class="hljs-number">1</span>]], color=<span class="hljs-string">&#x27;red&#x27;</span> <span class="hljs-keyword">if</span> p1[<span class="hljs-number">1</span>] - p2[<span class="hljs-number">1</span>] &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;green&#x27;</span>, marker=<span class="hljs-string">&#x27;o&#x27;</span>,                      markersize=<span class="hljs-number">6</span>)    ax.add_line(l)    <span class="hljs-keyword">return</span> lfig, ax = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, figsize=(<span class="hljs-number">14</span>, <span class="hljs-number">14</span>), dpi=<span class="hljs-number">80</span>)<span class="hljs-comment"># Vertical Lines</span>ax.vlines(x=<span class="hljs-number">1</span>, ymin=<span class="hljs-number">500</span>, ymax=<span class="hljs-number">13000</span>, color=<span class="hljs-string">&#x27;black&#x27;</span>, alpha=<span class="hljs-number">0.7</span>, linewidth=<span class="hljs-number">1</span>, linestyles=<span class="hljs-string">&#x27;dotted&#x27;</span>)ax.vlines(x=<span class="hljs-number">3</span>, ymin=<span class="hljs-number">500</span>, ymax=<span class="hljs-number">13000</span>, color=<span class="hljs-string">&#x27;black&#x27;</span>, alpha=<span class="hljs-number">0.7</span>, linewidth=<span class="hljs-number">1</span>, linestyles=<span class="hljs-string">&#x27;dotted&#x27;</span>)<span class="hljs-comment"># Points</span>ax.scatter(y=df[<span class="hljs-string">&#x27;1952&#x27;</span>], x=np.repeat(<span class="hljs-number">1</span>, df.shape[<span class="hljs-number">0</span>]), s=<span class="hljs-number">10</span>, color=<span class="hljs-string">&#x27;black&#x27;</span>, alpha=<span class="hljs-number">0.7</span>)ax.scatter(y=df[<span class="hljs-string">&#x27;1957&#x27;</span>], x=np.repeat(<span class="hljs-number">3</span>, df.shape[<span class="hljs-number">0</span>]), s=<span class="hljs-number">10</span>, color=<span class="hljs-string">&#x27;black&#x27;</span>, alpha=<span class="hljs-number">0.7</span>)<span class="hljs-comment"># Line Segmentsand Annotation</span><span class="hljs-keyword">for</span> p1, p2, c <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(df[<span class="hljs-string">&#x27;1952&#x27;</span>], df[<span class="hljs-string">&#x27;1957&#x27;</span>], df[<span class="hljs-string">&#x27;continent&#x27;</span>]):    newline([<span class="hljs-number">1</span>, p1], [<span class="hljs-number">3</span>, p2])    ax.text(<span class="hljs-number">1</span> - <span class="hljs-number">0.05</span>, p1, c + <span class="hljs-string">&#x27;, &#x27;</span> + <span class="hljs-built_in">str</span>(<span class="hljs-built_in">round</span>(p1)), horizontalalignment=<span class="hljs-string">&#x27;right&#x27;</span>, verticalalignment=<span class="hljs-string">&#x27;center&#x27;</span>,            fontdict=&#123;<span class="hljs-string">&#x27;size&#x27;</span>: <span class="hljs-number">14</span>&#125;)    ax.text(<span class="hljs-number">3</span> + <span class="hljs-number">0.05</span>, p2, c + <span class="hljs-string">&#x27;, &#x27;</span> + <span class="hljs-built_in">str</span>(<span class="hljs-built_in">round</span>(p2)), horizontalalignment=<span class="hljs-string">&#x27;left&#x27;</span>, verticalalignment=<span class="hljs-string">&#x27;center&#x27;</span>,            fontdict=&#123;<span class="hljs-string">&#x27;size&#x27;</span>: <span class="hljs-number">14</span>&#125;)<span class="hljs-comment"># &#x27;Before&#x27; and &#x27;After&#x27; Annotations</span>ax.text(<span class="hljs-number">1</span> - <span class="hljs-number">0.05</span>, <span class="hljs-number">13000</span>, <span class="hljs-string">&#x27;BEFORE&#x27;</span>, horizontalalignment=<span class="hljs-string">&#x27;right&#x27;</span>, verticalalignment=<span class="hljs-string">&#x27;center&#x27;</span>,        fontdict=&#123;<span class="hljs-string">&#x27;size&#x27;</span>: <span class="hljs-number">18</span>, <span class="hljs-string">&#x27;weight&#x27;</span>: <span class="hljs-number">700</span>&#125;)ax.text(<span class="hljs-number">3</span> + <span class="hljs-number">0.05</span>, <span class="hljs-number">13000</span>, <span class="hljs-string">&#x27;AFTER&#x27;</span>, horizontalalignment=<span class="hljs-string">&#x27;left&#x27;</span>, verticalalignment=<span class="hljs-string">&#x27;center&#x27;</span>,        fontdict=&#123;<span class="hljs-string">&#x27;size&#x27;</span>: <span class="hljs-number">18</span>, <span class="hljs-string">&#x27;weight&#x27;</span>: <span class="hljs-number">700</span>&#125;)<span class="hljs-comment"># Decoration</span>ax.set_title(<span class="hljs-string">&quot;Slopechart: Comparing GDP Per Capita between 1952 vs 1957&quot;</span>, fontdict=&#123;<span class="hljs-string">&#x27;size&#x27;</span>: <span class="hljs-number">22</span>&#125;)ax.<span class="hljs-built_in">set</span>(xlim=(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>), ylim=(<span class="hljs-number">0</span>, <span class="hljs-number">14000</span>), ylabel=<span class="hljs-string">&#x27;Mean GDP Per Capita&#x27;</span>)ax.set_xticks([<span class="hljs-number">1</span>, <span class="hljs-number">3</span>])ax.set_xticklabels([<span class="hljs-string">&quot;1952&quot;</span>, <span class="hljs-string">&quot;1957&quot;</span>])plt.yticks(np.arange(<span class="hljs-number">500</span>, <span class="hljs-number">13000</span>, <span class="hljs-number">2000</span>), fontsize=<span class="hljs-number">12</span>)<span class="hljs-comment"># Lighten borders</span>plt.gca().spines[<span class="hljs-string">&quot;top&quot;</span>].set_alpha(<span class="hljs-number">.0</span>)plt.gca().spines[<span class="hljs-string">&quot;bottom&quot;</span>].set_alpha(<span class="hljs-number">.0</span>)plt.gca().spines[<span class="hljs-string">&quot;right&quot;</span>].set_alpha(<span class="hljs-number">.0</span>)plt.gca().spines[<span class="hljs-string">&quot;left&quot;</span>].set_alpha(<span class="hljs-number">.0</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/20.png" alt="20"></p><h3><span id="19-ya-ling-tu-dumbbell-plot"><font color="##4876FF">ã€19ã€‘å“‘é“ƒå›¾ï¼ˆDumbbell Plotï¼‰</font></span></h3><p>å“‘é“ƒå›¾ä¼ è¾¾äº†å„ç§é¡¹ç›®çš„â€œå‰â€å’Œâ€œåâ€ä½ç½®ä»¥åŠé¡¹ç›®çš„ç­‰çº§é¡ºåºã€‚å¦‚æœæ‚¨å¸Œæœ›å¯è§†åŒ–ç‰¹å®šé¡¹ç›®/è®¡åˆ’å¯¹ä¸åŒå¯¹è±¡çš„å½±å“ï¼Œé‚£ä¹ˆå®ƒéå¸¸æœ‰ç”¨ã€‚</p><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.lines <span class="hljs-keyword">as</span> mlines<span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://raw.githubusercontent.com/selva86/datasets/master/health.csv&quot;</span>)df.sort_values(<span class="hljs-string">&#x27;pct_2014&#x27;</span>, inplace=<span class="hljs-literal">True</span>)df.reset_index(inplace=<span class="hljs-literal">True</span>)<span class="hljs-comment"># Func to draw line segment</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">newline</span>(<span class="hljs-params">p1, p2, color=<span class="hljs-string">&#x27;black&#x27;</span></span>):</span>    ax = plt.gca()    l = mlines.Line2D([p1[<span class="hljs-number">0</span>], p2[<span class="hljs-number">0</span>]], [p1[<span class="hljs-number">1</span>], p2[<span class="hljs-number">1</span>]], color=<span class="hljs-string">&#x27;skyblue&#x27;</span>)    ax.add_line(l)    <span class="hljs-keyword">return</span> l<span class="hljs-comment"># Figure and Axes</span>fig, ax = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, figsize=(<span class="hljs-number">14</span>, <span class="hljs-number">14</span>), facecolor=<span class="hljs-string">&#x27;#f7f7f7&#x27;</span>, dpi=<span class="hljs-number">80</span>)<span class="hljs-comment"># Vertical Lines</span>ax.vlines(x=<span class="hljs-number">.05</span>, ymin=<span class="hljs-number">0</span>, ymax=<span class="hljs-number">26</span>, color=<span class="hljs-string">&#x27;black&#x27;</span>, alpha=<span class="hljs-number">1</span>, linewidth=<span class="hljs-number">1</span>, linestyles=<span class="hljs-string">&#x27;dotted&#x27;</span>)ax.vlines(x=<span class="hljs-number">.10</span>, ymin=<span class="hljs-number">0</span>, ymax=<span class="hljs-number">26</span>, color=<span class="hljs-string">&#x27;black&#x27;</span>, alpha=<span class="hljs-number">1</span>, linewidth=<span class="hljs-number">1</span>, linestyles=<span class="hljs-string">&#x27;dotted&#x27;</span>)ax.vlines(x=<span class="hljs-number">.15</span>, ymin=<span class="hljs-number">0</span>, ymax=<span class="hljs-number">26</span>, color=<span class="hljs-string">&#x27;black&#x27;</span>, alpha=<span class="hljs-number">1</span>, linewidth=<span class="hljs-number">1</span>, linestyles=<span class="hljs-string">&#x27;dotted&#x27;</span>)ax.vlines(x=<span class="hljs-number">.20</span>, ymin=<span class="hljs-number">0</span>, ymax=<span class="hljs-number">26</span>, color=<span class="hljs-string">&#x27;black&#x27;</span>, alpha=<span class="hljs-number">1</span>, linewidth=<span class="hljs-number">1</span>, linestyles=<span class="hljs-string">&#x27;dotted&#x27;</span>)<span class="hljs-comment"># Points</span>ax.scatter(y=df[<span class="hljs-string">&#x27;index&#x27;</span>], x=df[<span class="hljs-string">&#x27;pct_2013&#x27;</span>], s=<span class="hljs-number">50</span>, color=<span class="hljs-string">&#x27;#0e668b&#x27;</span>, alpha=<span class="hljs-number">0.7</span>)ax.scatter(y=df[<span class="hljs-string">&#x27;index&#x27;</span>], x=df[<span class="hljs-string">&#x27;pct_2014&#x27;</span>], s=<span class="hljs-number">50</span>, color=<span class="hljs-string">&#x27;#a3c4dc&#x27;</span>, alpha=<span class="hljs-number">0.7</span>)<span class="hljs-comment"># Line Segments</span><span class="hljs-keyword">for</span> i, p1, p2 <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(df[<span class="hljs-string">&#x27;index&#x27;</span>], df[<span class="hljs-string">&#x27;pct_2013&#x27;</span>], df[<span class="hljs-string">&#x27;pct_2014&#x27;</span>]):    newline([p1, i], [p2, i])<span class="hljs-comment"># Decoration</span>ax.set_facecolor(<span class="hljs-string">&#x27;#f7f7f7&#x27;</span>)ax.set_title(<span class="hljs-string">&quot;Dumbell Chart: Pct Change - 2013 vs 2014&quot;</span>, fontdict=&#123;<span class="hljs-string">&#x27;size&#x27;</span>: <span class="hljs-number">22</span>&#125;)ax.<span class="hljs-built_in">set</span>(xlim=(<span class="hljs-number">0</span>, <span class="hljs-number">.25</span>), ylim=(-<span class="hljs-number">1</span>, <span class="hljs-number">27</span>), ylabel=<span class="hljs-string">&#x27;Mean GDP Per Capita&#x27;</span>)ax.set_xticks([<span class="hljs-number">.05</span>, <span class="hljs-number">.1</span>, <span class="hljs-number">.15</span>, <span class="hljs-number">.20</span>])ax.set_xticklabels([<span class="hljs-string">&#x27;5%&#x27;</span>, <span class="hljs-string">&#x27;15%&#x27;</span>, <span class="hljs-string">&#x27;20%&#x27;</span>, <span class="hljs-string">&#x27;25%&#x27;</span>])ax.set_xticklabels([<span class="hljs-string">&#x27;5%&#x27;</span>, <span class="hljs-string">&#x27;15%&#x27;</span>, <span class="hljs-string">&#x27;20%&#x27;</span>, <span class="hljs-string">&#x27;25%&#x27;</span>])plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/21.png" alt="21"></p><h2><span id="6x00-fen-bu-distribution"><font color="#FF0000">ã€6x00ã€‘åˆ†å¸ƒï¼ˆDistributionï¼‰</font></span></h2><h3><span id="20-lian-xu-bian-liang-de-zhi-fang-tu-histogram-for-continuous-variable"><font color="##4876FF">ã€20ã€‘è¿ç»­å˜é‡çš„ç›´æ–¹å›¾ï¼ˆHistogram for Continuous Variableï¼‰</font></span></h3><p>è¿ç»­å˜é‡çš„ç›´æ–¹å›¾æ˜¾ç¤ºç»™å®šå˜é‡çš„é¢‘ç‡åˆ†å¸ƒã€‚ä¸‹é¢çš„å›¾è¡¨åŸºäºåˆ†ç±»å˜é‡å¯¹é¢‘ç‡æ¡è¿›è¡Œåˆ†ç»„ï¼Œä»è€Œæ›´æ·±å…¥åœ°äº†è§£è¿ç»­å˜é‡å’Œåˆ†ç±»å˜é‡ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv&quot;</span>)<span class="hljs-comment"># Prepare data</span>x_var = <span class="hljs-string">&#x27;displ&#x27;</span>groupby_var = <span class="hljs-string">&#x27;class&#x27;</span>df_agg = df.loc[:, [x_var, groupby_var]].groupby(groupby_var)vals = [df[x_var].values.tolist() <span class="hljs-keyword">for</span> i, df <span class="hljs-keyword">in</span> df_agg]<span class="hljs-comment"># Draw</span>plt.figure(figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">9</span>), dpi=<span class="hljs-number">80</span>)colors = [plt.cm.Spectral(i / <span class="hljs-built_in">float</span>(<span class="hljs-built_in">len</span>(vals) - <span class="hljs-number">1</span>)) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(vals))]n, bins, patches = plt.hist(vals, <span class="hljs-number">30</span>, stacked=<span class="hljs-literal">True</span>, density=<span class="hljs-literal">False</span>, color=colors[:<span class="hljs-built_in">len</span>(vals)])<span class="hljs-comment"># Decoration</span>plt.legend(&#123;group: col <span class="hljs-keyword">for</span> group, col <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(np.unique(df[groupby_var]).tolist(), colors[:<span class="hljs-built_in">len</span>(vals)])&#125;)plt.title(<span class="hljs-string">f&quot;Stacked Histogram of $<span class="hljs-subst">&#123;x_var&#125;</span>$ colored by $<span class="hljs-subst">&#123;groupby_var&#125;</span>$&quot;</span>, fontsize=<span class="hljs-number">22</span>)plt.xlabel(x_var)plt.ylabel(<span class="hljs-string">&quot;Frequency&quot;</span>)plt.ylim(<span class="hljs-number">0</span>, <span class="hljs-number">25</span>)plt.xticks(ticks=bins[::<span class="hljs-number">3</span>], labels=[<span class="hljs-built_in">round</span>(b, <span class="hljs-number">1</span>) <span class="hljs-keyword">for</span> b <span class="hljs-keyword">in</span> bins[::<span class="hljs-number">3</span>]])plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/22.png" alt="22"></p><h3><span id="21-fen-lei-bian-liang-de-zhi-fang-tu-histogram-for-categorical-variable"><font color="##4876FF">ã€21ã€‘åˆ†ç±»å˜é‡çš„ç›´æ–¹å›¾ï¼ˆHistogram for Categorical Variableï¼‰</font></span></h3><p>åˆ†ç±»å˜é‡çš„ç›´æ–¹å›¾æ˜¾ç¤ºè¯¥å˜é‡çš„é¢‘ç‡åˆ†å¸ƒã€‚é€šè¿‡ç»™æ¡å½¢å›¾ä¸Šè‰²ï¼Œæ‚¨å¯ä»¥å°†åˆ†å¸ƒä¸è¡¨ç¤ºé¢œè‰²çš„å¦ä¸€ä¸ªç±»å‹å˜é‡ç›¸å…³è”ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv&quot;</span>)<span class="hljs-comment"># Prepare data</span>x_var = <span class="hljs-string">&#x27;manufacturer&#x27;</span>groupby_var = <span class="hljs-string">&#x27;class&#x27;</span>df_agg = df.loc[:, [x_var, groupby_var]].groupby(groupby_var)vals = [df[x_var].values.tolist() <span class="hljs-keyword">for</span> i, df <span class="hljs-keyword">in</span> df_agg]<span class="hljs-comment"># Draw</span>plt.figure(figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">9</span>), dpi=<span class="hljs-number">80</span>)colors = [plt.cm.Spectral(i / <span class="hljs-built_in">float</span>(<span class="hljs-built_in">len</span>(vals) - <span class="hljs-number">1</span>)) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(vals))]n, bins, patches = plt.hist(vals, df[x_var].unique().__len__(), stacked=<span class="hljs-literal">True</span>, density=<span class="hljs-literal">False</span>, color=colors[:<span class="hljs-built_in">len</span>(vals)])<span class="hljs-comment"># Decoration</span>plt.legend(&#123;group: col <span class="hljs-keyword">for</span> group, col <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(np.unique(df[groupby_var]).tolist(), colors[:<span class="hljs-built_in">len</span>(vals)])&#125;)plt.title(<span class="hljs-string">f&quot;Stacked Histogram of $<span class="hljs-subst">&#123;x_var&#125;</span>$ colored by $<span class="hljs-subst">&#123;groupby_var&#125;</span>$&quot;</span>, fontsize=<span class="hljs-number">22</span>)plt.xlabel(x_var)plt.ylabel(<span class="hljs-string">&quot;Frequency&quot;</span>)plt.ylim(<span class="hljs-number">0</span>, <span class="hljs-number">40</span>)plt.xticks(ticks=bins, labels=np.unique(df[x_var]).tolist(), rotation=<span class="hljs-number">90</span>, horizontalalignment=<span class="hljs-string">&#x27;left&#x27;</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/23.png" alt="23"></p><h3><span id="22-mi-du-tu-density-plot"><font color="##4876FF">ã€22ã€‘å¯†åº¦å›¾ï¼ˆDensity Plotï¼‰</font></span></h3><p>å¯†åº¦å›¾æ˜¯è¿ç»­å˜é‡åˆ†å¸ƒå¯è§†åŒ–çš„å¸¸ç”¨å·¥å…·ã€‚é€šè¿‡æŒ‰â€œresponseâ€å˜é‡å¯¹å®ƒä»¬è¿›è¡Œåˆ†ç»„ï¼Œæ‚¨å¯ä»¥æ£€æŸ¥ X å’Œ Y ä¹‹é—´çš„å…³ç³»ã€‚å¦‚æœå‡ºäºä»£è¡¨æ€§ç›®çš„æ¥æè¿°åŸå¸‚é‡Œç¨‹åˆ†å¸ƒå¦‚ä½•éšæ°”ç¼¸æ•°è€Œå˜åŒ–ï¼Œè¯·å‚è§ä¸‹é¢çš„æƒ…å†µã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv&quot;</span>)<span class="hljs-comment"># Draw Plot</span>plt.figure(figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">10</span>), dpi=<span class="hljs-number">80</span>)sns.kdeplot(df.loc[df[<span class="hljs-string">&#x27;cyl&#x27;</span>] == <span class="hljs-number">4</span>, <span class="hljs-string">&quot;cty&quot;</span>], shade=<span class="hljs-literal">True</span>, color=<span class="hljs-string">&quot;g&quot;</span>, label=<span class="hljs-string">&quot;Cyl=4&quot;</span>, alpha=<span class="hljs-number">.7</span>)sns.kdeplot(df.loc[df[<span class="hljs-string">&#x27;cyl&#x27;</span>] == <span class="hljs-number">5</span>, <span class="hljs-string">&quot;cty&quot;</span>], shade=<span class="hljs-literal">True</span>, color=<span class="hljs-string">&quot;deeppink&quot;</span>, label=<span class="hljs-string">&quot;Cyl=5&quot;</span>, alpha=<span class="hljs-number">.7</span>)sns.kdeplot(df.loc[df[<span class="hljs-string">&#x27;cyl&#x27;</span>] == <span class="hljs-number">6</span>, <span class="hljs-string">&quot;cty&quot;</span>], shade=<span class="hljs-literal">True</span>, color=<span class="hljs-string">&quot;dodgerblue&quot;</span>, label=<span class="hljs-string">&quot;Cyl=6&quot;</span>, alpha=<span class="hljs-number">.7</span>)sns.kdeplot(df.loc[df[<span class="hljs-string">&#x27;cyl&#x27;</span>] == <span class="hljs-number">8</span>, <span class="hljs-string">&quot;cty&quot;</span>], shade=<span class="hljs-literal">True</span>, color=<span class="hljs-string">&quot;orange&quot;</span>, label=<span class="hljs-string">&quot;Cyl=8&quot;</span>, alpha=<span class="hljs-number">.7</span>)<span class="hljs-comment"># Decoration</span>plt.title(<span class="hljs-string">&#x27;Density Plot of City Mileage by n_Cylinders&#x27;</span>, fontsize=<span class="hljs-number">22</span>)plt.legend()plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/24.png" alt="24"></p><h3><span id="23-zhi-fang-tu-mi-du-qu-xian-density-curves-with-histogram"><font color="##4876FF">ã€23ã€‘ç›´æ–¹å›¾å¯†åº¦æ›²çº¿ï¼ˆDensity Curves with Histogramï¼‰</font></span></h3><p>å…·æœ‰ç›´æ–¹å›¾çš„å¯†åº¦æ›²çº¿å°†ä¸¤ä¸ªå›¾æ‰€ä¼ è¾¾çš„ä¿¡æ¯é›†åˆåœ¨ä¸€èµ·ï¼Œå› æ­¤æ‚¨å¯ä»¥å°†å®ƒä»¬éƒ½æ”¾åœ¨ä¸€ä¸ªå›¾å½¢ä¸­ï¼Œè€Œä¸æ˜¯æ”¾åœ¨ä¸¤ä¸ªå›¾å½¢ä¸­ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv&quot;</span>)<span class="hljs-comment"># Draw Plot</span>plt.figure(figsize=(<span class="hljs-number">13</span>, <span class="hljs-number">10</span>), dpi=<span class="hljs-number">80</span>)sns.distplot(df.loc[df[<span class="hljs-string">&#x27;class&#x27;</span>] == <span class="hljs-string">&#x27;compact&#x27;</span>, <span class="hljs-string">&quot;cty&quot;</span>], color=<span class="hljs-string">&quot;dodgerblue&quot;</span>, label=<span class="hljs-string">&quot;Compact&quot;</span>, hist_kws=&#123;<span class="hljs-string">&#x27;alpha&#x27;</span>: <span class="hljs-number">.7</span>&#125;,             kde_kws=&#123;<span class="hljs-string">&#x27;linewidth&#x27;</span>: <span class="hljs-number">3</span>&#125;)sns.distplot(df.loc[df[<span class="hljs-string">&#x27;class&#x27;</span>] == <span class="hljs-string">&#x27;suv&#x27;</span>, <span class="hljs-string">&quot;cty&quot;</span>], color=<span class="hljs-string">&quot;orange&quot;</span>, label=<span class="hljs-string">&quot;SUV&quot;</span>, hist_kws=&#123;<span class="hljs-string">&#x27;alpha&#x27;</span>: <span class="hljs-number">.7</span>&#125;,             kde_kws=&#123;<span class="hljs-string">&#x27;linewidth&#x27;</span>: <span class="hljs-number">3</span>&#125;)sns.distplot(df.loc[df[<span class="hljs-string">&#x27;class&#x27;</span>] == <span class="hljs-string">&#x27;minivan&#x27;</span>, <span class="hljs-string">&quot;cty&quot;</span>], color=<span class="hljs-string">&quot;g&quot;</span>, label=<span class="hljs-string">&quot;minivan&quot;</span>, hist_kws=&#123;<span class="hljs-string">&#x27;alpha&#x27;</span>: <span class="hljs-number">.7</span>&#125;,             kde_kws=&#123;<span class="hljs-string">&#x27;linewidth&#x27;</span>: <span class="hljs-number">3</span>&#125;)plt.ylim(<span class="hljs-number">0</span>, <span class="hljs-number">0.35</span>)<span class="hljs-comment"># Decoration</span>plt.title(<span class="hljs-string">&#x27;Density Plot of City Mileage by Vehicle Type&#x27;</span>, fontsize=<span class="hljs-number">22</span>)plt.legend()plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/25.png" alt="25"></p><h3><span id="24-shan-feng-die-luan-tu-huan-le-tu-joy-plot"><font color="##4876FF">ã€24ã€‘å±±å³°å å³¦å›¾ / æ¬¢ä¹å›¾ï¼ˆJoy Plotï¼‰</font></span></h3><p>Joy Plot å…è®¸ä¸åŒç»„çš„å¯†åº¦æ›²çº¿é‡å ï¼Œè¿™æ˜¯ä¸€ç§å¾ˆå¥½çš„å¯è§†åŒ–æ–¹æ³•ï¼Œå¯ä»¥ç›´è§‚åœ°æ˜¾ç¤ºå¤§é‡åˆ†ç»„ä¹‹é—´çš„å…³ç³»ã€‚å®ƒçœ‹èµ·æ¥èµå¿ƒæ‚¦ç›®ï¼Œæ¸…æ¥šåœ°ä¼ è¾¾äº†æ­£ç¡®çš„ä¿¡æ¯ã€‚å®ƒå¯ä»¥ä½¿ç”¨åŸºäº <code>matplotlib</code> çš„ <code>joypy</code> åŒ…è½»æ¾æ„å»ºã€‚</p><p>ã€è¯‘è€… TRHX æ³¨ï¼šJoy Plot çœ‹èµ·æ¥å°±åƒæ˜¯å±±å³°å å³¦ï¼Œå±±å³¦èµ·ä¼ï¼Œå±‚æ¬¡åˆ†æ˜ï¼Œä½†å–åä¸º Joyï¼Œæ¬¢ä¹çš„æ„æ€ï¼Œæ‰€ä»¥ä¸å¤ªå¥½ç¿»è¯‘ï¼Œåœ¨ä½¿ç”¨è¯¥æ–¹æ³•æ—¶è¦å…ˆå®‰è£… joypy åº“ã€‘</p><pre><code class="hljs python"><span class="hljs-comment"># !pip install joypy</span><span class="hljs-comment"># Import Data</span><span class="hljs-keyword">import</span> joypy<span class="hljs-comment"># åŸæ–‡æ²¡æœ‰ import joypyï¼Œè¯‘è€… TRHX æ·»åŠ </span>mpg = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv&quot;</span>)<span class="hljs-comment"># Draw Plot</span>plt.figure(figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">10</span>), dpi=<span class="hljs-number">80</span>)fig, axes = joypy.joyplot(mpg, column=[<span class="hljs-string">&#x27;hwy&#x27;</span>, <span class="hljs-string">&#x27;cty&#x27;</span>], by=<span class="hljs-string">&quot;class&quot;</span>, ylim=<span class="hljs-string">&#x27;own&#x27;</span>, figsize=(<span class="hljs-number">14</span>, <span class="hljs-number">10</span>))<span class="hljs-comment"># Decoration</span>plt.title(<span class="hljs-string">&#x27;Joy Plot of City and Highway Mileage by Class&#x27;</span>, fontsize=<span class="hljs-number">22</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/26.png" alt="26"></p><h3><span id="25-fen-bu-shi-dian-tu-distributed-dot-plot"><font color="##4876FF">ã€25ã€‘åˆ†å¸ƒå¼ç‚¹å›¾ï¼ˆDistributed Dot Plotï¼‰</font></span></h3><p>åˆ†å¸ƒç‚¹å›¾æ˜¾ç¤ºæŒ‰ç»„åˆ†å‰²çš„ç‚¹çš„å•å˜é‡åˆ†å¸ƒã€‚ç‚¹è¶Šæš—ï¼Œæ•°æ®ç‚¹åœ¨è¯¥åŒºåŸŸçš„é›†ä¸­ç¨‹åº¦å°±è¶Šé«˜ã€‚é€šè¿‡å¯¹ä¸­å€¼è¿›è¡Œä¸åŒçš„ç€è‰²ï¼Œè¿™äº›ç»„çš„çœŸå®ä½ç½®ç«‹å³å˜å¾—æ˜æ˜¾ã€‚</p><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.patches <span class="hljs-keyword">as</span> mpatches<span class="hljs-comment"># Prepare Data</span>df_raw = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv&quot;</span>)cyl_colors = &#123;<span class="hljs-number">4</span>: <span class="hljs-string">&#x27;tab:red&#x27;</span>, <span class="hljs-number">5</span>: <span class="hljs-string">&#x27;tab:green&#x27;</span>, <span class="hljs-number">6</span>: <span class="hljs-string">&#x27;tab:blue&#x27;</span>, <span class="hljs-number">8</span>: <span class="hljs-string">&#x27;tab:orange&#x27;</span>&#125;df_raw[<span class="hljs-string">&#x27;cyl_color&#x27;</span>] = df_raw.cyl.<span class="hljs-built_in">map</span>(cyl_colors)<span class="hljs-comment"># Mean and Median city mileage by make</span>df = df_raw[[<span class="hljs-string">&#x27;cty&#x27;</span>, <span class="hljs-string">&#x27;manufacturer&#x27;</span>]].groupby(<span class="hljs-string">&#x27;manufacturer&#x27;</span>).apply(<span class="hljs-keyword">lambda</span> x: x.mean())df.sort_values(<span class="hljs-string">&#x27;cty&#x27;</span>, ascending=<span class="hljs-literal">False</span>, inplace=<span class="hljs-literal">True</span>)df.reset_index(inplace=<span class="hljs-literal">True</span>)df_median = df_raw[[<span class="hljs-string">&#x27;cty&#x27;</span>, <span class="hljs-string">&#x27;manufacturer&#x27;</span>]].groupby(<span class="hljs-string">&#x27;manufacturer&#x27;</span>).apply(<span class="hljs-keyword">lambda</span> x: x.median())<span class="hljs-comment"># Draw horizontal lines</span>fig, ax = plt.subplots(figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">10</span>), dpi=<span class="hljs-number">80</span>)ax.hlines(y=df.index, xmin=<span class="hljs-number">0</span>, xmax=<span class="hljs-number">40</span>, color=<span class="hljs-string">&#x27;gray&#x27;</span>, alpha=<span class="hljs-number">0.5</span>, linewidth=<span class="hljs-number">.5</span>, linestyles=<span class="hljs-string">&#x27;dashdot&#x27;</span>)<span class="hljs-comment"># Draw the Dots</span><span class="hljs-keyword">for</span> i, make <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(df.manufacturer):    df_make = df_raw.loc[df_raw.manufacturer == make, :]    <span class="hljs-comment"># åŸæ–‡ä»£ç </span>    <span class="hljs-comment"># ax.scatter(y=np.repeat(i, df_make.shape[0]), x=&#x27;cty&#x27;, data=df_make, s=75, edgecolors=&#x27;gray&#x27;, c=&#x27;w&#x27;, alpha=0.5)</span>    <span class="hljs-comment"># çº æ­£ä»£ç </span>    ax.scatter(y=<span class="hljs-built_in">list</span>(np.repeat(i, df_make.shape[<span class="hljs-number">0</span>])), x=<span class="hljs-string">&#x27;cty&#x27;</span>, data=df_make, s=<span class="hljs-number">75</span>, edgecolors=<span class="hljs-string">&#x27;gray&#x27;</span>, c=<span class="hljs-string">&#x27;w&#x27;</span>, alpha=<span class="hljs-number">0.5</span>)    ax.scatter(y=i, x=<span class="hljs-string">&#x27;cty&#x27;</span>, data=df_median.loc[df_median.index == make, :], s=<span class="hljs-number">75</span>, c=<span class="hljs-string">&#x27;firebrick&#x27;</span>)<span class="hljs-comment"># Annotate</span>ax.text(<span class="hljs-number">33</span>, <span class="hljs-number">13</span>, <span class="hljs-string">&quot;$red \; dots \; are \; the \: median$&quot;</span>, fontdict=&#123;<span class="hljs-string">&#x27;size&#x27;</span>: <span class="hljs-number">12</span>&#125;, color=<span class="hljs-string">&#x27;firebrick&#x27;</span>)<span class="hljs-comment"># Decorations</span>red_patch = plt.plot([], [], marker=<span class="hljs-string">&quot;o&quot;</span>, ms=<span class="hljs-number">10</span>, ls=<span class="hljs-string">&quot;&quot;</span>, mec=<span class="hljs-literal">None</span>, color=<span class="hljs-string">&#x27;firebrick&#x27;</span>, label=<span class="hljs-string">&quot;Median&quot;</span>)plt.legend(handles=red_patch)ax.set_title(<span class="hljs-string">&#x27;Distribution of City Mileage by Make&#x27;</span>, fontdict=&#123;<span class="hljs-string">&#x27;size&#x27;</span>: <span class="hljs-number">22</span>&#125;)ax.set_xlabel(<span class="hljs-string">&#x27;Miles Per Gallon (City)&#x27;</span>, alpha=<span class="hljs-number">0.7</span>)ax.set_yticks(df.index)ax.set_yticklabels(df.manufacturer.<span class="hljs-built_in">str</span>.title(), fontdict=&#123;<span class="hljs-string">&#x27;horizontalalignment&#x27;</span>: <span class="hljs-string">&#x27;right&#x27;</span>&#125;, alpha=<span class="hljs-number">0.7</span>)ax.set_xlim(<span class="hljs-number">1</span>, <span class="hljs-number">40</span>)plt.xticks(alpha=<span class="hljs-number">0.7</span>)plt.gca().spines[<span class="hljs-string">&quot;top&quot;</span>].set_visible(<span class="hljs-literal">False</span>)plt.gca().spines[<span class="hljs-string">&quot;bottom&quot;</span>].set_visible(<span class="hljs-literal">False</span>)plt.gca().spines[<span class="hljs-string">&quot;right&quot;</span>].set_visible(<span class="hljs-literal">False</span>)plt.gca().spines[<span class="hljs-string">&quot;left&quot;</span>].set_visible(<span class="hljs-literal">False</span>)plt.grid(axis=<span class="hljs-string">&#x27;both&#x27;</span>, alpha=<span class="hljs-number">.4</span>, linewidth=<span class="hljs-number">.1</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/27.png" alt="27"></p><h3><span id="26-xiang-xing-tu-box-plot"><font color="##4876FF">ã€26ã€‘ç®±å½¢å›¾ï¼ˆBox Plotï¼‰</font></span></h3><p>ç®±å½¢å›¾æ˜¯å¯è§†åŒ–åˆ†å¸ƒçš„ä¸€ç§å¥½æ–¹æ³•ï¼ŒåŒæ—¶ç‰¢è®°ä¸­ä½æ•°ï¼Œç¬¬ 25 ä¸ªç¬¬ 75 ä¸ªå››åˆ†ä½æ•°å’Œç¦»ç¾¤å€¼ã€‚ ä½†æ˜¯ï¼Œåœ¨è§£é‡Šæ–¹æ¡†çš„å¤§å°æ—¶éœ€è¦å°å¿ƒï¼Œè¿™å¯èƒ½ä¼šæ‰­æ›²è¯¥ç»„ä¸­åŒ…å«çš„ç‚¹æ•°ã€‚ å› æ­¤ï¼Œæ‰‹åŠ¨æä¾›æ¯ä¸ªæ¡†ä¸­çš„è§‚å¯Ÿæ¬¡æ•°å¯ä»¥å¸®åŠ©å…‹æœæ­¤ç¼ºç‚¹ã€‚</p><p>ä¾‹å¦‚ï¼Œå·¦ä¾§çš„å‰ä¸¤ä¸ªæ¡†ï¼Œå°½ç®¡å®ƒä»¬åˆ†åˆ«å…·æœ‰ 5 å’Œ 47 ä¸ª obsï¼Œä½†æ˜¯å´å…·æœ‰ç›¸åŒå¤§å°ï¼Œ å› æ­¤ï¼Œæœ‰å¿…è¦å†™ä¸‹è¯¥ç»„ä¸­çš„è§‚å¯Ÿæ•°ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv&quot;</span>)<span class="hljs-comment"># Draw Plot</span>plt.figure(figsize=(<span class="hljs-number">13</span>, <span class="hljs-number">10</span>), dpi=<span class="hljs-number">80</span>)sns.boxplot(x=<span class="hljs-string">&#x27;class&#x27;</span>, y=<span class="hljs-string">&#x27;hwy&#x27;</span>, data=df, notch=<span class="hljs-literal">False</span>)<span class="hljs-comment"># Add N Obs inside boxplot (optional)</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">add_n_obs</span>(<span class="hljs-params">df, group_col, y</span>):</span>    medians_dict = &#123;grp[<span class="hljs-number">0</span>]: grp[<span class="hljs-number">1</span>][y].median() <span class="hljs-keyword">for</span> grp <span class="hljs-keyword">in</span> df.groupby(group_col)&#125;    xticklabels = [x.get_text() <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> plt.gca().get_xticklabels()]    n_obs = df.groupby(group_col)[y].size().values    <span class="hljs-keyword">for</span> (x, xticklabel), n_ob <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(<span class="hljs-built_in">enumerate</span>(xticklabels), n_obs):        plt.text(x, medians_dict[xticklabel] * <span class="hljs-number">1.01</span>, <span class="hljs-string">&quot;#obs : &quot;</span> + <span class="hljs-built_in">str</span>(n_ob), horizontalalignment=<span class="hljs-string">&#x27;center&#x27;</span>,                 fontdict=&#123;<span class="hljs-string">&#x27;size&#x27;</span>: <span class="hljs-number">14</span>&#125;, color=<span class="hljs-string">&#x27;white&#x27;</span>)add_n_obs(df, group_col=<span class="hljs-string">&#x27;class&#x27;</span>, y=<span class="hljs-string">&#x27;hwy&#x27;</span>)<span class="hljs-comment"># Decoration</span>plt.title(<span class="hljs-string">&#x27;Box Plot of Highway Mileage by Vehicle Class&#x27;</span>, fontsize=<span class="hljs-number">22</span>)plt.ylim(<span class="hljs-number">10</span>, <span class="hljs-number">40</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/28.png" alt="28"></p><h3><span id="27-dian-xiang-xing-tu-dot-box-plot"><font color="##4876FF">ã€27ã€‘ç‚¹ + ç®±å½¢å›¾ï¼ˆDot + Box Plotï¼‰</font></span></h3><p>ç‚¹ + ç®±å½¢å›¾ä¼ è¾¾ç±»ä¼¼äºåˆ†ç»„çš„ç®±å½¢å›¾ä¿¡æ¯ã€‚æ­¤å¤–ï¼Œè¿™äº›ç‚¹è¿˜æä¾›äº†æ¯ç»„ä¸­æœ‰å¤šå°‘æ•°æ®ç‚¹çš„å«ä¹‰ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv&quot;</span>)<span class="hljs-comment"># Draw Plot</span>plt.figure(figsize=(<span class="hljs-number">13</span>,<span class="hljs-number">10</span>), dpi= <span class="hljs-number">80</span>)sns.boxplot(x=<span class="hljs-string">&#x27;class&#x27;</span>, y=<span class="hljs-string">&#x27;hwy&#x27;</span>, data=df, hue=<span class="hljs-string">&#x27;cyl&#x27;</span>)sns.stripplot(x=<span class="hljs-string">&#x27;class&#x27;</span>, y=<span class="hljs-string">&#x27;hwy&#x27;</span>, data=df, color=<span class="hljs-string">&#x27;black&#x27;</span>, size=<span class="hljs-number">3</span>, jitter=<span class="hljs-number">1</span>)<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(df[<span class="hljs-string">&#x27;class&#x27;</span>].unique())-<span class="hljs-number">1</span>):    plt.vlines(i+<span class="hljs-number">.5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">45</span>, linestyles=<span class="hljs-string">&#x27;solid&#x27;</span>, colors=<span class="hljs-string">&#x27;gray&#x27;</span>, alpha=<span class="hljs-number">0.2</span>)<span class="hljs-comment"># Decoration</span>plt.title(<span class="hljs-string">&#x27;Box Plot of Highway Mileage by Vehicle Class&#x27;</span>, fontsize=<span class="hljs-number">22</span>)plt.legend(title=<span class="hljs-string">&#x27;Cylinders&#x27;</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/29.png" alt="29"></p><h3><span id="28-xiao-ti-qin-tu-violin-plot"><font color="##4876FF">ã€28ã€‘å°æç´å›¾ï¼ˆViolin Plotï¼‰</font></span></h3><p>å°æç´å›¾æ˜¯ç®±å½¢å›¾åœ¨è§†è§‰ä¸Šä»¤äººæ„‰æ‚¦çš„æ›¿ä»£å“ã€‚ å°æç´çš„å½¢çŠ¶æˆ–é¢ç§¯å–å†³äºå®ƒæ‰€æŒæœ‰çš„è§‚å¯Ÿæ¬¡æ•°ã€‚ ä½†æ˜¯ï¼Œå°æç´å›¾å¯èƒ½æ›´éš¾ä»¥é˜…è¯»ï¼Œå¹¶ä¸”åœ¨ä¸“ä¸šè®¾ç½®ä¸­ä¸å¸¸ç”¨ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv&quot;</span>)<span class="hljs-comment"># Draw Plot</span>plt.figure(figsize=(<span class="hljs-number">13</span>, <span class="hljs-number">10</span>), dpi=<span class="hljs-number">80</span>)sns.violinplot(x=<span class="hljs-string">&#x27;class&#x27;</span>, y=<span class="hljs-string">&#x27;hwy&#x27;</span>, data=df, scale=<span class="hljs-string">&#x27;width&#x27;</span>, inner=<span class="hljs-string">&#x27;quartile&#x27;</span>)<span class="hljs-comment"># Decoration</span>plt.title(<span class="hljs-string">&#x27;Violin Plot of Highway Mileage by Vehicle Class&#x27;</span>, fontsize=<span class="hljs-number">22</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/30.png" alt="30"></p><h3><span id="29-ren-kou-jin-zi-ta-tu-population-pyramid"><font color="##4876FF">ã€29ã€‘äººå£é‡‘å­—å¡”å›¾ï¼ˆPopulation Pyramidï¼‰</font></span></h3><p>äººå£é‡‘å­—å¡”å¯ç”¨äºæ˜¾ç¤ºæŒ‰ä½“ç§¯æ’åºçš„ç»„çš„åˆ†å¸ƒã€‚æˆ–è€…å®ƒä¹Ÿå¯ä»¥ç”¨äºæ˜¾ç¤ºäººå£çš„é€çº§è¿‡æ»¤ï¼Œå› ä¸ºå®ƒæ˜¯ç”¨æ¥æ˜¾ç¤ºæœ‰å¤šå°‘äººé€šè¿‡ä¸€ä¸ªè¥é”€æ¼æ–—ï¼ˆMarketing Funnelï¼‰çš„æ¯ä¸ªé˜¶æ®µã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Read data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://raw.githubusercontent.com/selva86/datasets/master/email_campaign_funnel.csv&quot;</span>)<span class="hljs-comment"># Draw Plot</span>plt.figure(figsize=(<span class="hljs-number">13</span>, <span class="hljs-number">10</span>), dpi=<span class="hljs-number">80</span>)group_col = <span class="hljs-string">&#x27;Gender&#x27;</span>order_of_bars = df.Stage.unique()[::-<span class="hljs-number">1</span>]colors = [plt.cm.Spectral(i / <span class="hljs-built_in">float</span>(<span class="hljs-built_in">len</span>(df[group_col].unique()) - <span class="hljs-number">1</span>)) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(df[group_col].unique()))]<span class="hljs-keyword">for</span> c, group <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(colors, df[group_col].unique()):    sns.barplot(x=<span class="hljs-string">&#x27;Users&#x27;</span>, y=<span class="hljs-string">&#x27;Stage&#x27;</span>, data=df.loc[df[group_col] == group, :], order=order_of_bars, color=c, label=group)<span class="hljs-comment"># Decorations</span>plt.xlabel(<span class="hljs-string">&quot;$Users$&quot;</span>)plt.ylabel(<span class="hljs-string">&quot;Stage of Purchase&quot;</span>)plt.yticks(fontsize=<span class="hljs-number">12</span>)plt.title(<span class="hljs-string">&quot;Population Pyramid of the Marketing Funnel&quot;</span>, fontsize=<span class="hljs-number">22</span>)plt.legend()plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/31.png" alt="31"></p><h3><span id="30-fen-lei-tu-categorical-plots"><font color="##4876FF">ã€30ã€‘åˆ†ç±»å›¾ï¼ˆCategorical Plotsï¼‰</font></span></h3><p>ç”± <code>seaborn</code> åº“æä¾›çš„åˆ†ç±»å›¾å¯ç”¨äºå¯è§†åŒ–å½¼æ­¤ç›¸å…³çš„ä¸¤ä¸ªæˆ–æ›´å¤šåˆ†ç±»å˜é‡çš„è®¡æ•°åˆ†å¸ƒã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Load Dataset</span>titanic = sns.load_dataset(<span class="hljs-string">&quot;titanic&quot;</span>)<span class="hljs-comment"># Plot</span>g = sns.catplot(<span class="hljs-string">&quot;alive&quot;</span>, col=<span class="hljs-string">&quot;deck&quot;</span>, col_wrap=<span class="hljs-number">4</span>,                data=titanic[titanic.deck.notnull()],                kind=<span class="hljs-string">&quot;count&quot;</span>, height=<span class="hljs-number">3.5</span>, aspect=<span class="hljs-number">.8</span>,                palette=<span class="hljs-string">&#x27;tab20&#x27;</span>)<span class="hljs-comment"># è¯‘è€… TRHX æ³¨é‡Šæ‰äº†è¿™ä¸€è¡Œä»£ç </span><span class="hljs-comment"># fig.suptitle(&#x27;sf&#x27;)</span>plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/32.png" alt="32"></p><pre><code class="hljs python"><span class="hljs-comment"># Load Dataset</span>titanic = sns.load_dataset(<span class="hljs-string">&quot;titanic&quot;</span>)<span class="hljs-comment"># Plot</span>sns.catplot(x=<span class="hljs-string">&quot;age&quot;</span>, y=<span class="hljs-string">&quot;embark_town&quot;</span>,            hue=<span class="hljs-string">&quot;sex&quot;</span>, col=<span class="hljs-string">&quot;class&quot;</span>,            data=titanic[titanic.embark_town.notnull()],            orient=<span class="hljs-string">&quot;h&quot;</span>, height=<span class="hljs-number">5</span>, aspect=<span class="hljs-number">1</span>, palette=<span class="hljs-string">&quot;tab10&quot;</span>,            kind=<span class="hljs-string">&quot;violin&quot;</span>, dodge=<span class="hljs-literal">True</span>, cut=<span class="hljs-number">0</span>, bw=<span class="hljs-number">.2</span>)<span class="hljs-comment"># è¯‘è€… TRHX æ·»åŠ äº†è¿™è¡Œä»£ç </span>plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/33.png" alt="33"></p><h2><span id="7x00-zu-cheng-composition"><font color="#FF0000">ã€7x00ã€‘ç»„æˆï¼ˆCompositionï¼‰</font></span></h2><h3><span id="31-hua-fu-bing-tu-waffle-chart"><font color="##4876FF">ã€31ã€‘åå¤«é¥¼å›¾ï¼ˆWaffle Chartï¼‰</font></span></h3><p>åå¤«é¥¼å›¾å¯ä»¥ä½¿ç”¨ <code>pywaffle</code> åŒ…åˆ›å»ºï¼Œç”¨äºæ˜¾ç¤ºè¾ƒå¤§ç¾¤ä½“ä¸­çš„ç»„çš„ç»„æˆã€‚</p><p>ã€è¯‘è€… TRHX æ³¨ï¼šåœ¨ä½¿ç”¨è¯¥æ–¹æ³•æ—¶è¦å…ˆå®‰è£… pywaffle åº“ã€‘</p><pre><code class="hljs python"><span class="hljs-comment"># ! pip install pywaffle</span><span class="hljs-comment"># Reference: https://stackoverflow.com/questions/41400136/how-to-do-waffle-charts-in-python-square-piechart</span><span class="hljs-keyword">from</span> pywaffle <span class="hljs-keyword">import</span> Waffle<span class="hljs-comment"># Import</span>df_raw = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv&quot;</span>)<span class="hljs-comment"># Prepare Data</span>df = df_raw.groupby(<span class="hljs-string">&#x27;class&#x27;</span>).size().reset_index(name=<span class="hljs-string">&#x27;counts&#x27;</span>)n_categories = df.shape[<span class="hljs-number">0</span>]colors = [plt.cm.inferno_r(i / <span class="hljs-built_in">float</span>(n_categories)) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_categories)]<span class="hljs-comment"># Draw Plot and Decorate</span>fig = plt.figure(    FigureClass=Waffle,    plots=&#123;        <span class="hljs-string">&#x27;111&#x27;</span>: &#123;            <span class="hljs-string">&#x27;values&#x27;</span>: df[<span class="hljs-string">&#x27;counts&#x27;</span>],            <span class="hljs-string">&#x27;labels&#x27;</span>: [<span class="hljs-string">&quot;&#123;0&#125; (&#123;1&#125;)&quot;</span>.<span class="hljs-built_in">format</span>(n[<span class="hljs-number">0</span>], n[<span class="hljs-number">1</span>]) <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> df[[<span class="hljs-string">&#x27;class&#x27;</span>, <span class="hljs-string">&#x27;counts&#x27;</span>]].itertuples()],            <span class="hljs-string">&#x27;legend&#x27;</span>: &#123;<span class="hljs-string">&#x27;loc&#x27;</span>: <span class="hljs-string">&#x27;upper left&#x27;</span>, <span class="hljs-string">&#x27;bbox_to_anchor&#x27;</span>: (<span class="hljs-number">1.05</span>, <span class="hljs-number">1</span>), <span class="hljs-string">&#x27;fontsize&#x27;</span>: <span class="hljs-number">12</span>&#125;,            <span class="hljs-string">&#x27;title&#x27;</span>: &#123;<span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;# Vehicles by Class&#x27;</span>, <span class="hljs-string">&#x27;loc&#x27;</span>: <span class="hljs-string">&#x27;center&#x27;</span>, <span class="hljs-string">&#x27;fontsize&#x27;</span>: <span class="hljs-number">18</span>&#125;        &#125;,    &#125;,    rows=<span class="hljs-number">7</span>,    colors=colors,    figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">9</span>))<span class="hljs-comment"># è¯‘è€… TRHX æ·»åŠ äº†è¿™è¡Œä»£ç </span>plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/34.png" alt="34"></p><pre><code class="hljs python"><span class="hljs-comment"># ! pip install pywaffle</span><span class="hljs-keyword">from</span> pywaffle <span class="hljs-keyword">import</span> Waffle<span class="hljs-comment"># Import</span><span class="hljs-comment"># è¯‘è€… TRHX å–æ¶ˆæ³¨é‡Šäº†è¿™è¡Œä»£ç </span>df_raw = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv&quot;</span>)<span class="hljs-comment"># Prepare Data</span><span class="hljs-comment"># By Class Data</span>df_class = df_raw.groupby(<span class="hljs-string">&#x27;class&#x27;</span>).size().reset_index(name=<span class="hljs-string">&#x27;counts_class&#x27;</span>)n_categories = df_class.shape[<span class="hljs-number">0</span>]colors_class = [plt.cm.Set3(i / <span class="hljs-built_in">float</span>(n_categories)) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_categories)]<span class="hljs-comment"># By Cylinders Data</span>df_cyl = df_raw.groupby(<span class="hljs-string">&#x27;cyl&#x27;</span>).size().reset_index(name=<span class="hljs-string">&#x27;counts_cyl&#x27;</span>)n_categories = df_cyl.shape[<span class="hljs-number">0</span>]colors_cyl = [plt.cm.Spectral(i / <span class="hljs-built_in">float</span>(n_categories)) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_categories)]<span class="hljs-comment"># By Make Data</span>df_make = df_raw.groupby(<span class="hljs-string">&#x27;manufacturer&#x27;</span>).size().reset_index(name=<span class="hljs-string">&#x27;counts_make&#x27;</span>)n_categories = df_make.shape[<span class="hljs-number">0</span>]colors_make = [plt.cm.tab20b(i / <span class="hljs-built_in">float</span>(n_categories)) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n_categories)]<span class="hljs-comment"># Draw Plot and Decorate</span>fig = plt.figure(    FigureClass=Waffle,    plots=&#123;        <span class="hljs-string">&#x27;311&#x27;</span>: &#123;            <span class="hljs-string">&#x27;values&#x27;</span>: df_class[<span class="hljs-string">&#x27;counts_class&#x27;</span>],            <span class="hljs-string">&#x27;labels&#x27;</span>: [<span class="hljs-string">&quot;&#123;1&#125;&quot;</span>.<span class="hljs-built_in">format</span>(n[<span class="hljs-number">0</span>], n[<span class="hljs-number">1</span>]) <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> df_class[[<span class="hljs-string">&#x27;class&#x27;</span>, <span class="hljs-string">&#x27;counts_class&#x27;</span>]].itertuples()],            <span class="hljs-string">&#x27;legend&#x27;</span>: &#123;<span class="hljs-string">&#x27;loc&#x27;</span>: <span class="hljs-string">&#x27;upper left&#x27;</span>, <span class="hljs-string">&#x27;bbox_to_anchor&#x27;</span>: (<span class="hljs-number">1.05</span>, <span class="hljs-number">1</span>), <span class="hljs-string">&#x27;fontsize&#x27;</span>: <span class="hljs-number">12</span>, <span class="hljs-string">&#x27;title&#x27;</span>: <span class="hljs-string">&#x27;Class&#x27;</span>&#125;,            <span class="hljs-string">&#x27;title&#x27;</span>: &#123;<span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;# Vehicles by Class&#x27;</span>, <span class="hljs-string">&#x27;loc&#x27;</span>: <span class="hljs-string">&#x27;center&#x27;</span>, <span class="hljs-string">&#x27;fontsize&#x27;</span>: <span class="hljs-number">18</span>&#125;,            <span class="hljs-string">&#x27;colors&#x27;</span>: colors_class        &#125;,        <span class="hljs-string">&#x27;312&#x27;</span>: &#123;            <span class="hljs-string">&#x27;values&#x27;</span>: df_cyl[<span class="hljs-string">&#x27;counts_cyl&#x27;</span>],            <span class="hljs-string">&#x27;labels&#x27;</span>: [<span class="hljs-string">&quot;&#123;1&#125;&quot;</span>.<span class="hljs-built_in">format</span>(n[<span class="hljs-number">0</span>], n[<span class="hljs-number">1</span>]) <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> df_cyl[[<span class="hljs-string">&#x27;cyl&#x27;</span>, <span class="hljs-string">&#x27;counts_cyl&#x27;</span>]].itertuples()],            <span class="hljs-string">&#x27;legend&#x27;</span>: &#123;<span class="hljs-string">&#x27;loc&#x27;</span>: <span class="hljs-string">&#x27;upper left&#x27;</span>, <span class="hljs-string">&#x27;bbox_to_anchor&#x27;</span>: (<span class="hljs-number">1.05</span>, <span class="hljs-number">1</span>), <span class="hljs-string">&#x27;fontsize&#x27;</span>: <span class="hljs-number">12</span>, <span class="hljs-string">&#x27;title&#x27;</span>: <span class="hljs-string">&#x27;Cyl&#x27;</span>&#125;,            <span class="hljs-string">&#x27;title&#x27;</span>: &#123;<span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;# Vehicles by Cyl&#x27;</span>, <span class="hljs-string">&#x27;loc&#x27;</span>: <span class="hljs-string">&#x27;center&#x27;</span>, <span class="hljs-string">&#x27;fontsize&#x27;</span>: <span class="hljs-number">18</span>&#125;,            <span class="hljs-string">&#x27;colors&#x27;</span>: colors_cyl        &#125;,        <span class="hljs-string">&#x27;313&#x27;</span>: &#123;            <span class="hljs-string">&#x27;values&#x27;</span>: df_make[<span class="hljs-string">&#x27;counts_make&#x27;</span>],            <span class="hljs-string">&#x27;labels&#x27;</span>: [<span class="hljs-string">&quot;&#123;1&#125;&quot;</span>.<span class="hljs-built_in">format</span>(n[<span class="hljs-number">0</span>], n[<span class="hljs-number">1</span>]) <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> df_make[[<span class="hljs-string">&#x27;manufacturer&#x27;</span>, <span class="hljs-string">&#x27;counts_make&#x27;</span>]].itertuples()],            <span class="hljs-string">&#x27;legend&#x27;</span>: &#123;<span class="hljs-string">&#x27;loc&#x27;</span>: <span class="hljs-string">&#x27;upper left&#x27;</span>, <span class="hljs-string">&#x27;bbox_to_anchor&#x27;</span>: (<span class="hljs-number">1.05</span>, <span class="hljs-number">1</span>), <span class="hljs-string">&#x27;fontsize&#x27;</span>: <span class="hljs-number">12</span>, <span class="hljs-string">&#x27;title&#x27;</span>: <span class="hljs-string">&#x27;Manufacturer&#x27;</span>&#125;,            <span class="hljs-string">&#x27;title&#x27;</span>: &#123;<span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;# Vehicles by Make&#x27;</span>, <span class="hljs-string">&#x27;loc&#x27;</span>: <span class="hljs-string">&#x27;center&#x27;</span>, <span class="hljs-string">&#x27;fontsize&#x27;</span>: <span class="hljs-number">18</span>&#125;,            <span class="hljs-string">&#x27;colors&#x27;</span>: colors_make        &#125;    &#125;,    rows=<span class="hljs-number">9</span>,    figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">14</span>))<span class="hljs-comment"># è¯‘è€… TRHX æ·»åŠ äº†è¿™è¡Œä»£ç </span>plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/35.png" alt="35"></p><h3><span id="32-bing-tu-pie-chart"><font color="##4876FF">ã€32ã€‘é¥¼å›¾ï¼ˆPie Chartï¼‰</font></span></h3><p>é¥¼å›¾æ˜¯æ˜¾ç¤ºç»„æˆçš„ç»å…¸æ–¹æ³•ã€‚ç„¶è€Œï¼Œç°åœ¨ä¸€èˆ¬ä¸å®œä½¿ç”¨ï¼Œå› ä¸ºé¦…é¥¼éƒ¨åˆ†çš„é¢ç§¯æœ‰æ—¶ä¼šäº§ç”Ÿè¯¯å¯¼ã€‚å› æ­¤ï¼Œå¦‚æœè¦ä½¿ç”¨é¥¼å›¾ï¼Œå¼ºçƒˆå»ºè®®æ‚¨æ˜¾å¼åœ°è®°ä¸‹é¥¼å›¾æ¯ä¸ªéƒ¨åˆ†çš„ç™¾åˆ†æ¯”æˆ–æ•°å­—ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Import</span>df_raw = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv&quot;</span>)<span class="hljs-comment"># Prepare Data</span>df = df_raw.groupby(<span class="hljs-string">&#x27;class&#x27;</span>).size()<span class="hljs-comment"># Make the plot with pandas</span><span class="hljs-string">&#x27;&#x27;&#x27;</span><span class="hljs-string">åŸä»£ç ï¼šdf.plot(kind=&#x27;pie&#x27;, subplots=True, figsize=(8, 8), dpi=80)</span><span class="hljs-string">è¯‘è€… TRHX åˆ é™¤äº† dpi= 80</span><span class="hljs-string">&#x27;&#x27;&#x27;</span>df.plot(kind=<span class="hljs-string">&#x27;pie&#x27;</span>, subplots=<span class="hljs-literal">True</span>, figsize=(<span class="hljs-number">8</span>, <span class="hljs-number">8</span>))plt.title(<span class="hljs-string">&quot;Pie Chart of Vehicle Class - Bad&quot;</span>)plt.ylabel(<span class="hljs-string">&quot;&quot;</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/36.png" alt="36"></p><pre><code class="hljs python"><span class="hljs-comment"># Import</span>df_raw = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv&quot;</span>)<span class="hljs-comment"># Prepare Data</span>df = df_raw.groupby(<span class="hljs-string">&#x27;class&#x27;</span>).size().reset_index(name=<span class="hljs-string">&#x27;counts&#x27;</span>)<span class="hljs-comment"># Draw Plot</span>fig, ax = plt.subplots(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">7</span>), subplot_kw=<span class="hljs-built_in">dict</span>(aspect=<span class="hljs-string">&quot;equal&quot;</span>), dpi=<span class="hljs-number">80</span>)data = df[<span class="hljs-string">&#x27;counts&#x27;</span>]categories = df[<span class="hljs-string">&#x27;class&#x27;</span>]explode = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">0</span>]<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">func</span>(<span class="hljs-params">pct, allvals</span>):</span>    absolute = <span class="hljs-built_in">int</span>(pct / <span class="hljs-number">100.</span> * np.<span class="hljs-built_in">sum</span>(allvals))    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&#123;:.1f&#125;% (&#123;:d&#125; )&quot;</span>.<span class="hljs-built_in">format</span>(pct, absolute)wedges, texts, autotexts = ax.pie(data,                                  autopct=<span class="hljs-keyword">lambda</span> pct: func(pct, data),                                  textprops=<span class="hljs-built_in">dict</span>(color=<span class="hljs-string">&quot;w&quot;</span>),                                  colors=plt.cm.Dark2.colors,                                  startangle=<span class="hljs-number">140</span>,                                  explode=explode)<span class="hljs-comment"># Decoration</span>ax.legend(wedges, categories, title=<span class="hljs-string">&quot;Vehicle Class&quot;</span>, loc=<span class="hljs-string">&quot;center left&quot;</span>, bbox_to_anchor=(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">1</span>))plt.setp(autotexts, size=<span class="hljs-number">10</span>, weight=<span class="hljs-number">700</span>)ax.set_title(<span class="hljs-string">&quot;Class of Vehicles: Pie Chart&quot;</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/37.png" alt="37"></p><h3><span id="33-ju-zhen-shu-xing-tu-treemap"><font color="##4876FF">ã€33ã€‘çŸ©é˜µæ ‘å½¢å›¾ï¼ˆTreemapï¼‰</font></span></h3><p>çŸ©é˜µæ ‘å½¢å›¾ç±»ä¼¼äºé¥¼å›¾ï¼Œå®ƒå¯ä»¥æ›´å¥½åœ°å®Œæˆå·¥ä½œè€Œä¸ä¼šè¯¯å¯¼æ¯ä¸ªç»„çš„è´¡çŒ®ã€‚</p><p>ã€è¯‘è€… TRHX æ³¨ï¼šåœ¨ä½¿ç”¨è¯¥æ–¹æ³•æ—¶è¦å…ˆå®‰è£… squarify åº“ã€‘</p><pre><code class="hljs python"><span class="hljs-comment"># pip install squarify</span><span class="hljs-keyword">import</span> squarify<span class="hljs-comment"># Import Data</span>df_raw = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv&quot;</span>)<span class="hljs-comment"># Prepare Data</span>df = df_raw.groupby(<span class="hljs-string">&#x27;class&#x27;</span>).size().reset_index(name=<span class="hljs-string">&#x27;counts&#x27;</span>)labels = df.apply(<span class="hljs-keyword">lambda</span> x: <span class="hljs-built_in">str</span>(x[<span class="hljs-number">0</span>]) + <span class="hljs-string">&quot;\n (&quot;</span> + <span class="hljs-built_in">str</span>(x[<span class="hljs-number">1</span>]) + <span class="hljs-string">&quot;)&quot;</span>, axis=<span class="hljs-number">1</span>)sizes = df[<span class="hljs-string">&#x27;counts&#x27;</span>].values.tolist()colors = [plt.cm.Spectral(i / <span class="hljs-built_in">float</span>(<span class="hljs-built_in">len</span>(labels))) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(labels))]<span class="hljs-comment"># Draw Plot</span>plt.figure(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">8</span>), dpi=<span class="hljs-number">80</span>)squarify.plot(sizes=sizes, label=labels, color=colors, alpha=<span class="hljs-number">.8</span>)<span class="hljs-comment"># Decorate</span>plt.title(<span class="hljs-string">&#x27;Treemap of Vechile Class&#x27;</span>)plt.axis(<span class="hljs-string">&#x27;off&#x27;</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/38.png" alt="38"></p><h3><span id="34-tiao-xing-tu-bar-chart"><font color="##4876FF">ã€34ã€‘æ¡å½¢å›¾ï¼ˆBar Chartï¼‰</font></span></h3><p>æ¡å½¢å›¾æ˜¯ä¸€ç§åŸºäºè®¡æ•°æˆ–ä»»ä½•ç»™å®šåº¦é‡çš„å¯è§†åŒ–é¡¹çš„ç»å…¸æ–¹æ³•ã€‚åœ¨ä¸‹é¢çš„å›¾è¡¨ä¸­ï¼Œæˆ‘ä¸ºæ¯ä¸ªé¡¹ç›®ä½¿ç”¨äº†ä¸åŒçš„é¢œè‰²ï¼Œä½†æ‚¨é€šå¸¸å¯èƒ½å¸Œæœ›ä¸ºæ‰€æœ‰é¡¹ç›®é€‰æ‹©ä¸€ç§é¢œè‰²ï¼Œé™¤éæ‚¨æŒ‰ç»„å¯¹å®ƒä»¬è¿›è¡Œç€è‰²ã€‚é¢œè‰²åç§°å­˜å‚¨åœ¨ä¸‹é¢ä»£ç ä¸­çš„ <code>all_colors</code> ä¸­ã€‚æ‚¨å¯ä»¥é€šè¿‡åœ¨ <code>plt.plot()</code> ä¸­è®¾ç½® <code>color</code> å‚æ•°æ¥æ›´æ”¹æ¡å½¢çš„é¢œè‰²ã€‚</p><pre><code class="hljs python"><span class="hljs-keyword">import</span> random<span class="hljs-comment"># Import Data</span>df_raw = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mpg_ggplot2.csv&quot;</span>)<span class="hljs-comment"># Prepare Data</span>df = df_raw.groupby(<span class="hljs-string">&#x27;manufacturer&#x27;</span>).size().reset_index(name=<span class="hljs-string">&#x27;counts&#x27;</span>)n = df[<span class="hljs-string">&#x27;manufacturer&#x27;</span>].unique().__len__()+<span class="hljs-number">1</span>all_colors = <span class="hljs-built_in">list</span>(plt.cm.colors.cnames.keys())random.seed(<span class="hljs-number">100</span>)c = random.choices(all_colors, k=n)<span class="hljs-comment"># Plot Bars</span>plt.figure(figsize=(<span class="hljs-number">16</span>,<span class="hljs-number">10</span>), dpi= <span class="hljs-number">80</span>)plt.bar(df[<span class="hljs-string">&#x27;manufacturer&#x27;</span>], df[<span class="hljs-string">&#x27;counts&#x27;</span>], color=c, width=<span class="hljs-number">.5</span>)<span class="hljs-keyword">for</span> i, val <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(df[<span class="hljs-string">&#x27;counts&#x27;</span>].values):    plt.text(i, val, <span class="hljs-built_in">float</span>(val), horizontalalignment=<span class="hljs-string">&#x27;center&#x27;</span>, verticalalignment=<span class="hljs-string">&#x27;bottom&#x27;</span>, fontdict=&#123;<span class="hljs-string">&#x27;fontweight&#x27;</span>:<span class="hljs-number">500</span>, <span class="hljs-string">&#x27;size&#x27;</span>:<span class="hljs-number">12</span>&#125;)<span class="hljs-comment"># Decoration</span>plt.gca().set_xticklabels(df[<span class="hljs-string">&#x27;manufacturer&#x27;</span>], rotation=<span class="hljs-number">60</span>, horizontalalignment= <span class="hljs-string">&#x27;right&#x27;</span>)plt.title(<span class="hljs-string">&quot;Number of Vehicles by Manaufacturers&quot;</span>, fontsize=<span class="hljs-number">22</span>)plt.ylabel(<span class="hljs-string">&#x27;# Vehicles&#x27;</span>)plt.ylim(<span class="hljs-number">0</span>, <span class="hljs-number">45</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/39.png" alt="39"></p><h2><span id="8x00-bian-hua-change"><font color="#FF0000">ã€8x00ã€‘å˜åŒ–ï¼ˆChangeï¼‰</font></span></h2><h3><span id="35-shi-jian-xu-lie-tu-time-series-plot"><font color="##4876FF">ã€35ã€‘æ—¶é—´åºåˆ—å›¾ï¼ˆTime Series Plotï¼‰</font></span></h3><p>æ—¶é—´åºåˆ—å›¾ç”¨äºå¯è§†åŒ–ç»™å®šæŒ‡æ ‡éšæ—¶é—´çš„å˜åŒ–ã€‚åœ¨è¿™é‡Œä½ å¯ä»¥çœ‹åˆ° 1949 å¹´åˆ° 1969 å¹´é—´çš„èˆªç©ºå®¢è¿é‡æ˜¯å¦‚ä½•å˜åŒ–çš„ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&#x27;https://github.com/selva86/datasets/raw/master/AirPassengers.csv&#x27;</span>)<span class="hljs-comment"># Draw Plot</span>plt.figure(figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">10</span>), dpi=<span class="hljs-number">80</span>)plt.plot(<span class="hljs-string">&#x27;date&#x27;</span>, <span class="hljs-string">&#x27;traffic&#x27;</span>, data=df, color=<span class="hljs-string">&#x27;tab:red&#x27;</span>)<span class="hljs-comment"># Decoration</span>plt.ylim(<span class="hljs-number">50</span>, <span class="hljs-number">750</span>)xtick_location = df.index.tolist()[::<span class="hljs-number">12</span>]xtick_labels = [x[-<span class="hljs-number">4</span>:] <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> df.date.tolist()[::<span class="hljs-number">12</span>]]plt.xticks(ticks=xtick_location, labels=xtick_labels, rotation=<span class="hljs-number">0</span>, fontsize=<span class="hljs-number">12</span>, horizontalalignment=<span class="hljs-string">&#x27;center&#x27;</span>, alpha=<span class="hljs-number">.7</span>)plt.yticks(fontsize=<span class="hljs-number">12</span>, alpha=<span class="hljs-number">.7</span>)plt.title(<span class="hljs-string">&quot;Air Passengers Traffic (1949 - 1969)&quot;</span>, fontsize=<span class="hljs-number">22</span>)plt.grid(axis=<span class="hljs-string">&#x27;both&#x27;</span>, alpha=<span class="hljs-number">.3</span>)<span class="hljs-comment"># Remove borders</span>plt.gca().spines[<span class="hljs-string">&quot;top&quot;</span>].set_alpha(<span class="hljs-number">0.0</span>)plt.gca().spines[<span class="hljs-string">&quot;bottom&quot;</span>].set_alpha(<span class="hljs-number">0.3</span>)plt.gca().spines[<span class="hljs-string">&quot;right&quot;</span>].set_alpha(<span class="hljs-number">0.0</span>)plt.gca().spines[<span class="hljs-string">&quot;left&quot;</span>].set_alpha(<span class="hljs-number">0.3</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/40.png" alt="40"></p><h3><span id="36-dai-bo-feng-he-bo-gu-zhu-shi-de-shi-jian-xu-lie-tu-time-series-with-peaks-and-troughs-annotated"><font color="##4876FF">ã€36ã€‘å¸¦æ³¢å³°å’Œæ³¢è°·æ³¨é‡Šçš„æ—¶é—´åºåˆ—å›¾ï¼ˆTime Series with Peaks and Troughs Annotatedï¼‰</font></span></h3><p>ä¸‹é¢çš„æ—¶é—´åºåˆ—ç»˜åˆ¶äº†æ‰€æœ‰çš„æ³¢å³°å’Œæ³¢è°·ï¼Œå¹¶æ³¨é‡Šäº†æ‰€é€‰ç‰¹æ®Šäº‹ä»¶çš„å‘ç”Ÿã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&#x27;https://github.com/selva86/datasets/raw/master/AirPassengers.csv&#x27;</span>)<span class="hljs-comment"># Get the Peaks and Troughs</span>data = df[<span class="hljs-string">&#x27;traffic&#x27;</span>].valuesdoublediff = np.diff(np.sign(np.diff(data)))peak_locations = np.where(doublediff == -<span class="hljs-number">2</span>)[<span class="hljs-number">0</span>] + <span class="hljs-number">1</span>doublediff2 = np.diff(np.sign(np.diff(-<span class="hljs-number">1</span> * data)))trough_locations = np.where(doublediff2 == -<span class="hljs-number">2</span>)[<span class="hljs-number">0</span>] + <span class="hljs-number">1</span><span class="hljs-comment"># Draw Plot</span>plt.figure(figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">10</span>), dpi=<span class="hljs-number">80</span>)plt.plot(<span class="hljs-string">&#x27;date&#x27;</span>, <span class="hljs-string">&#x27;traffic&#x27;</span>, data=df, color=<span class="hljs-string">&#x27;tab:blue&#x27;</span>, label=<span class="hljs-string">&#x27;Air Traffic&#x27;</span>)plt.scatter(df.date[peak_locations], df.traffic[peak_locations], marker=mpl.markers.CARETUPBASE, color=<span class="hljs-string">&#x27;tab:green&#x27;</span>,            s=<span class="hljs-number">100</span>, label=<span class="hljs-string">&#x27;Peaks&#x27;</span>)plt.scatter(df.date[trough_locations], df.traffic[trough_locations], marker=mpl.markers.CARETDOWNBASE, color=<span class="hljs-string">&#x27;tab:red&#x27;</span>,            s=<span class="hljs-number">100</span>, label=<span class="hljs-string">&#x27;Troughs&#x27;</span>)<span class="hljs-comment"># Annotate</span><span class="hljs-keyword">for</span> t, p <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(trough_locations[<span class="hljs-number">1</span>::<span class="hljs-number">5</span>], peak_locations[::<span class="hljs-number">3</span>]):    plt.text(df.date[p], df.traffic[p] + <span class="hljs-number">15</span>, df.date[p], horizontalalignment=<span class="hljs-string">&#x27;center&#x27;</span>, color=<span class="hljs-string">&#x27;darkgreen&#x27;</span>)    plt.text(df.date[t], df.traffic[t] - <span class="hljs-number">35</span>, df.date[t], horizontalalignment=<span class="hljs-string">&#x27;center&#x27;</span>, color=<span class="hljs-string">&#x27;darkred&#x27;</span>)<span class="hljs-comment"># Decoration</span>plt.ylim(<span class="hljs-number">50</span>, <span class="hljs-number">750</span>)xtick_location = df.index.tolist()[::<span class="hljs-number">6</span>]xtick_labels = df.date.tolist()[::<span class="hljs-number">6</span>]plt.xticks(ticks=xtick_location, labels=xtick_labels, rotation=<span class="hljs-number">90</span>, fontsize=<span class="hljs-number">12</span>, alpha=<span class="hljs-number">.7</span>)plt.title(<span class="hljs-string">&quot;Peak and Troughs of Air Passengers Traffic (1949 - 1969)&quot;</span>, fontsize=<span class="hljs-number">22</span>)plt.yticks(fontsize=<span class="hljs-number">12</span>, alpha=<span class="hljs-number">.7</span>)<span class="hljs-comment"># Lighten borders</span>plt.gca().spines[<span class="hljs-string">&quot;top&quot;</span>].set_alpha(<span class="hljs-number">.0</span>)plt.gca().spines[<span class="hljs-string">&quot;bottom&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)plt.gca().spines[<span class="hljs-string">&quot;right&quot;</span>].set_alpha(<span class="hljs-number">.0</span>)plt.gca().spines[<span class="hljs-string">&quot;left&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)plt.legend(loc=<span class="hljs-string">&#x27;upper left&#x27;</span>)plt.grid(axis=<span class="hljs-string">&#x27;y&#x27;</span>, alpha=<span class="hljs-number">.3</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/41.png" alt="41"></p><h3><span id="37-zi-xiang-guan-acf-he-bu-fen-zi-xiang-guan-pacf-tu-autocorrelation-acf-and-partial-autocorrelation-pacf-plot"><font color="##4876FF">ã€37ã€‘è‡ªç›¸å…³ (ACF) å’Œéƒ¨åˆ†è‡ªç›¸å…³ (PACF) å›¾ï¼ˆAutocorrelation (ACF) and Partial Autocorrelation (PACF) Plotï¼‰</font></span></h3><p>è‡ªç›¸å…³å›¾ï¼ˆACFå›¾ï¼‰æ˜¾ç¤ºäº†æ—¶é—´åºåˆ—ä¸å…¶è‡ªèº«æ»åçš„ç›¸å…³æ€§ã€‚ æ¯æ¡å‚ç›´çº¿ï¼ˆåœ¨è‡ªç›¸å…³å›¾ä¸Šï¼‰è¡¨ç¤ºç³»åˆ—ä¸æ»å 0 ä¹‹é—´çš„æ»åçš„ç›¸å…³æ€§ã€‚å›¾ä¸­çš„è“è‰²é˜´å½±åŒºåŸŸæ˜¯æ˜¾è‘—æ€§çº§åˆ«ã€‚ é‚£äº›ä½äºè“çº¿ä¹‹ä¸Šçš„æ»åæ˜¯æ˜¾è‘—çš„æ»åã€‚</p><p>é‚£ä¹ˆå¦‚ä½•è§£é‡Šå‘¢ï¼Ÿ</p><p>å¯¹äºèˆªç©ºä¹˜å®¢æ¥è¯´ï¼Œæˆ‘ä»¬çœ‹åˆ°è¶…è¿‡ 14 ä¸ªæ»åå·²ç»è¶Šè¿‡è“çº¿ï¼Œå› æ­¤æ„ä¹‰é‡å¤§ã€‚è¿™æ„å‘³ç€ï¼Œ14 å¹´å‰çš„èˆªç©ºå®¢è¿é‡å¯¹ä»Šå¤©çš„äº¤é€šé‡äº§ç”Ÿäº†å½±å“ã€‚</p><p>å¦ä¸€æ–¹é¢ï¼Œéƒ¨åˆ†è‡ªç›¸å…³å›¾ï¼ˆPACFï¼‰æ˜¾ç¤ºäº†ä»»ä½•ç»™å®šæ»åï¼ˆæ—¶é—´åºåˆ—ï¼‰ç›¸å¯¹äºå½“å‰åºåˆ—çš„è‡ªç›¸å…³ï¼Œä½†æ¶ˆé™¤äº†ä¸­é—´æ»åçš„è´¡çŒ®ã€‚</p><pre><code class="hljs python"><span class="hljs-keyword">from</span> statsmodels.graphics.tsaplots <span class="hljs-keyword">import</span> plot_acf, plot_pacf<span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&#x27;https://github.com/selva86/datasets/raw/master/AirPassengers.csv&#x27;</span>)<span class="hljs-comment"># Draw Plot</span>fig, (ax1, ax2) = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">6</span>), dpi=<span class="hljs-number">80</span>)plot_acf(df.traffic.tolist(), ax=ax1, lags=<span class="hljs-number">50</span>)plot_pacf(df.traffic.tolist(), ax=ax2, lags=<span class="hljs-number">20</span>)<span class="hljs-comment"># Decorate</span><span class="hljs-comment"># lighten the borders</span>ax1.spines[<span class="hljs-string">&quot;top&quot;</span>].set_alpha(<span class="hljs-number">.3</span>); ax2.spines[<span class="hljs-string">&quot;top&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)ax1.spines[<span class="hljs-string">&quot;bottom&quot;</span>].set_alpha(<span class="hljs-number">.3</span>); ax2.spines[<span class="hljs-string">&quot;bottom&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)ax1.spines[<span class="hljs-string">&quot;right&quot;</span>].set_alpha(<span class="hljs-number">.3</span>); ax2.spines[<span class="hljs-string">&quot;right&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)ax1.spines[<span class="hljs-string">&quot;left&quot;</span>].set_alpha(<span class="hljs-number">.3</span>); ax2.spines[<span class="hljs-string">&quot;left&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)<span class="hljs-comment"># font size of tick labels</span>ax1.tick_params(axis=<span class="hljs-string">&#x27;both&#x27;</span>, labelsize=<span class="hljs-number">12</span>)ax2.tick_params(axis=<span class="hljs-string">&#x27;both&#x27;</span>, labelsize=<span class="hljs-number">12</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/42.png" alt="42"></p><h3><span id="38-jiao-cha-xiang-guan-tu-cross-correlation-plot"><font color="##4876FF">ã€38ã€‘äº¤å‰ç›¸å…³å›¾ï¼ˆCross Correlation plotï¼‰</font></span></h3><p>äº¤å‰ç›¸å…³å›¾æ˜¾ç¤ºäº†ä¸¤ä¸ªæ—¶é—´åºåˆ—ç›¸äº’ä¹‹é—´çš„æ»åã€‚</p><pre><code class="hljs python"><span class="hljs-keyword">import</span> statsmodels.tsa.stattools <span class="hljs-keyword">as</span> stattools<span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&#x27;https://github.com/selva86/datasets/raw/master/mortality.csv&#x27;</span>)x = df[<span class="hljs-string">&#x27;mdeaths&#x27;</span>]y = df[<span class="hljs-string">&#x27;fdeaths&#x27;</span>]<span class="hljs-comment"># Compute Cross Correlations</span>ccs = stattools.ccf(x, y)[:<span class="hljs-number">100</span>]nlags = <span class="hljs-built_in">len</span>(ccs)<span class="hljs-comment"># Compute the Significance level</span><span class="hljs-comment"># ref: https://stats.stackexchange.com/questions/3115/cross-correlation-significance-in-r/3128#3128</span>conf_level = <span class="hljs-number">2</span> / np.sqrt(nlags)<span class="hljs-comment"># Draw Plot</span>plt.figure(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">7</span>), dpi=<span class="hljs-number">80</span>)plt.hlines(<span class="hljs-number">0</span>, xmin=<span class="hljs-number">0</span>, xmax=<span class="hljs-number">100</span>, color=<span class="hljs-string">&#x27;gray&#x27;</span>)  <span class="hljs-comment"># 0 axis</span>plt.hlines(conf_level, xmin=<span class="hljs-number">0</span>, xmax=<span class="hljs-number">100</span>, color=<span class="hljs-string">&#x27;gray&#x27;</span>)plt.hlines(-conf_level, xmin=<span class="hljs-number">0</span>, xmax=<span class="hljs-number">100</span>, color=<span class="hljs-string">&#x27;gray&#x27;</span>)plt.bar(x=np.arange(<span class="hljs-built_in">len</span>(ccs)), height=ccs, width=<span class="hljs-number">.3</span>)<span class="hljs-comment"># Decoration</span>plt.title(<span class="hljs-string">&#x27;$Cross\; Correlation\; Plot:\; mdeaths\; vs\; fdeaths$&#x27;</span>, fontsize=<span class="hljs-number">22</span>)plt.xlim(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(ccs))plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/43.png" alt="43"></p><h3><span id="39-shi-jian-xu-lie-fen-jie-tu-time-series-decomposition-plot"><font color="##4876FF">ã€39ã€‘æ—¶é—´åºåˆ—åˆ†è§£å›¾ï¼ˆTime Series Decomposition Plotï¼‰</font></span></h3><p>æ—¶é—´åºåˆ—åˆ†è§£å›¾å°†æ—¶é—´åºåˆ—åˆ†è§£ä¸ºè¶‹åŠ¿ã€å­£èŠ‚å’Œæ®‹å·®åˆ†é‡ã€‚</p><pre><code class="hljs python"><span class="hljs-keyword">from</span> statsmodels.tsa.seasonal <span class="hljs-keyword">import</span> seasonal_decompose<span class="hljs-keyword">from</span> dateutil.parser <span class="hljs-keyword">import</span> parse<span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&#x27;https://github.com/selva86/datasets/raw/master/AirPassengers.csv&#x27;</span>)dates = pd.DatetimeIndex([parse(d).strftime(<span class="hljs-string">&#x27;%Y-%m-01&#x27;</span>) <span class="hljs-keyword">for</span> d <span class="hljs-keyword">in</span> df[<span class="hljs-string">&#x27;date&#x27;</span>]])df.set_index(dates, inplace=<span class="hljs-literal">True</span>)<span class="hljs-comment"># Decompose</span>result = seasonal_decompose(df[<span class="hljs-string">&#x27;traffic&#x27;</span>], model=<span class="hljs-string">&#x27;multiplicative&#x27;</span>)<span class="hljs-comment"># Plot</span>plt.rcParams.update(&#123;<span class="hljs-string">&#x27;figure.figsize&#x27;</span>: (<span class="hljs-number">10</span>, <span class="hljs-number">10</span>)&#125;)result.plot().suptitle(<span class="hljs-string">&#x27;Time Series Decomposition of Air Passengers&#x27;</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/44.png" alt="44"></p><h3><span id="40-duo-chong-shi-jian-xu-lie-multiple-time-series"><font color="##4876FF">ã€40ã€‘å¤šé‡æ—¶é—´åºåˆ—ï¼ˆMultiple Time Seriesï¼‰</font></span></h3><p>æ‚¨å¯ä»¥åœ¨åŒä¸€å›¾è¡¨ä¸Šç»˜åˆ¶å¤šä¸ªæµ‹é‡ç›¸åŒå€¼çš„æ—¶é—´åºåˆ—ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&#x27;https://github.com/selva86/datasets/raw/master/mortality.csv&#x27;</span>)<span class="hljs-comment"># Define the upper limit, lower limit, interval of Y axis and colors</span>y_LL = <span class="hljs-number">100</span>y_UL = <span class="hljs-built_in">int</span>(df.iloc[:, <span class="hljs-number">1</span>:].<span class="hljs-built_in">max</span>().<span class="hljs-built_in">max</span>() * <span class="hljs-number">1.1</span>)y_interval = <span class="hljs-number">400</span>mycolors = [<span class="hljs-string">&#x27;tab:red&#x27;</span>, <span class="hljs-string">&#x27;tab:blue&#x27;</span>, <span class="hljs-string">&#x27;tab:green&#x27;</span>, <span class="hljs-string">&#x27;tab:orange&#x27;</span>]<span class="hljs-comment"># Draw Plot and Annotate</span>fig, ax = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">9</span>), dpi=<span class="hljs-number">80</span>)columns = df.columns[<span class="hljs-number">1</span>:]<span class="hljs-keyword">for</span> i, column <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(columns):    plt.plot(df.date.values, df[column].values, lw=<span class="hljs-number">1.5</span>, color=mycolors[i])    plt.text(df.shape[<span class="hljs-number">0</span>] + <span class="hljs-number">1</span>, df[column].values[-<span class="hljs-number">1</span>], column, fontsize=<span class="hljs-number">14</span>, color=mycolors[i])<span class="hljs-comment"># Draw Tick lines</span><span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(y_LL, y_UL, y_interval):    plt.hlines(y, xmin=<span class="hljs-number">0</span>, xmax=<span class="hljs-number">71</span>, colors=<span class="hljs-string">&#x27;black&#x27;</span>, alpha=<span class="hljs-number">0.3</span>, linestyles=<span class="hljs-string">&quot;--&quot;</span>, lw=<span class="hljs-number">0.5</span>)<span class="hljs-comment"># Decorations</span>plt.tick_params(axis=<span class="hljs-string">&quot;both&quot;</span>, which=<span class="hljs-string">&quot;both&quot;</span>, bottom=<span class="hljs-literal">False</span>, top=<span class="hljs-literal">False</span>,                labelbottom=<span class="hljs-literal">True</span>, left=<span class="hljs-literal">False</span>, right=<span class="hljs-literal">False</span>, labelleft=<span class="hljs-literal">True</span>)<span class="hljs-comment"># Lighten borders</span>plt.gca().spines[<span class="hljs-string">&quot;top&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)plt.gca().spines[<span class="hljs-string">&quot;bottom&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)plt.gca().spines[<span class="hljs-string">&quot;right&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)plt.gca().spines[<span class="hljs-string">&quot;left&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)plt.title(<span class="hljs-string">&#x27;Number of Deaths from Lung Diseases in the UK (1974-1979)&#x27;</span>, fontsize=<span class="hljs-number">22</span>)plt.yticks(<span class="hljs-built_in">range</span>(y_LL, y_UL, y_interval), [<span class="hljs-built_in">str</span>(y) <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(y_LL, y_UL, y_interval)], fontsize=<span class="hljs-number">12</span>)plt.xticks(<span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, df.shape[<span class="hljs-number">0</span>], <span class="hljs-number">12</span>), df.date.values[::<span class="hljs-number">12</span>], horizontalalignment=<span class="hljs-string">&#x27;left&#x27;</span>, fontsize=<span class="hljs-number">12</span>)plt.ylim(y_LL, y_UL)plt.xlim(-<span class="hljs-number">2</span>, <span class="hljs-number">80</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/45.png" alt="45"></p><h3><span id="41-shi-yong-ci-yao-de-y-zhou-lai-hui-zhi-bu-tong-fan-wei-de-tu-xing-plotting-with-different-scales-using-secondary-y-axis"><font color="##4876FF">ã€41ã€‘ä½¿ç”¨æ¬¡è¦çš„ Y è½´æ¥ç»˜åˆ¶ä¸åŒèŒƒå›´çš„å›¾å½¢ï¼ˆPlotting with different scales using secondary Y axisï¼‰</font></span></h3><p>å¦‚æœè¦æ˜¾ç¤ºåœ¨åŒä¸€æ—¶é—´ç‚¹æµ‹é‡ä¸¤ä¸ªä¸åŒæ•°é‡çš„ä¸¤ä¸ªæ—¶é—´åºåˆ—ï¼Œåˆ™å¯ä»¥åœ¨å³ä¾§çš„æ¬¡è¦ Y è½´ä¸Šå†ç»˜åˆ¶ç¬¬äºŒä¸ªç³»åˆ—ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/economics.csv&quot;</span>)x = df[<span class="hljs-string">&#x27;date&#x27;</span>]y1 = df[<span class="hljs-string">&#x27;psavert&#x27;</span>]y2 = df[<span class="hljs-string">&#x27;unemploy&#x27;</span>]<span class="hljs-comment"># Plot Line1 (Left Y Axis)</span>fig, ax1 = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">9</span>), dpi=<span class="hljs-number">80</span>)ax1.plot(x, y1, color=<span class="hljs-string">&#x27;tab:red&#x27;</span>)<span class="hljs-comment"># Plot Line2 (Right Y Axis)</span>ax2 = ax1.twinx()  <span class="hljs-comment"># instantiate a second axes that shares the same x-axis</span>ax2.plot(x, y2, color=<span class="hljs-string">&#x27;tab:blue&#x27;</span>)<span class="hljs-comment"># Decorations</span><span class="hljs-comment"># ax1 (left Y axis)</span>ax1.set_xlabel(<span class="hljs-string">&#x27;Year&#x27;</span>, fontsize=<span class="hljs-number">20</span>)ax1.tick_params(axis=<span class="hljs-string">&#x27;x&#x27;</span>, rotation=<span class="hljs-number">0</span>, labelsize=<span class="hljs-number">12</span>)ax1.set_ylabel(<span class="hljs-string">&#x27;Personal Savings Rate&#x27;</span>, color=<span class="hljs-string">&#x27;tab:red&#x27;</span>, fontsize=<span class="hljs-number">20</span>)ax1.tick_params(axis=<span class="hljs-string">&#x27;y&#x27;</span>, rotation=<span class="hljs-number">0</span>, labelcolor=<span class="hljs-string">&#x27;tab:red&#x27;</span>)ax1.grid(alpha=<span class="hljs-number">.4</span>)<span class="hljs-comment"># ax2 (right Y axis)</span>ax2.set_ylabel(<span class="hljs-string">&quot;# Unemployed (1000&#x27;s)&quot;</span>, color=<span class="hljs-string">&#x27;tab:blue&#x27;</span>, fontsize=<span class="hljs-number">20</span>)ax2.tick_params(axis=<span class="hljs-string">&#x27;y&#x27;</span>, labelcolor=<span class="hljs-string">&#x27;tab:blue&#x27;</span>)ax2.set_xticks(np.arange(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(x), <span class="hljs-number">60</span>))ax2.set_xticklabels(x[::<span class="hljs-number">60</span>], rotation=<span class="hljs-number">90</span>, fontdict=&#123;<span class="hljs-string">&#x27;fontsize&#x27;</span>: <span class="hljs-number">10</span>&#125;)ax2.set_title(<span class="hljs-string">&quot;Personal Savings Rate vs Unemployed: Plotting in Secondary Y Axis&quot;</span>, fontsize=<span class="hljs-number">22</span>)fig.tight_layout()plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/46.png" alt="46"></p><h3><span id="42-dai-wu-chai-dai-de-shi-jian-xu-lie-time-series-with-error-bands"><font color="##4876FF">ã€42ã€‘å¸¦è¯¯å·®å¸¦çš„æ—¶é—´åºåˆ—ï¼ˆTime Series with Error Bandsï¼‰</font></span></h3><p>å¦‚æœæ‚¨æœ‰ä¸€ä¸ªæ—¶é—´åºåˆ—æ•°æ®é›†ï¼Œå…¶ä¸­æ¯ä¸ªæ—¶é—´ç‚¹ï¼ˆæ—¥æœŸ/æ—¶é—´æˆ³ï¼‰æœ‰å¤šä¸ªè§‚æµ‹å€¼ï¼Œåˆ™å¯ä»¥æ„é€ å…·æœ‰è¯¯å·®å¸¦çš„æ—¶é—´åºåˆ—ã€‚ä¸‹é¢æ‚¨å¯ä»¥çœ‹åˆ°ä¸€äº›åŸºäºä¸€å¤©ä¸­ä¸åŒæ—¶é—´çš„è®¢å•çš„ç¤ºä¾‹ã€‚è¿˜æœ‰ä¸€ä¸ªå…³äº45å¤©å†…åˆ°è¾¾çš„è®¢å•æ•°é‡çš„ä¾‹å­ã€‚</p><p>åœ¨è¿™ç§æ–¹æ³•ä¸­ï¼Œè®¢å•æ•°é‡çš„å¹³å‡å€¼ç”¨ç™½çº¿è¡¨ç¤ºã€‚å¹¶è®¡ç®—95%çš„ç½®ä¿¡åŒºé—´ï¼Œå¹¶å›´ç»•å¹³å‡å€¼ç»˜åˆ¶ã€‚</p><pre><code class="hljs python"><span class="hljs-keyword">from</span> scipy.stats <span class="hljs-keyword">import</span> sem<span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://raw.githubusercontent.com/selva86/datasets/master/user_orders_hourofday.csv&quot;</span>)df_mean = df.groupby(<span class="hljs-string">&#x27;order_hour_of_day&#x27;</span>).quantity.mean()df_se = df.groupby(<span class="hljs-string">&#x27;order_hour_of_day&#x27;</span>).quantity.apply(sem).mul(<span class="hljs-number">1.96</span>)<span class="hljs-comment"># Plot</span>plt.figure(figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">10</span>), dpi=<span class="hljs-number">80</span>)plt.ylabel(<span class="hljs-string">&quot;# Orders&quot;</span>, fontsize=<span class="hljs-number">16</span>)x = df_mean.indexplt.plot(x, df_mean, color=<span class="hljs-string">&quot;white&quot;</span>, lw=<span class="hljs-number">2</span>)plt.fill_between(x, df_mean - df_se, df_mean + df_se, color=<span class="hljs-string">&quot;#3F5D7D&quot;</span>)<span class="hljs-comment"># Decorations</span><span class="hljs-comment"># Lighten borders</span>plt.gca().spines[<span class="hljs-string">&quot;top&quot;</span>].set_alpha(<span class="hljs-number">0</span>)plt.gca().spines[<span class="hljs-string">&quot;bottom&quot;</span>].set_alpha(<span class="hljs-number">1</span>)plt.gca().spines[<span class="hljs-string">&quot;right&quot;</span>].set_alpha(<span class="hljs-number">0</span>)plt.gca().spines[<span class="hljs-string">&quot;left&quot;</span>].set_alpha(<span class="hljs-number">1</span>)plt.xticks(x[::<span class="hljs-number">2</span>], [<span class="hljs-built_in">str</span>(d) <span class="hljs-keyword">for</span> d <span class="hljs-keyword">in</span> x[::<span class="hljs-number">2</span>]], fontsize=<span class="hljs-number">12</span>)plt.title(<span class="hljs-string">&quot;User Orders by Hour of Day (95% confidence)&quot;</span>, fontsize=<span class="hljs-number">22</span>)plt.xlabel(<span class="hljs-string">&quot;Hour of Day&quot;</span>)s, e = plt.gca().get_xlim()plt.xlim(s, e)<span class="hljs-comment"># Draw Horizontal Tick lines</span><span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">8</span>, <span class="hljs-number">20</span>, <span class="hljs-number">2</span>):    plt.hlines(y, xmin=s, xmax=e, colors=<span class="hljs-string">&#x27;black&#x27;</span>, alpha=<span class="hljs-number">0.5</span>, linestyles=<span class="hljs-string">&quot;--&quot;</span>, lw=<span class="hljs-number">0.5</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/47.png" alt="47"></p><pre><code class="hljs python"><span class="hljs-string">&quot;Data Source: https://www.kaggle.com/olistbr/brazilian-ecommerce#olist_orders_dataset.csv&quot;</span><span class="hljs-keyword">from</span> dateutil.parser <span class="hljs-keyword">import</span> parse<span class="hljs-keyword">from</span> scipy.stats <span class="hljs-keyword">import</span> sem<span class="hljs-comment"># Import Data</span>df_raw = pd.read_csv(<span class="hljs-string">&#x27;https://raw.githubusercontent.com/selva86/datasets/master/orders_45d.csv&#x27;</span>,                     parse_dates=[<span class="hljs-string">&#x27;purchase_time&#x27;</span>, <span class="hljs-string">&#x27;purchase_date&#x27;</span>])<span class="hljs-comment"># Prepare Data: Daily Mean and SE Bands</span>df_mean = df_raw.groupby(<span class="hljs-string">&#x27;purchase_date&#x27;</span>).quantity.mean()df_se = df_raw.groupby(<span class="hljs-string">&#x27;purchase_date&#x27;</span>).quantity.apply(sem).mul(<span class="hljs-number">1.96</span>)<span class="hljs-comment"># Plot</span>plt.figure(figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">10</span>), dpi=<span class="hljs-number">80</span>)plt.ylabel(<span class="hljs-string">&quot;# Daily Orders&quot;</span>, fontsize=<span class="hljs-number">16</span>)x = [d.date().strftime(<span class="hljs-string">&#x27;%Y-%m-%d&#x27;</span>) <span class="hljs-keyword">for</span> d <span class="hljs-keyword">in</span> df_mean.index]plt.plot(x, df_mean, color=<span class="hljs-string">&quot;white&quot;</span>, lw=<span class="hljs-number">2</span>)plt.fill_between(x, df_mean - df_se, df_mean + df_se, color=<span class="hljs-string">&quot;#3F5D7D&quot;</span>)<span class="hljs-comment"># Decorations</span><span class="hljs-comment"># Lighten borders</span>plt.gca().spines[<span class="hljs-string">&quot;top&quot;</span>].set_alpha(<span class="hljs-number">0</span>)plt.gca().spines[<span class="hljs-string">&quot;bottom&quot;</span>].set_alpha(<span class="hljs-number">1</span>)plt.gca().spines[<span class="hljs-string">&quot;right&quot;</span>].set_alpha(<span class="hljs-number">0</span>)plt.gca().spines[<span class="hljs-string">&quot;left&quot;</span>].set_alpha(<span class="hljs-number">1</span>)plt.xticks(x[::<span class="hljs-number">6</span>], [<span class="hljs-built_in">str</span>(d) <span class="hljs-keyword">for</span> d <span class="hljs-keyword">in</span> x[::<span class="hljs-number">6</span>]], fontsize=<span class="hljs-number">12</span>)plt.title(<span class="hljs-string">&quot;Daily Order Quantity of Brazilian Retail with Error Bands (95% confidence)&quot;</span>, fontsize=<span class="hljs-number">20</span>)<span class="hljs-comment"># Axis limits</span>s, e = plt.gca().get_xlim()plt.xlim(s, e - <span class="hljs-number">2</span>)plt.ylim(<span class="hljs-number">4</span>, <span class="hljs-number">10</span>)<span class="hljs-comment"># Draw Horizontal Tick lines</span><span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>, <span class="hljs-number">10</span>, <span class="hljs-number">1</span>):    plt.hlines(y, xmin=s, xmax=e, colors=<span class="hljs-string">&#x27;black&#x27;</span>, alpha=<span class="hljs-number">0.5</span>, linestyles=<span class="hljs-string">&quot;--&quot;</span>, lw=<span class="hljs-number">0.5</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/48.png" alt="48"></p><h3><span id="43-dui-ji-mian-ji-tu-stacked-area-chart"><font color="##4876FF">ã€43ã€‘å †ç§¯é¢ç§¯å›¾ï¼ˆStacked Area Chartï¼‰</font></span></h3><p>å †ç§¯é¢ç§¯å›¾æä¾›äº†å¤šä¸ªæ—¶é—´åºåˆ—çš„è´¡çŒ®ç¨‹åº¦çš„å¯è§†åŒ–è¡¨ç¤ºï¼Œä»¥ä¾¿ç›¸äº’æ¯”è¾ƒã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&#x27;https://raw.githubusercontent.com/selva86/datasets/master/nightvisitors.csv&#x27;</span>)<span class="hljs-comment"># Decide Colors</span>mycolors = [<span class="hljs-string">&#x27;tab:red&#x27;</span>, <span class="hljs-string">&#x27;tab:blue&#x27;</span>, <span class="hljs-string">&#x27;tab:green&#x27;</span>, <span class="hljs-string">&#x27;tab:orange&#x27;</span>, <span class="hljs-string">&#x27;tab:brown&#x27;</span>, <span class="hljs-string">&#x27;tab:grey&#x27;</span>, <span class="hljs-string">&#x27;tab:pink&#x27;</span>, <span class="hljs-string">&#x27;tab:olive&#x27;</span>]<span class="hljs-comment"># Draw Plot and Annotate</span>fig, ax = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">9</span>), dpi=<span class="hljs-number">80</span>)columns = df.columns[<span class="hljs-number">1</span>:]labs = columns.values.tolist()<span class="hljs-comment"># Prepare data</span>x = df[<span class="hljs-string">&#x27;yearmon&#x27;</span>].values.tolist()y0 = df[columns[<span class="hljs-number">0</span>]].values.tolist()y1 = df[columns[<span class="hljs-number">1</span>]].values.tolist()y2 = df[columns[<span class="hljs-number">2</span>]].values.tolist()y3 = df[columns[<span class="hljs-number">3</span>]].values.tolist()y4 = df[columns[<span class="hljs-number">4</span>]].values.tolist()y5 = df[columns[<span class="hljs-number">5</span>]].values.tolist()y6 = df[columns[<span class="hljs-number">6</span>]].values.tolist()y7 = df[columns[<span class="hljs-number">7</span>]].values.tolist()y = np.vstack([y0, y2, y4, y6, y7, y5, y1, y3])<span class="hljs-comment"># Plot for each column</span>labs = columns.values.tolist()ax = plt.gca()ax.stackplot(x, y, labels=labs, colors=mycolors, alpha=<span class="hljs-number">0.8</span>)<span class="hljs-comment"># Decorations</span>ax.set_title(<span class="hljs-string">&#x27;Night Visitors in Australian Regions&#x27;</span>, fontsize=<span class="hljs-number">18</span>)ax.<span class="hljs-built_in">set</span>(ylim=[<span class="hljs-number">0</span>, <span class="hljs-number">100000</span>])ax.legend(fontsize=<span class="hljs-number">10</span>, ncol=<span class="hljs-number">4</span>)plt.xticks(x[::<span class="hljs-number">5</span>], fontsize=<span class="hljs-number">10</span>, horizontalalignment=<span class="hljs-string">&#x27;center&#x27;</span>)plt.yticks(np.arange(<span class="hljs-number">10000</span>, <span class="hljs-number">100000</span>, <span class="hljs-number">20000</span>), fontsize=<span class="hljs-number">10</span>)plt.xlim(x[<span class="hljs-number">0</span>], x[-<span class="hljs-number">1</span>])<span class="hljs-comment"># Lighten borders</span>plt.gca().spines[<span class="hljs-string">&quot;top&quot;</span>].set_alpha(<span class="hljs-number">0</span>)plt.gca().spines[<span class="hljs-string">&quot;bottom&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)plt.gca().spines[<span class="hljs-string">&quot;right&quot;</span>].set_alpha(<span class="hljs-number">0</span>)plt.gca().spines[<span class="hljs-string">&quot;left&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/49.png" alt="49"></p><h3><span id="44-wei-dui-ji-mian-ji-tu-area-chart-unstacked"><font color="##4876FF">ã€44ã€‘æœªå †ç§¯é¢ç§¯å›¾ï¼ˆArea Chart UnStackedï¼‰</font></span></h3><p>æœªå †ç§¯çš„é¢ç§¯å›¾ç”¨äºå¯è§†åŒ–ä¸¤ä¸ªæˆ–å¤šä¸ªåºåˆ—å½¼æ­¤ä¹‹é—´çš„è¿›åº¦ï¼ˆèµ·ä¼ï¼‰ã€‚åœ¨ä¸‹é¢çš„å›¾è¡¨ä¸­ï¼Œä½ å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ï¼Œéšç€å¤±ä¸šæŒç»­æ—¶é—´çš„ä¸­ä½æ•°å¢åŠ ï¼Œä¸ªäººå‚¨è“„ç‡æ˜¯å¦‚ä½•ä¸‹é™çš„ã€‚æœªå †ç§¯é¢ç§¯å›¾å¾ˆå¥½åœ°å±•ç¤ºäº†è¿™ä¸€ç°è±¡ã€‚</p><pre><code class="hljs python"><span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/economics.csv&quot;</span>)<span class="hljs-comment"># Prepare Data</span>x = df[<span class="hljs-string">&#x27;date&#x27;</span>].values.tolist()y1 = df[<span class="hljs-string">&#x27;psavert&#x27;</span>].values.tolist()y2 = df[<span class="hljs-string">&#x27;uempmed&#x27;</span>].values.tolist()mycolors = [<span class="hljs-string">&#x27;tab:red&#x27;</span>, <span class="hljs-string">&#x27;tab:blue&#x27;</span>, <span class="hljs-string">&#x27;tab:green&#x27;</span>, <span class="hljs-string">&#x27;tab:orange&#x27;</span>, <span class="hljs-string">&#x27;tab:brown&#x27;</span>, <span class="hljs-string">&#x27;tab:grey&#x27;</span>, <span class="hljs-string">&#x27;tab:pink&#x27;</span>, <span class="hljs-string">&#x27;tab:olive&#x27;</span>]columns = [<span class="hljs-string">&#x27;psavert&#x27;</span>, <span class="hljs-string">&#x27;uempmed&#x27;</span>]<span class="hljs-comment"># Draw Plot</span>fig, ax = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">9</span>), dpi=<span class="hljs-number">80</span>)ax.fill_between(x, y1=y1, y2=<span class="hljs-number">0</span>, label=columns[<span class="hljs-number">1</span>], alpha=<span class="hljs-number">0.5</span>, color=mycolors[<span class="hljs-number">1</span>], linewidth=<span class="hljs-number">2</span>)ax.fill_between(x, y1=y2, y2=<span class="hljs-number">0</span>, label=columns[<span class="hljs-number">0</span>], alpha=<span class="hljs-number">0.5</span>, color=mycolors[<span class="hljs-number">0</span>], linewidth=<span class="hljs-number">2</span>)<span class="hljs-comment"># Decorations</span>ax.set_title(<span class="hljs-string">&#x27;Personal Savings Rate vs Median Duration of Unemployment&#x27;</span>, fontsize=<span class="hljs-number">18</span>)ax.<span class="hljs-built_in">set</span>(ylim=[<span class="hljs-number">0</span>, <span class="hljs-number">30</span>])ax.legend(loc=<span class="hljs-string">&#x27;best&#x27;</span>, fontsize=<span class="hljs-number">12</span>)plt.xticks(x[::<span class="hljs-number">50</span>], fontsize=<span class="hljs-number">10</span>, horizontalalignment=<span class="hljs-string">&#x27;center&#x27;</span>)plt.yticks(np.arange(<span class="hljs-number">2.5</span>, <span class="hljs-number">30.0</span>, <span class="hljs-number">2.5</span>), fontsize=<span class="hljs-number">10</span>)plt.xlim(-<span class="hljs-number">10</span>, x[-<span class="hljs-number">1</span>])<span class="hljs-comment"># Draw Tick lines</span><span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> np.arange(<span class="hljs-number">2.5</span>, <span class="hljs-number">30.0</span>, <span class="hljs-number">2.5</span>):    plt.hlines(y, xmin=<span class="hljs-number">0</span>, xmax=<span class="hljs-built_in">len</span>(x), colors=<span class="hljs-string">&#x27;black&#x27;</span>, alpha=<span class="hljs-number">0.3</span>, linestyles=<span class="hljs-string">&quot;--&quot;</span>, lw=<span class="hljs-number">0.5</span>)<span class="hljs-comment"># Lighten borders</span>plt.gca().spines[<span class="hljs-string">&quot;top&quot;</span>].set_alpha(<span class="hljs-number">0</span>)plt.gca().spines[<span class="hljs-string">&quot;bottom&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)plt.gca().spines[<span class="hljs-string">&quot;right&quot;</span>].set_alpha(<span class="hljs-number">0</span>)plt.gca().spines[<span class="hljs-string">&quot;left&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/50.png" alt="50"></p><h3><span id="45-ri-li-re-li-tu-calendar-heat-map"><font color="##4876FF">ã€45ã€‘æ—¥å†çƒ­åŠ›å›¾ï¼ˆCalendar Heat Mapï¼‰</font></span></h3><p>ä¸æ—¶é—´åºåˆ—ç›¸æ¯”ï¼Œæ—¥å†åœ°å›¾æ˜¯å¦ä¸€ç§åŸºäºæ—¶é—´çš„æ•°æ®å¯è§†åŒ–çš„ä¸å¤ªå—æ¬¢è¿çš„æ–¹æ³•ã€‚è™½ç„¶åœ¨è§†è§‰ä¸Šå¾ˆå¸å¼•äººï¼Œä½†æ•°å€¼å¹¶ä¸ååˆ†æ˜æ˜¾ã€‚ç„¶è€Œï¼Œå®ƒèƒ½å¾ˆå¥½åœ°æç»˜æç«¯å€¼å’Œå‡æ—¥æ•ˆæœã€‚</p><p>ã€è¯‘è€… TRHX æ³¨ï¼šåœ¨ä½¿ç”¨è¯¥æ–¹æ³•æ—¶è¦å…ˆå®‰è£… calmap åº“ã€‘</p><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib <span class="hljs-keyword">as</span> mpl<span class="hljs-keyword">import</span> calmap<span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&quot;https://raw.githubusercontent.com/selva86/datasets/master/yahoo.csv&quot;</span>, parse_dates=[<span class="hljs-string">&#x27;date&#x27;</span>])df.set_index(<span class="hljs-string">&#x27;date&#x27;</span>, inplace=<span class="hljs-literal">True</span>)<span class="hljs-comment"># Plot</span>plt.figure(figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">10</span>), dpi=<span class="hljs-number">80</span>)calmap.calendarplot(df[<span class="hljs-string">&#x27;2014&#x27;</span>][<span class="hljs-string">&#x27;VIX.Close&#x27;</span>], fig_kws=&#123;<span class="hljs-string">&#x27;figsize&#x27;</span>: (<span class="hljs-number">16</span>, <span class="hljs-number">10</span>)&#125;,                    yearlabel_kws=&#123;<span class="hljs-string">&#x27;color&#x27;</span>: <span class="hljs-string">&#x27;black&#x27;</span>, <span class="hljs-string">&#x27;fontsize&#x27;</span>: <span class="hljs-number">14</span>&#125;, subplot_kws=&#123;<span class="hljs-string">&#x27;title&#x27;</span>: <span class="hljs-string">&#x27;Yahoo Stock Prices&#x27;</span>&#125;)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/51.png" alt="51"></p><h3><span id="46-ji-jie-tu-seasonal-plot"><font color="##4876FF">ã€46ã€‘å­£èŠ‚å›¾ï¼ˆSeasonal Plotï¼‰</font></span></h3><p>å­£èŠ‚å›¾å¯ç”¨äºæ¯”è¾ƒä¸Šä¸€å­£åº¦åŒä¸€å¤©ï¼ˆå¹´/æœˆ/å‘¨ç­‰ï¼‰æ—¶é—´åºåˆ—çš„è¡¨ç°ã€‚</p><pre><code class="hljs python"><span class="hljs-keyword">from</span> dateutil.parser <span class="hljs-keyword">import</span> parse<span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&#x27;https://github.com/selva86/datasets/raw/master/AirPassengers.csv&#x27;</span>)<span class="hljs-comment"># Prepare data</span>df[<span class="hljs-string">&#x27;year&#x27;</span>] = [parse(d).year <span class="hljs-keyword">for</span> d <span class="hljs-keyword">in</span> df.date]df[<span class="hljs-string">&#x27;month&#x27;</span>] = [parse(d).strftime(<span class="hljs-string">&#x27;%b&#x27;</span>) <span class="hljs-keyword">for</span> d <span class="hljs-keyword">in</span> df.date]years = df[<span class="hljs-string">&#x27;year&#x27;</span>].unique()<span class="hljs-comment"># è¯‘è€… TRHX æ·»åŠ äº†è¯¥è¡Œä»£ç </span>df.rename(columns=&#123;<span class="hljs-string">&#x27;value&#x27;</span>: <span class="hljs-string">&#x27;traffic&#x27;</span>&#125;, inplace=<span class="hljs-literal">True</span>)<span class="hljs-comment"># Draw Plot</span>mycolors = [<span class="hljs-string">&#x27;tab:red&#x27;</span>, <span class="hljs-string">&#x27;tab:blue&#x27;</span>, <span class="hljs-string">&#x27;tab:green&#x27;</span>, <span class="hljs-string">&#x27;tab:orange&#x27;</span>, <span class="hljs-string">&#x27;tab:brown&#x27;</span>, <span class="hljs-string">&#x27;tab:grey&#x27;</span>, <span class="hljs-string">&#x27;tab:pink&#x27;</span>, <span class="hljs-string">&#x27;tab:olive&#x27;</span>,            <span class="hljs-string">&#x27;deeppink&#x27;</span>, <span class="hljs-string">&#x27;steelblue&#x27;</span>, <span class="hljs-string">&#x27;firebrick&#x27;</span>, <span class="hljs-string">&#x27;mediumseagreen&#x27;</span>]plt.figure(figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">10</span>), dpi=<span class="hljs-number">80</span>)<span class="hljs-keyword">for</span> i, y <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(years):    plt.plot(<span class="hljs-string">&#x27;month&#x27;</span>, <span class="hljs-string">&#x27;traffic&#x27;</span>, data=df.loc[df.year == y, :], color=mycolors[i], label=y)    plt.text(df.loc[df.year == y, :].shape[<span class="hljs-number">0</span>] - <span class="hljs-number">.9</span>, df.loc[df.year == y, <span class="hljs-string">&#x27;traffic&#x27;</span>][-<span class="hljs-number">1</span>:].values[<span class="hljs-number">0</span>], y, fontsize=<span class="hljs-number">12</span>,             color=mycolors[i])<span class="hljs-comment"># Decoration</span>plt.ylim(<span class="hljs-number">50</span>, <span class="hljs-number">750</span>)plt.xlim(-<span class="hljs-number">0.3</span>, <span class="hljs-number">11</span>)plt.ylabel(<span class="hljs-string">&#x27;$Air Traffic$&#x27;</span>)plt.yticks(fontsize=<span class="hljs-number">12</span>, alpha=<span class="hljs-number">.7</span>)plt.title(<span class="hljs-string">&quot;Monthly Seasonal Plot: Air Passengers Traffic (1949 - 1969)&quot;</span>, fontsize=<span class="hljs-number">22</span>)plt.grid(axis=<span class="hljs-string">&#x27;y&#x27;</span>, alpha=<span class="hljs-number">.3</span>)<span class="hljs-comment"># Remove borders</span>plt.gca().spines[<span class="hljs-string">&quot;top&quot;</span>].set_alpha(<span class="hljs-number">0.0</span>)plt.gca().spines[<span class="hljs-string">&quot;bottom&quot;</span>].set_alpha(<span class="hljs-number">0.5</span>)plt.gca().spines[<span class="hljs-string">&quot;right&quot;</span>].set_alpha(<span class="hljs-number">0.0</span>)plt.gca().spines[<span class="hljs-string">&quot;left&quot;</span>].set_alpha(<span class="hljs-number">0.5</span>)<span class="hljs-comment"># plt.legend(loc=&#x27;upper right&#x27;, ncol=2, fontsize=12)</span>plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/52.png" alt="52"></p><h2><span id="9x00-fen-zu-groups"><font color="#FF0000">ã€9x00ã€‘åˆ†ç»„ï¼ˆ Groupsï¼‰</font></span></h2><h3><span id="47-shu-zhuang-tu-dendrogram"><font color="##4876FF">ã€47ã€‘æ ‘çŠ¶å›¾ï¼ˆDendrogramï¼‰</font></span></h3><p>æ ‘çŠ¶å›¾æ ¹æ®ç»™å®šçš„è·ç¦»åº¦é‡å°†ç›¸ä¼¼çš„ç‚¹ç»„åˆåœ¨ä¸€èµ·ï¼Œå¹¶æ ¹æ®ç‚¹çš„ç›¸ä¼¼æ€§å°†å®ƒä»¬ç»„ç»‡æˆæ ‘çŠ¶é“¾æ¥ã€‚</p><pre><code class="hljs python"><span class="hljs-keyword">import</span> scipy.cluster.hierarchy <span class="hljs-keyword">as</span> shc<span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&#x27;https://raw.githubusercontent.com/selva86/datasets/master/USArrests.csv&#x27;</span>)<span class="hljs-comment"># Plot</span>plt.figure(figsize=(<span class="hljs-number">16</span>, <span class="hljs-number">10</span>), dpi=<span class="hljs-number">80</span>)plt.title(<span class="hljs-string">&quot;USArrests Dendograms&quot;</span>, fontsize=<span class="hljs-number">22</span>)dend = shc.dendrogram(shc.linkage(df[[<span class="hljs-string">&#x27;Murder&#x27;</span>, <span class="hljs-string">&#x27;Assault&#x27;</span>, <span class="hljs-string">&#x27;UrbanPop&#x27;</span>, <span class="hljs-string">&#x27;Rape&#x27;</span>]], method=<span class="hljs-string">&#x27;ward&#x27;</span>), labels=df.State.values,                      color_threshold=<span class="hljs-number">100</span>)plt.xticks(fontsize=<span class="hljs-number">12</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/53.png" alt="53"></p><h3><span id="48-ju-lei-tu-cluster-plot"><font color="##4876FF">ã€48ã€‘èšç±»å›¾ï¼ˆCluster Plotï¼‰</font></span></h3><p>èšç±»å›¾å¯ä»¥ç”¨æ¥åˆ’åˆ†å±äºåŒä¸€ä¸ªèšç±»çš„ç‚¹ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªåŸºäº USArrests æ•°æ®é›†å°†ç¾å›½å„å·åˆ†æˆ 5 ç»„çš„ä»£è¡¨æ€§ç¤ºä¾‹ã€‚è¿™ä¸ªèšç±»å›¾ä½¿ç”¨ â€˜murderâ€™ å’Œ â€˜assaultâ€™ ä½œä¸º X è½´å’Œ Y è½´ã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥å°†ç¬¬ä¸€ä¸ªä¸»å…ƒä»¶ç”¨ä½œ X è½´å’Œ Y è½´ã€‚</p><p>ã€è¯‘è€… TRHX æ³¨ï¼šåœ¨ä½¿ç”¨è¯¥æ–¹æ³•æ—¶è¦å…ˆå®‰è£… sklearn åº“ã€‘</p><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.cluster <span class="hljs-keyword">import</span> AgglomerativeClustering<span class="hljs-keyword">from</span> scipy.spatial <span class="hljs-keyword">import</span> ConvexHull<span class="hljs-comment"># Import Data</span>df = pd.read_csv(<span class="hljs-string">&#x27;https://raw.githubusercontent.com/selva86/datasets/master/USArrests.csv&#x27;</span>)<span class="hljs-comment"># Agglomerative Clustering</span>cluster = AgglomerativeClustering(n_clusters=<span class="hljs-number">5</span>, affinity=<span class="hljs-string">&#x27;euclidean&#x27;</span>, linkage=<span class="hljs-string">&#x27;ward&#x27;</span>)cluster.fit_predict(df[[<span class="hljs-string">&#x27;Murder&#x27;</span>, <span class="hljs-string">&#x27;Assault&#x27;</span>, <span class="hljs-string">&#x27;UrbanPop&#x27;</span>, <span class="hljs-string">&#x27;Rape&#x27;</span>]])<span class="hljs-comment"># Plot</span>plt.figure(figsize=(<span class="hljs-number">14</span>, <span class="hljs-number">10</span>), dpi=<span class="hljs-number">80</span>)plt.scatter(df.iloc[:, <span class="hljs-number">0</span>], df.iloc[:, <span class="hljs-number">1</span>], c=cluster.labels_, cmap=<span class="hljs-string">&#x27;tab10&#x27;</span>)<span class="hljs-comment"># Encircle</span><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">encircle</span>(<span class="hljs-params">x, y, ax=<span class="hljs-literal">None</span>, **kw</span>):</span>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> ax: ax = plt.gca()    p = np.c_[x, y]    hull = ConvexHull(p)    poly = plt.Polygon(p[hull.vertices,:], **kw)    ax.add_patch(poly)<span class="hljs-comment"># Draw polygon surrounding vertices</span>encircle(df.loc[cluster.labels_ == <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;Murder&#x27;</span>], df.loc[cluster.labels_ == <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;Assault&#x27;</span>], ec=<span class="hljs-string">&quot;k&quot;</span>, fc=<span class="hljs-string">&quot;gold&quot;</span>, alpha=<span class="hljs-number">0.2</span>, linewidth=<span class="hljs-number">0</span>)encircle(df.loc[cluster.labels_ == <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;Murder&#x27;</span>], df.loc[cluster.labels_ == <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;Assault&#x27;</span>], ec=<span class="hljs-string">&quot;k&quot;</span>, fc=<span class="hljs-string">&quot;tab:blue&quot;</span>, alpha=<span class="hljs-number">0.2</span>, linewidth=<span class="hljs-number">0</span>)encircle(df.loc[cluster.labels_ == <span class="hljs-number">2</span>, <span class="hljs-string">&#x27;Murder&#x27;</span>], df.loc[cluster.labels_ == <span class="hljs-number">2</span>, <span class="hljs-string">&#x27;Assault&#x27;</span>], ec=<span class="hljs-string">&quot;k&quot;</span>, fc=<span class="hljs-string">&quot;tab:red&quot;</span>, alpha=<span class="hljs-number">0.2</span>, linewidth=<span class="hljs-number">0</span>)encircle(df.loc[cluster.labels_ == <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;Murder&#x27;</span>], df.loc[cluster.labels_ == <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;Assault&#x27;</span>], ec=<span class="hljs-string">&quot;k&quot;</span>, fc=<span class="hljs-string">&quot;tab:green&quot;</span>, alpha=<span class="hljs-number">0.2</span>, linewidth=<span class="hljs-number">0</span>)encircle(df.loc[cluster.labels_ == <span class="hljs-number">4</span>, <span class="hljs-string">&#x27;Murder&#x27;</span>], df.loc[cluster.labels_ == <span class="hljs-number">4</span>, <span class="hljs-string">&#x27;Assault&#x27;</span>], ec=<span class="hljs-string">&quot;k&quot;</span>, fc=<span class="hljs-string">&quot;tab:orange&quot;</span>, alpha=<span class="hljs-number">0.2</span>, linewidth=<span class="hljs-number">0</span>)<span class="hljs-comment"># Decorations</span>plt.xlabel(<span class="hljs-string">&#x27;Murder&#x27;</span>); plt.xticks(fontsize=<span class="hljs-number">12</span>)plt.ylabel(<span class="hljs-string">&#x27;Assault&#x27;</span>); plt.yticks(fontsize=<span class="hljs-number">12</span>)plt.title(<span class="hljs-string">&#x27;Agglomerative Clustering of USArrests (5 Groups)&#x27;</span>, fontsize=<span class="hljs-number">22</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/54.png" alt="54"></p><h3><span id="49-an-de-lu-si-qu-xian-andrews-curve"><font color="##4876FF">ã€49ã€‘å®‰å¾·é²æ–¯æ›²çº¿ï¼ˆAndrews Curveï¼‰</font></span></h3><p>å®‰å¾·é²æ–¯æ›²çº¿æœ‰åŠ©äºå¯è§†åŒ–æ˜¯å¦å­˜åœ¨åŸºäºç»™å®šåˆ†ç»„çš„æ•°å€¼ç‰¹å¾çš„å›ºæœ‰åˆ†ç»„ã€‚å¦‚æœç‰¹å¾ï¼ˆæ•°æ®é›†ä¸­çš„åˆ—ï¼‰ä¸èƒ½å¸®åŠ©åŒºåˆ†ç»„ï¼ˆcylï¼‰ï¼Œåˆ™è¡Œå°†ä¸ä¼šåƒä¸‹å›¾æ‰€ç¤ºè¢«å¾ˆå¥½åœ°åˆ†éš”å¼€ã€‚</p><pre><code class="hljs python"><span class="hljs-keyword">from</span> pandas.plotting <span class="hljs-keyword">import</span> andrews_curves<span class="hljs-comment"># Import</span>df = pd.read_csv(<span class="hljs-string">&quot;https://github.com/selva86/datasets/raw/master/mtcars.csv&quot;</span>)df.drop([<span class="hljs-string">&#x27;cars&#x27;</span>, <span class="hljs-string">&#x27;carname&#x27;</span>], axis=<span class="hljs-number">1</span>, inplace=<span class="hljs-literal">True</span>)<span class="hljs-comment"># Plot</span>plt.figure(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">9</span>), dpi=<span class="hljs-number">80</span>)andrews_curves(df, <span class="hljs-string">&#x27;cyl&#x27;</span>, colormap=<span class="hljs-string">&#x27;Set1&#x27;</span>)<span class="hljs-comment"># Lighten borders</span>plt.gca().spines[<span class="hljs-string">&quot;top&quot;</span>].set_alpha(<span class="hljs-number">0</span>)plt.gca().spines[<span class="hljs-string">&quot;bottom&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)plt.gca().spines[<span class="hljs-string">&quot;right&quot;</span>].set_alpha(<span class="hljs-number">0</span>)plt.gca().spines[<span class="hljs-string">&quot;left&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)plt.title(<span class="hljs-string">&#x27;Andrews Curves of mtcars&#x27;</span>, fontsize=<span class="hljs-number">22</span>)plt.xlim(-<span class="hljs-number">3</span>, <span class="hljs-number">3</span>)plt.grid(alpha=<span class="hljs-number">0.3</span>)plt.xticks(fontsize=<span class="hljs-number">12</span>)plt.yticks(fontsize=<span class="hljs-number">12</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/55.png" alt="55"></p><h3><span id="50-ping-xing-zuo-biao-tu-parallel-coordinates"><font color="##4876FF">ã€50ã€‘å¹³è¡Œåæ ‡å›¾ï¼ˆParallel Coordinatesï¼‰</font></span></h3><p>å¹³è¡Œåæ ‡æœ‰åŠ©äºå¯è§†åŒ–åŠŸèƒ½æ˜¯å¦æœ‰åŠ©äºæœ‰æ•ˆåœ°éš”ç¦»ç»„ã€‚å¦‚æœä¸€ä¸ªåˆ†ç¦»å—åˆ°å½±å“ï¼Œåˆ™è¯¥ç‰¹å¾å¯èƒ½åœ¨é¢„æµ‹è¯¥ç»„æ—¶éå¸¸æœ‰ç”¨ã€‚</p><pre><code class="hljs python"><span class="hljs-keyword">from</span> pandas.plotting <span class="hljs-keyword">import</span> parallel_coordinates<span class="hljs-comment"># Import Data</span>df_final = pd.read_csv(<span class="hljs-string">&quot;https://raw.githubusercontent.com/selva86/datasets/master/diamonds_filter.csv&quot;</span>)<span class="hljs-comment"># Plot</span>plt.figure(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">9</span>), dpi=<span class="hljs-number">80</span>)parallel_coordinates(df_final, <span class="hljs-string">&#x27;cut&#x27;</span>, colormap=<span class="hljs-string">&#x27;Dark2&#x27;</span>)<span class="hljs-comment"># Lighten borders</span>plt.gca().spines[<span class="hljs-string">&quot;top&quot;</span>].set_alpha(<span class="hljs-number">0</span>)plt.gca().spines[<span class="hljs-string">&quot;bottom&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)plt.gca().spines[<span class="hljs-string">&quot;right&quot;</span>].set_alpha(<span class="hljs-number">0</span>)plt.gca().spines[<span class="hljs-string">&quot;left&quot;</span>].set_alpha(<span class="hljs-number">.3</span>)plt.title(<span class="hljs-string">&#x27;Parallel Coordinated of Diamonds&#x27;</span>, fontsize=<span class="hljs-number">22</span>)plt.grid(alpha=<span class="hljs-number">0.3</span>)plt.xticks(fontsize=<span class="hljs-number">12</span>)plt.yticks(fontsize=<span class="hljs-number">12</span>)plt.show()</code></pre><p><img src="https://cdn.itbob.cn/img/article/024/56.png" alt="56"></p><hr><pre><code class="hljs yaml"><span class="hljs-string">è¿™é‡Œæ˜¯ä¸€æ®µç‰©ç†é˜²çˆ¬è™«æ–‡æœ¬ï¼Œè¯·è¯»è€…å¿½ç•¥ã€‚</span><span class="hljs-string">æœ¬è¯‘æ–‡é¦–å‘äº</span> <span class="hljs-string">CSDNï¼Œä½œè€…</span> <span class="hljs-string">Selva</span> <span class="hljs-string">Prabhakaranï¼Œè¯‘è€…</span> <span class="hljs-string">TRHXã€‚</span><span class="hljs-string">æœ¬æ–‡é“¾æ¥ï¼šhttps://itrhx.blog.csdn.net/article/details/106558131</span><span class="hljs-string">åŸæ–‡é“¾æ¥ï¼šhttps://www.machinelearningplus.com/plots/top-50-matplotlib-visualizations-the-master-plots-python/</span></code></pre><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h2&gt;&lt;span id=&quot;wen-zhang-mu-lu&quot;&gt;æ–‡ç« ç›®å½•&lt;/span&gt;&lt;/h2&gt;
&lt;!-- toc --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#font-color-ff0000-1x00-jie-shao-introduction-font&quot;&gt;&lt;font col</summary>
      
    
    
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
    
    <category term="Matplotlib" scheme="https://www.itbob.cn/tags/Matplotlib/"/>
    
    <category term="æ•°æ®åˆ†æ" scheme="https://www.itbob.cn/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
</feed>
